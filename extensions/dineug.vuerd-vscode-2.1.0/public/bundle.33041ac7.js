/*! For license information please see bundle.33041ac7.js.LICENSE.txt */
(()=>{"use strict";var e,t,n={2915:(e,t,n)=>{var r=n(918),o=n(8884),i=TypeError;e.exports=function(e){if(r(e))return e;throw new i(o(e)+" is not a function")}},9708:(e,t,n)=>{var r=n(337),o=String,i=TypeError;e.exports=function(e){if(r(e))return e;throw new i(o(e)+" is not an object")}},1712:(e,t,n)=>{var r=n(1618),o=n(4645),i=n(2699),a=function(e){return function(t,n,a){var s=r(t),l=i(s);if(0===l)return!e&&-1;var c,u=o(a,l);if(e&&n!=n){for(;l>u;)if((c=s[u++])!=c)return!0}else for(;l>u;u++)if((e||u in s)&&s[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},3423:(e,t,n)=>{var r=n(7159);e.exports=r([].slice)},5627:(e,t,n)=>{var r=n(7159),o=r({}.toString),i=r("".slice);e.exports=function(e){return i(o(e),8,-1)}},8215:(e,t,n)=>{var r=n(4616),o=n(6950),i=n(7618),a=n(5312);e.exports=function(e,t,n){for(var s=o(t),l=a.f,c=i.f,u=0;u<s.length;u++){var d=s[u];r(e,d)||n&&r(n,d)||l(e,d,c(t,d))}}},4814:(e,t,n)=>{var r=n(8251),o=n(5312),i=n(4661);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},4661:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6607:(e,t,n)=>{var r=n(8844),o=n(5312);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),o.f(e,t,n)}},211:(e,t,n)=>{var r=n(918),o=n(5312),i=n(8844),a=n(8848);e.exports=function(e,t,n,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:t;if(r(n)&&i(n,c,s),s.global)l?e[t]=n:a(t,n);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=n:o.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},8848:(e,t,n)=>{var r=n(9182),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},8251:(e,t,n)=>{var r=n(912);e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},60:(e,t,n)=>{var r=n(9182),o=n(337),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},7312:e=>{e.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},4976:(e,t,n)=>{var r=n(847);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},7353:(e,t,n)=>{var r=n(9182),o=n(5627);e.exports="process"===o(r.process)},847:e=>{e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},1095:(e,t,n)=>{var r,o,i=n(9182),a=n(847),s=i.process,l=i.Deno,c=s&&s.versions||l&&l.version,u=c&&c.v8;u&&(o=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=+r[1]),e.exports=o},7172:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},887:(e,t,n)=>{var r=n(9182),o=n(7618).f,i=n(4814),a=n(211),s=n(8848),l=n(8215),c=n(691);e.exports=function(e,t){var n,u,d,h,f,m=e.target,p=e.global,g=e.stat;if(n=p?r:g?r[m]||s(m,{}):r[m]&&r[m].prototype)for(u in t){if(h=t[u],d=e.dontCallGetSet?(f=o(n,u))&&f.value:n[u],!c(p?u:m+(g?".":"#")+u,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;l(h,d)}(e.sham||d&&d.sham)&&i(h,"sham",!0),a(n,u,h,e)}}},912:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},8724:(e,t,n)=>{var r=n(3069),o=Function.prototype,i=o.apply,a=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},1539:(e,t,n)=>{var r=n(3733),o=n(2915),i=n(3069),a=r(r.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?a(e,t):function(){return e.apply(t,arguments)}}},3069:(e,t,n)=>{var r=n(912);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},1510:(e,t,n)=>{var r=n(3069),o=Function.prototype.call;e.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},8581:(e,t,n)=>{var r=n(8251),o=n(4616),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=o(i,"name"),l=s&&"something"===function(){}.name,c=s&&(!r||r&&a(i,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},3733:(e,t,n)=>{var r=n(5627),o=n(7159);e.exports=function(e){if("Function"===r(e))return o(e)}},7159:(e,t,n)=>{var r=n(3069),o=Function.prototype,i=o.call,a=r&&o.bind.bind(i,i);e.exports=r?a:function(e){return function(){return i.apply(e,arguments)}}},7970:(e,t,n)=>{var r=n(9182),o=n(918);e.exports=function(e,t){return arguments.length<2?(n=r[e],o(n)?n:void 0):r[e]&&r[e][t];var n}},251:(e,t,n)=>{var r=n(2915),o=n(2124);e.exports=function(e,t){var n=e[t];return o(n)?void 0:r(n)}},9182:function(e,t,n){var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},4616:(e,t,n)=>{var r=n(7159),o=n(9766),i=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},614:e=>{e.exports={}},6820:(e,t,n)=>{var r=n(7970);e.exports=r("document","documentElement")},804:(e,t,n)=>{var r=n(8251),o=n(912),i=n(60);e.exports=!r&&!o((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},326:(e,t,n)=>{var r=n(7159),o=n(912),i=n(5627),a=Object,s=r("".split);e.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"===i(e)?s(e,""):a(e)}:a},8491:(e,t,n)=>{var r=n(7159),o=n(918),i=n(3932),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},4456:(e,t,n)=>{var r,o,i,a=n(3835),s=n(9182),l=n(337),c=n(4814),u=n(4616),d=n(3932),h=n(1750),f=n(614),m="Object already initialized",p=s.TypeError,g=s.WeakMap;if(a||d.state){var y=d.state||(d.state=new g);y.get=y.get,y.has=y.has,y.set=y.set,r=function(e,t){if(y.has(e))throw new p(m);return t.facade=e,y.set(e,t),t},o=function(e){return y.get(e)||{}},i=function(e){return y.has(e)}}else{var v=h("state");f[v]=!0,r=function(e,t){if(u(e,v))throw new p(m);return t.facade=e,c(e,v,t),t},o=function(e){return u(e,v)?e[v]:{}},i=function(e){return u(e,v)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=o(t)).type!==e)throw new p("Incompatible receiver, "+e+" required");return n}}}},918:e=>{var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},691:(e,t,n)=>{var r=n(912),o=n(918),i=/#|\.prototype\./,a=function(e,t){var n=l[s(e)];return n===u||n!==c&&(o(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},l=a.data={},c=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},2124:e=>{e.exports=function(e){return null==e}},337:(e,t,n)=>{var r=n(918);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},1580:e=>{e.exports=!1},4878:(e,t,n)=>{var r=n(7970),o=n(918),i=n(1340),a=n(3003),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return o(t)&&i(t.prototype,s(e))}},2699:(e,t,n)=>{var r=n(5861);e.exports=function(e){return r(e.length)}},8844:(e,t,n)=>{var r=n(7159),o=n(912),i=n(918),a=n(4616),s=n(8251),l=n(8581).CONFIGURABLE,c=n(8491),u=n(4456),d=u.enforce,h=u.get,f=String,m=Object.defineProperty,p=r("".slice),g=r("".replace),y=r([].join),v=s&&!o((function(){return 8!==m((function(){}),"length",{value:8}).length})),b=String(String).split("String"),w=e.exports=function(e,t,n){"Symbol("===p(f(t),0,7)&&(t="["+g(f(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||l&&e.name!==t)&&(s?m(e,"name",{value:t,configurable:!0}):e.name=t),v&&n&&a(n,"arity")&&e.length!==n.arity&&m(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&m(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=d(e);return a(r,"source")||(r.source=y(b,"string"==typeof t?t:"")),e};Function.prototype.toString=w((function(){return i(this)&&h(this).source||c(this)}),"toString")},2436:e=>{var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},5312:(e,t,n)=>{var r=n(8251),o=n(804),i=n(5065),a=n(9708),s=n(1322),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",f="writable";t.f=r?i?function(e,t,n){if(a(e),t=s(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&f in n&&!n[f]){var r=u(e,t);r&&r[f]&&(e[t]=n.value,n={configurable:h in n?n[h]:r[h],enumerable:d in n?n[d]:r[d],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(a(e),t=s(t),a(n),o)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},7618:(e,t,n)=>{var r=n(8251),o=n(1510),i=n(2674),a=n(4661),s=n(1618),l=n(1322),c=n(4616),u=n(804),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=l(t),u)try{return d(e,t)}catch(e){}if(c(e,t))return a(!o(i.f,e,t),e[t])}},6727:(e,t,n)=>{var r=n(6233),o=n(7172).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},2766:(e,t)=>{t.f=Object.getOwnPropertySymbols},1340:(e,t,n)=>{var r=n(7159);e.exports=r({}.isPrototypeOf)},6233:(e,t,n)=>{var r=n(7159),o=n(4616),i=n(1618),a=n(1712).indexOf,s=n(614),l=r([].push);e.exports=function(e,t){var n,r=i(e),c=0,u=[];for(n in r)!o(s,n)&&o(r,n)&&l(u,n);for(;t.length>c;)o(r,n=t[c++])&&(~a(u,n)||l(u,n));return u}},2674:(e,t)=>{var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},5665:(e,t,n)=>{var r=n(1510),o=n(918),i=n(337),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&o(n=e.toString)&&!i(s=r(n,e)))return s;if(o(n=e.valueOf)&&!i(s=r(n,e)))return s;if("string"!==t&&o(n=e.toString)&&!i(s=r(n,e)))return s;throw new a("Can't convert object to primitive value")}},6950:(e,t,n)=>{var r=n(7970),o=n(7159),i=n(6727),a=n(2766),s=n(9708),l=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=a.f;return n?l(t,n(e)):t}},5594:(e,t,n)=>{var r=n(9708);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},651:(e,t,n)=>{var r=n(2124),o=TypeError;e.exports=function(e){if(r(e))throw new o("Can't call method on "+e);return e}},2313:(e,t,n)=>{var r,o=n(9182),i=n(8724),a=n(918),s=n(7312),l=n(847),c=n(3423),u=n(3751),d=o.Function,h=/MSIE .\./.test(l)||s&&((r=o.Bun.version.split(".")).length<3||"0"===r[0]&&(r[1]<3||"3"===r[1]&&"0"===r[2]));e.exports=function(e,t){var n=t?2:1;return h?function(r,o){var s=u(arguments.length,1)>n,l=a(r)?r:d(r),h=s?c(arguments,n):[],f=s?function(){i(l,this,h)}:l;return t?e(f,o):e(f)}:e}},1750:(e,t,n)=>{var r=n(7444),o=n(9799),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},3932:(e,t,n)=>{var r=n(1580),o=n(9182),i=n(8848),a="__core-js_shared__",s=e.exports=o[a]||i(a,{});(s.versions||(s.versions=[])).push({version:"3.36.1",mode:r?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.1/LICENSE",source:"https://github.com/zloirock/core-js"})},7444:(e,t,n)=>{var r=n(3932);e.exports=function(e,t){return r[e]||(r[e]=t||{})}},4882:(e,t,n)=>{var r=n(1095),o=n(912),i=n(9182).String;e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol("symbol detection");return!i(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},3524:(e,t,n)=>{var r,o,i,a,s=n(9182),l=n(8724),c=n(1539),u=n(918),d=n(4616),h=n(912),f=n(6820),m=n(3423),p=n(60),g=n(3751),y=n(4976),v=n(7353),b=s.setImmediate,w=s.clearImmediate,x=s.process,k=s.Dispatch,I=s.Function,$=s.MessageChannel,C=s.String,T=0,A={},O="onreadystatechange";h((function(){r=s.location}));var S=function(e){if(d(A,e)){var t=A[e];delete A[e],t()}},E=function(e){return function(){S(e)}},N=function(e){S(e.data)},M=function(e){s.postMessage(C(e),r.protocol+"//"+r.host)};b&&w||(b=function(e){g(arguments.length,1);var t=u(e)?e:I(e),n=m(arguments,1);return A[++T]=function(){l(t,void 0,n)},o(T),T},w=function(e){delete A[e]},v?o=function(e){x.nextTick(E(e))}:k&&k.now?o=function(e){k.now(E(e))}:$&&!y?(a=(i=new $).port2,i.port1.onmessage=N,o=c(a.postMessage,a)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!h(M)?(o=M,s.addEventListener("message",N,!1)):o=O in p("script")?function(e){f.appendChild(p("script"))[O]=function(){f.removeChild(this),S(e)}}:function(e){setTimeout(E(e),0)}),e.exports={set:b,clear:w}},4645:(e,t,n)=>{var r=n(9486),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},1618:(e,t,n)=>{var r=n(326),o=n(651);e.exports=function(e){return r(o(e))}},9486:(e,t,n)=>{var r=n(2436);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},5861:(e,t,n)=>{var r=n(9486),o=Math.min;e.exports=function(e){var t=r(e);return t>0?o(t,9007199254740991):0}},9766:(e,t,n)=>{var r=n(651),o=Object;e.exports=function(e){return o(r(e))}},4304:(e,t,n)=>{var r=n(1510),o=n(337),i=n(4878),a=n(251),s=n(5665),l=n(1492),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var n,l=a(e,u);if(l){if(void 0===t&&(t="default"),n=r(l,e,t),!o(n)||i(n))return n;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},1322:(e,t,n)=>{var r=n(4304),o=n(4878);e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},8884:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},9799:(e,t,n)=>{var r=n(7159),o=0,i=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+i,36)}},3003:(e,t,n)=>{var r=n(4882);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5065:(e,t,n)=>{var r=n(8251),o=n(912);e.exports=r&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},3751:e=>{var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},3835:(e,t,n)=>{var r=n(9182),o=n(918),i=r.WeakMap;e.exports=o(i)&&/native code/.test(String(i))},1492:(e,t,n)=>{var r=n(9182),o=n(7444),i=n(4616),a=n(9799),s=n(4882),l=n(3003),c=r.Symbol,u=o("wks"),d=l?c.for||c:c&&c.withoutSetter||a;e.exports=function(e){return i(u,e)||(u[e]=s&&i(c,e)?c[e]:d("Symbol."+e)),u[e]}},9776:(e,t,n)=>{var r=n(9182),o=n(8251),i=n(6607),a=n(5594),s=n(912),l=r.RegExp,c=l.prototype;o&&s((function(){var e=!0;try{l(".","d")}catch(t){e=!1}var t={},n="",r=e?"dgimsy":"gimsy",o=function(e,r){Object.defineProperty(t,e,{get:function(){return n+=r,!0}})},i={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var a in e&&(i.hasIndices="d"),i)o(a,i[a]);return Object.getOwnPropertyDescriptor(c,"flags").get.call(t)!==r||n!==r}))&&i(c,"flags",{configurable:!0,get:a})},5355:(e,t,n)=>{var r=n(887),o=n(9182),i=n(3524).clear;r({global:!0,bind:!0,enumerable:!0,forced:o.clearImmediate!==i},{clearImmediate:i})},915:(e,t,n)=>{n(5355),n(666)},666:(e,t,n)=>{var r=n(887),o=n(9182),i=n(3524).set,a=n(2313),s=o.setImmediate?a(i,!1):i;r({global:!0,bind:!0,enumerable:!0,forced:o.setImmediate!==s},{setImmediate:s})}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return n[e].call(i.exports,i,i.exports,o),i.exports}o.m=n,o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,n)=>(o.f[n](e,t),t)),[])),o.u=e=>e+".9f021051.js",o.miniCssF=e=>{},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="@dineug/erd-editor-vscode-webview:",o.l=(n,r,i,a)=>{if(e[n])e[n].push(r);else{var s,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",t+i),s.src=n),e[n]=[r];var h=(t,r)=>{s.onerror=s.onload=null,clearTimeout(f);var o=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(r))),t)return t(r)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="./",(()=>{var e={792:0};o.f.j=(t,n)=>{var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=i);var a=o.p+o.u(t),s=new Error;o.l(a,(n=>{if(o.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,i,[a,s,l]=n,c=0;if(a.some((t=>0!==e[t]))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);l&&l(o)}for(t&&t(n);c<a.length;c++)i=a[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunk_dineug_erd_editor_vscode_webview=self.webpackChunk_dineug_erd_editor_vscode_webview||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{o(9776),o(915);var e=Object.defineProperty,t=e=>{throw TypeError(e)},n=(t,n,r)=>((t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r)(t,"symbol"!=typeof n?n+"":n,r),r=(e,n,r)=>n.has(e)||t("Cannot "+r),i="object"==typeof global&&global&&global.Object===Object&&global,a="object"==typeof self&&self&&self.Object===Object&&self,s=i||a||Function("return this")(),l=s.Symbol,c=Object.prototype,u=c.hasOwnProperty,d=c.toString,h=l?l.toStringTag:void 0,f=Object.prototype.toString,m="[object Null]",p="[object Undefined]",g=l?l.toStringTag:void 0;function y(e){return null==e?void 0===e?p:m:g&&g in Object(e)?function(e){var t=u.call(e,h),n=e[h];try{e[h]=void 0;var r=!0}catch{}var o=d.call(e);return r&&(t?e[h]=n:delete e[h]),o}(e):function(e){return f.call(e)}(e)}function v(e){return null!=e&&"object"==typeof e}var b="[object Symbol]";function w(e){return"symbol"==typeof e||v(e)&&y(e)==b}function x(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var k=Array.isArray,I=l?l.prototype:void 0,$=I?I.toString:void 0;function C(e){if("string"==typeof e)return e;if(k(e))return x(e,C)+"";if(w(e))return $?$.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}var T=/\s/,A=/^\s+/;function O(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var S=NaN,E=/^[-+]0x[0-9a-f]+$/i,N=/^0b[01]+$/i,M=/^0o[0-7]+$/i,D=parseInt;function L(e){if("number"==typeof e)return e;if(w(e))return S;if(O(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=O(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=function(e){return e&&e.slice(0,function(e){for(var t=e.length;t--&&T.test(e.charAt(t)););return t}(e)+1).replace(A,"")}(e);var n=N.test(e);return n||M.test(e)?D(e.slice(2),n?2:8):E.test(e)?S:+e}function j(e){return e?Infinity===(e=L(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function _(e){return e}var z="[object AsyncFunction]",R="[object Function]",V="[object GeneratorFunction]",B="[object Proxy]";function P(e){if(!O(e))return!1;var t=y(e);return t==R||t==V||t==z||t==B}var U,W=s["__core-js_shared__"],F=(U=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||""))?"Symbol(src)_1."+U:"",Z=Function.prototype.toString;function Y(e){if(null!=e){try{return Z.call(e)}catch{}try{return e+""}catch{}}return""}var H=/^\[object .+?Constructor\]$/,q=Function.prototype,G=Object.prototype,Q=q.toString,X=G.hasOwnProperty,J=RegExp("^"+Q.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function K(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!O(e)||function(e){return!!F&&F in e}(e))&&(P(e)?J:H).test(Y(e))}(n)?n:void 0}var ee=K(s,"WeakMap"),te=Object.create,ne=function(){function e(){}return function(t){if(!O(t))return{};if(te)return te(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function re(){}var oe=Date.now;function ie(e){return function(){return e}}var ae=function(){try{var e=K(Object,"defineProperty");return e({},"",{}),e}catch{}}(),se=ae?function(e,t){return ae(e,"toString",{configurable:!0,enumerable:!1,value:ie(t),writable:!0})}:_,le=function(e){var t=0,n=0;return function(){var r=oe(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(se);function ce(e){return e!=e}function ue(e,t){return!(null==e||!e.length)&&function(e,t,n){return t==t?function(e,t,n){for(var r=-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t):function(e,t,n,r){for(var o=e.length,i=-1;++i<o;)if(t(e[i],i,e))return i;return-1}(e,ce)}(e,t)>-1}var de=9007199254740991,he=/^(?:0|[1-9]\d*)$/;function fe(e,t){var n=typeof e;return!!(t=t??de)&&("number"==n||"symbol"!=n&&he.test(e))&&e>-1&&e%1==0&&e<t}function me(e,t,n){"__proto__"==t&&ae?ae(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function pe(e,t){return e===t||e!=e&&t!=t}var ge=Object.prototype.hasOwnProperty;function ye(e,t,n){var r=e[t];(!ge.call(e,t)||!pe(r,n)||void 0===n&&!(t in e))&&me(e,t,n)}function ve(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],l=void 0;void 0===l&&(l=e[s]),o?me(n,s,l):ye(n,s,l)}return n}var be=Math.max;function we(e,t,n){return t=be(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=be(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}var xe=9007199254740991;function ke(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=xe}function Ie(e){return null!=e&&ke(e.length)&&!P(e)}var $e=Object.prototype;function Ce(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||$e)}function Te(e){return v(e)&&"[object Arguments]"==y(e)}var Ae=Object.prototype,Oe=Ae.hasOwnProperty,Se=Ae.propertyIsEnumerable,Ee=Te(function(){return arguments}())?Te:function(e){return v(e)&&Oe.call(e,"callee")&&!Se.call(e,"callee")},Ne="object"==typeof exports&&exports&&!exports.nodeType&&exports,Me=Ne&&"object"==typeof module&&module&&!module.nodeType&&module,De=Me&&Me.exports===Ne?s.Buffer:void 0,Le=(De?De.isBuffer:void 0)||function(){return!1},je={};function _e(e){return function(t){return e(t)}}je["[object Float32Array]"]=je["[object Float64Array]"]=je["[object Int8Array]"]=je["[object Int16Array]"]=je["[object Int32Array]"]=je["[object Uint8Array]"]=je["[object Uint8ClampedArray]"]=je["[object Uint16Array]"]=je["[object Uint32Array]"]=!0,je["[object Arguments]"]=je["[object Array]"]=je["[object ArrayBuffer]"]=je["[object Boolean]"]=je["[object DataView]"]=je["[object Date]"]=je["[object Error]"]=je["[object Function]"]=je["[object Map]"]=je["[object Number]"]=je["[object Object]"]=je["[object RegExp]"]=je["[object Set]"]=je["[object String]"]=je["[object WeakMap]"]=!1;var ze="object"==typeof exports&&exports&&!exports.nodeType&&exports,Re=ze&&"object"==typeof module&&module&&!module.nodeType&&module,Ve=Re&&Re.exports===ze&&i.process,Be=function(){try{return Re&&Re.require&&Re.require("util").types||Ve&&Ve.binding&&Ve.binding("util")}catch{}}(),Pe=Be&&Be.isTypedArray,Ue=Pe?_e(Pe):function(e){return v(e)&&ke(e.length)&&!!je[y(e)]},We=Object.prototype.hasOwnProperty;function Fe(e,t){var n=k(e),r=!n&&Ee(e),o=!n&&!r&&Le(e),i=!n&&!r&&!o&&Ue(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var c in e)(t||We.call(e,c))&&(!a||!("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||fe(c,l)))&&s.push(c);return s}function Ze(e,t){return function(n){return e(t(n))}}var Ye=Ze(Object.keys,Object),He=Object.prototype.hasOwnProperty;function qe(e){if(!Ce(e))return Ye(e);var t=[];for(var n in Object(e))He.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ge(e){return Ie(e)?Fe(e):qe(e)}var Qe=Object.prototype.hasOwnProperty;function Xe(e){return Ie(e)?Fe(e,!0):function(e){if(!O(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Ce(e),n=[];for(var r in e)"constructor"==r&&(t||!Qe.call(e,r))||n.push(r);return n}(e)}var Je=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ke=/^\w*$/;function et(e,t){if(k(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!w(e))||Ke.test(e)||!Je.test(e)||null!=t&&e in Object(t)}var tt=K(Object,"create"),nt=Object.prototype.hasOwnProperty,rt=Object.prototype.hasOwnProperty;function ot(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function it(e,t){for(var n=e.length;n--;)if(pe(e[n][0],t))return n;return-1}ot.prototype.clear=function(){this.__data__=tt?tt(null):{},this.size=0},ot.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ot.prototype.get=function(e){var t=this.__data__;if(tt){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return nt.call(t,e)?t[e]:void 0},ot.prototype.has=function(e){var t=this.__data__;return tt?void 0!==t[e]:rt.call(t,e)},ot.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=tt&&void 0===t?"__lodash_hash_undefined__":t,this};var at=Array.prototype.splice;function st(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}st.prototype.clear=function(){this.__data__=[],this.size=0},st.prototype.delete=function(e){var t=this.__data__,n=it(t,e);return!(n<0||(n==t.length-1?t.pop():at.call(t,n,1),--this.size,0))},st.prototype.get=function(e){var t=this.__data__,n=it(t,e);return n<0?void 0:t[n][1]},st.prototype.has=function(e){return it(this.__data__,e)>-1},st.prototype.set=function(e,t){var n=this.__data__,r=it(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var lt=K(s,"Map");function ct(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function ut(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ut.prototype.clear=function(){this.size=0,this.__data__={hash:new ot,map:new(lt||st),string:new ot}},ut.prototype.delete=function(e){var t=ct(this,e).delete(e);return this.size-=t?1:0,t},ut.prototype.get=function(e){return ct(this,e).get(e)},ut.prototype.has=function(e){return ct(this,e).has(e)},ut.prototype.set=function(e,t){var n=ct(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function dt(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(dt.Cache||ut),n}dt.Cache=ut;var ht=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ft=/\\(\\)?/g,mt=function(e){var t=dt((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ht,(function(e,n,r,o){t.push(r?o.replace(ft,"$1"):n||e)})),t}),(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}();function pt(e){return null==e?"":C(e)}function gt(e,t){return k(e)?e:et(e,t)?[e]:mt(pt(e))}function yt(e){if("string"==typeof e||w(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function vt(e,t){for(var n=0,r=(t=gt(t,e)).length;null!=e&&n<r;)e=e[yt(t[n++])];return n&&n==r?e:void 0}function bt(e,t,n){var r=null==e?void 0:vt(e,t);return void 0===r?n:r}function wt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var xt=l?l.isConcatSpreadable:void 0;function kt(e){return k(e)||Ee(e)||!!(xt&&e&&e[xt])}function It(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=kt),o||(o=[]);++i<a;){var s=e[i];n(s)?wt(o,s):r||(o[o.length]=s)}return o}function $t(e){return null!=e&&e.length?It(e):[]}function Ct(e){return le(we(e,void 0,$t),e+"")}var Tt=Ze(Object.getPrototypeOf,Object),At=Function.prototype,Ot=Object.prototype,St=At.toString,Et=Ot.hasOwnProperty,Nt=St.call(Object);function Mt(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}var Dt=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function Lt(e){return Dt.test(e)}var jt="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",_t="\ud83c[\udffb-\udfff]",zt="[^\ud800-\udfff]",Rt="(?:\ud83c[\udde6-\uddff]){2}",Vt="[\ud800-\udbff][\udc00-\udfff]",Bt="(?:"+jt+"|"+_t+")?",Pt="[\\ufe0e\\ufe0f]?",Ut=Pt+Bt+"(?:\\u200d(?:"+[zt,Rt,Vt].join("|")+")"+Pt+Bt+")*",Wt="(?:"+[zt+jt+"?",jt,Rt,Vt,"[\ud800-\udfff]"].join("|")+")",Ft=RegExp(_t+"(?="+_t+")|"+Wt+Ut,"g");var Zt=function(e){var t=Lt(e=pt(e))?function(e){return Lt(e)?function(e){return e.match(Ft)||[]}(e):function(e){return e.split("")}(e)}(e):void 0,n=t?t[0]:e.charAt(0),r=t?function(e,t,n){var r=e.length;return Mt(e,1,n=void 0===n?r:n)}(t).join(""):e.slice(1);return n.toUpperCase()+r},Yt=function(e){return function(t){return null==e?void 0:e[t]}}({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Ht=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qt=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g"),Gt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Qt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xt="\\u2700-\\u27bf",Jt="a-z\\xdf-\\xf6\\xf8-\\xff",Kt="A-Z\\xc0-\\xd6\\xd8-\\xde",en="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tn="["+en+"]",nn="\\d+",rn="["+Xt+"]",on="["+Jt+"]",an="[^\ud800-\udfff"+en+nn+Xt+Jt+Kt+"]",sn="(?:\ud83c[\udde6-\uddff]){2}",ln="[\ud800-\udbff][\udc00-\udfff]",cn="["+Kt+"]",un="(?:"+on+"|"+an+")",dn="(?:"+cn+"|"+an+")",hn="(?:['’](?:d|ll|m|re|s|t|ve))?",fn="(?:['’](?:D|LL|M|RE|S|T|VE))?",mn="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\ud83c[\udffb-\udfff])?",pn="[\\ufe0e\\ufe0f]?",gn=pn+mn+"(?:\\u200d(?:"+["[^\ud800-\udfff]",sn,ln].join("|")+")"+pn+mn+")*",yn="(?:"+[rn,sn,ln].join("|")+")"+gn,vn=RegExp([cn+"?"+on+"+"+hn+"(?="+[tn,cn,"$"].join("|")+")",dn+"+"+fn+"(?="+[tn,cn+un,"$"].join("|")+")",cn+"?"+un+"+"+hn,cn+"+"+fn,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",nn,yn].join("|"),"g");var bn=RegExp("['’]","g");function wn(e){return function(t){return function(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;)n=t(n,e[o],o,e);return n}(function(e,t,n){return e=pt(e),void 0===t?function(e){return Qt.test(e)}(e)?function(e){return e.match(vn)||[]}(e):function(e){return e.match(Gt)||[]}(e):e.match(t)||[]}(function(e){return(e=pt(e))&&e.replace(Ht,Yt).replace(qt,"")}(t).replace(bn,"")),e,"")}}var xn=wn((function(e,t,n){return t=t.toLowerCase(),e+(n?function(e){return Zt(pt(e).toLowerCase())}(t):t)})),kn=s.isFinite,In=Math.min;function $n(e){var t=this.__data__=new st(e);this.size=t.size}$n.prototype.clear=function(){this.__data__=new st,this.size=0},$n.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},$n.prototype.get=function(e){return this.__data__.get(e)},$n.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.set=function(e,t){var n=this.__data__;if(n instanceof st){var r=n.__data__;if(!lt||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ut(r)}return n.set(e,t),this.size=n.size,this};var Cn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Tn=Cn&&"object"==typeof module&&module&&!module.nodeType&&module,An=Tn&&Tn.exports===Cn?s.Buffer:void 0,On=An?An.allocUnsafe:void 0;function Sn(){return[]}var En=Object.prototype.propertyIsEnumerable,Nn=Object.getOwnPropertySymbols,Mn=Nn?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a)&&(i[o++]=a)}return i}(Nn(e),(function(t){return En.call(e,t)})))}:Sn,Dn=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)wt(t,Mn(e)),e=Tt(e);return t}:Sn;function Ln(e,t,n){var r=t(e);return k(e)?r:wt(r,n(e))}function jn(e){return Ln(e,Ge,Mn)}function _n(e){return Ln(e,Xe,Dn)}var zn=K(s,"DataView"),Rn=K(s,"Promise"),Vn=K(s,"Set"),Bn="[object Map]",Pn="[object Promise]",Un="[object Set]",Wn="[object WeakMap]",Fn="[object DataView]",Zn=Y(zn),Yn=Y(lt),Hn=Y(Rn),qn=Y(Vn),Gn=Y(ee),Qn=y;(zn&&Qn(new zn(new ArrayBuffer(1)))!=Fn||lt&&Qn(new lt)!=Bn||Rn&&Qn(Rn.resolve())!=Pn||Vn&&Qn(new Vn)!=Un||ee&&Qn(new ee)!=Wn)&&(Qn=function(e){var t=y(e),n="[object Object]"==t?e.constructor:void 0,r=n?Y(n):"";if(r)switch(r){case Zn:return Fn;case Yn:return Bn;case Hn:return Pn;case qn:return Un;case Gn:return Wn}return t});var Xn=Object.prototype.hasOwnProperty,Jn=s.Uint8Array;function Kn(e){var t=new e.constructor(e.byteLength);return new Jn(t).set(new Jn(e)),t}var er=/\w*$/,tr=l?l.prototype:void 0,nr=tr?tr.valueOf:void 0,rr="[object Boolean]",or="[object Date]",ir="[object Map]",ar="[object Number]",sr="[object RegExp]",lr="[object Set]",cr="[object String]",ur="[object Symbol]",dr="[object ArrayBuffer]",hr="[object DataView]",fr="[object Float32Array]",mr="[object Float64Array]",pr="[object Int8Array]",gr="[object Int16Array]",yr="[object Int32Array]",vr="[object Uint8Array]",br="[object Uint8ClampedArray]",wr="[object Uint16Array]",xr="[object Uint32Array]";var kr=Be&&Be.isMap,Ir=kr?_e(kr):function(e){return v(e)&&"[object Map]"==Qn(e)},Cr=Be&&Be.isSet,Tr=Cr?_e(Cr):function(e){return v(e)&&"[object Set]"==Qn(e)},Ar=1,Or=2,Sr=4,Er="[object Arguments]",Nr="[object Function]",Mr="[object GeneratorFunction]",Dr="[object Object]",Lr={};function jr(e,t,n,r,o,i){var a,s=t&Ar,l=t&Or,c=t&Sr;if(n&&(a=o?n(e,r,o,i):n(e)),void 0!==a)return a;if(!O(e))return e;var u=k(e);if(u){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Xn.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!s)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e,a)}else{var d=Qn(e),h=d==Nr||d==Mr;if(Le(e))return function(e,t){if(t)return e.slice();var n=e.length,r=On?On(n):new e.constructor(n);return e.copy(r),r}(e,s);if(d==Dr||d==Er||h&&!o){if(a=l||h?{}:function(e){return"function"!=typeof e.constructor||Ce(e)?{}:ne(Tt(e))}(e),!s)return l?function(e,t){return ve(e,Dn(e),t)}(e,function(e,t){return e&&ve(t,Xe(t),e)}(a,e)):function(e,t){return ve(e,Mn(e),t)}(e,function(e,t){return e&&ve(t,Ge(t),e)}(a,e))}else{if(!Lr[d])return o?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case dr:return Kn(e);case rr:case or:return new r(+e);case hr:return function(e,t){var n=t?Kn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case fr:case mr:case pr:case gr:case yr:case vr:case br:case wr:case xr:return function(e,t){var n=t?Kn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,n);case ir:return new r;case ar:case cr:return new r(e);case sr:return function(e){var t=new e.constructor(e.source,er.exec(e));return t.lastIndex=e.lastIndex,t}(e);case lr:return new r;case ur:return function(e){return nr?Object(nr.call(e)):{}}(e)}}(e,d,s)}}i||(i=new $n);var f=i.get(e);if(f)return f;i.set(e,a),Tr(e)?e.forEach((function(r){a.add(jr(r,t,n,r,e,i))})):Ir(e)&&e.forEach((function(r,o){a.set(o,jr(r,t,n,o,e,i))}));var m=u?void 0:(c?l?_n:jn:l?Xe:Ge)(e);return function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n););}(m||e,(function(r,o){m&&(r=e[o=r]),ye(a,o,jr(r,t,n,o,e,i))})),a}Lr[Er]=Lr["[object Array]"]=Lr["[object ArrayBuffer]"]=Lr["[object DataView]"]=Lr["[object Boolean]"]=Lr["[object Date]"]=Lr["[object Float32Array]"]=Lr["[object Float64Array]"]=Lr["[object Int8Array]"]=Lr["[object Int16Array]"]=Lr["[object Int32Array]"]=Lr["[object Map]"]=Lr["[object Number]"]=Lr[Dr]=Lr["[object RegExp]"]=Lr["[object Set]"]=Lr["[object String]"]=Lr["[object Symbol]"]=Lr["[object Uint8Array]"]=Lr["[object Uint8ClampedArray]"]=Lr["[object Uint16Array]"]=Lr["[object Uint32Array]"]=!0,Lr["[object Error]"]=Lr[Nr]=Lr["[object WeakMap]"]=!1;var _r=1,zr=4;function Rr(e){return jr(e,_r|zr)}function Vr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ut;++t<n;)this.add(e[t])}function Br(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Pr(e,t){return e.has(t)}Vr.prototype.add=Vr.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Vr.prototype.has=function(e){return this.__data__.has(e)};var Ur=1,Wr=2;function Fr(e,t,n,r,o,i){var a=n&Ur,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,f=n&Wr?new Vr:void 0;for(i.set(e,t),i.set(t,e);++d<s;){var m=e[d],p=t[d];if(r)var g=a?r(p,m,d,t,e,i):r(m,p,d,e,t,i);if(void 0!==g){if(g)continue;h=!1;break}if(f){if(!Br(t,(function(e,t){if(!Pr(f,t)&&(m===e||o(m,e,n,r,i)))return f.push(t)}))){h=!1;break}}else if(m!==p&&!o(m,p,n,r,i)){h=!1;break}}return i.delete(e),i.delete(t),h}function Zr(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Yr(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Hr=1,qr=2,Gr="[object Boolean]",Qr="[object Date]",Xr="[object Error]",Jr="[object Map]",Kr="[object Number]",eo="[object RegExp]",to="[object Set]",no="[object String]",ro="[object Symbol]",oo="[object ArrayBuffer]",io="[object DataView]",ao=l?l.prototype:void 0,so=ao?ao.valueOf:void 0,lo=1,co=Object.prototype.hasOwnProperty,uo=1,ho="[object Arguments]",fo="[object Array]",mo="[object Object]",po=Object.prototype.hasOwnProperty;function go(e,t,n,r,o){return e===t||(null==e||null==t||!v(e)&&!v(t)?e!=e&&t!=t:function(e,t,n,r,o,i){var a=k(e),s=k(t),l=a?fo:Qn(e),c=s?fo:Qn(t),u=(l=l==ho?mo:l)==mo,d=(c=c==ho?mo:c)==mo,h=l==c;if(h&&Le(e)){if(!Le(t))return!1;a=!0,u=!1}if(h&&!u)return i||(i=new $n),a||Ue(e)?Fr(e,t,n,r,o,i):function(e,t,n,r,o,i,a){switch(n){case io:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case oo:return!(e.byteLength!=t.byteLength||!i(new Jn(e),new Jn(t)));case Gr:case Qr:case Kr:return pe(+e,+t);case Xr:return e.name==t.name&&e.message==t.message;case eo:case no:return e==t+"";case Jr:var s=Zr;case to:var l=r&Hr;if(s||(s=Yr),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=qr,a.set(e,t);var u=Fr(s(e),s(t),r,o,i,a);return a.delete(e),u;case ro:if(so)return so.call(e)==so.call(t)}return!1}(e,t,l,n,r,o,i);if(!(n&uo)){var f=u&&po.call(e,"__wrapped__"),m=d&&po.call(t,"__wrapped__");if(f||m){var p=f?e.value():e,g=m?t.value():t;return i||(i=new $n),o(p,g,n,r,i)}}return!!h&&(i||(i=new $n),function(e,t,n,r,o,i){var a=n&lo,s=jn(e),l=s.length;if(l!=jn(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:co.call(t,u)))return!1}var d=i.get(e),h=i.get(t);if(d&&h)return d==t&&h==e;var f=!0;i.set(e,t),i.set(t,e);for(var m=a;++c<l;){var p=e[u=s[c]],g=t[u];if(r)var y=a?r(g,p,u,t,e,i):r(p,g,u,e,t,i);if(!(void 0===y?p===g||o(p,g,n,r,i):y)){f=!1;break}m||(m="constructor"==u)}if(f&&!m){var v=e.constructor,b=t.constructor;v!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b)&&(f=!1)}return i.delete(e),i.delete(t),f}(e,t,n,r,o,i))}(e,t,n,r,go,o))}var yo=1,vo=2;function bo(e){return e==e&&!O(e)}function wo(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}function xo(e,t){return null!=e&&t in Object(e)}function ko(e,t){return null!=e&&function(e,t,n){for(var r=-1,o=(t=gt(t,e)).length,i=!1;++r<o;){var a=yt(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&ke(o)&&fe(a,o)&&(k(e)||Ee(e))}(e,t,xo)}function Io(e){return"function"==typeof e?e:null==e?_:"object"==typeof e?k(e)?function(e,t){return et(e)&&bo(t)?wo(yt(e),t):function(n){var r=bt(n,e);return void 0===r&&r===t?ko(n,e):go(t,r,3)}}(e[0],e[1]):function(e){var t=function(e){for(var t=Ge(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,bo(o)]}return t}(e);return 1==t.length&&t[0][2]?wo(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var o=n.length,i=o;if(null==e)return!i;for(e=Object(e);o--;){var a=n[o];if(a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){var s=(a=n[o])[0],l=e[s],c=a[1];if(a[2]){if(void 0===l&&!(s in e))return!1}else{var u=new $n;if(!go(c,l,yo|vo,void 0,u))return!1}}return!0}(n,0,t)}}(e):function(e){return et(e)?function(e){return function(t){return null==t?void 0:t[e]}}(yt(e)):function(e){return function(t){return vt(t,e)}}(e)}(e)}function $o(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}var Co=function(e,t){if(null==e)return e;if(!Ie(e))return function(e,t){return e&&function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var s=i[++r];if(!1===t(o[s],s,o))break}return e}(e,t,Ge)}(e,t);for(var n=e.length,r=-1,o=Object(e);++r<n&&!1!==t(o[r],r,o););return e};function To(e,t,n,r){return Co(e,(function(e,o,i){t(r,e,n(e),i)})),r}function Ao(e){return v(e)&&Ie(e)}var Oo=function(e,t){return le(we(e,void 0,_),e+"")}((function(e,t){return Ao(e)?function(e,t,n,r){var o=-1,i=ue,a=!0,s=e.length,l=[],c=t.length;if(!s)return l;t.length>=200&&(i=Pr,a=!1,t=new Vr(t));e:for(;++o<s;){var u=e[o],d=u;if(u=0!==u?u:0,a&&d==d){for(var h=c;h--;)if(t[h]===d)continue e;l.push(u)}else i(t,d,undefined)||l.push(u)}return l}(e,It(t,0,Ao,!0)):[]}));function So(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}function Eo(e){return e&&e.length?e[0]:void 0}var No=Object.prototype.hasOwnProperty,Mo=function(e,t){return function(t,n){var r={};return(k(t)?$o:To)(t,e,Io(n),r)}}((function(e,t,n){No.call(e,n)?e[n].push(t):me(e,n,[t])})),Do="[object Map]",Lo="[object Set]",jo=Object.prototype.hasOwnProperty;function _o(e){if(null==e)return!0;if(Ie(e)&&(k(e)||"string"==typeof e||"function"==typeof e.splice||Le(e)||Ue(e)||Ee(e)))return!e.length;var t=Qn(e);if(t==Do||t==Lo)return!e.size;if(Ce(e))return!qe(e).length;for(var n in e)if(jo.call(e,n))return!1;return!0}function zo(e,t){return null==(e=function(e,t){return t.length<2?e:vt(e,Mt(t,0,-1))}(e,t=gt(t,e)))||delete e[yt(So(t))]}function Ro(e){return function(e){if(!v(e)||"[object Object]"!=y(e))return!1;var t=Tt(e);if(null===t)return!0;var n=Et.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&St.call(n)==Nt}(e)?void 0:e}var Vo=Ct((function(e,t){var n={};if(null==e)return n;var r=!1;t=x(t,(function(t){return t=gt(t,e),r||(r=t.length>1),t})),ve(e,_n(e),n),r&&(n=jr(n,7,Ro));for(var o=t.length;o--;)zo(n,t[o]);return n}));function Bo(e,t,n,r){if(!O(e))return e;for(var o=-1,i=(t=gt(t,e)).length,a=i-1,s=e;null!=s&&++o<i;){var l=yt(t[o]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=a){var u=s[l];void 0===(c=void 0)&&(c=O(u)?u:fe(t[o+1])?[]:{})}ye(s,l,c),s=s[l]}return e}var Po,Uo=Ct((function(e,t){return null==e?{}:function(e,t){return function(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=vt(e,a);n(0,a)&&Bo(i,gt(a,e),s)}return i}(e,t,(function(t,n){return ko(e,n)}))}(e,t)})),Wo=Math.ceil,Fo=Math.max,Zo=function(e,t,n){return n&&"number"!=typeof n&&function(e,t,n){if(!O(n))return!1;var r=typeof t;return!!("number"==r?Ie(n)&&fe(t,n.length):"string"==r&&t in n)&&pe(n[t],e)}(e,t,n)&&(t=n=void 0),e=j(e),void 0===t?(t=e,e=0):t=j(t),function(e,t,n,r){for(var o=-1,i=Fo(Wo((t-e)/(n||1)),0),a=Array(i);i--;)a[++o]=e,e+=n;return a}(e,t,n=void 0===n?e<t?1:-1:j(n))},Yo=(Po=Math.round,function(e,t){if(e=L(e),t=null==t?0:In(function(e){var t=j(e),n=t%1;return t==t?n?t-n:t:0}(t),292),t&&kn(e)){var n=(pt(e)+"e").split("e");return+((n=(pt(Po(n[0]+"e"+(+n[1]+t)))+"e").split("e"))[0]+"e"+(+n[1]-t))}return Po(e)}),Ho=Vn&&1/Yr(new Vn([,-0]))[1]==1/0?function(e){return new Vn(e)}:re,qo=200;function Go(e){return e&&e.length?function(e,t,n){var r=-1,o=ue,i=e.length,a=!0,s=[],l=s;if(i>=qo){var c=Ho(e);if(c)return Yr(c);a=!1,o=Pr,l=new Vr}else l=s;e:for(;++r<i;){var u=e[r],d=u;if(u=0!==u?u:0,a&&d==d){for(var h=l.length;h--;)if(l[h]===d)continue e;s.push(u)}else o(l,d,undefined)||(l!==s&&l.push(d),s.push(u))}return s}(e):[]}function Qo(e){const t=new Set(e);return e=>t.has(e)}function Xo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];try{return null==e?void 0:e(...n)}catch(e){console.error(e)}}const Jo=queueMicrotask??(e=>{Promise.resolve().then(e)}),Ko=e=>t=>typeof t===e,ei=Ko("object"),ti=Ko("boolean"),ni=Ko("function"),ri=Ko("number"),oi=Ko("string"),ii=Ko("undefined"),ai=e=>null===e,si=e=>ai(e)||ii(e),{isArray:li}=Array,ci=e=>ei(e)&&!ai(e)&&!li(e),ui=e=>Number.isInteger(e),di=((e,t,n)=>{let r=(2<<Math.log2(63))-1,o=-~(1.6*r*21/64);return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,i="";for(;;){let a=n(o),s=0|o;for(;s--;)if(i+=e[a[s]&r]||"",i.length>=t)return i}}})("useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",0,(e=>{let t=globalThis.crypto;return void 0===t&&(t=require("node:crypto").webcrypto),t.getRandomValues(new Uint8Array(e))})),hi=(e,t)=>n=>Math.min(Math.max(n,e),t);function fi(e,t,n){return r=>{if(!n)return;const o=n[r];e(o)&&(t[r]=o)}}function mi(e){return t=>oi(t)&&e.includes(t)}function pi(e){return t=>ri(t)&&e.includes(t)}function gi(e,t,n){return Reflect.get(e,t)??n}function yi(){const e=Date.now();return{updateAt:e,createAt:e}}function vi(e,t){const n=fi(ri,e,t);n("updateAt"),n("createAt")}const bi=()=>({tableIds:[],relationshipIds:[],indexIds:[],memoIds:[]}),wi=()=>({id:"",name:"",tableId:"",indexColumnIds:[],seqIndexColumnIds:[],unique:!1,meta:yi()}),xi={ASC:1,DESC:2},ki=Object.values(xi),Ii=()=>({id:"",indexId:"",columnId:"",orderType:xi.ASC,meta:yi()}),$i=()=>({id:"",value:"",ui:{x:200,y:100,zIndex:2,width:116,height:100,color:""},meta:yi()}),Ci={ZeroOne:2,ZeroN:4,OneOnly:8,OneN:16},Ti=Object.values(Ci),Ai={ring:1,dash:2},Oi=Object.values(Ai),Si={left:1,right:2,top:4,bottom:8},Ei=Object.values(Si),Ni=()=>({id:"",identification:!1,relationshipType:Ci.ZeroN,startRelationshipType:Ai.dash,start:{tableId:"",columnIds:[],x:0,y:0,direction:Si.bottom},end:{tableId:"",columnIds:[],x:0,y:0,direction:Si.bottom},meta:yi()}),Mi={ERD:"ERD",visualization:"@dineug/erd-editor/builtin-visualization",schemaSQL:"@dineug/erd-editor/builtin-schema-sql",generatorCode:"@dineug/erd-editor/builtin-generator-code",settings:"settings"},Di=Object.values(Mi),Li={tableComment:1,columnComment:2,columnDataType:4,columnDefault:8,columnAutoIncrement:16,columnPrimaryKey:32,columnUnique:64,columnNotNull:128,relationship:256},ji={columnName:1,columnDataType:2,columnNotNull:4,columnUnique:8,columnAutoIncrement:16,columnDefault:32,columnComment:64},_i=Object.values(ji),zi={MariaDB:1,MSSQL:2,MySQL:4,Oracle:8,PostgreSQL:16,SQLite:32},Ri=Object.values(zi),Vi={GraphQL:1,csharp:2,Java:4,Kotlin:8,TypeScript:16,JPA:32,Scala:64},Bi=Object.values(Vi),Pi={none:1,camelCase:2,pascalCase:4,snakeCase:8},Ui=Object.values(Pi),Wi={none:1,doubleQuote:2,singleQuote:4,backtick:8},Fi=Object.values(Wi),Zi=Li.tableComment|Li.columnComment|Li.columnDataType|Li.columnDefault|Li.columnPrimaryKey|Li.columnNotNull|Li.relationship,Yi=()=>({width:2e3,height:2e3,scrollTop:0,scrollLeft:0,zoomLevel:1,show:Zi,database:zi.MySQL,databaseName:"",canvasType:Mi.ERD,language:Vi.GraphQL,tableNameCase:Pi.pascalCase,columnNameCase:Pi.camelCase,bracketType:Wi.none,relationshipDataTypeSync:!0,relationshipOptimization:!1,columnOrder:[ji.columnName,ji.columnDataType,ji.columnNotNull,ji.columnUnique,ji.columnAutoIncrement,ji.columnDefault,ji.columnComment],maxWidthComment:-1,ignoreSaveSettings:0}),Hi=hi(2e3,2e4),qi=hi(.1,1),Gi=hi(60,200),Qi=()=>({id:"",name:"",comment:"",columnIds:[],seqColumnIds:[],ui:{x:200,y:100,zIndex:2,widthName:60,widthComment:60,color:""},meta:yi()}),Xi=()=>({id:"",tableId:"",name:"",comment:"",dataType:"",default:"",options:0,ui:{keys:0,widthName:60,widthComment:60,widthDataType:60,widthDefault:60},meta:yi()});function Ji(e){var t,n,r,o,i,a;const s=e,l=function(e){const t=Yi();if(!ci(e)||si(e))return t;const n=fi(ri,t,e),r=fi(oi,t,e),o=fi(ti,t,e);return ri(e.width)&&(t.width=Hi(e.width)),ri(e.height)&&(t.height=Hi(e.height)),ri(e.zoomLevel)&&(t.zoomLevel=qi(e.zoomLevel)),ri(e.maxWidthComment)&&-1!==e.maxWidthComment&&(t.maxWidthComment=Gi(e.maxWidthComment)),n("scrollTop"),n("scrollLeft"),n("show"),n("ignoreSaveSettings"),r("databaseName"),r("canvasType"),o("relationshipDataTypeSync"),o("relationshipOptimization"),fi(pi(Ri),t,e)("database"),fi(pi(Bi),t,e)("language"),fi(pi(Ui),t,e)("tableNameCase"),fi(pi(Ui),t,e)("columnNameCase"),fi(pi(Fi),t,e)("bracketType"),li(e.columnOrder)&&_i.length===e.columnOrder.length&&0===Oo(_i,e.columnOrder).length&&(t.columnOrder=e.columnOrder),t}(s.settings),c=function(e){const t=bi();if(!ci(e)||si(e))return t;const n=fi(li,t,e);return n("tableIds"),n("relationshipIds"),n("indexIds"),n("memoIds"),t}(s.doc),u=function(e){const t={};if(!ci(e)||si(e))return t;for(const n of Object.values(e)){if(!n)continue;const e=Qi(),r=fi(oi,e,n),o=fi(li,e,n),i=fi(ri,e.ui,n.ui),a=fi(oi,e.ui,n.ui);r("id"),r("name"),r("comment"),o("columnIds"),o("seqColumnIds"),a("color"),i("x"),i("y"),i("zIndex"),i("widthName"),i("widthComment"),vi(e.meta,n.meta),e.id&&(t[e.id]=e)}return t}(null==(t=s.collections)?void 0:t.tableEntities),d=function(e){const t={};if(!ci(e)||si(e))return t;for(const n of Object.values(e)){if(!n)continue;const e=Xi(),r=fi(oi,e,n),o=fi(ri,e,n),i=fi(ri,e.ui,n.ui);r("id"),r("tableId"),r("name"),r("comment"),r("dataType"),r("default"),o("options"),i("keys"),i("widthName"),i("widthComment"),i("widthDataType"),i("widthDefault"),vi(e.meta,n.meta),e.id&&(t[e.id]=e)}return t}(null==(n=s.collections)?void 0:n.tableColumnEntities),h=function(e){const t={};if(!ci(e)||si(e))return t;for(const n of Object.values(e)){if(!n)continue;const e=Ni(),r=fi(oi,e,n),o=fi(ti,e,n),i=fi(ri,e.start,n.start),a=fi(oi,e.start,n.start),s=fi(ri,e.end,n.end),l=fi(oi,e.end,n.end);r("id"),o("identification"),fi(pi(Ti),e,n)("relationshipType"),fi(pi(Oi),e,n)("startRelationshipType"),a("tableId"),i("x"),i("y"),fi(pi(Ei),e.start,n.start)("direction"),fi(li,e.start,n.start)("columnIds"),l("tableId"),s("x"),s("y"),fi(pi(Ei),e.end,n.end)("direction"),fi(li,e.end,n.end)("columnIds"),vi(e.meta,n.meta),e.id&&(t[e.id]=e)}return t}(null==(r=s.collections)?void 0:r.relationshipEntities),f=function(e){const t={};if(!ci(e)||si(e))return t;for(const n of Object.values(e)){if(!n)continue;const e=wi(),r=fi(oi,e,n),o=fi(ti,e,n),i=fi(li,e,n);r("id"),r("name"),r("tableId"),o("unique"),i("indexColumnIds"),i("seqIndexColumnIds"),vi(e.meta,n.meta),e.id&&(t[e.id]=e)}return t}(null==(o=s.collections)?void 0:o.indexEntities),m=function(e){const t={};if(!ci(e)||si(e))return t;for(const n of Object.values(e)){if(!n)continue;const e=Ii(),r=fi(oi,e,n);r("id"),r("indexId"),r("columnId"),fi(pi(ki),e,n)("orderType"),vi(e.meta,n.meta),e.id&&(t[e.id]=e)}return t}(null==(i=s.collections)?void 0:i.indexColumnEntities),p=function(e){const t={};if(!ci(e)||si(e))return t;for(const n of Object.values(e)){if(!n)continue;const e=$i(),r=fi(oi,e,n),o=fi(ri,e.ui,n.ui),i=fi(oi,e.ui,n.ui);r("id"),r("value"),i("color"),o("x"),o("y"),o("zIndex"),o("width"),o("height"),vi(e.meta,n.meta),e.id&&(t[e.id]=e)}return t}(null==(a=s.collections)?void 0:a.memoEntities);return{$schema:"https://raw.githubusercontent.com/dineug/erd-editor/main/json-schema/schema.json",version:"3.0.0",settings:l,doc:c,collections:{tableEntities:u,tableColumnEntities:d,relationshipEntities:h,indexEntities:f,indexColumnEntities:m,memoEntities:p}}}const Ki={CanvasType:Mi,CanvasTypeList:Di,Show:Li,ColumnType:ji,ColumnTypeList:_i,Database:zi,DatabaseList:Ri,Language:Vi,LanguageList:Bi,NameCase:Pi,NameCaseList:Ui,BracketType:Wi,BracketTypeList:Fi,RelationshipType:Ci,StartRelationshipType:Ai,Direction:Si,ColumnOption:{autoIncrement:1,primaryKey:2,unique:4,notNull:8},ColumnUIKey:{primaryKey:1,foreignKey:2},OrderType:xi,SaveSettingType:{scroll:1,zoomLevel:2},CANVAS_SIZE_MAX:2e4,CANVAS_SIZE_MIN:2e3,CANVAS_ZOOM_MAX:1,CANVAS_ZOOM_MIN:.1};function ea(e,t,n){return e[t]||(e[t]=function(e){return[e,-1,-1,{}]}(n),e[t])}function ta(e,t,n,r,o){const i=ea(e,n,r),a=i[1],s=i[2];a<t&&(i[1]=t),s<t&&o()}function na(e,t,n,r,o){const i=ea(e,n,r),a=i[2],s=i[1];a<t&&(i[2]=t),s<=t&&o()}function ra(e,t,n,r,o,i){const a=ea(e,n,r);(a[3][o]??-1)<=t&&(a[3][o]=t,i())}let oa=class{constructor(e){this.collections=e}collection(e){return new ia(this.collections[e],e)}},ia=class{constructor(e,t){this.collection=e,this.collectionKey=t}selectById(e){return this.collection[e]}selectByIds(e){return e.length,e.map((e=>this.selectById(e))).filter(Boolean)}selectEntities(){return this.collection}selectAll(){return Object.values(this.collection)}setOne(e){return this.collection[e.id]=e,this}setMany(e){return e.forEach((e=>this.setOne(e))),this}setAll(e){return this.removeAll(),this.setMany(e),this}addOne(e){return this.selectById(e.id)||this.setOne(e),this}addMany(e){return e.forEach((e=>this.addOne(e))),this}removeOne(e){return this.selectById(e)&&Reflect.deleteProperty(this.collection,e),this}removeMany(e){return e.forEach((e=>this.removeOne(e))),this}removeAll(){return this.collection={},this}updateOne(e,t){const n=this.selectById(e);return n&&(t(n),n.meta.updateAt=Date.now()),this}updateMany(e,t){return e.forEach((e=>this.updateOne(e,t))),this}getOrCreate(e,t){const n=this.selectById(e);if(n)return n;const r=t(e);return this.setOne(r),this.selectById(e)}addOperator(e,t,n,r){return ta(e,t,n,this.collectionKey,r),this}removeOperator(e,t,n,r){return na(e,t,n,this.collectionKey,r),this}replaceOperator(e,t,n,r,o){return ra(e,t,n,this.collectionKey,r,o),this}};const aa=e=>new oa(e);function sa(e,t){return(e&t)===t}const la=Object.values({columnUnique:"columnUnique",columnAutoIncrement:"columnAutoIncrement",columnName:"columnName",columnDataType:"columnDataType",columnNotNull:"columnNotNull",columnDefault:"columnDefault",columnComment:"columnComment"}),ca=Object.values({ERD:"ERD","@vuerd/builtin-sql-ddl":"@vuerd/builtin-sql-ddl","@vuerd/builtin-grid":"@vuerd/builtin-grid","@vuerd/builtin-generator-code":"@vuerd/builtin-generator-code","@vuerd/builtin-visualization":"@vuerd/builtin-visualization"}),ua=Object.values({MariaDB:"MariaDB",MSSQL:"MSSQL",MySQL:"MySQL",Oracle:"Oracle",PostgreSQL:"PostgreSQL",SQLite:"SQLite"}),da=Object.values({GraphQL:"GraphQL","C#":"C#",Java:"Java",Kotlin:"Kotlin",TypeScript:"TypeScript",JPA:"JPA",Scala:"Scala"}),ha=Object.values({none:"none",camelCase:"camelCase",pascalCase:"pascalCase",snakeCase:"snakeCase"}),fa=Object.values({AtomOneDark:"AtomOneDark",AtomOneLight:"AtomOneLight",MonokaiSublime:"MonokaiSublime",GithubGist:"GithubGist",VS2015:"VS2015"}),ma=Object.values({none:"none",doubleQuote:"doubleQuote",singleQuote:"singleQuote",backtick:"backtick"}),pa=()=>({version:"2.2.11",width:2e3,height:2e3,scrollTop:0,scrollLeft:0,zoomLevel:1,show:{tableComment:!0,columnComment:!0,columnDataType:!0,columnDefault:!0,columnAutoIncrement:!1,columnPrimaryKey:!0,columnUnique:!1,columnNotNull:!0,relationship:!0},database:"MySQL",databaseName:"",canvasType:"ERD",language:"GraphQL",tableCase:"pascalCase",columnCase:"camelCase",highlightTheme:"VS2015",bracketType:"none",setting:{relationshipDataTypeSync:!0,relationshipOptimization:!1,columnOrder:["columnName","columnDataType","columnNotNull","columnUnique","columnAutoIncrement","columnDefault","columnComment"]},pluginSerializationMap:{}}),ga=hi(2e3,2e4),ya=hi(.1,1),va=()=>({memos:[]}),ba=()=>({id:"",value:"",ui:{active:!1,left:200,top:200,zIndex:2,width:127,height:127}}),wa=["ZeroOneN","One","N"],xa={ZeroOneN:"ZeroN",One:"OneOnly",N:"OneN"},ka=e=>wa.includes(e)?xa[e]:e,Ia=Object.values({ZeroOneN:"ZeroOneN",ZeroOne:"ZeroOne",ZeroN:"ZeroN",OneOnly:"OneOnly",OneN:"OneN",One:"One",N:"N"}),$a=Object.values({Ring:"Ring",Dash:"Dash"}),Ca=Object.values({left:"left",right:"right",top:"top",bottom:"bottom"}),Ta=()=>({relationships:[]}),Aa=()=>({id:"",identification:!1,relationshipType:"ZeroN",startRelationshipType:"Dash",start:{tableId:"",columnIds:[],x:0,y:0,direction:"bottom"},end:{tableId:"",columnIds:[],x:0,y:0,direction:"bottom"},constraintName:"",visible:!0}),Oa={ASC:"ASC",DESC:"DESC"},Sa=Object.values(Oa),Ea=()=>({tables:[],indexes:[]}),Na=()=>({id:"",name:"",comment:"",columns:[],ui:{active:!1,left:200,top:100,zIndex:2,widthName:60,widthComment:60},visible:!0}),Ma=()=>({id:"",name:"",comment:"",dataType:"",default:"",option:{autoIncrement:!1,primaryKey:!1,unique:!1,notNull:!1},ui:{active:!1,pk:!1,fk:!1,pfk:!1,widthName:60,widthComment:60,widthDataType:60,widthDefault:60}}),Da=()=>({id:"",name:"",tableId:"",columns:[],unique:!1}),La=()=>({id:"",orderType:Oa.ASC});function ja(e){const t=JSON.parse(e);return"3.0.0"===Reflect.get(t,"version")?Ji(t):function(e){const t=Ji({});return function(e,t){e.width=t.width,e.height=t.height,e.scrollTop=t.scrollTop,e.scrollLeft=t.scrollLeft,e.zoomLevel=t.zoomLevel,e.databaseName=t.databaseName,e.canvasType=Ki.CanvasType.ERD,e.show=Object.keys(t.show).reduce(((e,n)=>gi(t.show,n,!1)?e|gi(Ki.Show,n,0):e),0),e.database=Reflect.get(Ki.Database,t.database)??Ki.Database.MySQL,e.language="C#"===t.language?Ki.Language.csharp:gi(Ki.Language,t.language,Ki.Language.GraphQL),e.tableNameCase=gi(Ki.NameCase,t.tableCase,Ki.NameCase.pascalCase),e.columnNameCase=gi(Ki.NameCase,t.columnCase,Ki.NameCase.camelCase),e.bracketType=gi(Ki.BracketType,t.bracketType,Ki.BracketType.none),e.relationshipDataTypeSync=t.setting.relationshipDataTypeSync,e.relationshipOptimization=t.setting.relationshipOptimization;const n=t.setting.columnOrder.map((e=>Ki.ColumnType[e]));0===Oo(Ki.ColumnTypeList,n).length&&(e.columnOrder=n)}(t.settings,e.canvas),function(e,t){const n=t.tables.filter((e=>{let{id:t}=e;return!!t})),r=t.indexes.filter((e=>{let{id:t}=e;return!!t}));e.doc.tableIds=n.map((e=>{let{id:t}=e;return t})),e.doc.indexIds=r.map((e=>{let{id:t}=e;return t}));for(const t of n){const n=Qi();n.id=t.id,n.name=t.name,n.comment=t.comment,n.columnIds=t.columns.map((e=>{let{id:t}=e;return t})),n.seqColumnIds=[...n.columnIds],n.ui.y=t.ui.top,n.ui.x=t.ui.left,n.ui.zIndex=t.ui.zIndex,n.ui.widthName=t.ui.widthName,n.ui.widthComment=t.ui.widthComment,n.ui.color=t.ui.color??"";for(const n of t.columns){const r=Xi();r.id=n.id,r.tableId=t.id,r.name=n.name,r.comment=n.comment,r.dataType=n.dataType,r.default=n.default,r.options=Object.keys(n.option).reduce(((e,t)=>gi(n.option,t,!1)?e|gi(Ki.ColumnOption,t,0):e),0),r.ui.widthName=n.ui.widthName,r.ui.widthComment=n.ui.widthComment,r.ui.widthDataType=n.ui.widthDataType,r.ui.widthDefault=n.ui.widthDefault,n.ui.pfk?r.ui.keys=Ki.ColumnUIKey.primaryKey|Ki.ColumnUIKey.foreignKey:n.ui.pk?r.ui.keys=Ki.ColumnUIKey.primaryKey:n.ui.fk&&(r.ui.keys=Ki.ColumnUIKey.foreignKey),e.collections.tableColumnEntities[r.id]=r}e.collections.tableEntities[n.id]=n}for(const t of r){const n=wi();n.id=t.id,n.name=t.name,n.tableId=t.tableId,n.unique=t.unique;for(const r of t.columns){const o=di(),i=Ii();n.indexColumnIds.push(o),n.seqIndexColumnIds.push(o),i.id=o,i.indexId=t.id,i.columnId=r.id,i.orderType=gi(Ki.OrderType,r.orderType,Ki.OrderType.ASC),e.collections.indexColumnEntities[i.id]=i}e.collections.indexEntities[n.id]=n}}(t,e.table),function(e,t){const n=t.memos.filter((e=>{let{id:t}=e;return!!t}));e.doc.memoIds=n.map((e=>{let{id:t}=e;return t}));for(const t of n){const n=$i();n.id=t.id,n.value=t.value,n.ui.y=t.ui.top,n.ui.x=t.ui.left,n.ui.width=t.ui.width,n.ui.height=t.ui.height,n.ui.zIndex=t.ui.zIndex,n.ui.color=t.ui.color??"",e.collections.memoEntities[n.id]=n}}(t,e.memo),function(e,t){const n=t.relationships.filter((e=>{let{id:t}=e;return!!t}));e.doc.relationshipIds=n.map((e=>{let{id:t}=e;return t}));for(const t of n){const n=Ni();n.id=t.id,n.identification=t.identification,n.relationshipType=gi(Ki.RelationshipType,t.relationshipType,Ki.RelationshipType.ZeroN),n.startRelationshipType=gi(Ki.StartRelationshipType,"Ring"===t.startRelationshipType?"ring":"dash",Ki.StartRelationshipType.dash),n.start.tableId=t.start.tableId,n.start.columnIds=t.start.columnIds,n.start.x=t.start.x,n.start.y=t.start.y,n.start.direction=gi(Ki.Direction,t.start.direction,Ki.Direction.bottom),n.end.tableId=t.end.tableId,n.end.columnIds=t.end.columnIds,n.end.x=t.end.x,n.end.y=t.end.y,n.end.direction=gi(Ki.Direction,t.end.direction,Ki.Direction.bottom),e.collections.relationshipEntities[n.id]=n}}(t,e.relationship),t}(function(e){const t=e,n=function(e){var t;const n=pa();if(si(e))return n;const r=fi(ri,n,e),o=fi(oi,n,e),i=fi(ti,n.show,e.show),a=fi(ti,n.setting,e.setting);if(ri(e.width)&&(n.width=ga(e.width)),ri(e.height)&&(n.height=ga(e.height)),ri(e.zoomLevel)&&(n.zoomLevel=ya(e.zoomLevel)),o("version"),o("databaseName"),r("scrollTop"),r("scrollLeft"),fi(mi(ua),n,e)("database"),fi(mi(ca),n,e)("canvasType"),fi(mi(da),n,e)("language"),fi(mi(ha),n,e)("tableCase"),fi(mi(ha),n,e)("columnCase"),fi(mi(fa),n,e)("highlightTheme"),fi(mi(ma),n,e)("bracketType"),i("tableComment"),i("columnComment"),i("columnDataType"),i("columnDefault"),i("columnAutoIncrement"),i("columnPrimaryKey"),i("columnUnique"),i("columnNotNull"),i("relationship"),a("relationshipDataTypeSync"),a("relationshipOptimization"),null!=(t=e.setting)&&t.columnOrder&&la.length===e.setting.columnOrder.length&&0===Oo(la,e.setting.columnOrder).length&&(n.setting.columnOrder=e.setting.columnOrder),ci(e.pluginSerializationMap)){const t=e.pluginSerializationMap;for(const e of Object.keys(t)){const r=t[e];oi(r)&&(n.pluginSerializationMap[e]=r)}}return n}(t.canvas),r=function(e){const t=Ea();if(si(e))return t;if(li(e.tables))for(const n of e.tables){const e=Na(),r=fi(oi,e,n),o=fi(ti,e,n),i=fi(ri,e.ui,n.ui),a=fi(ti,e.ui,n.ui),s=fi(oi,e.ui,n.ui);if(r("id"),r("name"),r("comment"),o("visible"),a("active"),s("color"),i("left"),i("top"),i("zIndex"),i("widthName"),i("widthComment"),li(n.columns))for(const t of n.columns){const n=Ma(),r=fi(oi,n,t),o=fi(ri,n.ui,t.ui),i=fi(ti,n.ui,t.ui),a=fi(ti,n.option,t.option);r("id"),r("name"),r("comment"),r("dataType"),r("default"),a("autoIncrement"),a("primaryKey"),a("unique"),a("notNull"),i("active"),i("pk"),i("fk"),i("pfk"),o("widthName"),o("widthComment"),o("widthDataType"),o("widthDefault"),e.columns.push(n)}t.tables.push(e)}if(li(e.indexes))for(const n of e.indexes){const e=Da(),r=fi(oi,e,n),o=fi(ti,e,n);if(r("id"),r("name"),r("tableId"),o("unique"),li(n.columns))for(const t of n.columns){const n=La();fi(oi,n,t)("id"),fi(mi(Sa),n,t)("orderType"),e.columns.push(n)}t.indexes.push(e)}return t}(t.table),o=function(e){var t,n,r,o;const i=Ta();if(si(e)||!li(e.relationships))return i;for(const a of e.relationships){const e=Aa(),s=fi(oi,e,a),l=fi(ti,e,a),c=fi(ri,e.start,a.start),u=fi(oi,e.start,a.start),d=fi(ri,e.end,a.end),h=fi(oi,e.end,a.end);s("id"),s("constraintName"),l("identification"),l("visible"),fi(mi(Ia),e,a)("relationshipType"),e.relationshipType=ka(e.relationshipType),fi(mi($a),e,a)("startRelationshipType"),u("tableId"),c("x"),c("y"),fi(mi(Ca),e.start,a.start)("direction"),li(null==(t=a.start)?void 0:t.columnIds)&&(e.start.columnIds=null==(n=a.start)?void 0:n.columnIds.filter(oi)),h("tableId"),d("x"),d("y"),fi(mi(Ca),e.end,a.end)("direction"),li(null==(r=a.end)?void 0:r.columnIds)&&(e.end.columnIds=null==(o=a.end)?void 0:o.columnIds.filter(oi)),i.relationships.push(e)}return i}(t.relationship),i=function(e){const t=va();if(si(e)||!li(e.memos))return t;for(const n of e.memos){const e=ba(),r=fi(oi,e,n),o=fi(ri,e.ui,n.ui),i=fi(ti,e.ui,n.ui),a=fi(oi,e.ui,n.ui);r("id"),r("value"),i("active"),a("color"),o("left"),o("top"),o("zIndex"),o("width"),o("height"),t.memos.push(e)}return t}(t.memo);return{canvas:n,table:r,relationship:o,memo:i}}(t))}function _a(e){const t=Uo(e,["$schema","version","settings","doc","collections"]);return sa(t.settings.ignoreSaveSettings,Ki.SaveSettingType.scroll)&&(t.settings.scrollTop=0,t.settings.scrollLeft=0),sa(t.settings.ignoreSaveSettings,Ki.SaveSettingType.zoomLevel)&&(t.settings.zoomLevel=1),JSON.stringify(t,null,2)}Ki.RelationshipType.ZeroOne,Ki.RelationshipType.ZeroN,Ki.RelationshipType.OneOnly,Ki.RelationshipType.OneN,Ki.Direction.left,Ki.Direction.right,Ki.Direction.top,Ki.Direction.bottom;var za=Object.defineProperty,Ra=e=>{throw TypeError(e)},Va=(e,t,n)=>((e,t,n)=>t in e?za(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),Ba=(e,t,n)=>t.has(e)||Ra("Cannot "+n),Pa=(e,t,n)=>(Ba(e,t,"read from private field"),n?n.call(e):t.get(e)),Ua=(e,t,n)=>t.has(e)?Ra("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Wa=(e,t,n,r)=>(Ba(e,t,"write to private field"),t.set(e,n),n);function Fa(e,t){return Object.freeze({key:Symbol(),value:e})}function Za(e,t){function n(n,r){return new CustomEvent(e,{detail:n,...t,...r})}return n.toString=()=>`${e}`,n.type=e,n}const Ya=Za("@@r-html/context-subscribe",{bubbles:!0,composed:!0}),Ha=Za("@@r-html/context-unsubscribe",{bubbles:!0,composed:!0});function qa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];try{return null==e?void 0:e(...n)}catch(e){console.error(e)}}const Ga=queueMicrotask??(e=>{Promise.resolve().then(e)}),Qa=e=>t=>typeof t===e,Xa=Qa("object"),Ja=Qa("bigint"),Ka=Qa("boolean"),es=Qa("function"),ts=Qa("number"),ns=Qa("string"),rs=Qa("symbol"),os=Qa("undefined"),is=e=>null===e,{isArray:as}=Array,ss=e=>Xa(e)&&!is(e)&&!as(e),ls=e=>Ja(e)||Ka(e)||ts(e)||ns(e)||rs(e)||os(e)||is(e);function cs(){const e=new Set,t=t=>(e.has(t)||e.add(t),()=>{e.delete(t)});return{subscribe:t,next:t=>{e.forEach((e=>e(t)))},asReadonly:()=>({subscribe:t})}}const us=1,ds=[],hs=new Map,fs=new Map;let ms=!0,ps=0;const gs=e=>t=>{const n=hs.get(t);let r=()=>{};const o=null!=n&&n.promise?n.promise:new Promise((e=>{r=e}));if(!n){const n={type:e,tickCount:ps,promise:o,fn:t,resolve:()=>{r()}};ds.push(n),hs.set(t,n)}return ms&&(Ga(xs),ms=!1),o},ys=gs("observer"),vs=gs("nextTick"),bs=(e,t)=>{var n;return null==(n=Qs.get(e))?void 0:n.forEach((n=>function(e,t,n){const r=Ks.get(n);if(!r)return!1;const o=r.get(e);return!!o&&o.has(t)}(e,t,n)&&ys(n)))};function ws(){const e=ds.shift();if(e){if(hs.delete(e.fn),"observer"===e.type)rl(e.fn),nl(e.fn),e.resolve();else if("nextTick"===e.type){const t=qa(e.fn);t instanceof Promise?t.finally(e.resolve):e.resolve()}(function(){const e=ds[0];return!!e&&us<=ps-e.tickCount})()&&ws()}}function xs(){!function(){for(;ds.length;)ws();ms=!0,ps=0}()}function ks(e,t){const n=Gs.get(e);if(!n)return;const r=Js.get(n);if(!r)return;const o=fs.get(n);o?o.has(t)||o.add(t):(fs.set(n,new Set([t])),vs((()=>{const e=fs.get(n);e&&(fs.delete(n),e.forEach((e=>r.next(e))))})))}const Is=`@@r-html-${Math.random().toString().substring(2,8)}`,$s=`...${Is}`,Cs=new RegExp(`${Is}_(\\d+)_`,"g"),Ts=new RegExp(`^${Is}_\\d+_$`),As=/^\n/;var Os=(e=>(e.attribute="attribute",e.boolean="boolean",e.event="event",e.property="property",e.spread="spread",e.directive="directive",e))(Os||{});const Ss=Symbol.for("https://github.com/dineug/r-html#beforeMount"),Es=Symbol.for("https://github.com/dineug/r-html#mounted"),Ns=Symbol.for("https://github.com/dineug/r-html#unmounted"),Ms=Symbol.for("https://github.com/dineug/r-html#beforeFirstUpdate"),Ds=Symbol.for("https://github.com/dineug/r-html#beforeUpdate"),Ls=Symbol.for("https://github.com/dineug/r-html#firstUpdated"),js=Symbol.for("https://github.com/dineug/r-html#updated"),_s=[Ss,Es,Ns,Ms,Ds,Ls,js],zs=Symbol.for("https://github.com/dineug/r-html#Directive"),Rs=Symbol.for("https://github.com/dineug/r-html#TemplateLiterals");let Vs=null;function Bs(e){Vs=e}const Ps=e=>t=>{Vs&&(Vs[e]??(Vs[e]=[])).push(t)},Us=Ps(Ss),Ws=Ps(Es),Fs=Ps(Ns),Zs=Ps(Ds),Ys=Ps(js);function Hs(e,t){const n=Reflect.get(e,t,e);as(n)&&n.forEach(qa)}const qs=cs(),Gs=new WeakMap,Qs=new WeakMap,Xs=new WeakMap,Js=new WeakMap,Ks=new WeakMap,el={shallow:!1};let tl=null;function nl(e){return tl=e,qa(e),tl=null,()=>rl(e)}function rl(e){const t=Ks.get(e);if(t)for(const[n]of t.entries()){const t=Qs.get(n);null==t||t.delete(e)}t&&Ks.delete(e)}const ol=e=>e instanceof Node||e instanceof Map||e instanceof Set||e instanceof WeakMap||e instanceof WeakSet||e instanceof RegExp||e instanceof Date||e instanceof Promise||(as(e)||ss(e))&&Object.isFrozen(e);function il(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{shallow:n}=Object.assign({},el,t),r=new Proxy(e,{get(r,o,i){const a=Reflect.get(r,o,i);return ol(a)?a:(function(e){if(!tl)return;const t=Qs.get(e);t?t.has(tl)||t.add(tl):Qs.set(e,new Set([tl]))}(e),function(e,t){if(!tl)return;const n=Ks.get(tl);if(n){const r=n.get(e);r?r.has(t)||r.add(t):n.set(e,new Set([t]))}else Ks.set(tl,new Map([[e,new Set([t])]]))}(e,o),n||!ss(a)&&!as(a)||Xs.has(a)?a:Gs.has(a)?Gs.get(a):il(a,t))},set(e,t,n,r){const o=Reflect.get(e,t,r),i=Reflect.set(e,t,n,r);return(!as(e)&&o!==n||"length"===t)&&(bs(e,t),ks(e,t)),i},deleteProperty(e,t){const n=Reflect.deleteProperty(e,t);return bs(e,t),ks(e,t),n}});return Gs.set(e,r),Xs.set(r,e),r}function al(e){return(Js.get(e)??Js.set(e,cs()).get(e)).asReadonly()}function sl(e,t){const n=il({value:t.value},{shallow:!0}),r=e=>{n.value=e},o=()=>e instanceof HTMLElement?e:e.parentElement??e.host,i=()=>{o().dispatchEvent(Ya({context:t,observer:r}))};return i(),Us(i),Fs((()=>{o().dispatchEvent(Ha({context:t,observer:r}))})),n}function ll(e,t,n){const r=e instanceof HTMLElement?e:e.parentElement??e.host,o=cs(),i=new Map,a=e=>{var r,a;const s=e;(null==(a=null==(r=s.detail)?void 0:r.context)?void 0:a.key)===t.key&&(s.stopPropagation(),s.detail.observer(n),i.set(s.detail.observer,o.subscribe(s.detail.observer)))},s=e=>{var n,r;const o=e;if((null==(r=null==(n=o.detail)?void 0:n.context)?void 0:r.key)===t.key){o.stopPropagation();const e=i.get(o.detail.observer);null==e||e(),i.delete(o.detail.observer)}};return r.addEventListener(Ya.type,a),r.addEventListener(Ha.type,s),{set:e=>{o.next(e)},destroy:()=>{r.removeEventListener(Ya.type,a),r.removeEventListener(Ha.type,s);for(const e of i.values())e();i.clear()}}}var cl=(e=>(e.element="element",e.text="text",e.comment="comment",e))(cl||{});class ul{constructor(e={}){Va(this,"type","comment"),Va(this,"value",""),Va(this,"attrs"),Va(this,"parent",null),Va(this,"children"),Object.assign(this,e)}*iterParent(){yield this,this.parent&&(yield*this.parent.iterParent())}*[Symbol.iterator](){if(yield this,this.children)for(const e of this.children)yield*e}}const dl=e=>!!e&&"false"!==e,hl=(e,t)=>e.length===t.length&&e.every(((e,n)=>e===t[n]));function fl(e,t){if(e===t)return!0;const n=ss(e)?e:{},r=ss(t)?t:{},o=Object.keys(n),i=Object.keys(r);return o.length===i.length&&i.every((e=>Reflect.get(n,e)===Reflect.get(r,e)))}function ml(e,t){const n=t.parentNode;n&&n.insertBefore(e,t)}function pl(e,t){const n=t.parentNode;n&&(t.nextSibling?n.insertBefore(e,t.nextSibling):n.appendChild(e))}const gl=e=>e.parentNode&&e.parentNode.removeChild(e);function yl(e,t){const n=[];let r=e.nextSibling;for(;r&&r!==t;)n.push(r),r=r.nextSibling;return n}const vl=()=>{},bl=e=>e instanceof HTMLElement,wl=e=>e instanceof SVGElement,xl=e=>e.replace(/^([A-Z])|[\s-_](\w)/g,((e,t,n)=>n?n.toUpperCase():t.toLowerCase()));var kl=(e=>(e.html="html",e.svg="svg",e.css="css",e))(kl||{});const Il=new Set(Object.values(kl)),$l=new WeakMap,Cl=new WeakMap,Tl=new Set([kl.svg]),Al=e=>`${Is}_${e}_`,Ol=e=>ss(e)&&(e=>as(e)&&as(e.raw))(e.strings)&&as(e.values)&&Il.has(Reflect.get(e,Rs)??""),Sl=e=>Ol(e)&&e[Rs]===kl.css,El=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r=>t?!(null==r||!r.trimStart().startsWith(e)):n?!(null==r||!r.trimEnd().endsWith(e)):new RegExp(e).test(r??"")},Nl=El($s),Ml=El("."),Dl=El("?"),Ll=El("@"),jl=El("on"),_l=El(Is,!1),zl=e=>_l(e)&&Ts.test((null==e?void 0:e.trim())??""),Rl=e=>{let{type:t,value:n}=e;return t===Os.spread||t===Os.directive||_l(n)},Vl=e=>zl(e)?Os.directive:Nl(e)?Os.spread:Ml(e)?Os.property:Ll(e)||jl(e)?Os.event:Dl(e)?Os.boolean:Os.attribute,Bl=e=>Nl(e)?e.substring(3):zl(e)?e:Ml(e)||Ll(e)||Dl(e)?e.substring(1):jl(e)?e.substring(2):e;function Pl(e){const t=[];let n=Cs.exec(e);for(;n;){const r=Number(n[1]);t.push([n[0],Number.isInteger(r)?r:-1]),n=Cs.exec(e)}return t}const Ul="0123456789abcdefghijklmnopqrstuvwxyz-_";function Wl(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}var Fl,Zl,Yl,Hl,ql,Gl,Ql,Xl,Jl,Kl,ec;class tc{constructor(e,{name:t,value:n}){Ua(this,Fl),Ua(this,Zl),Ua(this,Yl),Ua(this,Hl,[]),Ua(this,ql,[]),Ua(this,Gl,null),Ua(this,Ql,null),Wa(this,Fl,e),Wa(this,Zl,t),Wa(this,Yl,n),Wa(this,Hl,Pl(n??""))}commit(e){const t=Pa(this,Hl).map((t=>{let[n,r]=t;return e[r]}));if(hl(Pa(this,ql),t))return;const n=t[t.length-1];if("class"===Pa(this,Zl))this.classCommit(n);else if("style"===Pa(this,Zl))this.styleCommit(n);else{const e=t.reduce(((e,t,n)=>e.replace(new RegExp(Pa(this,Hl)[n][0]),nc(t))),Pa(this,Yl)??"");Pa(this,Fl).setAttribute(Pa(this,Zl),e.trim())}Wa(this,ql,t)}classCommit(e){if(!bl(Pa(this,Fl))&&!wl(Pa(this,Fl))||!ss(e)&&!as(e))return;const t=Pa(this,ql)[Pa(this,ql).length-1];if(t===e||as(t)&&as(e)&&hl(t,e)||ss(t)&&ss(e)&&fl(t,e))return;const n=[...Pa(this,Fl).classList],r=rc(e);if(is(Pa(this,Ql)))Wa(this,Ql,n);else{const e=Pa(this,Ql),t=n.filter((t=>!e.includes(t)&&!r.includes(t)));Pa(this,Fl).classList.remove(...t)}Pa(this,Fl).classList.add(...r)}styleCommit(e){if(!bl(Pa(this,Fl))&&!wl(Pa(this,Fl)))return;if(fl(Pa(this,ql)[Pa(this,ql).length-1],e))return;const t=function(e){const t={};for(let n=0;n<e.style.length;n++){const r=e.style.item(n);t[r]=e.style.getPropertyValue(r)}return t}(Pa(this,Fl)),n=ss(e)?e:{};if(is(Pa(this,Gl)))Wa(this,Gl,t);else{const e=Pa(this,Gl);Object.keys(t).filter((t=>!e[t]&&!n[t])).forEach((e=>Pa(this,Fl).style.removeProperty(e)))}for(const e of Object.keys(n))Pa(this,Fl).style.setProperty(e,n[e])}}function nc(e){return ls(e)&&!is(e)&&!os(e)||Sl(e)?String(e):""}function rc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(Sl(e))return t.push(nc(e)),t;if(ls(e))t.push(nc(e));else if(Xa(e))if(as(e))for(let n=0;n<e.length;n++)e[n]&&rc(e[n],t);else for(const n in e)e[n]&&t.push(nc(n));return t}Fl=new WeakMap,Zl=new WeakMap,Yl=new WeakMap,Hl=new WeakMap,ql=new WeakMap,Gl=new WeakMap,Ql=new WeakMap;class oc{constructor(e,{name:t,value:n}){Ua(this,Xl),Ua(this,Jl),Ua(this,Kl,[]),Ua(this,ec,[]),Wa(this,Xl,e),Wa(this,Jl,t),Wa(this,Kl,Pl(n??""))}commit(e){const t=Pa(this,Kl).map((t=>{let[n,r]=t;return e[r]}));if(hl(Pa(this,ec),t))return;const n=t[t.length-1];dl(n)?Pa(this,Xl).setAttribute(Pa(this,Jl),""):Pa(this,Xl).removeAttribute(Pa(this,Jl)),Wa(this,ec,t)}}Xl=new WeakMap,Jl=new WeakMap,Kl=new WeakMap,ec=new WeakMap;var ic,ac,sc,lc,cc,uc,dc=(e=>(e.node="node",e.attribute="attribute",e))(dc||{});function hc(e,t){return Reflect.set(t,zs,e),t}let fc=(uc=class{constructor(e,{name:t}){Ua(this,ic),Ua(this,ac),Ua(this,sc,null),Ua(this,lc,null),Ua(this,cc,null),Wa(this,ic,e),Wa(this,ac,Pl(t)[0])}commit(e){var t,n,r,o;const[,i]=Pa(this,ac),a=e[i];if(!(e=>as(e)&&Reflect.get(e,zs)===dc.attribute)(a))return;const[s,l]=a;if(Pa(this,sc)!==l)null==(t=Pa(this,cc))||t.call(this),Wa(this,lc,l({node:Pa(this,ic)})),Wa(this,sc,l),Wa(this,cc,null==(n=Pa(this,lc))?void 0:n.call(this,s));else{const e=null==(r=Pa(this,lc))?void 0:r.call(this,s);Pa(this,cc)!==e&&(null==(o=Pa(this,cc))||o.call(this),Wa(this,cc,e))}}destroy(){var e;null==(e=Pa(this,cc))||e.call(this)}},ic=new WeakMap,ac=new WeakMap,sc=new WeakMap,lc=new WeakMap,cc=new WeakMap,uc);var mc,pc,gc,yc,vc,bc,wc,xc,kc,Ic,$c;class Cc{constructor(e,{name:t,value:n}){Ua(this,mc),Ua(this,pc),Ua(this,gc,[]),Ua(this,yc,[]),Wa(this,mc,e),Wa(this,pc,t),Wa(this,gc,Pl(n??""))}commit(e){const t=Pa(this,gc).map((t=>{let[n,r]=t;return e[r]})).filter((e=>es(e)||(e=>as(e)&&es(e[0])&&(os(e[1])||Ka(e[1])||ss(e[1])))(e)));hl(Pa(this,yc),t)||(this.clear(),t.forEach((e=>es(e)?Pa(this,mc).addEventListener(Pa(this,pc),e):Pa(this,mc).addEventListener(Pa(this,pc),e[0],e[1]))),Wa(this,yc,t))}clear(){Pa(this,yc).forEach((e=>es(e)?Pa(this,mc).removeEventListener(Pa(this,pc),e):Pa(this,mc).removeEventListener(Pa(this,pc),e[0],e[1])))}destroy(){this.clear()}}mc=new WeakMap,pc=new WeakMap,gc=new WeakMap,yc=new WeakMap;class Tc{constructor(e,{name:t,value:n}){Ua(this,vc),Ua(this,bc),Ua(this,wc,[]),Ua(this,xc,[]),Wa(this,vc,e),Wa(this,bc,t),Wa(this,wc,Pl(n??""))}commit(e){const t=Pa(this,wc).map((t=>{let[n,r]=t;return e[r]}));if(hl(Pa(this,xc),t))return;const n=t[t.length-1];Reflect.set(Pa(this,vc),Pa(this,bc),n,Pa(this,vc)),Wa(this,xc,t)}}vc=new WeakMap,bc=new WeakMap,wc=new WeakMap,xc=new WeakMap;class Ac{constructor(e,{name:t}){Ua(this,kc),Ua(this,Ic),Ua(this,$c,null),Wa(this,kc,e),Wa(this,Ic,Pl(t)[0])}commit(e){const[,t]=Pa(this,Ic),n=e[t];!ss(n)||fl(Pa(this,$c),n)||(Object.keys(n).forEach((e=>Reflect.set(Pa(this,kc),e,n[e],Pa(this,kc)))),Wa(this,$c,n))}}kc=new WeakMap,Ic=new WeakMap,$c=new WeakMap;var Oc,Sc,Ec,Nc;class Mc{constructor(e,{value:t}){Ua(this,Oc),Ua(this,Sc),Ua(this,Ec,[]),Ua(this,Nc,[]),Wa(this,Oc,e),Wa(this,Sc,t),ns(t)&&Wa(this,Ec,Pl(t))}commit(e){const t=Pa(this,Ec).map((t=>{let[n,r]=t;return e[r]}));if(hl(Pa(this,Nc),t))return;Wa(this,Nc,t);const n=Pa(this,Nc).reduce(((e,t,n)=>e.replace(new RegExp(Pa(this,Ec)[n][0]),!ls(t)||is(t)||os(t)?"":String(t))),Pa(this,Sc)??"");Pa(this,Oc).data=n}}Oc=new WeakMap,Sc=new WeakMap,Ec=new WeakMap,Nc=new WeakMap;const Dc=Symbol("https://github.com/dineug/r-html.git#hostBridge");var Lc,jc,_c,zc;class Rc{constructor(e,{name:t,value:n}){Ua(this,Lc),Ua(this,jc),Ua(this,_c,[]),Ua(this,zc,[]),Wa(this,Lc,e),Wa(this,jc,t),Wa(this,_c,Pl(n??""))}commit(e){const t=Pa(this,_c).map((t=>{let[n,r]=t;return e[r]}));if(hl(Pa(this,zc),t))return;const n=t[t.length-1];Reflect.set(Pa(this,Lc),Pa(this,jc),n),Wa(this,zc,t)}}Lc=new WeakMap,jc=new WeakMap,_c=new WeakMap,zc=new WeakMap;var Vc,Bc,Pc,Uc,Wc,Fc=(e=>(e.create="create",e.move="move",e))(Fc||{});function Zc(e,t,n){const r=!(null==n||!n.strict),o={update:[],delete:[]},i=new Set,a=[],s=e.items,l=t.items;return s.forEach(((e,t)=>{const n=l.findIndex(((t,n)=>e.type===t.type&&e.key===t.key&&!i.has(n)));-1===n?r?o.delete.push({from:t}):a.push(e):(i.add(n),o.update.push({action:"move",from:t,to:n}))})),a.forEach((n=>{const r=e.itemToIndex.get(n),a=l.find(((e,t)=>n.type===e.type&&!i.has(t)));if(a){const e=t.itemToIndex.get(a);i.add(e),o.update.push({action:"move",from:r,to:e})}else o.delete.push({from:r})})),l.forEach(((e,n)=>{i.has(n)||o.update.push({action:"create",from:-1,to:t.itemToIndex.get(e)})})),o.update.sort(((e,t)=>e.to-t.to)),o}class Yc{constructor(e,t){Ua(this,Vc),Ua(this,Bc),Ua(this,Pc,[]),Wa(this,Vc,e),Wa(this,Bc,t)}commit(e){const t=Zc(function(e){const t=[],n=new Map;return e.forEach(((e,r)=>{let{type:o,value:i}=e;const a={type:o,key:o===yu.templateLiterals?i.strings:i};t.push(a),n.set(a,r)})),{items:t,itemToIndex:n}}(Pa(this,Pc)),function(e){const t=[],n=new Map;return e.forEach(((e,r)=>{const o=Au(e),i={type:o,key:o===yu.templateLiterals?e.strings:e};t.push(i),n.set(i,r)})),{items:t,itemToIndex:n}}(e)),n={length:e.length};t.update.forEach((t=>{let{action:r,from:o,to:i}=t;switch(r){case Fc.create:const t=document.createComment("");0===i?pl(t,Pa(this,Vc)):Pa(this,Pc).length?pl(t,n[i-1]?n[i-1].endNode:Pa(this,Pc)[i-1].endNode):ml(t,Pa(this,Bc)),n[i]=new Hc(t,e[i]);break;case Fc.move:if(n[i]=Pa(this,Pc)[o],i===o)return;0===i?Pa(this,Pc)[o].insert("after",Pa(this,Vc)):Pa(this,Pc)[o].insert("after",n[i-1]?n[i-1].endNode:Pa(this,Pc)[i-1].endNode)}})),t.delete.forEach((e=>{let{from:t}=e;return Pa(this,Pc)[t].destroy()})),Wa(this,Pc,Array.from(n)),Pa(this,Pc).forEach(((t,n)=>t.commit(e[n])))}destroy(){Pa(this,Pc).forEach((e=>e.destroy()))}}Vc=new WeakMap,Bc=new WeakMap,Pc=new WeakMap;let Hc=(Wc=class{constructor(e,t){Ua(this,Uc),Va(this,"startNode",document.createComment("")),Va(this,"endNode",document.createComment("")),Va(this,"type"),Va(this,"value"),ml(this.startNode,e),pl(this.endNode,e),gl(e),this.value=t,this.type=Au(t),Wa(this,Uc,Nu(this.type,this.startNode,this.endNode))}commit(e){Pa(this,Uc).commit(e),this.value=e}insert(e,t){const n=[this.startNode,...yl(this.startNode,this.endNode),this.endNode];"before"===e?n.forEach((e=>ml(e,t))):n.reverse().forEach((e=>pl(e,t)))}destroy(){var e,t;null==(t=(e=Pa(this,Uc)).destroy)||t.call(e),yl(this.startNode,this.endNode).forEach(gl),this.startNode.remove(),this.endNode.remove()}},Uc=new WeakMap,Wc);var qc,Gc,Qc,Xc,Jc,Kc,eu,tu,nu,ru,ou,iu,au,su,lu,cu,uu;class du{constructor(e,t){Ua(this,qc),Ua(this,Gc),Ua(this,Qc,null),Ua(this,Xc,null),Ua(this,Jc),Wa(this,qc,e),Wa(this,Gc,t)}commit(e){var t,n;if(!vu(e))return;const[r,o]=e;if(Pa(this,Qc)!==o)this.clear(),Wa(this,Xc,o({startNode:Pa(this,qc),endNode:Pa(this,Gc)})),Wa(this,Qc,o),Wa(this,Jc,null==(t=Pa(this,Xc))?void 0:t.call(this,r));else{const e=null==(n=Pa(this,Xc))?void 0:n.call(this,r);Pa(this,Jc)!==e&&(this.clear(),Wa(this,Jc,e))}}clear(){var e;null==(e=Pa(this,Jc))||e.call(this),yl(Pa(this,qc),Pa(this,Gc)).forEach(gl)}destroy(){this.clear()}}qc=new WeakMap,Gc=new WeakMap,Qc=new WeakMap,Xc=new WeakMap,Jc=new WeakMap;class hu{constructor(e,t){}commit(e){}}class fu{constructor(e,t){Ua(this,Kc),Ua(this,eu,null),Wa(this,Kc,t)}commit(e){Pa(this,eu)!==e&&(Pa(this,eu)&&gl(Pa(this,eu)),ml(e,Pa(this,Kc)),Wa(this,eu,e))}}Kc=new WeakMap,eu=new WeakMap;class mu{constructor(e,t){Ua(this,tu),Ua(this,nu),Ua(this,ru,null),Ua(this,ou,null),Ua(this,iu,vl),Wa(this,tu,e),Wa(this,nu,t)}commit(e){Pa(this,ru)!==e&&(this.clear(),(e=>e instanceof Promise)(e)&&this.promiseCommit(e))}promiseCommit(e){const[t,n]=function(e){let t=vl;const n=new Promise(((e,n)=>t=n));return[Promise.race([n,e]),()=>t()]}(e);Wa(this,iu,n),t.then((e=>{var t;const n=Au(e);Wa(this,ou,Nu(n,Pa(this,tu),Pa(this,nu))),null==(t=Pa(this,ou))||t.commit(e)})),Wa(this,ru,e)}partClear(){var e,t;null==(t=null==(e=Pa(this,ou))?void 0:e.destroy)||t.call(e),yl(Pa(this,tu),Pa(this,nu)).forEach(gl)}clear(){var e,t;Pa(this,iu).call(this),null==(t=null==(e=Pa(this,ou))?void 0:e.destroy)||t.call(e),yl(Pa(this,tu),Pa(this,nu)).forEach(gl),Wa(this,iu,vl)}destroy(){this.clear()}}tu=new WeakMap,nu=new WeakMap,ru=new WeakMap,ou=new WeakMap,iu=new WeakMap;class pu{constructor(e,t){Ua(this,au,document.createTextNode("")),Ua(this,su,null),pl(Pa(this,au),e)}commit(e){Pa(this,su)!==e&&(Pa(this,au).data=is(e)||os(e)?"":String(e),Wa(this,su,e))}}au=new WeakMap,su=new WeakMap;class gu{constructor(e,t){Ua(this,lu),Ua(this,cu),Ua(this,uu,null),Wa(this,lu,e),Wa(this,cu,t)}commit(e){const{strings:t,values:n}=e;Pa(this,uu)&&!Pa(this,uu).equalStrings(t)&&(Pa(this,uu).destroy(),Wa(this,uu,null)),Pa(this,uu)||(Wa(this,uu,new cd(e,Pa(this,lu),Pa(this,cu))),Pa(this,uu).insert("before",Pa(this,cu))),Pa(this,uu).commit(n)}destroy(){var e;null==(e=Pa(this,uu))||e.destroy()}}lu=new WeakMap,cu=new WeakMap,uu=new WeakMap;var yu=(e=>(e.primitive="primitive",e.templateLiterals="templateLiterals",e.array="array",e.node="node",e.object="object",e.function="function",e.directive="directive",e))(yu||{});const vu=e=>as(e)&&Reflect.get(e,zs)===dc.node,bu=e=>t=>t instanceof e,wu=bu(pu),xu=bu(gu),ku=bu(Yc),Iu=bu(fu),$u=bu(mu),Cu=bu(hu),Tu=bu(du),Au=e=>ls(e)?"primitive":Ol(e)?"templateLiterals":vu(e)?"directive":as(e)?"array":(e=>e instanceof Node)(e)?"node":es(e)?"function":"object",Ou={primitive:wu,templateLiterals:xu,array:ku,node:Iu,function:Cu,object:$u,directive:Tu},Su={primitive:pu,templateLiterals:gu,array:Yc,node:fu,function:hu,object:mu,directive:du},Eu=(e,t)=>Ou[e](t),Nu=(e,t,n)=>new Su[e](t,n);var Mu,Du,Lu,ju,_u,zu,Ru,Vu,Bu,Pu,Uu,Wu,Fu,Zu,Yu;class Hu{constructor(e,t,n,r){var o;Ua(this,Mu,document.createComment("")),Ua(this,Du,document.createComment("")),Ua(this,Lu),Ua(this,ju),Ua(this,_u,[]),Ua(this,zu,[]),Ua(this,Ru,null),Ua(this,Vu,il({},{shallow:!0})),Ua(this,Bu,null),Ua(this,Pu,null),Ua(this,Uu,document.createElement("div")),Wa(this,Mu,e),Wa(this,Du,t),Wa(this,ju,n),Wa(this,Lu,Pl(n.value)[0]),n.staticAttrs&&n.staticAttrs.forEach((e=>function(e,t){let{type:n,name:r,value:o}=t;switch(n){case Os.attribute:case Os.property:Reflect.set(e,r,o);break;case Os.boolean:Reflect.set(e,r,dl(o))}}(Pa(this,Vu),e))),null==(o=n.attrs)||o.forEach((e=>{e.type===Os.directive?Pa(this,_u).push(e):e.type===Os.spread?r.push(new Ac(Pa(this,Vu),e)):e.type===Os.event?r.push(new Cc(Pa(this,Uu),e)):r.push(new Rc(Pa(this,Vu),e))}))}createContext(){const e=Pa(this,Mu),t={host:document.body,get parentElement(){return e.parentElement},dispatchEvent:e=>Pa(this,Uu).dispatchEvent(e)},n=Pa(this,Mu).getRootNode();if(n instanceof ShadowRoot){const e=n.host;t.host=e}else if(n instanceof DocumentFragment){const e=function(e){return Reflect.get(e,Dc)??null}(n);e&&(t.host=e)}return t}commit(e){const[,t]=Pa(this,Lu),n=e[t];if(!es(n)||Pa(this,Bu)===n)return void Pa(this,zu).forEach((t=>t.commit(e)));const r=this.createContext();this.clear(),Bs(this);const o=n.call(r,Pa(this,Vu),r);Bs(null),Pa(this,_u).length&&Pa(this,zu).push(...Pa(this,_u).map((e=>new fc(r,e)))),Hs(this,Ss);let i=!1;Wa(this,Pu,nl((()=>{var e;const t=o(),n=Au(t);Eu(n,Pa(this,Ru))||(this.partClear(),Wa(this,Ru,Nu(n,Pa(this,Mu),Pa(this,Du)))),Hs(this,i?Ds:Ms),null==(e=Pa(this,Ru))||e.commit(t),i?Hs(this,js):(Hs(this,Ls),i=!0)}))),Pa(this,zu).forEach((t=>t.commit(e))),Hs(this,Es),Wa(this,Bu,n)}partClear(){var e,t;null==(t=null==(e=Pa(this,Ru))?void 0:e.destroy)||t.call(e),yl(Pa(this,Mu),Pa(this,Du)).forEach(gl)}clear(){var e;yl(Pa(this,Mu),Pa(this,Du)).forEach(gl),Hs(this,Ns),Pa(this,zu).forEach((e=>{var t;return null==(t=e.destroy)?void 0:t.call(e)})),null==(e=Pa(this,Pu))||e.call(this),Wa(this,zu,[]),Wa(this,Pu,null),function(e){_s.forEach((t=>Reflect.set(e,t,null,e)))}(this)}destroy(){this.clear(),this.partClear()}}Mu=new WeakMap,Du=new WeakMap,Lu=new WeakMap,ju=new WeakMap,_u=new WeakMap,zu=new WeakMap,Ru=new WeakMap,Vu=new WeakMap,Bu=new WeakMap,Pu=new WeakMap,Uu=new WeakMap;const qu=(Yu=class{constructor(e,t,n){Ua(this,Wu,document.createComment("")),Ua(this,Fu,document.createComment("")),Ua(this,Zu),Wa(this,Zu,new Hu(Pa(this,Wu),Pa(this,Fu),t,n)),ml(Pa(this,Wu),e),pl(Pa(this,Fu),e),e.remove()}commit(e){Pa(this,Zu).commit(e)}destroy(){var e,t;null==(t=(e=Pa(this,Zu)).destroy)||t.call(e),Pa(this,Wu).remove(),Pa(this,Fu).remove()}},Wu=new WeakMap,Fu=new WeakMap,Zu=new WeakMap,Yu),Gu=(e=>{var t,n,r;return r=class extends e{constructor(e,r,o){super(e,r,o),Ua(this,t,[]),Ua(this,n,null),this.hmr()}commit(e){const n=e;super.commit(n),Wa(this,t,e)}hmr(){Wa(this,n,qs.subscribe((e=>Pa(this,t).includes(e)&&this.commit(Pa(this,t)))))}destroy(){var e,t;null==(e=Pa(this,n))||e.call(this),null==(t=super.destroy)||t.call(this)}},t=new WeakMap,n=new WeakMap,r})(qu);var Qu,Xu,Ju,Ku,ed,td,nd,rd,od,id,ad;class sd{constructor(e,{value:t}){Ua(this,Qu,document.createComment("")),Ua(this,Xu,document.createComment("")),Ua(this,Ju),Ua(this,Ku,null),Ua(this,ed,null),Wa(this,Ju,Pl(t)[0]),ml(Pa(this,Qu),e),pl(Pa(this,Xu),e),e.remove()}commit(e){var t;const[,n]=Pa(this,Ju),r=e[n];if(Pa(this,Ku)===r)return;const o=Au(r);Eu(o,Pa(this,ed))||(is(Pa(this,ed))||this.clear(),Wa(this,ed,Nu(o,Pa(this,Qu),Pa(this,Xu)))),null==(t=Pa(this,ed))||t.commit(r),Wa(this,Ku,r)}clear(){var e,t;null==(t=null==(e=Pa(this,ed))?void 0:e.destroy)||t.call(e),yl(Pa(this,Qu),Pa(this,Xu)).forEach(gl)}destroy(){this.clear(),Pa(this,Qu).remove(),Pa(this,Xu).remove()}}function ld(){let e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((r=>{if(r.isComponent){const t=document.createComment("");return e.appendChild(t),void n.push(new Gu(t,r,n))}const o=function(e){let{type:t,value:n}=e,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t===cl.element?function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}(n,r):t===cl.text?document.createTextNode(n):document.createComment(n)}(r,r.isSvg||t);e.appendChild(o),o instanceof Comment&&r.isMarker&&n.push(new Mc(o,r)),o instanceof Text&&r.isMarkerOnly&&n.push(new sd(o,r)),o instanceof Element&&(r.staticAttrs&&r.staticAttrs.forEach((e=>function(e,t){let{type:n,name:r,value:o}=t;switch(n){case Os.attribute:e.setAttribute(r,o??"");break;case Os.boolean:dl(o)&&e.setAttribute(r,"");break;case Os.property:Reflect.set(e,r,o,e)}}(o,e))),r.attrs&&n.push(...r.attrs.map((e=>((e,t)=>t.type===Os.attribute?new tc(e,t):t.type===Os.boolean?new oc(e,t):t.type===Os.event?new Cc(e,t):t.type===Os.property?new Tc(e,t):t.type===Os.spread?new Ac(e,t):new fc(e,t))(o,e)))),r.children&&ld(r.children,o,r.isSvg||t,n))})),n}Qu=new WeakMap,Xu=new WeakMap,Ju=new WeakMap,Ku=new WeakMap,ed=new WeakMap;class cd{constructor(e,t,n){if(Ua(this,td,document.createComment("")),Ua(this,nd,document.createComment("")),Ua(this,rd,null),Ua(this,od,[]),Ua(this,id),Ua(this,ad,!1),Wa(this,id,e.strings),e[Rs]!==kl.html&&e[Rs]!==kl.svg)return;const[r,o]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=document.createDocumentFragment();return[n,ld(e.children,n,t)]}(e.template.node,(e=>Tl.has(e))(e[Rs]));Wa(this,rd,r),Wa(this,od,o),t&&n?(Wa(this,td,t),Wa(this,nd,n),Wa(this,ad,!0)):(r.prepend(Pa(this,td)),r.append(Pa(this,nd)))}equalStrings(e){return Pa(this,id)===e}commit(e){Pa(this,od).forEach((t=>t.commit(e)))}insert(e,t){Pa(this,rd)&&("before"===e?ml(Pa(this,rd),t):"after"===e?pl(Pa(this,rd),t):t.appendChild(Pa(this,rd)),Wa(this,rd,null))}destroy(){Pa(this,od).forEach((e=>{var t;return null==(t=e.destroy)?void 0:t.call(e)})),yl(Pa(this,td),Pa(this,nd)).forEach(gl),Pa(this,ad)||(Pa(this,td).remove(),Pa(this,nd).remove())}}td=new WeakMap,nd=new WeakMap,rd=new WeakMap,od=new WeakMap,id=new WeakMap,ad=new WeakMap;const ud=new WeakMap,dd=e=>({value:e}),hd=function(e,t){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return hc(dc.attribute,[e(...r),t])}}((e=>e),(e=>{let{node:t}=e,n=null;const r=()=>{n&&(n.value=null)};return e=>(n===e||(e.value=t,n=e),r)}));function fd(e,t){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return hc(dc.node,[e(...r),t])}}const md=fd((e=>e),(e=>{let{startNode:t,endNode:n}=e;const r=t.getRootNode();let o=new Map,i=null;const a=e=>Ol(e)?e.strings:e,s=e=>{const t=a(e);return o.has(t)?o.get(t):null},l=()=>{o.forEach((e=>{let{destroy:t}=e;return t()})),o=new Map,yl(t,n).forEach(gl)};return e=>{const c=s(i),u=s(e);if(c&&a(i)!==a(e)&&yl(t,n).forEach((e=>c.fragment.appendChild(e))),u)a(i)!==a(e)&&ml(u.fragment,n),u.part.commit(e);else{const i=(e=>{const o=Au(e),i=Nu(o,t,n),a=document.createDocumentFragment(),s=function(e,t){const n=e=>{const n=e;t.dispatchEvent(Ya(n.detail))},r=e=>{const n=e;t.dispatchEvent(Ha(n.detail))};return e.addEventListener(Ya.type,n),e.addEventListener(Ha.type,r),()=>{e.removeEventListener(Ya.type,n),e.removeEventListener(Ha.type,r)}}(a,r),l=function(e,t){if(t instanceof ShadowRoot){const n=t.host;Reflect.set(e,Dc,n)}return()=>{Reflect.deleteProperty(e,Dc)}}(a,r);return{part:i,fragment:a,destroy:()=>{var e;s(),l(),null==(e=i.destroy)||e.call(i)}}})(e);((e,t)=>{o.set(a(e),t)})(e,i),i.part.commit(e)}return i=e,l}})),pd=fd((e=>e),(e=>{let{startNode:t,endNode:n}=e,r=null;const o=()=>{yl(t,n).forEach(gl)};return e=>{if(r===e)return o;o();const t=document.createElement("template");return t.innerHTML=e,ml(t.content,n),r=e,o}})),gd=fd(((e,t,n)=>(e.length,[e,t,n])),(e=>{let{startNode:t,endNode:n}=e,r=[];const o=()=>{r.forEach((e=>e.destroy()))};return e=>{let[i,a,s]=e;const l=function(e,t,n){const r=[],o=new Map,i=[];return e.forEach(((e,a,s)=>{const l={key:t(e),value:n(e,a,s)},c={type:Au(l.value),key:l.key};i.push(l),r.push(c),o.set(c,a)})),{items:r,itemToIndex:o,values:i}}(i,a,s),c=l.values,u=Zc(function(e){const t=[],n=new Map;return e.forEach(((e,r)=>{let{type:o,key:i}=e;const a={type:o,key:i};t.push(a),n.set(a,r)})),{items:t,itemToIndex:n}}(r),l,{strict:!0}),d={length:c.length};return u.update.forEach((e=>{let{action:o,from:i,to:a}=e;switch(o){case Fc.create:const e=document.createComment("");0===a?pl(e,t):r.length?pl(e,d[a-1]?d[a-1].endNode:r[a-1].endNode):ml(e,n),d[a]=new vd(e,c[a].value,c[a].key);break;case Fc.move:if(d[a]=r[i],a===i)return;0===a?r[i].insert("after",t):r[i].insert("after",d[a-1]?d[a-1].endNode:r[a-1].endNode)}})),u.delete.forEach((e=>{let{from:t}=e;return r[t].destroy()})),r=Array.from(d),r.forEach(((e,t)=>e.commit(c[t].value))),o}}));var yd;class vd{constructor(e,t,n){Ua(this,yd),Va(this,"startNode",document.createComment("")),Va(this,"endNode",document.createComment("")),Va(this,"type"),Va(this,"key"),ml(this.startNode,e),pl(this.endNode,e),gl(e),this.key=n,this.type=Au(t),Wa(this,yd,Nu(this.type,this.startNode,this.endNode))}commit(e){Pa(this,yd).commit(e)}insert(e,t){const n=[this.startNode,...yl(this.startNode,this.endNode),this.endNode];"before"===e?n.forEach((e=>ml(e,t))):n.reverse().forEach((e=>pl(e,t)))}destroy(){var e,t;null==(t=(e=Pa(this,yd)).destroy)||t.call(e),yl(this.startNode,this.endNode).forEach(gl),this.startNode.remove(),this.endNode.remove()}}yd=new WeakMap;var bd=(e=>(e.string="string",e.whiteSpace="whiteSpace",e.nextLine="nextLine",e.equal="equal",e.tilde="tilde",e.plus="plus",e.sharp="sharp",e.asterisk="asterisk",e.commercialAt="commercialAt",e.ampersand="ampersand",e.period="period",e.comma="comma",e.colon="colon",e.semicolon="semicolon",e.gt="gt",e.leftBrace="leftBrace",e.rightBrace="rightBrace",e.leftBracket="leftBracket",e.rightBracket="rightBracket",e.leftParent="leftParent",e.rightParent="rightParent",e))(bd||{});const wd="'",xd=/\s/,kd=/\S/,Id=/:|;|{|&|#|@|,|>|~|\(|\)|\[|\.|\+/,$d="\n",Cd="/",Td="=",Ad="~",Od="+",Sd="#",Ed="*",Nd="@",Md="&",Dd=".",Ld=",",jd=":",_d=";",zd=">",Rd="{",Vd="}",Bd="[",Pd="]",Ud="(",Wd=")",Fd=e=>t=>e===t,Zd=e=>t=>e.test(t),Yd={doubleQuote:Fd('"'),singleQuote:Fd(wd),whiteSpace:Zd(xd),string:Zd(kd),breakString:Zd(Id),nextLine:Fd($d),slash:Fd(Cd),equal:Fd(Td),tilde:Fd(Ad),plus:Fd(Od),sharp:Fd(Sd),asterisk:Fd(Ed),commercialAt:Fd(Nd),ampersand:Fd(Md),period:Fd(Dd),comma:Fd(Ld),colon:Fd(jd),semicolon:Fd(_d),gt:Fd(zd),leftBrace:Fd(Rd),rightBrace:Fd(Vd),leftBracket:Fd(Bd),rightBracket:Fd(Pd),leftParent:Fd(Ud),rightParent:Fd(Wd)};const Hd=new RegExp(`^${Is.replace("@@","")}_\\d+_$`),qd=e=>t=>n=>r=>!!n[r]&&n[r][e]===t,Gd=qd("type"),Qd=qd("value"),Xd=Gd(bd.string),Jd=Gd(bd.whiteSpace),Kd=Gd(bd.nextLine);Gd(bd.equal),Gd(bd.tilde),Gd(bd.plus);const eh=Gd(bd.sharp),th=Gd(bd.asterisk),nh=Gd(bd.commercialAt),rh=Gd(bd.ampersand),oh=Gd(bd.period);Gd(bd.comma);const ih=Gd(bd.colon),ah=Gd(bd.semicolon);Gd(bd.gt);const sh=Gd(bd.leftBrace),lh=Gd(bd.rightBrace);Gd(bd.leftBracket),Gd(bd.rightBracket),Gd(bd.leftParent),Gd(bd.rightParent);const ch=Qd("/*"),uh=Qd("*/"),dh=Qd("//"),hh=Kd,fh=e=>{const t=nh(e),n=Xd(e);return e=>t(e)&&n(e+1)},mh=Xd,ph=th,gh=e=>{const t=(e=>{const t=mh(e),n=ph(e),r=rh(e),o=(e=>{const t=nh(e),n=Xd(e);return r=>t(r)&&t(r+1)&&n(r+2)&&Hd.test(e[r+2].value)})(e);return e=>t(e)||n(e)||r(e)||o(e)})(e),n=(e=>{const t=oh(e),n=Xd(e);return e=>t(e)&&n(e+1)})(e),r=(e=>{const t=eh(e),n=Xd(e);return e=>t(e)&&n(e+1)})(e),o=fh(e),i=(e=>{const t=ih(e),n=Xd(e);return e=>t(e)&&n(e+1)})(e);return e=>t(e)||n(e)||r(e)||o(e)||i(e)},yh=e=>t=>n=>{var r;n&&(t[e]?null==(r=t[e])||r.push(n):t[e]=[n])},vh=yh("properties"),bh=yh("children");var wh=(e=>(e.style="style",e.comment="comment",e.atRule="atRule",e))(wh||{});class xh{constructor(e={}){Va(this,"type","comment"),Va(this,"value"),Va(this,"properties"),Va(this,"parent",null),Va(this,"children"),Object.assign(this,e)}*iterParent(){yield this,this.parent&&(yield*this.parent.iterParent())}*[Symbol.iterator](){if(yield this,this.children)for(const e of this.children)yield*e}}var kh=(e=>(e.string="string",e.whiteSpace="whiteSpace",e.lt="lt",e.gt="gt",e.slash="slash",e.equal="equal",e))(kh||{});const Ih=e=>t=>e===t,$h=e=>t=>e.test(t),Ch={doubleQuote:Ih('"'),singleQuote:Ih("'"),whiteSpace:$h(/\s/),string:$h(/\S/),breakString:$h(/<|>|=/),lt:Ih("<"),gt:Ih(">"),slash:Ih("/"),equal:Ih("="),hyphen:Ih("-"),exclamationPoint:Ih("!")};const Th=/^(area|base|br|col|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,Ah=e=>t=>n=>r=>!!n[r]&&n[r][e]===t,Oh=Ah("type"),Sh=Ah("value"),Eh=Oh(kh.lt),Nh=Oh(kh.gt),Mh=Oh(kh.slash),Dh=Oh(kh.equal),Lh=Oh(kh.string),jh=Oh(kh.whiteSpace),_h=Sh("!--"),zh=Sh("--"),Rh=e=>t=>n=>{var r;n&&(t[e]?null==(r=t[e])||r.push(n):t[e]=[n])},Vh=Rh("attrs"),Bh=Rh("children");class Ph{constructor(e,t=null){if(Va(this,"type",cl.comment),Va(this,"value",""),Va(this,"staticAttrs"),Va(this,"attrs"),Va(this,"parent",null),Va(this,"children"),this.type=e.type,this.value=e.value,this.parent=t,e.attrs){const[t,n]=function(){const e=((e,t)=>e.reduce(((e,n)=>{const r=e[t(n)];return r?r.push(n):e[t(n)]=[n],e}),{}))(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],(e=>Bl(e.name)));return Object.keys(e).map((t=>e[t])).reduce(((e,t)=>{const[n,r]=e,o=t[t.length-1],i=Vl(o.name);if(i===Os.event)r.push(...t.filter((e=>!!e.value)).map((e=>({type:Vl(e.name),name:Bl(e.name),value:e.value}))));else if(i===Os.attribute){const e=t.filter((e=>!!e.value)).map((e=>e.value)).join(" "),a={type:i,name:Bl(o.name)};e&&(a.value=e),Rl(a)?r.push(a):n.push(a)}else{const e={type:i,name:Bl(o.name)};o.value&&(e.value=o.value),Rl(e)?r.push(e):n.push(e)}return e}),[[],[]])}(e.attrs);t.length&&(this.staticAttrs=t),n.length&&(this.attrs=n)}e.children&&(this.children=e.children.map((e=>new Ph(e,this))))}get isMarker(){return _l(this.value)}get isMarkerOnly(){return zl(this.value)}get isSvg(){return this.type===cl.element&&/^svg$/i.test(this.value)}get isComponent(){return this.type===cl.element&&this.isMarkerOnly}insert(e,t,n){if(this.children){const r="before"===e?0:1;this.children.includes(n)&&this.children.splice(this.children.indexOf(n)+r,0,t)}else this.children=[t]}*iterParent(){yield this,this.parent&&(yield*this.parent.iterParent())}*[Symbol.iterator](){if(yield this,this.children)for(const e of this.children)yield*e}}function Uh(e){const t=Pl(e.value);e.value.replace(Cs,Is).split(Is).reduce(((n,r,o)=>(o<t.length?n.push(new Ph(new ul({type:cl.text,value:r}),e.parent),new Ph(new ul({type:cl.text,value:t[o][0]}),e.parent)):n.push(new Ph(new ul({type:cl.text,value:r}),e.parent)),n)),[]).filter((e=>""!==e.value&&!(!e.value.trim()&&As.test(e.value)))).reverse().forEach(((t,n,r)=>{let{length:o}=r;return n===o-1?e.value=t.value:e.parent&&e.parent.insert("after",t,e)}))}const Wh=e=>function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const i={strings:t,values:r,[Rs]:e};if($l.has(t)){const e=$l.get(t);return i.template=e,i}const a=t.reduce(((e,t,n)=>(n<r.length?e.push(t,Al(n)):e.push(t),e)),[]).join(""),s=function(e){const t=new Ph(e);for(const e of t)e.type===cl.text&&!zl(e.value)&&Uh(e);return t}((e=>function(e){const t=new ul({type:cl.element,value:"template",children:[]});let n=0;const r=()=>n<e.length,o=(e=>{const t=Eh(e),n=Lh(e);return e=>t(e)&&n(e+1)})(e),i=(e=>{const t=Eh(e),n=Mh(e),r=Lh(e),o=Nh(e);return e=>t(e)&&n(e+1)&&r(e+2)&&o(e+3)})(e),a=(e=>{const t=Eh(e),n=Mh(e),r=Nh(e);return e=>t(e)&&n(e+1)&&n(e+2)&&r(e+3)})(e),s=(e=>{const t=Mh(e),n=Nh(e);return e=>t(e)&&n(e+1)})(e),l=(e=>{const t=Eh(e),n=Lh(e),r=_h(e);return e=>t(e)&&n(e+1)&&r(e+1)})(e),c=(e=>{const t=Lh(e),n=zh(e),r=Nh(e);return e=>t(e)&&n(e)&&r(e+1)})(e),u=Eh(e),d=Nh(e),h=Dh(e),f=jh(e),m=Lh(e),p=()=>{let t=e[n];const r={name:t.value};return t=e[++n],h(n)&&(t=e[++n],m(n)&&(r.value=t.value,n++)),r},g=t=>{let h=e[n];if(f(n)||m(n)){let o=h.value;for(h=e[++n];r()&&!u(n);)o+=h.value,h=e[++n];return o=o.trim(),o.length?new ul({parent:t,type:cl.text,value:o}):null}if(l(n)){let o="";for(n+=2,h=e[n];r()&&!c(n);)o+=h.value,h=e[++n];return c(n)&&(n+=2),new ul({parent:t,type:cl.comment,value:o})}if(o(n)){h=e[++n];const o=(e=>Th.test(e))(h.value),l=new ul({parent:t,type:cl.element,value:h.value.toLowerCase()});for(n++;r()&&!d(n)&&!s(n);)m(n)?Vh(l)(p()):n++;if(s(n))return n+=2,l;for(h=e[++n];r()&&!i(n)&&!a(n)&&!o;)Bh(l)(g(l));return(i(n)||a(n))&&(n+=4),l}return n++,null};for(;r();)Bh(t)(g(t));return t}(function(e){const t=[];let n=0;const r=()=>n<e.length,o=(e=>t=>Ch.lt(e[t])&&Ch.exclamationPoint(e[t+1])&&Ch.hyphen(e[t+2])&&Ch.hyphen(e[t+3]))(e),i=function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"text";for(;r();){let s=e[n];if(Ch.whiteSpace(s)){let o="";for(;r()&&Ch.whiteSpace(s);)o+=s,s=e[++n];"element"!==a&&t.push({type:"whiteSpace",value:o})}else{if("element"===a){if(Ch.lt(s)){t.push({type:"lt",value:s}),n++;continue}if(Ch.gt(s)){t.push({type:"gt",value:s}),n++;break}if(Ch.slash(s)){t.push({type:"slash",value:s}),n++;continue}if(Ch.equal(s)){t.push({type:"equal",value:s}),n++;continue}if(Ch.doubleQuote(s)){let o="";for(s=e[++n];r()&&!Ch.doubleQuote(s);)o+=s,s=e[++n];t.push({type:"string",value:o}),n++;continue}if(Ch.singleQuote(s)){let o="";for(s=e[++n];r()&&!Ch.singleQuote(s);)o+=s,s=e[++n];t.push({type:"string",value:o}),n++;continue}}else if("comment"===a){if(Ch.lt(s)){t.push({type:"lt",value:s}),n++;continue}if(Ch.gt(s)){t.push({type:"gt",value:s}),n++;break}}else if(Ch.lt(s)){i(o(n)?"comment":"element");continue}if(Ch.string(s)){let o="";for(;r()&&Ch.string(s)&&!Ch.breakString(s);)o+=s,s=e[++n];t.push({type:"string",value:o})}else n++}}};return i(),t}(e)))(a));return i.template=Object.freeze({node:s}),$l.set(t,i.template),i},Fh=Wh(kl.html),Zh=Wh(kl.svg),Yh=e=>!ls(e)||is(e)||os(e)?Sl(e)?`.${String(e)}`:"":String(e),Hh=e=>(t,n)=>{let[r,o]=n;return t.replace(new RegExp(r),Yh(e[o]))};class qh{constructor(e,t=null,n){var r;if(Va(this,"type",wh.comment),Va(this,"value"),Va(this,"style",""),Va(this,"parent",null),Va(this,"children"),Va(this,"skipParent",!1),this.type=e.type,this.value=e.value,this.parent=t,e.value&&e.isMarker){const t=Hh(n),r=Pl(e.value).reduce(t,e.value);this.value=r}this.value&&e.isThis&&this.parent&&(this.value=this.value.replace(/\&/,null==(r=this.parent)?void 0:r.toString(!0)),this.skipParent=!0),this.value&&e.isAtRule&&this.parent&&(this.skipParent=!0);const[o,i]=Jh(e,n);if(e.children&&i.push(...e.children.map((e=>[e,n]))),this.style=o,this.children=i.filter((e=>{let[t]=e;return t.type===wh.style||t.type===wh.atRule})).map((e=>{let[t,n]=e;return new qh(t,this,n)})),this.value&&e.isAtRule&&this.parent&&e.children){let e="";for(const t of this.children)t.value&&(e+=`${t.value} {\n${t.style}}\n`);this.style=e}}get selector(){return[...this.iterParent()].reverse().map((e=>e.toString(!0))).join(" ")}get isAtRule(){return this.type===wh.atRule}toString(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.value?this.value:e?`.${Qh(this.style)}`:Qh(this.style)}*iterParent(){if(yield this,this.parent)if(this.skipParent){if(!this.parent.parent)return;yield*this.parent.parent.iterParent()}else yield*this.parent.iterParent()}*[Symbol.iterator](){if(yield this,this.children)for(const e of this.children)e.isAtRule?yield e:yield*e}}const Gh=new Map;function Qh(e){if(Gh.has(e))return Gh.get(e);const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="_";for(let n=0;n<e;n++)t+=Ul.charAt(Wl(0,38));return t}();return Gh.set(e,t),t}const Xh=(e,t)=>`${e}: ${t};\n`;function Jh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["",[]];var r;const o=Hh(t);return null==(r=e.properties)||r.forEach((e=>{if(e.isDynamic){const r=Pl(e.name),o=t[r[0][1]];Sl(o)?(o.template.node.children&&n[1].push(...o.template.node.children.map((e=>[e,o.values]))),Jh(o.template.node,o.values,n)):n[0]+=Yh(o)}else if(e.isMarkerName&&e.isMarkerValue){const t=Pl(e.name),r=Pl(e.value),i=t.reduce(o,e.name),a=r.reduce(o,e.value);n[0]+=Xh(i,a)}else if(e.isMarkerName){const t=Pl(e.name).reduce(o,e.name);n[0]+=Xh(t,e.value)}else if(e.isMarkerValue){const t=Pl(e.value).reduce(o,e.value);n[0]+=Xh(e.name,t)}else n[0]+=Xh(e.name,e.value)})),n}const Kh={vCSSStyleSheetMap:new Map,hostContextMap:new Map};let ef=globalThis.ShadowRoot&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype;function tf(){return Kh}function nf(e,t){const n=tf(),r=new qh(e,null,t);return[...r].forEach((e=>{const t=e.selector;if(n.vCSSStyleSheetMap.has(t))return;const r=ef?new CSSStyleSheet:null,o=ef?null:document.createElement("style"),i=e.isAtRule&&!e.style?`${t}`:`${t} {\n${e.style}}`;r?r.replaceSync(i):o&&(o.textContent=i),n.vCSSStyleSheetMap.set(t,{selector:t,cssText:i,style:e.style,sheet:r,styleElement:o}),rf()})),String(r)}function rf(){ef?function(){const e=tf(),t=Array.from(e.vCSSStyleSheetMap).map((e=>{let[,{sheet:t}]=e;return t})).filter(Boolean);Array.from(e.hostContextMap).forEach((e=>{let[n]=e;n.adoptedStyleSheets=t}))}():function(){const e=tf();Array.from(e.hostContextMap).forEach((t=>{let[n,{vSheets:r,styleElements:o}]=t;Array.from(e.vCSSStyleSheetMap).filter((e=>{let[,t]=e;return!r.has(t)})).map((e=>{let[,t]=e;return r.add(t),t.styleElement?document.importNode(t.styleElement,!0):null})).filter(Boolean).forEach((e=>{n.appendChild(e),o.add(e)}))}))}()}const of=Symbol.for("https://github.com/dineug/r-html#props");function af(e){function t(t){return{type:e,payload:t}}return t.toString=()=>`${e}`,t.type=e,t}function*sf(e,t,n){for(const r of n)null!=r&&r[Symbol.iterator]?yield*sf(e,t,r):es(r)?yield*sf(e,t,r(e,t)):yield r}const lf=(e,t,n)=>[...sf(e,t,n)],cf=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.reduce(((e,t)=>t(e)),e)},uf=function*(e){for(const t of e)t.length&&(yield t)};class df{constructor(e){Va(this,"name"),Va(this,"value"),this.name=e.name,this.value=e.value}get isMarkerName(){return _l(this.name)}get isMarkerValue(){return _l(this.value)}get isDynamic(){return zl(this.name)&&this.name===this.value}}class hf{constructor(e,t=null){Va(this,"type",wh.comment),Va(this,"value"),Va(this,"properties"),Va(this,"parent",null),Va(this,"children"),this.type=e.type,this.value=e.value,this.parent=t,e.properties&&(this.properties=e.properties.map((e=>new df(e)))),e.children&&(this.children=e.children.map((e=>new hf(e,this))))}get isMarker(){return _l(this.value)}get isThis(){var e;return!(null==(e=this.value)||!e.startsWith("&"))}get isAtRule(){return this.type===wh.atRule}*iterParent(){yield this,this.parent&&(yield*this.parent.iterParent())}*[Symbol.iterator](){if(yield this,this.children)for(const e of this.children)yield*e}}const ff=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o={strings:e,values:n,[Rs]:kl.css};if(Cl.has(e)){const t=Cl.get(e),r=nf(t.node,n);return o.template=t,o.toString=()=>r,o}const i=e.raw.reduce(((e,t,r)=>(r<n.length?e.push(t,Al(r)):e.push(t),e)),[]).join(""),a=function(e){return new hf(e)}((e=>function(e){let t=0;const n=()=>t<e.length,r=(e=>{const t=Xd(e),n=ih(e),r=Jd(e),o=ah(e);return e=>t(e)&&n(e+1)&&r(e+2)&&t(e+3)&&o(e+4)})(e),o=(e=>{const t=nh(e),n=Xd(e),r=ah(e),o=Kd(e);return i=>t(i)&&t(i+1)&&n(i+2)&&Hd.test(e[i+2].value)&&(o(i+3)||r(i+3))})(e),i=gh(e),a=sh(e),s=lh(e),l=ch(e),c=uh(e),u=dh(e),d=hh(e),h=fh(e),f=ah(e),m=function(p,g){let y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wh.style;const v=new xh({type:y,parent:p,value:g});for(;n();){let p=e[t];if(s(t)){t++;break}if(r(t)){const n=e[t+3];vh(v)({name:p.value,value:n.value}),t+=5}else if(o(t)){const n=`@@${e[t+2].value}`;vh(v)({name:n,value:n}),t+=4}else if(l(t)){let r=p.value;for(p=e[++t];n()&&!c(t);)r+=p.value,p=e[++t];r+=p.value,bh(v)(new xh({type:wh.comment,parent:v,value:r})),t++}else if(u(t)){let r=p.value;for(p=e[++t];n()&&!d(t);)r+=p.value,p=e[++t];bh(v)(new xh({type:wh.comment,parent:v,value:r})),t++}else if(h(t)){let r=p.value;for(p=e[++t];n()&&!a(t)&&!f(t);)r+=p.value,p=e[++t];if(f(t)){r+=";",bh(v)(new xh({type:wh.atRule,parent:v,value:r})),t++;continue}bh(v)(m(v,r.trim(),wh.atRule))}else if(i(t)){let r=p.value;for(p=e[++t];n()&&!a(t);)r+=p.value,p=e[++t];bh(v)(m(v,r.trim()))}else t++}return v};return m(null)}(function(e){const t=[];let n=0;const r=()=>n<e.length,o=(e=>t=>Yd.slash(e[t])&&Yd.asterisk(e[t+1]))(e),i=(e=>t=>Yd.asterisk(e[t])&&Yd.slash(e[t+1]))(e),a=(e=>t=>Yd.slash(e[t])&&Yd.slash(e[t+1]))(e),s=function(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"style";for(;r();){let c=e[n];if(Yd.nextLine(c)){if(t.push({type:"nextLine",value:c}),n++,"singleComment"===l)break}else if(Yd.whiteSpace(c)){let o="";for(;r()&&Yd.whiteSpace(c)&&!Yd.nextLine(c);)o+=c,c=e[++n];t.push({type:"whiteSpace",value:o})}else{if("style"===l){if(o(n)){s("multiComment");continue}if(a(n)){s("singleComment");continue}if(Yd.colon(c)){t.push({type:"colon",value:c});let o="";if(c=e[++n],!Yd.whiteSpace(c))continue;for(o="";r()&&Yd.whiteSpace(c);)o+=c,c=e[++n];for(t.push({type:"whiteSpace",value:o}),o="";r()&&!Yd.semicolon(c);)o+=c,c=e[++n];t.push({type:"string",value:o});continue}if(Yd.leftBracket(c)){t.push({type:"leftBracket",value:c});let o="";for(c=e[++n];r()&&!Yd.equal(c)&&!Yd.rightBracket(c);)o+=c,c=e[++n];if(t.push({type:"string",value:o}),Yd.equal(c)&&(t.push({type:"equal",value:c}),c=e[++n]),Yd.doubleQuote(c)){let o="";for(c=e[++n];r()&&!Yd.doubleQuote(c);)o+=c,c=e[++n];t.push({type:"string",value:o}),c=e[++n]}if(Yd.singleQuote(c)){let o="";for(c=e[++n];r()&&!Yd.singleQuote(c);)o+=c,c=e[++n];t.push({type:"string",value:o}),c=e[++n]}Yd.rightBracket(c)&&(t.push({type:"rightBracket",value:c}),n++);continue}if(Yd.commercialAt(c)){t.push({type:"commercialAt",value:c}),n++;continue}if(Yd.gt(c)){t.push({type:"gt",value:c}),n++;continue}if(Yd.tilde(c)){t.push({type:"tilde",value:c}),n++;continue}if(Yd.plus(c)){t.push({type:"plus",value:c}),n++;continue}if(Yd.sharp(c)){t.push({type:"sharp",value:c}),n++;continue}if(Yd.asterisk(c)){t.push({type:"asterisk",value:c}),n++;continue}if(Yd.ampersand(c)){t.push({type:"ampersand",value:c}),n++;continue}if(Yd.period(c)){t.push({type:"period",value:c}),n++;continue}if(Yd.comma(c)){t.push({type:"comma",value:c}),n++;continue}if(Yd.semicolon(c)){t.push({type:"semicolon",value:c}),n++;continue}if(Yd.leftBrace(c)){t.push({type:"leftBrace",value:c}),n++;continue}if(Yd.rightBrace(c)){t.push({type:"rightBrace",value:c}),n++;continue}if(Yd.leftParent(c)){let o="";for(;r()&&!Yd.rightParent(c);)o+=c,c=e[++n];o+=c,t.push({type:"string",value:o}),n++;continue}}else if("multiComment"===l){if(i(n)){t.push({type:"string",value:"*/"}),n+=2;break}}else if("singleComment"===l&&Yd.nextLine(c)){t.push({type:"nextLine",value:c}),n++;break}if(Yd.string(c)){let o="";for(;r()&&Yd.string(c)&&!Yd.breakString(c);)o+=c,c=e[++n];t.push({type:"string",value:o})}else n++}}};return s(),t}(e)))(i)),s=nf(a,n);return o.template=Object.freeze({node:a}),o.toString=()=>s,Cl.set(e,o.template),o};var mf=function(e,t){return mf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},mf(e,t)};function pf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}mf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function gf(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}function yf(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function vf(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function bf(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)(r||!(o in t))&&(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function wf(e){return this instanceof wf?(this.v=e,this):new wf(e)}function xf(e){return"function"==typeof e}function kf(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var If=kf((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function $f(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Cf=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var a=yf(i),s=a.next();!s.done;s=a.next())s.value.remove(this)}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else i.remove(this);var l=this.initialTeardown;if(xf(l))try{l()}catch(e){o=e instanceof If?e.errors:[e]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var u=yf(c),d=u.next();!d.done;d=u.next()){var h=d.value;try{Of(h)}catch(e){o=o??[],e instanceof If?o=bf(bf([],vf(o)),vf(e.errors)):o.push(e)}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}if(o)throw new If(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Of(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&$f(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&$f(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e;var t}(),Tf=Cf.EMPTY;function Af(e){return e instanceof Cf||e&&"closed"in e&&xf(e.remove)&&xf(e.add)&&xf(e.unsubscribe)}function Of(e){xf(e)?e():e.unsubscribe()}var Sf={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,bf([e,t],vf(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function Ef(e){Sf.setTimeout((function(){throw e}))}function Nf(){}function Mf(e){e()}var Df=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Af(t)&&t.add(n)):n.destination=zf,n}return pf(t,e),t.create=function(e,t,n){return new jf(e,t,n)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Cf),Lf=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){_f(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){_f(e)}else _f(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){_f(e)}},e}(),jf=function(e){function t(t,n,r){var o,i=e.call(this)||this;return o=xf(t)||!t?{next:t??void 0,error:n??void 0,complete:r??void 0}:t,i.destination=new Lf(o),i}return pf(t,e),t}(Df);function _f(e){Ef(e)}var zf={closed:!0,next:Nf,error:function(e){throw e},complete:Nf},Rf="function"==typeof Symbol&&Symbol.observable||"@@observable";function Vf(e){return e}var Bf=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this,o=function(e){return e&&e instanceof Df||function(e){return e&&xf(e.next)&&xf(e.error)&&xf(e.complete)}(e)&&Af(e)}(e)?e:new jf(e,t,n);return Mf((function(){var e=r,t=e.operator,n=e.source;o.add(t?t.call(o,n):n?r._subscribe(o):r._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=Pf(t))((function(t,r){var o=new jf({next:function(t){try{e(t)}catch(e){r(e),o.unsubscribe()}},error:r,complete:t});n.subscribe(o)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[Rf]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(e){return 0===e.length?Vf:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=Pf(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function Pf(e){var t;return null!==(t=e??undefined)&&void 0!==t?t:Promise}function Uf(e){return function(t){if(function(e){return xf(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function Wf(e,t,n,r,o){return new Ff(e,t,n,r,o)}var Ff=function(e){function t(t,n,r,o,i,a){var s=e.call(this,t)||this;return s.onFinalize=i,s.shouldUnsubscribe=a,s._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return pf(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(Df),Zf=kf((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),Yf=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return pf(t,e),t.prototype.lift=function(e){var t=new Hf(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new Zf},t.prototype.next=function(e){var t=this;Mf((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var o=yf(t.currentObservers),i=o.next();!i.done;i=o.next())i.value.next(e)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;Mf((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;Mf((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,o=n.isStopped,i=n.observers;return r||o?Tf:(this.currentObservers=null,i.push(e),new Cf((function(){t.currentObservers=null,$f(i,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,o=t.isStopped;n?e.error(r):o&&e.complete()},t.prototype.asObservable=function(){var e=new Bf;return e.source=this,e},t.create=function(e,t){return new Hf(e,t)},t}(Bf),Hf=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return pf(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:Tf},t}(Yf),qf=function(){return Date.now()},Gf=function(e){function t(t,n){return e.call(this)||this}return pf(t,e),t.prototype.schedule=function(e,t){return this},t}(Cf),Qf=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return pf(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,bf([e,t],vf(n)))}(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&function(e){clearInterval(e)}(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,$f(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Gf),Xf=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=qf,e}(),Jf=function(e){function t(t,n){void 0===n&&(n=Xf.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return pf(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(Xf),Kf=new Jf(Qf),em=Kf;function tm(e){return e&&xf(e.schedule)}var nm=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function rm(e){return xf(null==e?void 0:e.then)}function om(e){return xf(e[Rf])}function im(e){return Symbol.asyncIterator&&xf(null==e?void 0:e[Symbol.asyncIterator])}function am(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var sm="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function lm(e){return xf(null==e?void 0:e[sm])}function cm(e){return function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",(function(e){return function(t){return Promise.resolve(t).then(e,c)}})),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))},t&&(r[e]=t(r[e])))}function s(e,t){try{!function(e){e.value instanceof wf?Promise.resolve(e.value.v).then(l,c):u(i[0][2],e)}(o[e](t))}catch(e){u(i[0][3],e)}}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}(this,arguments,(function(){var t,n,r;return gf(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,wf(t.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,wf(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,wf(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function um(e){return xf(null==e?void 0:e.getReader)}function dm(e){if(e instanceof Bf)return e;if(null!=e){if(om(e))return function(e){return new Bf((function(t){var n=e[Rf]();if(xf(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}(e);if(nm(e))return function(e){return new Bf((function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()}))}(e);if(rm(e))return function(e){return new Bf((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,Ef)}))}(e);if(im(e))return hm(e);if(lm(e))return function(e){return new Bf((function(t){var n,r;try{for(var o=yf(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(t.next(a),t.closed)return}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()}))}(e);if(um(e))return function(e){return hm(cm(e))}(e)}throw am(e)}function hm(e){return new Bf((function(t){(function(e,t){var n,r,o,i;return function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}l((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var a,s;return gf(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=yf(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}(e),l.label=1;case 1:return[4,n.next()];case 2:if((r=l.sent()).done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),o={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function fm(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=t.schedule((function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(i),!o)return i}function mm(e,t){return Uf((function(n,r){var o=0;n.subscribe(Wf(r,(function(n){r.next(e.call(t,n,o++))})))}))}function pm(e,t,n){return void 0===n&&(n=1/0),xf(t)?pm((function(n,r){return mm((function(e,o){return t(n,e,r,o)}))(dm(e(n,r)))}),n):("number"==typeof t&&(n=t),Uf((function(t,r){return function(e,t,n,r,o,i,a,s){var l=[],c=0,u=0,d=!1,h=function(){d&&!l.length&&!c&&t.complete()},f=function(e){c++;var o=!1;dm(n(e,u++)).subscribe(Wf(t,(function(e){t.next(e)}),(function(){o=!0}),void 0,(function(){if(o)try{c--;for(;l.length&&c<r;)e=void 0,e=l.shift(),f(e);h()}catch(e){t.error(e)}var e})))};return e.subscribe(Wf(t,(function(e){return c<r?f(e):l.push(e)}),(function(){d=!0,h()}))),function(){}}(t,r,e,n)})))}function gm(e,t){return Uf((function(n,r){var o=0;n.subscribe(Wf(r,(function(n){return e.call(t,n,o++)&&r.next(n)})))}))}function ym(e){return Uf((function(t,n){var r=[];return t.subscribe(Wf(n,(function(e){return r.push(e)}),(function(){n.next(r),n.complete()}))),dm(e).subscribe(Wf(n,(function(){var e=r;r=[],n.next(e)}),Nf)),function(){r=null}}))}function vm(e,t){return void 0===t&&(t=Kf),Uf((function(n,r){var o=null,i=null,a=null,s=function(){if(o){o.unsubscribe(),o=null;var e=i;i=null,r.next(e)}};function l(){var n=a+e,i=t.now();if(i<n)return o=this.schedule(void 0,n-i),void r.add(o);s()}n.subscribe(Wf(r,(function(n){i=n,a=t.now(),o||(o=t.schedule(l,e),r.add(o))}),(function(){s(),r.complete()}),void 0,(function(){i=o=null})))}))}function bm(e,t,n){void 0===t&&(t=Kf);var r=function(e,t,n){void 0===e&&(e=0),void 0===n&&(n=em);var r=-1;return null!=t&&(tm(t)?n=t:r=t),new Bf((function(t){var o=function(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;o<0&&(o=0);var i=0;return n.schedule((function(){t.closed||(t.next(i++),0<=r?this.schedule(void 0,r):t.complete())}),o)}))}(e,t);return function(e,t){return Uf((function(n,r){var o=t??{},i=o.leading,a=void 0===i||i,s=o.trailing,l=void 0!==s&&s,c=!1,u=null,d=null,h=!1,f=function(){null==d||d.unsubscribe(),d=null,l&&(g(),h&&r.complete())},m=function(){d=null,h&&r.complete()},p=function(t){return d=dm(e()).subscribe(Wf(r,f,m))},g=function(){if(c){c=!1;var e=u;u=null,r.next(e),!h&&p()}};n.subscribe(Wf(r,(function(e){c=!0,u=e,(!d||d.closed)&&(a?g():p())}),(function(){h=!0,(!(l&&c&&d)||d.closed)&&r.complete()})))}))}((function(){return r}),n)}const wm="editor.changeHasHistory",xm="editor.selectAll",km="editor.unselectAll",Im="editor.select",$m="editor.changeViewport",Cm="editor.clear",Tm="editor.loadJson",Am="editor.initialClear",Om="editor.initialLoadJson",Sm="editor.focusTable",Em="editor.focusColumn",Nm="editor.focusTableEnd",Mm="editor.focusMoveTable",Dm="editor.editTable",Lm="editor.editTableEnd",jm="editor.selectAllColumn",_m="editor.drawStartRelationship",zm="editor.drawStartAddRelationship",Rm="editor.drawEndRelationship",Vm="editor.drawRelationship",Bm="editor.hoverColumnMap",Pm="editor.hoverRelationshipMap",Um="editor.changeOpenMap",Wm="editor.dragstartColumn",Fm="editor.dragendColumn",Zm="editor.sharedMouseTracker",Ym="editor.validationIds",Hm="editor.getLWW",qm="editor.mergeLWW",Gm=Ki.CanvasType,Qm=Ki.CanvasTypeList,Xm=Ki.Show,Jm=Ki.ColumnType,Km=Ki.ColumnTypeList,ep=Ki.Database,tp=Ki.DatabaseList,np=Ki.Language,rp=Ki.LanguageList,op=Ki.NameCase,ip=Ki.NameCaseList,ap=Ki.BracketType,sp=Ki.BracketTypeList,lp=Ki.RelationshipType,cp=Ki.StartRelationshipType,up=Ki.Direction,dp=Ki.ColumnOption,hp=Ki.ColumnUIKey,fp=Ki.OrderType,mp=Ki.SaveSettingType,pp=Ki.CANVAS_SIZE_MAX,gp=Ki.CANVAS_SIZE_MIN,yp=Ki.CANVAS_ZOOM_MAX,vp=Ki.CANVAS_ZOOM_MIN,bp={[ap.none]:"",[ap.backtick]:"`",[ap.doubleQuote]:'"',[ap.singleQuote]:"'"},wp={[Jm.columnName]:"Name",[Jm.columnDataType]:"DataType",[Jm.columnDefault]:"Default",[Jm.columnComment]:"Comment",[Jm.columnAutoIncrement]:"Auto Increment",[Jm.columnUnique]:"Unique",[Jm.columnNotNull]:"Not Null"},xp={shared:1,changeOnly:2,following:4};function kp(e,t){return{...Rr(t),tags:ui(t.tags)?t.tags|e:e}}function Ip(e,t){return t.map((t=>kp(e,t)))}const $p=(e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function*(t,r){const o=lf(t,r,n);yield Ip(e,o)}})(xp.changeOnly);function Cp(e,t){return(e&t)===t}function Tp(e,t){return!(e.x>t.x+t.w||e.x+e.w<t.x||e.y>t.y+t.h||e.y+e.h<t.y)}function Ap(e,t,n){const r={x:0,y:0,w:0,h:0};return r.w=e*n,r.h=t*n,r.x=(e-r.w)/2,r.y=(t-r.h)/2,r}function Op(e,t,n,r){let{x:o,y:i}=e;const a=Ap(t,n,r),s=o*r,l=i*r;return{x:a.x+s,y:a.y+l}}function Sp(e,t,n,r){const{x:o,y:i}=e,{x:a,y:s}=Op(e,t,n,r);return{x:o+(o-a)/r,y:i+(i-s)/r}}const Ep=8,Np=1,Mp=8,Dp=38,Lp=12,jp=12,_p=60,zp=35,Rp=22,Vp=15,Bp=24,Pp=150,Up={MariaDB:"MariaDB",MSSQL:"MSSQL",MySQL:"MySQL",Oracle:"Oracle",PostgreSQL:"PostgreSQL",SQLite:"SQLite"},Wp=Object.values(Up),Fp={[Up.MariaDB]:ep.MariaDB,[Up.MSSQL]:ep.MSSQL,[Up.MySQL]:ep.MySQL,[Up.Oracle]:ep.Oracle,[Up.PostgreSQL]:ep.PostgreSQL,[Up.SQLite]:ep.SQLite},Zp=/[^0-9]/g,Yp=e=>e.replace(Zp,""),Hp=hi(gp,pp),qp=hi(vp,yp),Gp=hi(_p,200);function Qp(e){const t=oi(e)?Number(Yp(e)):e;return Hp(t)}function Xp(e){return Yo(qp(e),2)}function Jp(e){const t=oi(e)?Number(Yp(e)):e;return`${Gp(t)}px`}function Kp(e){return`${(100*e).toFixed()}%`}const eg=Qo(tp),tg=Qo(ip),ng=Qo(sp),rg=Qo(rp),og=Qo(Km),ig=Qo(Wp),ag=Qo(Qm);function sg(e){return Math.max(e,_p)}function lg(e){return oi(e)?e.trim():""}function cg(e){return e<=.7}const ug="table",dg="memo",hg={tableName:"tableName",tableComment:"tableComment",columnName:"columnName",columnDataType:"columnDataType",columnNotNull:"columnNotNull",columnUnique:"columnUnique",columnAutoIncrement:"columnAutoIncrement",columnDefault:"columnDefault",columnComment:"columnComment"},fg={ArrowUp:"ArrowUp",ArrowRight:"ArrowRight",ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",Tab:"Tab"},mg=Qo(Object.values(fg)),pg=()=>({id:di(),selectedMap:{},hasUndo:!1,hasRedo:!1,viewport:{width:1200,height:675},focusTable:null,drawRelationship:null,hoverColumnMap:{},hoverRelationshipMap:{},openMap:{},draggableColumn:null,draggingColumnMap:{},sharedMouseTrackerMap:{}}),gg=e=>e.ui.zIndex,yg=(e,t)=>Math.max(1,...e.map(gg),...t.map(gg))+1,vg=e=>t=>e.y===t.y&&e.x===t.x;function bg(e,t,n){let{width:r,height:o,zoomLevel:i,scrollLeft:a,scrollTop:s}=e;const l=Sp({x:200-a,y:100-s},r,o,i),c=[...t,...n].map((e=>{let{ui:t}=e;return t}));for(;c.some(vg(l));)l.x+=50,l.y+=50;return l}function wg(){const e=Date.now();return{updateAt:e,createAt:e}}function xg(e,t){return Go([...e,t])}function kg(e,t,n){if(!t||t===n)return[n];const r=e.indexOf(t),o=e.indexOf(n);return-1===r?[n]:function(e,t){return e<t?Zo(e,t+1):Zo(t,e+1)}(r,o).map((t=>e[t]))}const Ig={[Jm.columnName]:!0,[Jm.columnDataType]:Xm.columnDataType,[Jm.columnNotNull]:Xm.columnNotNull,[Jm.columnUnique]:Xm.columnUnique,[Jm.columnAutoIncrement]:Xm.columnAutoIncrement,[Jm.columnDefault]:Xm.columnDefault,[Jm.columnComment]:Xm.columnComment},Cg={[Jm.columnName]:hg.columnName,[Jm.columnDataType]:hg.columnDataType,[Jm.columnNotNull]:hg.columnNotNull,[Jm.columnUnique]:hg.columnUnique,[Jm.columnAutoIncrement]:hg.columnAutoIncrement,[Jm.columnDefault]:hg.columnDefault,[Jm.columnComment]:hg.columnComment},Tg=[hg.tableName,hg.tableComment];function Ag(e){let{settings:{show:t,columnOrder:n}}=e;return n.filter((e=>{const n=Ig[e];return!0===n||Cp(t,n)})).map((e=>Cg[e]))}function Og(e){let{collections:t,editor:{focusTable:n}}=e;if(!n)return!1;const r=aa(t).collection("tableEntities").selectById(n.tableId);return!(null==r||!r.columnIds.length)}function Sg(e){const{editor:{focusTable:t}}=e;if(!t)return!0;const n=Ag(e);return n.indexOf(t.focusType)===n.length-1}function Eg(e){const{editor:{focusTable:t}}=e;return!t||0===Ag(e).indexOf(t.focusType)}function Ng(e){let{collections:t,editor:{focusTable:n}}=e;if(null==n||!n.columnId)return!0;const r=aa(t).collection("tableEntities").selectById(n.tableId);return!r||r.columnIds.indexOf(n.columnId)===r.columnIds.length-1}function Mg(e){let{collections:t,editor:{focusTable:n}}=e;if(null==n||!n.columnId)return!0;const r=aa(t).collection("tableEntities").selectById(n.tableId);return!r||0===r.columnIds.indexOf(n.columnId)}function Dg(e){const t=Ag(e);return t[t.length-1]}function Lg(e){return Ag(e)[0]}function jg(e){let{settings:{show:t}}=e;return Cp(t,Xm.tableComment)?Tg:[hg.tableName]}function _g(e){const{editor:{focusTable:t}}=e;if(!t)return!0;const n=jg(e);return n.indexOf(t.focusType)===n.length-1}function zg(e){const{editor:{focusTable:t}}=e;return!t||0===jg(e).indexOf(t.focusType)}const Rg=Qo(Tg);function Vg(e){const{editor:{focusTable:t}}=e;if(!t)return hg.tableName;const n=jg(e),r=n.indexOf(t.focusType);return _g(e)?n[0]:n[r+1]}function Bg(e){const{editor:{focusTable:t}}=e;if(!t)return hg.tableName;const n=jg(e),r=n.indexOf(t.focusType);return zg(e)?n[n.length-1]:n[r-1]}function Pg(e,t){const{collections:n,editor:{focusTable:r}}=e;if(!r)return;const o=aa(n).collection("tableEntities").selectById(r.tableId);if(o)if(Rg(r.focusType))if(zg(e))if(Og(e)){const t=o.columnIds[o.columnIds.length-1];r.focusType=Dg(e),r.columnId=t,r.prevSelectColumnId=t,r.selectColumnIds=[t]}else r.focusType=Bg(e);else r.focusType=Bg(e);else if(Eg(e)){if(Mg(e))r.focusType=Cp(e.settings.show,Xm.tableComment)?hg.tableComment:hg.tableName,r.columnId=null,r.prevSelectColumnId=null,r.selectColumnIds=[];else if(r.columnId){const n=o.columnIds.indexOf(r.columnId),i=o.columnIds[n-1];r.focusType=Dg(e),r.columnId=i,r.prevSelectColumnId=i,t.shiftKey&&t.moveKey!==fg.Tab?r.selectColumnIds=xg(r.selectColumnIds,i):r.selectColumnIds=[i]}}else r.focusType=function(e){const{editor:{focusTable:t}}=e;if(!t)return hg.columnName;const n=Ag(e),r=n.indexOf(t.focusType);return Eg(e)?n[n.length-1]:n[r-1]}(e),!t.shiftKey&&r.columnId&&(r.prevSelectColumnId=r.columnId,r.selectColumnIds=[r.columnId])}function Ug(e,t){const{collections:n,editor:{focusTable:r}}=e;if(!r)return;const o=aa(n).collection("tableEntities").selectById(r.tableId);if(o)if(Rg(r.focusType))if(_g(e))if(Og(e)){const t=o.columnIds[0];r.focusType=Lg(e),r.columnId=t,r.prevSelectColumnId=t,r.selectColumnIds=[t]}else r.focusType=Vg(e);else r.focusType=Vg(e);else if(Sg(e)){if(Ng(e))r.focusType=hg.tableName,r.columnId=null,r.prevSelectColumnId=null,r.selectColumnIds=[];else if(r.columnId){const n=o.columnIds.indexOf(r.columnId),i=o.columnIds[n+1];r.focusType=Lg(e),r.columnId=i,r.prevSelectColumnId=i,t.shiftKey&&t.moveKey!==fg.Tab?r.selectColumnIds=xg(r.selectColumnIds,i):r.selectColumnIds=[i]}}else r.focusType=function(e){const{editor:{focusTable:t}}=e;if(!t)return hg.columnName;const n=Ag(e),r=n.indexOf(t.focusType);return Sg(e)?n[0]:n[r+1]}(e),!t.shiftKey&&r.columnId&&(r.prevSelectColumnId=r.columnId,r.selectColumnIds=[r.columnId])}const Wg=af(wm),Fg=af(xm),Zg=af(km),Yg=af(Im),Hg=af($m),qg=af(Cm),Gg=af(Tm),Qg=af(Am),Xg=af(Om),Jg=af(Sm),Kg=af(Em),ey=af(Nm),ty=af(Mm),ny=af(Dm),ry=af(Lm),oy=af(jm),iy=af(_m),ay=af(zm),sy=af(Rm),ly=af(Vm),cy=af(Bm),uy=af(Pm),dy=af(Um),hy=af(Wm),fy=af(Fm),my=af(Zm),py=af(Ym),gy=af(Hm),yy=re,vy=af(qm),by={[wm]:(e,t)=>{let{editor:n}=e,{payload:{hasRedo:r,hasUndo:o}}=t;n.hasRedo=r,n.hasUndo=o},[xm]:e=>{let{editor:t,doc:n}=e;const r=n.tableIds.reduce(((e,t)=>(e[t]=ug,e)),{}),o=n.memoIds.reduce(((e,t)=>(e[t]=dg,e)),{});t.selectedMap={...o,...r}},[km]:e=>{let{editor:t}=e;Object.keys(t.selectedMap).forEach((e=>{Reflect.deleteProperty(t.selectedMap,e)}))},[Im]:(e,t)=>{let{editor:n}=e,{payload:r}=t;Object.assign(n.selectedMap,r)},[$m]:(e,t)=>{let{editor:n}=e,{payload:{width:r,height:o}}=t;n.viewport.width=r,n.viewport.height=o},[Cm]:e=>{const{doc:t,collections:n}=Ji({});e.doc=t,e.collections=n},[Tm]:(e,t)=>{let{payload:{value:n}}=t;const{version:r,settings:o,doc:i,collections:a}=ja(n);ag(o.canvasType)||(o.canvasType=Gm.ERD),Object.assign(e.settings,o),e.version=r,e.doc=i,e.collections=a},[Am]:e=>{const{doc:t,collections:n}=Ji({});e.doc=t,e.collections=n},[Om]:(e,t)=>{let{payload:{value:n}}=t;const{version:r,settings:o,doc:i,collections:a}=ja(n);ag(o.canvasType)||(o.canvasType=Gm.ERD),Object.assign(e.settings,o),e.version=r,e.doc=i,e.collections=a},[Sm]:(e,t)=>{let{editor:n,collections:r}=e,{payload:o}=t;var i,a;const s=aa(r).collection("tableEntities");if((null==(i=n.focusTable)?void 0:i.tableId)===o.tableId&&o.focusType)n.focusTable.focusType=o.focusType,n.focusTable.columnId=null,n.focusTable.prevSelectColumnId=null,n.focusTable.selectColumnIds=[];else if(o.focusType){const e=s.selectById(o.tableId);if(!e)return;n.focusTable={tableId:e.id,focusType:o.focusType,columnId:null,prevSelectColumnId:null,selectColumnIds:[],edit:!1}}else if((null==(a=n.focusTable)?void 0:a.tableId)!==o.tableId){const e=s.selectById(o.tableId);if(!e)return;n.focusTable={tableId:e.id,focusType:hg.tableName,columnId:null,prevSelectColumnId:null,selectColumnIds:[],edit:!1}}},[Em]:(e,t)=>{let{editor:n,collections:r}=e,{payload:o}=t;var i;const a=aa(r).collection("tableEntities");if((null==(i=n.focusTable)?void 0:i.tableId)===o.tableId){const e=a.selectById(o.tableId);if(!e)return;const t=n.focusTable;t.columnId=o.columnId,t.focusType=o.focusType,o.$mod&&o.shiftKey?t.selectColumnIds=function(e,t,n,r){return Go([...t,...kg(e,n,r)])}(e.columnIds,t.selectColumnIds,t.prevSelectColumnId,t.columnId):o.shiftKey?t.selectColumnIds=kg(e.columnIds,t.prevSelectColumnId,t.columnId):o.$mod?t.selectColumnIds=xg(t.selectColumnIds,o.columnId):t.selectColumnIds=[o.columnId],t.prevSelectColumnId=o.columnId}else{const e=a.selectById(o.tableId);if(!e)return;n.focusTable={tableId:e.id,focusType:o.focusType,columnId:o.columnId,prevSelectColumnId:o.columnId,selectColumnIds:[o.columnId],edit:!1}}},[Nm]:e=>{let{editor:t}=e;t.focusTable=null},[Mm]:(e,t)=>{let{payload:n}=t;const{editor:{focusTable:r}}=e;if(r)switch(r.edit=!1,n.moveKey){case fg.ArrowUp:!function(e,t){const{collections:n,editor:{focusTable:r}}=e;if(!r)return;const o=aa(n).collection("tableEntities").selectById(r.tableId);if(o)if(Rg(r.focusType)){if(Og(e)){const t=o.columnIds[o.columnIds.length-1];r.focusType=Dg(e),r.columnId=t,r.prevSelectColumnId=t,r.selectColumnIds=[t]}}else if(Mg(e))r.focusType=hg.tableName,r.columnId=null,r.prevSelectColumnId=null,r.selectColumnIds=[];else if(r.columnId){const e=o.columnIds.indexOf(r.columnId),n=o.columnIds[e-1];r.columnId=n,r.prevSelectColumnId=n,t.shiftKey&&t.moveKey!==fg.Tab?r.selectColumnIds=xg(r.selectColumnIds,n):r.selectColumnIds=[n]}}(e,n);break;case fg.ArrowDown:!function(e,t){const{collections:n,editor:{focusTable:r}}=e;if(!r)return;const o=aa(n).collection("tableEntities").selectById(r.tableId);if(o)if(Rg(r.focusType)){if(Og(e)){const t=o.columnIds[0];r.focusType=Lg(e),r.columnId=t,r.prevSelectColumnId=t,r.selectColumnIds=[t]}}else if(Ng(e))r.focusType=hg.tableName,r.columnId=null,r.prevSelectColumnId=null,r.selectColumnIds=[];else if(r.columnId){const e=o.columnIds.indexOf(r.columnId),n=o.columnIds[e+1];r.columnId=n,r.prevSelectColumnId=n,t.shiftKey&&t.moveKey!==fg.Tab?r.selectColumnIds=xg(r.selectColumnIds,n):r.selectColumnIds=[n]}}(e,n);break;case fg.ArrowLeft:Pg(e,n);break;case fg.ArrowRight:Ug(e,n);break;case fg.Tab:n.shiftKey?Pg(e,n):Ug(e,n)}},[Dm]:e=>{let{editor:{focusTable:t}}=e;t&&(t.edit=!0)},[Lm]:e=>{let{editor:{focusTable:t}}=e;t&&(t.edit=!1)},[jm]:e=>{let{collections:t,editor:{focusTable:n}}=e;if(!n)return;const r=aa(t).collection("tableEntities").selectById(n.tableId);r&&(n.selectColumnIds=[...r.columnIds])},[_m]:(e,t)=>{let{editor:n}=e,{payload:{relationshipType:r}}=t;n.drawRelationship={relationshipType:r,start:null,end:{x:0,y:0}}},[zm]:(e,t)=>{let{editor:{drawRelationship:n},collections:r}=e,{payload:{tableId:o}}=t;if(!n)return;const i=aa(r).collection("tableEntities").selectById(o);i&&(n.start={tableId:o,x:i.ui.x,y:i.ui.y})},[Rm]:e=>{let{editor:t}=e;t.drawRelationship=null},[Vm]:(e,t)=>{let{editor:{drawRelationship:n},settings:{scrollLeft:r,scrollTop:o,zoomLevel:i,width:a,height:s}}=e,{payload:{x:l,y:c}}=t;if(null==n||!n.start)return;const u=Sp({x:l-r,y:c-o},a,s,i);n.end.x=u.x,n.end.y=u.y},[Bm]:(e,t)=>{let{editor:n}=e,{payload:{columnIds:r}}=t;Object.keys(n.hoverColumnMap).forEach((e=>{Reflect.deleteProperty(n.hoverColumnMap,e)}));for(const e of r)n.hoverColumnMap[e]=!0},[Pm]:(e,t)=>{let{editor:n}=e,{payload:{relationshipIds:r}}=t;Object.keys(n.hoverRelationshipMap).forEach((e=>{Reflect.deleteProperty(n.hoverRelationshipMap,e)}));for(const e of r)n.hoverRelationshipMap[e]=!0},[Um]:(e,t)=>{let{editor:n}=e,{payload:r}=t;Object.assign(n.openMap,r)},[Wm]:(e,t)=>{let{editor:n}=e,{payload:r}=t;n.draggableColumn=r,r.columnIds.forEach((e=>{n.draggingColumnMap[e]=!0}))},[Fm]:e=>{let{editor:t}=e;t.draggableColumn=null,Object.keys(t.draggingColumnMap).forEach((e=>{Reflect.deleteProperty(t.draggingColumnMap,e)}))},[Zm]:(e,t)=>{let{editor:n}=e,{payload:r,tags:o,meta:i}=t;if(si(o)||!Cp(o,xp.shared)||!oi(null==i?void 0:i.editorId)||n.id===i.editorId)return;const a=n.sharedMouseTrackerMap[i.editorId],s=!oi(i.nickname)||_o(i.nickname.trim())?"user":i.nickname.trim();a?(a.x=r.x,a.y=r.y,a.nickname=s,clearTimeout(a.timeoutId),a.timeoutId=setTimeout((()=>{Reflect.deleteProperty(n.sharedMouseTrackerMap,i.editorId)}),3e4)):n.sharedMouseTrackerMap[i.editorId]={...r,id:i.editorId,nickname:s,timeoutId:setTimeout((()=>{Reflect.deleteProperty(n.sharedMouseTrackerMap,i.editorId)}),3e4)}},[Ym]:e=>{let{doc:t,collections:n}=e;const r=aa(n).collection("tableEntities"),o=aa(n).collection("tableColumnEntities"),i=aa(n).collection("indexEntities"),a=aa(n).collection("indexColumnEntities"),s=aa(n).collection("relationshipEntities"),l=aa(n).collection("memoEntities"),c=t.tableIds.filter((e=>!r.selectById(e))),u=t.relationshipIds.filter((e=>!s.selectById(e))),d=t.indexIds.filter((e=>!i.selectById(e))),h=t.memoIds.filter((e=>!l.selectById(e)));t.tableIds=t.tableIds.filter((e=>!c.includes(e))),t.relationshipIds=t.relationshipIds.filter((e=>!u.includes(e))),t.indexIds=t.indexIds.filter((e=>!d.includes(e))),t.memoIds=t.memoIds.filter((e=>!h.includes(e))),r.selectAll().forEach((e=>{const t=e.columnIds.filter((e=>!o.selectById(e))),n=e.seqColumnIds.filter((e=>!o.selectById(e)));e.columnIds=e.columnIds.filter((e=>!t.includes(e))),e.seqColumnIds=e.seqColumnIds.filter((e=>!n.includes(e)))})),i.selectAll().forEach((e=>{const t=e.indexColumnIds.filter((e=>!a.selectById(e))),n=e.seqIndexColumnIds.filter((e=>!a.selectById(e)));e.indexColumnIds=e.indexColumnIds.filter((e=>!t.includes(e))),e.seqIndexColumnIds=e.seqIndexColumnIds.filter((e=>!n.includes(e)))}))},[Hm]:yy,[qm]:(e,t)=>{let{lww:n}=e,{payload:{lww:r}}=t;Object.entries(r).forEach((e=>{let[t,[r,o,i,a]]=e;ta(n,o,t,r,re),na(n,i,t,r,re),Object.entries(a).forEach((e=>{let[o,i]=e;ra(n,i,t,r,o,re)}))}))}},wy={changeHasHistoryAction:Wg,selectAllAction:Fg,unselectAllAction:Zg,selectAction:Yg,changeViewportAction:Hg,clearAction:qg,loadJsonAction:Gg,initialClearAction:Qg,initialLoadJsonAction:Xg,focusTableAction:Jg,focusColumnAction:Kg,focusTableEndAction:ey,focusMoveTableAction:ty,editTableAction:ny,editTableEndAction:ry,selectAllColumnAction:oy,drawStartRelationshipAction:iy,drawStartAddRelationshipAction:ay,drawEndRelationshipAction:sy,drawRelationshipAction:ly,hoverColumnMapAction:cy,hoverRelationshipMapAction:uy,changeOpenMapAction:dy,dragstartColumnAction:hy,dragendColumnAction:fy,sharedMouseTrackerAction:my,validationIdsAction:py,getLWWAction:gy,mergeLWWAction:vy},xy={[Tm]:(e,t,n)=>{e.push(qg(),Gg({value:_a(n)}))},[Cm]:(e,t,n)=>{e.push(Gg({value:_a(n)}))}},ky="index.add",Iy="index.remove",$y="index.changeName",Cy="index.changeUnique";function Ty(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ay,Oy,Sy=function(){if(Oy)return Ay;Oy=1;var e=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var n=Object.prototype.toString.call(e);return"[object RegExp]"===n||"[object Date]"===n||function(e){return e.$$typeof===t}(e)}(e)},t="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?a(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function r(e,t,r){return e.concat(t).map((function(e){return n(e,r)}))}function o(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function i(e,t){try{return t in e}catch{return!1}}function a(t,s,l){(l=l||{}).arrayMerge=l.arrayMerge||r,l.isMergeableObject=l.isMergeableObject||e,l.cloneUnlessOtherwiseSpecified=n;var c=Array.isArray(s);return c===Array.isArray(t)?c?l.arrayMerge(t,s,l):function(e,t,r){var s={};return r.isMergeableObject(e)&&o(e).forEach((function(t){s[t]=n(e[t],r)})),o(t).forEach((function(o){(function(e,t){return i(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(i(e,o)&&r.isMergeableObject(t[o])?s[o]=function(e,t){if(!t.customMerge)return a;var n=t.customMerge(e);return"function"==typeof n?n:a}(o,r)(e[o],t[o],r):s[o]=n(t[o],r))})),s}(t,s,l):n(s,l)}return a.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return a(e,n,t)}),{})},Ay=a}();const Ey=Ty(Sy),Ny=e=>Ey({id:di(),name:"",tableId:"",indexColumnIds:[],seqIndexColumnIds:[],unique:!1,meta:wg()},e??{}),My=af(ky),Dy=af(Iy),Ly=af($y),jy=af(Cy),_y={[ky]:(e,t,n)=>{let{doc:r,collections:o,lww:i}=e,{payload:{id:a,tableId:s},version:l}=t,{clock:c}=n;const u=l??c.getVersion();aa(o).collection("indexEntities").addOne(Ny({id:a,tableId:s})).addOperator(i,u,a,(()=>{Qo(r.indexIds)(a)||r.indexIds.push(a)}))},[Iy]:(e,t,n)=>{let{doc:r,collections:o,lww:i}=e,{payload:{id:a},version:s}=t,{clock:l}=n;const c=s??l.getVersion();aa(o).collection("indexEntities").removeOperator(i,c,a,(()=>{const e=r.indexIds.indexOf(a);-1!==e&&r.indexIds.splice(e,1)}))},[$y]:(e,t,n)=>{let{collections:r,lww:o}=e,{payload:{id:i,tableId:a,value:s},version:l}=t,{clock:c}=n;const u=l??c.getVersion(),d=aa(r).collection("indexEntities");d.getOrCreate(i,(e=>Ny({id:e,tableId:a}))),d.replaceOperator(o,u,i,"name",(()=>{d.updateOne(i,(e=>{e.name=s}))}))},[Cy]:(e,t,n)=>{let{collections:r,lww:o}=e,{payload:{id:i,tableId:a,value:s},version:l}=t,{clock:c}=n;const u=l??c.getVersion(),d=aa(r).collection("indexEntities");d.getOrCreate(i,(e=>Ny({id:e,tableId:a}))),d.replaceOperator(o,u,i,"unique",(()=>{d.updateOne(i,(e=>{e.unique=s}))}))}},zy={addIndexAction:My,removeIndexAction:Dy,changeIndexNameAction:Ly,changeIndexUniqueAction:jy},Ry={[ky]:(e,t)=>{let{payload:{id:n}}=t;e.push(Dy({id:n}))},[Iy]:(e,t,n)=>{let{payload:{id:r}}=t,{collections:o}=n;const i=aa(o).collection("indexEntities").selectById(r);i&&e.push(My({id:r,tableId:i.tableId}))},[$y]:(e,t,n)=>{let{payload:{id:r,tableId:o}}=t,{collections:i}=n;const a=aa(i).collection("indexEntities").selectById(r);a&&e.push(Ly({id:r,tableId:o,value:a.name}))},[Cy]:(e,t,n)=>{let{payload:{id:r,tableId:o,value:i}}=t,{collections:a}=n;aa(a).collection("indexEntities").selectById(r)&&e.push(jy({id:r,tableId:o,value:!i}))}},Vy="indexColumn.add",By="indexColumn.remove",Py="indexColumn.move",Uy="indexColumn.changeOrderType",Wy=e=>Ey({id:di(),indexId:"",columnId:"",orderType:fp.ASC,meta:wg()},e??{});function Fy(e,t,n){if(Qo(t)(n)){const r=t.reduce(((e,t,n)=>(e[t]=n,e)),{});e.push(n),e.sort(((e,t)=>{const n=r[e],o=r[t];return void 0===n?1:void 0===o?-1:n-o}))}else e.push(n),t.push(n)}const Zy=af(Vy),Yy=af(By),Hy=af(Py),qy=af(Uy),Gy={[Vy]:(e,t,n)=>{let{collections:r,lww:o}=e,{payload:{id:i,indexId:a,tableId:s,columnId:l},version:c}=t,{clock:u}=n;const d=c??u.getVersion(),h=aa(r).collection("indexEntities"),f=h.getOrCreate(a,(e=>Ny({id:e,tableId:s})));aa(r).collection("indexColumnEntities").addOne(Wy({id:i,indexId:a,columnId:l})).addOperator(o,d,i,(()=>{Qo(f.indexColumnIds)(i)||h.updateOne(a,(e=>{Fy(e.indexColumnIds,e.seqIndexColumnIds,i)}))}))},[By]:(e,t,n)=>{let{collections:r,lww:o}=e,{payload:{id:i,indexId:a,tableId:s},version:l}=t,{clock:c}=n;const u=l??c.getVersion(),d=aa(r).collection("indexEntities"),h=d.getOrCreate(a,(e=>Ny({id:e,tableId:s})));aa(r).collection("indexColumnEntities").removeOperator(o,u,i,(()=>{const e=h.indexColumnIds.indexOf(i);-1!==e&&d.updateOne(a,(t=>{t.indexColumnIds.splice(e,1)}))}))},[Py]:(e,t)=>{let{collections:n}=e,{payload:{id:r,indexId:o,tableId:i,targetId:a}}=t;if(r===a)return;const s=aa(n).collection("indexEntities"),l=s.getOrCreate(o,(e=>Ny({id:e,tableId:i}))),c=l.indexColumnIds.indexOf(r);if(-1===c)return;const u=l.indexColumnIds.indexOf(a);-1!==u&&s.updateOne(o,(e=>{e.indexColumnIds.splice(c,1),e.indexColumnIds.splice(u,0,r);const t=e.seqIndexColumnIds.indexOf(r),n=e.seqIndexColumnIds.indexOf(a);-1!==t&&-1!==n&&(e.seqIndexColumnIds.splice(t,1),e.seqIndexColumnIds.splice(n,0,r))}))},[Uy]:(e,t,n)=>{let{collections:r,lww:o}=e,{payload:{id:i,indexId:a,columnId:s,value:l},version:c}=t,{clock:u}=n;const d=c??u.getVersion(),h=aa(r).collection("indexColumnEntities");h.getOrCreate(i,(e=>Wy({id:e,indexId:a,columnId:s}))),h.replaceOperator(o,d,i,"orderType",(()=>{h.updateOne(i,(e=>{e.orderType=l}))}))}},Qy={addIndexColumnAction:Zy,removeIndexColumnAction:Yy,moveIndexColumnAction:Hy,changeIndexColumnOrderTypeAction:qy},Xy={[Vy]:(e,t)=>{let{payload:{id:n,indexId:r,tableId:o}}=t;e.push(Yy({id:n,indexId:r,tableId:o}))},[By]:(e,t,n)=>{let{payload:{id:r,indexId:o,tableId:i}}=t,{collections:a}=n;const s=aa(a).collection("indexColumnEntities").selectById(r);s&&e.push(Zy({id:r,indexId:o,tableId:i,columnId:s.columnId}))},[Py]:(e,t,n)=>{let{payload:{id:r,indexId:o,tableId:i,targetId:a}}=t,{collections:s}=n;const l=aa(s).collection("indexEntities").selectById(o);if(!l)return;const c=l.indexColumnIds.indexOf(r);if(-1===c)return;const u=l.indexColumnIds.indexOf(a);if(-1===u)return;const d=c<u?c+1:c-1,h=l.indexColumnIds[d];e.push(Hy({indexId:o,tableId:i,id:r,targetId:h}))},[Uy]:(e,t,n)=>{let{payload:{id:r,indexId:o,columnId:i}}=t,{collections:a}=n;const s=aa(a).collection("indexColumnEntities").selectById(r);s&&e.push(qy({id:r,indexId:o,columnId:i,value:s.orderType}))}},Jy="memo.add",Ky="memo.move",ev="memo.moveTo",tv="memo.remove",nv="memo.changeValue",rv="memo.changeColor",ov="memo.resize",iv="memo.changeZIndex",av=e=>Ey({id:di(),value:"",ui:{x:200,y:100,zIndex:2,width:116,height:100,color:""},meta:wg()},e??{}),sv=af(Jy),lv=af(Ky),cv=af(ev),uv=af(tv),dv=af(nv),hv=af(rv),fv=af(ov),mv=af(iv),pv={[Jy]:(e,t,n)=>{let{doc:r,collections:o,lww:i}=e,{payload:{id:a,ui:s},version:l}=t,{clock:c}=n;const u=l??c.getVersion();aa(o).collection("memoEntities").addOne(av({id:a,ui:s})).addOperator(i,u,a,(()=>{Qo(r.memoIds)(a)||r.memoIds.push(a)}))},[Ky]:(e,t)=>{let{collections:n}=e,{payload:{ids:r,movementX:o,movementY:i}}=t;const a=aa(n).collection("memoEntities");for(const e of r)a.getOrCreate(e,(e=>av({id:e})));a.updateMany(r,(e=>{e.ui.x=Yo(e.ui.x+o,4),e.ui.y=Yo(e.ui.y+i,4)}))},[ev]:(e,t)=>{let{collections:n}=e,{payload:{id:r,x:o,y:i}}=t;const a=aa(n).collection("memoEntities");a.getOrCreate(r,(e=>av({id:e}))),a.updateOne(r,(e=>{e.ui.x=o,e.ui.y=i}))},[tv]:(e,t,n)=>{let{doc:r,collections:o,lww:i}=e,{payload:{id:a},version:s}=t,{clock:l}=n;const c=s??l.getVersion();aa(o).collection("memoEntities").removeOperator(i,c,a,(()=>{const e=r.memoIds.indexOf(a);-1!==e&&r.memoIds.splice(e,1)}))},[nv]:(e,t,n)=>{let{collections:r,lww:o}=e,{payload:{id:i,value:a},version:s}=t,{clock:l}=n;const c=s??l.getVersion(),u=aa(r).collection("memoEntities");u.getOrCreate(i,(e=>av({id:e}))),u.replaceOperator(o,c,i,"value",(()=>{u.updateOne(i,(e=>{e.value=a}))}))},[rv]:(e,t,n)=>{let{collections:r,lww:o}=e,{payload:{id:i,color:a},version:s}=t,{clock:l}=n;const c=s??l.getVersion(),u=aa(r).collection("memoEntities");u.getOrCreate(i,(e=>av({id:e}))),u.replaceOperator(o,c,i,"ui.color",(()=>{u.updateOne(i,(e=>{e.ui.color=a}))}))},[ov]:(e,t)=>{let{collections:n}=e,{payload:{id:r,x:o,y:i,width:a,height:s}}=t;const l=aa(n).collection("memoEntities");l.getOrCreate(r,(e=>av({id:e}))),l.updateOne(r,(e=>{e.ui.x=o,e.ui.y=i,e.ui.width=a,e.ui.height=s}))},[iv]:(e,t)=>{let{collections:n}=e,{payload:{id:r,zIndex:o}}=t;const i=aa(n).collection("memoEntities");i.getOrCreate(r,(e=>av({id:e}))),i.updateOne(r,(e=>{e.ui.zIndex=o}))}},gv={addMemoAction:sv,moveMemoAction:lv,moveToMemoAction:cv,removeMemoAction:uv,changeMemoValueAction:dv,changeMemoColorAction:hv,resizeMemoAction:fv,changeZIndexAction:mv},yv={[Jy]:(e,t)=>{let{payload:{id:n}}=t;e.push(uv({id:n}))},[tv]:(e,t,n)=>{let{payload:{id:r}}=t,{collections:o}=n;const i=aa(o).collection("memoEntities").selectById(r);i&&e.push(sv({id:i.id,ui:Uo(i.ui,["x","y","zIndex"])}))},[nv]:(e,t,n)=>{let{payload:{id:r}}=t,{collections:o}=n;const i=aa(o).collection("memoEntities").selectById(r);i&&e.push(dv({id:r,value:i.value}))},[ev]:(e,t,n)=>{let{payload:{id:r}}=t,{collections:o}=n;const i=aa(o).collection("memoEntities").selectById(r);i&&e.push(cv({id:r,x:i.ui.x,y:i.ui.y}))}},vv={[Ky]:(e,t,n)=>{const r=n.filter((e=>e.type===lv.type));if(!r.length)return;const o=Mo(r,(e=>e.payload.ids.join(",")));for(const[,n]of Object.entries(o)){const{payload:{ids:r}}=Eo(n),{x:o,y:i}=n.reduce(((e,t)=>{let{payload:{movementX:n,movementY:r}}=t;return e.x+=n,e.y+=r,e}),{x:0,y:0});Math.abs(o)+Math.abs(i)<20||(e.push(lv({ids:r,movementX:-1*o,movementY:-1*i})),t.push(lv({ids:r,movementX:o,movementY:i})))}},[rv]:(e,t,n)=>{const r=n.filter((e=>{let{type:t}=e;return t===hv.type}));if(!r.length)return;const o=Mo(r,(e=>e.payload.id));for(const[n,r]of Object.entries(o)){const o=Eo(r),i=So(r);e.push(hv({id:n,color:o.payload.prevColor,prevColor:i.payload.color})),t.push(hv({id:n,color:i.payload.color,prevColor:o.payload.prevColor}))}},[ov]:(e,t,n)=>{const r=n.filter((e=>e.type===fv.type));if(!r.length)return;const o=Mo(r,(e=>e.payload.id));for(const[,n]of Object.entries(o)){if(n.length<2)continue;const r=Eo(n),o=So(n);e.push(r),t.push(o)}}},bv="relationship.add",wv="relationship.remove",xv="relationship.changeType",kv=e=>Ey({id:di(),identification:!1,relationshipType:lp.ZeroN,startRelationshipType:cp.dash,start:{tableId:"",columnIds:[],x:0,y:0,direction:up.bottom},end:{tableId:"",columnIds:[],x:0,y:0,direction:up.bottom},meta:wg()},e??{}),Iv=af(bv),$v=af(wv),Cv=af(xv),Tv={[bv]:(e,t,n)=>{let{doc:r,collections:o,lww:i}=e,{payload:{id:a,relationshipType:s,start:l,end:c},version:u}=t,{clock:d}=n;const h=u??d.getVersion();aa(o).collection("relationshipEntities").addOne(kv({id:a,relationshipType:s,start:{tableId:l.tableId,columnIds:l.columnIds},end:{tableId:c.tableId,columnIds:c.columnIds}})).addOperator(i,h,a,(()=>{Qo(r.relationshipIds)(a)||r.relationshipIds.push(a)}))},[wv]:(e,t,n)=>{let{doc:r,collections:o,lww:i}=e,{payload:{id:a},version:s}=t,{clock:l}=n;const c=s??l.getVersion();aa(o).collection("relationshipEntities").removeOperator(i,c,a,(()=>{const e=r.relationshipIds.indexOf(a);-1!==e&&r.relationshipIds.splice(e,1)}))},[xv]:(e,t,n)=>{let{collections:r,lww:o}=e,{payload:{id:i,value:a},version:s}=t,{clock:l}=n;const c=s??l.getVersion(),u=aa(r).collection("relationshipEntities");u.replaceOperator(o,c,i,"relationshipType",(()=>{u.updateOne(i,(e=>{e.relationshipType=a}))}))}},Av={addRelationshipAction:Iv,removeRelationshipAction:$v,changeRelationshipTypeAction:Cv},Ov={[bv]:(e,t)=>{let{payload:{id:n}}=t;e.push($v({id:n}))},[wv]:(e,t,n)=>{let{payload:{id:r}}=t,{collections:o}=n;const i=aa(o).collection("relationshipEntities").selectById(r);i&&e.push(Iv({id:i.id,relationshipType:i.relationshipType,start:Uo(i.start,["tableId","columnIds"]),end:Uo(i.end,["tableId","columnIds"])}))},[xv]:(e,t,n)=>{let{payload:{id:r}}=t,{collections:o}=n;const i=aa(o).collection("relationshipEntities").selectById(r);i&&e.push(Cv({id:r,value:i.relationshipType}))}},Sv="settings.changeDatabaseName",Ev="settings.resize",Nv="settings.changeZoomLevel",Mv="settings.streamZoomLevel",Dv="settings.scrollTo",Lv="settings.streamScrollTo",jv="settings.changeShow",_v="settings.changeDatabase",zv="settings.changeCanvasType",Rv="settings.changeLanguage",Vv="settings.changeTableNameCase",Bv="settings.changeColumnNameCase",Pv="settings.changeBracketType",Uv="settings.changeRelationshipDataTypeSync",Wv="settings.changeRelationshipOptimization",Fv="settings.changeColumnOrder",Zv="settings.changeMaxWidthComment",Yv="settings.changeIgnoreSaveSettings",Hv=af(Sv),qv=af(Ev),Gv=af(Nv),Qv=af(Mv),Xv=af(Dv),Jv=af(Lv),Kv=af(jv),eb=af(_v),tb=af(zv),nb=af(Rv),rb=af(Vv),ob=af(Bv),ib=af(Pv),ab=af(Uv),sb=af(Wv),lb=af(Fv),cb=af(Zv),ub=af(Yv),db={[Sv]:(e,t,n)=>{let{settings:r,lww:o}=e,{payload:{value:i},version:a}=t,{clock:s}=n;ra(o,a??s.getVersion(),"settings.databaseName","settings","databaseName",(()=>{r.databaseName=i}))},[Ev]:(e,t)=>{let{settings:n}=e,{payload:{width:r,height:o}}=t;n.width=Qp(r),n.height=Qp(o)},[Nv]:(e,t)=>{let{settings:n}=e,{payload:{value:r},tags:o}=t;!si(o)&&Cp(o,xp.following)||(n.zoomLevel=Xp(r))},[Mv]:(e,t)=>{let{settings:n}=e,{payload:{value:r},tags:o}=t;!si(o)&&Cp(o,xp.following)||(n.zoomLevel=Xp(n.zoomLevel+r))},[Dv]:(e,t)=>{let{settings:n,editor:{viewport:r}}=e,{payload:{scrollTop:o,scrollLeft:i},tags:a}=t;if(!si(a)&&Cp(a,xp.following))return;const s=hi(r.height-n.height,0),l=hi(r.width-n.width,0);n.scrollTop=Yo(s(o),4),n.scrollLeft=Yo(l(i),4)},[Lv]:(e,t)=>{let{settings:n,editor:{viewport:r}}=e,{payload:{movementX:o,movementY:i},tags:a}=t;if(!si(a)&&Cp(a,xp.following))return;const s=hi(r.height-n.height,0),l=hi(r.width-n.width,0);n.scrollTop=Yo(s(n.scrollTop+i),4),n.scrollLeft=Yo(l(n.scrollLeft+o),4)},[jv]:(e,t)=>{let{settings:n}=e,{payload:{show:r,value:o}}=t;n.show=o?n.show|r:n.show&~r},[_v]:(e,t)=>{let{settings:n}=e,{payload:{value:r}}=t;eg(r)&&(n.database=r)},[zv]:(e,t)=>{let{settings:n}=e,{payload:{value:r},tags:o}=t;!si(o)&&Cp(o,xp.following)||(n.canvasType=r)},[Rv]:(e,t)=>{let{settings:n}=e,{payload:{value:r}}=t;rg(r)&&(n.language=r)},[Vv]:(e,t)=>{let{settings:n}=e,{payload:{value:r}}=t;tg(r)&&(n.tableNameCase=r)},[Bv]:(e,t)=>{let{settings:n}=e,{payload:{value:r}}=t;tg(r)&&(n.columnNameCase=r)},[Pv]:(e,t)=>{let{settings:n}=e,{payload:{value:r}}=t;ng(r)&&(n.bracketType=r)},[Uv]:(e,t)=>{let{settings:n}=e,{payload:{value:r}}=t;n.relationshipDataTypeSync=r},[Wv]:(e,t)=>{let{settings:n}=e,{payload:{value:r}}=t;n.relationshipOptimization=r},[Fv]:(e,t)=>{let{settings:n}=e,{payload:{value:r,target:o}}=t;if(r===o||!og(r)||!og(o))return;const i=n.columnOrder.indexOf(r),a=n.columnOrder.indexOf(o);-1===i||-1===a||(n.columnOrder.splice(i,1),n.columnOrder.splice(a,0,r))},[Zv]:(e,t)=>{let{settings:n}=e,{payload:{value:r}}=t;n.maxWidthComment=-1===r?r:Gp(r)},[Yv]:(e,t)=>{let{settings:n}=e,{payload:{saveSettingType:r,value:o}}=t;n.ignoreSaveSettings=o?n.ignoreSaveSettings|r:n.ignoreSaveSettings&~r}},hb={changeDatabaseNameAction:Hv,resizeAction:qv,changeZoomLevelAction:Gv,streamZoomLevelAction:Qv,scrollToAction:Xv,streamScrollToAction:Jv,changeShowAction:Kv,changeDatabaseAction:eb,changeCanvasTypeAction:tb,changeLanguageAction:nb,changeTableNameCaseAction:rb,changeColumnNameCaseAction:ob,changeBracketTypeAction:ib,changeRelationshipDataTypeSyncAction:ab,changeRelationshipOptimizationAction:sb,changeColumnOrderAction:lb,changeMaxWidthCommentAction:cb,changeIgnoreSaveSettingsAction:ub},fb={[Ev]:(e,t,n)=>{let{settings:r}=n;e.push(qv({width:r.width,height:r.height}))},[Dv]:(e,t,n)=>{let{settings:r}=n;e.push(Xv({scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}))},[jv]:(e,t)=>{let{payload:{show:n,value:r}}=t;e.push(Kv({show:n,value:!r}))},[Nv]:(e,t,n)=>{let{settings:r}=n;e.push(Gv({value:r.zoomLevel}))}},mb={[Lv]:(e,t,n)=>{const r=n.filter((e=>e.type===Jv.type));if(!r.length)return;const{x:o,y:i}=r.reduce(((e,t)=>{let{payload:{movementX:n,movementY:r}}=t;return e.x+=n,e.y+=r,e}),{x:0,y:0});Math.abs(o)+Math.abs(i)<20||(e.push(Jv({movementX:-1*o,movementY:-1*i})),t.push(Jv({movementX:o,movementY:i})))},[Mv]:(e,t,n)=>{const r=n.filter((e=>e.type===Qv.type));if(!r.length)return;const o=r.reduce(((e,t)=>{let{payload:{value:n}}=t;return e+n}),0);e.push(Qv({value:-1*o})),t.push(Qv({value:o}))}},pb="table.add",gb="table.move",yb="table.moveTo",vb="table.remove",bb="table.changeName",wb="table.changeComment",xb="table.changeColor",kb="table.changeZIndex",Ib="table.sort";function Cb(e,t){let{settings:{show:n,maxWidthComment:r},collections:o}=t,i=e.ui.widthName+Ep;Cp(n,Xm.tableComment)&&(i+=(-1===r?e.ui.widthComment:r<e.ui.widthComment?r:e.ui.widthComment)+Ep);const a=function(e){return Tb.reduce(((t,n)=>{let{key:r,width:o}=n;return Cp(e,r)?t+o+Ep:t}),jp+Ep+_p+Ep+Lp)}(n);i<a&&(i=a);const s=function(e,t,n){const r={width:0,name:0,comment:0,dataType:0,default:0,notNull:0,autoIncrement:0,unique:0};for(const o of e){if(r.name<o.ui.widthName&&(r.name=o.ui.widthName),Cp(t,Xm.columnComment)&&r.comment<o.ui.widthComment){const e=-1===n?o.ui.widthComment:n<o.ui.widthComment?n:o.ui.widthComment;r.comment=e}Cp(t,Xm.columnDataType)&&r.dataType<o.ui.widthDataType&&(r.dataType=o.ui.widthDataType),Cp(t,Xm.columnDefault)&&r.default<o.ui.widthDefault&&(r.default=o.ui.widthDefault)}return Cp(t,Xm.columnNotNull)&&(r.notNull=zp),Cp(t,Xm.columnAutoIncrement)&&(r.autoIncrement=Vp),Cp(t,Xm.columnUnique)&&(r.unique=Rp),r.width=Object.entries(r).reduce(((e,t)=>{let[n,r]=t;return"width"===n||0===r?e:e+r+Ep}),jp+Ep+Lp),r}(aa(o).collection("tableColumnEntities").selectByIds(e.columnIds),n,r);return i<s.width&&(i=s.width),{...s,width:Np+Mp+i+Mp+Np}}const Tb=[{key:Xm.columnComment,width:_p},{key:Xm.columnDataType,width:_p},{key:Xm.columnDefault,width:_p},{key:Xm.columnNotNull,width:zp},{key:Xm.columnAutoIncrement,width:Vp},{key:Xm.columnUnique,width:Rp}];function Ab(e){return Np+Mp+Dp+e.columnIds.length*Bp+Mp+Np}function Ob(e,t){let{doc:{tableIds:n},collections:r}=e,{toWidth:o}=t;const i=aa(r).collection("tableEntities").selectByIds(n),a=aa(r).collection("tableColumnEntities");for(const e of i){e.ui.widthName=sg(o(e.name)),e.ui.widthComment=sg(o(e.comment));const t=a.selectByIds(e.columnIds);for(const e of t)e.ui.widthName=sg(o(e.name)),e.ui.widthDataType=sg(o(e.dataType)),e.ui.widthDefault=sg(o(e.default)),e.ui.widthComment=sg(o(e.comment))}}const Sb=e=>Ey({id:di(),name:"",comment:"",columnIds:[],seqColumnIds:[],ui:{x:200,y:100,zIndex:2,widthName:_p,widthComment:_p,color:""},meta:wg()},e??{}),Eb=af(pb),Nb=af(gb),Mb=af(yb),Db=af(vb),Lb=af(bb),jb=af(wb),_b=af(xb),zb=af(kb),Rb=af(Ib),Vb={[pb]:(e,t,n)=>{let{doc:r,collections:o,lww:i}=e,{payload:{id:a,ui:s},version:l}=t,{clock:c}=n;const u=l??c.getVersion();aa(o).collection("tableEntities").addOne(Sb({id:a,ui:s})).addOperator(i,u,a,(()=>{Qo(r.tableIds)(a)||r.tableIds.push(a)}))},[gb]:(e,t)=>{let{collections:n}=e,{payload:{ids:r,movementX:o,movementY:i}}=t;const a=aa(n).collection("tableEntities");for(const e of r)a.getOrCreate(e,(e=>Sb({id:e})));a.updateMany(r,(e=>{e.ui.x=Yo(e.ui.x+o,4),e.ui.y=Yo(e.ui.y+i,4)}))},[yb]:(e,t)=>{let{collections:n}=e,{payload:{id:r,x:o,y:i}}=t;const a=aa(n).collection("tableEntities");a.getOrCreate(r,(e=>Sb({id:e}))),a.updateOne(r,(e=>{e.ui.x=o,e.ui.y=i}))},[vb]:(e,t,n)=>{let{doc:r,collections:o,lww:i}=e,{payload:{id:a},version:s}=t,{clock:l}=n;const c=s??l.getVersion();aa(o).collection("tableEntities").removeOperator(i,c,a,(()=>{const e=r.tableIds.indexOf(a);-1!==e&&r.tableIds.splice(e,1)}))},[bb]:(e,t,n)=>{let{collections:r,lww:o}=e,{payload:{id:i,value:a},version:s}=t,{toWidth:l,clock:c}=n;const u=s??c.getVersion(),d=aa(r).collection("tableEntities");d.getOrCreate(i,(e=>Sb({id:e}))),d.replaceOperator(o,u,i,"name",(()=>{d.updateOne(i,(e=>{e.name=a,e.ui.widthName=sg(l(a))}))}))},[wb]:(e,t,n)=>{let{collections:r,lww:o}=e,{payload:{id:i,value:a},version:s}=t,{toWidth:l,clock:c}=n;const u=s??c.getVersion(),d=aa(r).collection("tableEntities");d.getOrCreate(i,(e=>Sb({id:e}))),d.replaceOperator(o,u,i,"comment",(()=>{d.updateOne(i,(e=>{e.comment=a,e.ui.widthComment=sg(l(a))}))}))},[xb]:(e,t,n)=>{let{collections:r,lww:o}=e,{payload:{id:i,color:a},version:s}=t,{clock:l}=n;const c=s??l.getVersion(),u=aa(r).collection("tableEntities");u.getOrCreate(i,(e=>Sb({id:e}))),u.replaceOperator(o,c,i,"ui.color",(()=>{u.updateOne(i,(e=>{e.ui.color=a}))}))},[kb]:(e,t)=>{let{collections:n}=e,{payload:{id:r,zIndex:o}}=t;const i=aa(n).collection("tableEntities");i.getOrCreate(r,(e=>Sb({id:e}))),i.updateOne(r,(e=>{e.ui.zIndex=o}))},[Ib]:e=>{const{doc:t,settings:n,collections:r}=e,o=n.width,i=aa(r).collection("tableEntities").selectByIds(t.tableIds);i.sort(((e,t)=>e.columnIds.length-t.columnIds.length));let a=50,s=50,l=50;i.forEach((t=>{const n=Cb(t,e).width+80,r=Ab(t)+80;a+n>o&&(s+=l,l=0,a=50),l<r&&(l=r),t.ui.y=s,t.ui.x=a,a+=n}))}},Bb={addTableAction:Eb,moveTableAction:Nb,moveToTableAction:Mb,removeTableAction:Db,changeTableNameAction:Lb,changeTableCommentAction:jb,changeTableColorAction:_b,changeZIndexAction:zb,sortTableAction:Rb},Pb={[pb]:(e,t)=>{let{payload:{id:n}}=t;e.push(Db({id:n}))},[vb]:(e,t,n)=>{let{payload:{id:r}}=t,{collections:o}=n;const i=aa(o).collection("tableEntities").selectById(r);i&&e.push(Eb({id:i.id,ui:Uo(i.ui,["x","y","zIndex"])}))},[bb]:(e,t,n)=>{let{payload:{id:r}}=t,{collections:o}=n;const i=aa(o).collection("tableEntities").selectById(r);i&&e.push(Lb({id:r,value:i.name}))},[wb]:(e,t,n)=>{let{payload:{id:r}}=t,{collections:o}=n;const i=aa(o).collection("tableEntities").selectById(r);i&&e.push(jb({id:r,value:i.comment}))},[yb]:(e,t,n)=>{let{payload:{id:r}}=t,{collections:o}=n;const i=aa(o).collection("tableEntities").selectById(r);i&&e.push(Mb({id:r,x:i.ui.x,y:i.ui.y}))},[Ib]:()=>{}},Ub={[gb]:(e,t,n)=>{const r=n.filter((e=>e.type===Nb.type));if(!r.length)return;const o=Mo(r,(e=>e.payload.ids.join(",")));for(const[,n]of Object.entries(o)){const{payload:{ids:r}}=Eo(n),{x:o,y:i}=n.reduce(((e,t)=>{let{payload:{movementX:n,movementY:r}}=t;return e.x+=n,e.y+=r,e}),{x:0,y:0});Math.abs(o)+Math.abs(i)<20||(e.push(Nb({ids:r,movementX:-1*o,movementY:-1*i})),t.push(Nb({ids:r,movementX:o,movementY:i})))}},[xb]:(e,t,n)=>{const r=n.filter((e=>{let{type:t}=e;return t===_b.type}));if(!r.length)return;const o=Mo(r,(e=>e.payload.id));for(const[n,r]of Object.entries(o)){const o=Eo(r),i=So(r);e.push(_b({id:n,color:o.payload.prevColor,prevColor:i.payload.color})),t.push(_b({id:n,color:i.payload.color,prevColor:o.payload.prevColor}))}}},Wb="column.add",Fb="column.remove",Zb="column.changeName",Yb="column.changeComment",Hb="column.changeDataType",qb="column.changeDefault",Gb="column.changeAutoIncrement",Qb="column.changePrimaryKey",Xb="column.changeUnique",Jb="column.changeNotNull",Kb="column.move",ew=e=>Ey({id:di(),tableId:"",name:"",comment:"",dataType:"",default:"",options:0,ui:{keys:0,widthName:_p,widthComment:_p,widthDataType:_p,widthDefault:_p},meta:wg()},e??{}),tw=af(Wb),nw=af(Fb),rw=af(Zb),ow=af(Yb),iw=af(Hb),aw=af(qb),sw=af(Gb),lw=af(Qb),cw=af(Xb),uw=af(Jb),dw=af(Kb),hw={[Wb]:(e,t,n)=>{let{collections:r,lww:o}=e,{payload:{id:i,tableId:a},version:s}=t,{clock:l}=n;const c=s??l.getVersion(),u=aa(r).collection("tableEntities"),d=u.getOrCreate(a,(e=>Sb({id:e})));aa(r).collection("tableColumnEntities").addOne(ew({id:i,tableId:a})).addOperator(o,c,i,(()=>{Qo(d.columnIds)(i)||u.updateOne(a,(e=>{Fy(e.columnIds,e.seqColumnIds,i)}))}))},[Fb]:(e,t,n)=>{let{collections:r,lww:o}=e,{payload:{id:i,tableId:a},version:s}=t,{clock:l}=n;const c=s??l.getVersion(),u=aa(r).collection("tableEntities"),d=u.getOrCreate(a,(e=>Sb({id:e})));aa(r).collection("tableColumnEntities").removeOperator(o,c,i,(()=>{const e=d.columnIds.indexOf(i);-1!==e&&u.updateOne(a,(t=>{t.columnIds.splice(e,1)}))}))},[Zb]:(e,t,n)=>{let{collections:r,lww:o}=e,{payload:{id:i,value:a},version:s}=t,{toWidth:l,clock:c}=n;const u=s??c.getVersion(),d=aa(r).collection("tableColumnEntities");d.getOrCreate(i,(e=>ew({id:e}))),d.replaceOperator(o,u,i,"name",(()=>{d.updateOne(i,(e=>{e.name=a,e.ui.widthName=sg(l(a))}))}))},[Yb]:(e,t,n)=>{let{collections:r,lww:o}=e,{payload:{id:i,value:a},version:s}=t,{toWidth:l,clock:c}=n;const u=s??c.getVersion(),d=aa(r).collection("tableColumnEntities");d.getOrCreate(i,(e=>ew({id:e}))),d.replaceOperator(o,u,i,"comment",(()=>{d.updateOne(i,(e=>{e.comment=a,e.ui.widthComment=sg(l(a))}))}))},[Hb]:(e,t,n)=>{let{collections:r,lww:o}=e,{payload:{id:i,value:a},version:s}=t,{toWidth:l,clock:c}=n;const u=s??c.getVersion(),d=aa(r).collection("tableColumnEntities");d.getOrCreate(i,(e=>ew({id:e}))),d.replaceOperator(o,u,i,"dataType",(()=>{d.updateOne(i,(e=>{e.dataType=a,e.ui.widthDataType=sg(l(a))}))}))},[qb]:(e,t,n)=>{let{collections:r,lww:o}=e,{payload:{id:i,value:a},version:s}=t,{toWidth:l,clock:c}=n;const u=s??c.getVersion(),d=aa(r).collection("tableColumnEntities");d.getOrCreate(i,(e=>ew({id:e}))),d.replaceOperator(o,u,i,"default",(()=>{d.updateOne(i,(e=>{e.default=a,e.ui.widthDefault=sg(l(a))}))}))},[Gb]:(e,t,n)=>{let{collections:r,lww:o}=e,{payload:{id:i,value:a},version:s}=t,{clock:l}=n;const c=s??l.getVersion(),u=aa(r).collection("tableColumnEntities");u.getOrCreate(i,(e=>ew({id:e}))),u.replaceOperator(o,c,i,"options(autoIncrement)",(()=>{u.updateOne(i,(e=>{e.options=a?e.options|dp.autoIncrement:e.options&~dp.autoIncrement}))}))},[Qb]:(e,t,n)=>{let{collections:r,lww:o}=e,{payload:{id:i,value:a},version:s}=t,{clock:l}=n;const c=s??l.getVersion(),u=aa(r).collection("tableColumnEntities");u.getOrCreate(i,(e=>ew({id:e}))),u.replaceOperator(o,c,i,"options(primaryKey)",(()=>{u.updateOne(i,(e=>{e.options=a?e.options|dp.primaryKey:e.options&~dp.primaryKey,e.ui.keys=a?e.ui.keys|hp.primaryKey:-2&e.ui.keys}))}))},[Xb]:(e,t,n)=>{let{collections:r,lww:o}=e,{payload:{id:i,value:a},version:s}=t,{clock:l}=n;const c=s??l.getVersion(),u=aa(r).collection("tableColumnEntities");u.getOrCreate(i,(e=>ew({id:e}))),u.replaceOperator(o,c,i,"options(unique)",(()=>{u.updateOne(i,(e=>{e.options=a?e.options|dp.unique:e.options&~dp.unique}))}))},[Jb]:(e,t,n)=>{let{collections:r,lww:o}=e,{payload:{id:i,value:a},version:s}=t,{clock:l}=n;const c=s??l.getVersion(),u=aa(r).collection("tableColumnEntities");u.getOrCreate(i,(e=>ew({id:e}))),u.replaceOperator(o,c,i,"options(notNull)",(()=>{u.updateOne(i,(e=>{e.options=a?e.options|dp.notNull:e.options&~dp.notNull}))}))},[Kb]:(e,t)=>{let{collections:n}=e,{payload:{id:r,tableId:o,targetId:i}}=t;if(r===i)return;const a=aa(n).collection("tableEntities"),s=a.getOrCreate(o,(e=>Sb({id:e}))),l=s.columnIds.indexOf(r);if(-1===l)return;const c=s.columnIds.indexOf(i);-1!==c&&a.updateOne(o,(e=>{e.columnIds.splice(l,1),e.columnIds.splice(c,0,r);const t=e.seqColumnIds.indexOf(r),n=e.seqColumnIds.indexOf(i);-1!==t&&-1!==n&&(e.seqColumnIds.splice(t,1),e.seqColumnIds.splice(n,0,r))}))}},fw={addColumnAction:tw,removeColumnAction:nw,changeColumnNameAction:rw,changeColumnCommentAction:ow,changeColumnDataTypeAction:iw,changeColumnDefaultAction:aw,changeColumnAutoIncrementAction:sw,changeColumnPrimaryKeyAction:lw,changeColumnUniqueAction:cw,changeColumnNotNullAction:uw,moveColumnAction:dw},mw={[Wb]:(e,t)=>{let{payload:{id:n,tableId:r}}=t;e.push(nw({id:n,tableId:r}))},[Fb]:(e,t)=>{let{payload:{id:n,tableId:r}}=t;e.push(tw({id:n,tableId:r}))},[Zb]:(e,t,n)=>{let{payload:{id:r,tableId:o}}=t,{collections:i}=n;const a=aa(i).collection("tableColumnEntities").selectById(r);a&&e.push(rw({id:r,tableId:o,value:a.name}))},[Hb]:(e,t,n)=>{let{payload:{id:r,tableId:o}}=t,{collections:i}=n;const a=aa(i).collection("tableColumnEntities").selectById(r);a&&e.push(iw({id:r,tableId:o,value:a.dataType}))},[qb]:(e,t,n)=>{let{payload:{id:r,tableId:o}}=t,{collections:i}=n;const a=aa(i).collection("tableColumnEntities").selectById(r);a&&e.push(aw({id:r,tableId:o,value:a.default}))},[Yb]:(e,t,n)=>{let{payload:{id:r,tableId:o}}=t,{collections:i}=n;const a=aa(i).collection("tableColumnEntities").selectById(r);a&&e.push(ow({id:r,tableId:o,value:a.comment}))},[Gb]:(e,t,n)=>{let{payload:{id:r,tableId:o,value:i}}=t,{collections:a}=n;aa(a).collection("tableColumnEntities").selectById(r)&&e.push(sw({id:r,tableId:o,value:!i}))},[Jb]:(e,t,n)=>{let{payload:{id:r,tableId:o,value:i}}=t,{collections:a}=n;aa(a).collection("tableColumnEntities").selectById(r)&&e.push(uw({id:r,tableId:o,value:!i}))},[Qb]:(e,t,n)=>{let{payload:{id:r,tableId:o,value:i}}=t,{collections:a}=n;aa(a).collection("tableColumnEntities").selectById(r)&&e.push(lw({id:r,tableId:o,value:!i}))},[Xb]:(e,t,n)=>{let{payload:{id:r,tableId:o,value:i}}=t,{collections:a}=n;aa(a).collection("tableColumnEntities").selectById(r)&&e.push(cw({id:r,tableId:o,value:!i}))},[Kb]:(e,t,n)=>{let{payload:{id:r,tableId:o,targetId:i}}=t,{collections:a}=n;const s=aa(a).collection("tableEntities").selectById(o);if(!s)return;const l=s.columnIds.indexOf(r);if(-1===l)return;const c=s.columnIds.indexOf(i);if(-1===c)return;const u=l<c?l+1:l-1,d=s.columnIds[u];e.push(dw({id:r,tableId:o,targetId:d}))}},pw={...Pb,...mw,...Ov,...yv,...fb,...xy,...Ry,...Xy},gw={...Ub,...vv,...mb};function yw(e,t,n){const r=[],o=[];for(const t of n){const n=pw[t.type];n&&(n(r,t,e.state),o.push(Rr(t)))}for(const e of Object.keys(gw))gw[e](r,o,n);!r.length||!o.length||t.push({undo:t=>{const n=e.context.clock.getNextVersion();t(r.map(vw(n)))},redo:t=>{const n=e.context.clock.getNextVersion();t(o.map(vw(n)))}})}function vw(e){return t=>({...Rr(t),version:e})}const bw=(e,t)=>n=>{Xo(yw,e,t,n)},ww=()=>function*(e){let{settings:t,doc:{tableIds:n,memoIds:r},collections:o}=e;const i=aa(o).collection("tableEntities").selectByIds(n),a=aa(o).collection("memoEntities").selectByIds(r),s=bg(t,i,a),l=di();yield uk(),yield Yg({[l]:dg}),yield sv({id:l,ui:{...s,zIndex:yg(i,a)}})},xw=e=>function*(t){let{editor:{selectedMap:n}}=t;if(e)return void(yield uv({id:e}));const r=Object.entries(n).filter((e=>{let[,t]=e;return t===dg}));for(const[e]of r)yield uv({id:e})},kw=(e,t)=>function*(n){let{doc:{tableIds:r,memoIds:o},collections:i}=n;const a=aa(i).collection("tableEntities").selectByIds(r),s=aa(i).collection("memoEntities").selectByIds(o);t||(yield uk()),yield Yg({[e]:dg}),yield mv({id:e,zIndex:yg(a,s)})},Iw={addMemoAction$:ww,removeMemoAction$:xw,selectMemoAction$:kw},$w={columnName:"columnName",columnDataType:"columnDataType",columnNotNull:"columnNotNull",columnUnique:"columnUnique",columnAutoIncrement:"columnAutoIncrement",columnDefault:"columnDefault",columnComment:"columnComment"},Cw=Qo(Object.values($w));function Tw(e,t){return t.filter((t=>{switch(t){case Jm.columnName:return!0;case Jm.columnDataType:return Cp(e,Xm.columnDataType);case Jm.columnDefault:return Cp(e,Xm.columnDefault);case Jm.columnComment:return Cp(e,Xm.columnComment);case Jm.columnAutoIncrement:return Cp(e,Xm.columnAutoIncrement);case Jm.columnUnique:return Cp(e,Xm.columnUnique);case Jm.columnNotNull:return Cp(e,Xm.columnNotNull);default:return!1}}))}const Aw=()=>function*(e){let{settings:t,doc:{tableIds:n,memoIds:r},collections:o}=e;const i=aa(o).collection("tableEntities").selectByIds(n),a=aa(o).collection("memoEntities").selectByIds(r),s=bg(t,i,a),l=di();yield Zg(),yield Yg({[l]:ug}),yield Eb({id:l,ui:{...s,zIndex:yg(i,a)}}),yield Jg({tableId:l})},Ow=e=>function*(t){let{doc:{relationshipIds:n,indexIds:r},editor:{selectedMap:o},collections:i}=t;const a=aa(i).collection("relationshipEntities").selectByIds(n),s=aa(i).collection("indexEntities").selectByIds(r);if(e){const t=a.filter((t=>{let{start:n,end:r}=t;return n.tableId===e||r.tableId===e})),n=s.filter((t=>{let{tableId:n}=t;return n===e}));for(const{id:e}of n)yield Dy({id:e});for(const{id:e}of t)yield $v({id:e});return void(yield Db({id:e}))}const l=Object.entries(o).filter((e=>{let[,t]=e;return t===ug})).map((e=>{let[t]=e;return t})),c=Qo(l),u=a.filter((e=>{let{start:t,end:n}=e;return c(t.tableId)||c(n.tableId)})),d=s.filter((e=>{let{tableId:t}=e;return c(t)}));for(const{id:e}of d)yield Dy({id:e});for(const{id:e}of u)yield $v({id:e});for(const e of l)yield Db({id:e})},Sw=(e,t)=>function*(n){let{doc:{tableIds:r,memoIds:o},collections:i,editor:{drawRelationship:a}}=n;const s=aa(i).collection("tableEntities"),l=s.selectByIds(r),c=aa(i).collection("memoEntities").selectByIds(o);if(t||(yield Zg()),yield Yg({[e]:ug}),yield zb({id:e,zIndex:yg(l,c)}),yield Jg({tableId:e}),a)if(a.start){const t=s.selectById(a.start.tableId),n=s.selectById(e);if(!t||!n)return;const r=aa(i).collection("tableColumnEntities").selectByIds(t.columnIds).filter((e=>{let{options:t}=e;return Cp(t,dp.primaryKey)}));if(!r.length)return;const o=r.map((()=>di()));for(let e=0;e<r.length;e++){const t=r[e],i={id:o[e],tableId:n.id};yield[tw(i),uw({...i,value:!0}),rw({...i,value:t.name}),iw({...i,value:t.dataType}),aw({...i,value:t.default}),ow({...i,value:t.comment})]}yield Iv({id:di(),relationshipType:a.relationshipType,start:{tableId:t.id,columnIds:r.map((e=>{let{id:t}=e;return t}))},end:{tableId:n.id,columnIds:o}}),yield sy()}else yield fk(e)},Ew=e=>function*(t){let{editor:{selectedMap:n,focusTable:r},settings:{show:o,columnOrder:i},collections:a}=t;const s=r&&!Rg(r.focusType),l=Object.entries(n).filter((e=>{let[,t]=e;return t===ug})).map((e=>{let[t]=e;return t})).filter((e=>!s||e!==(null==r?void 0:r.tableId)));for(const t of l)for(const n of e){const e={id:di(),tableId:t};yield[tw(e),rw({...e,value:n.name}),iw({...e,value:n.dataType}),aw({...e,value:n.default}),ow({...e,value:n.comment}),uw({...e,value:Cp(n.options,dp.notNull)}),cw({...e,value:Cp(n.options,dp.unique)}),sw({...e,value:Cp(n.options,dp.autoIncrement)})]}if(!r||!s)return;const c=aa(a).collection("tableEntities").selectById(r.tableId);if(!c)return;const u=c.columnIds.filter(Qo(r.selectColumnIds));if(0===u.length)return;const d=c.columnIds.slice(c.columnIds.indexOf(u[u.length-1])+1),h=[...u,...d],f=Tw(o,i);yield ey();for(let t=0;t<h.length;t++){const n=h[t],o=e[t];if(!o)break;const i={id:n,tableId:c.id};yield[...f.map((e=>{switch(e){case Jm.columnName:return rw({...i,value:o.name});case Jm.columnDataType:return iw({...i,value:o.dataType});case Jm.columnDefault:return aw({...i,value:o.default});case Jm.columnComment:return ow({...i,value:o.comment});case Jm.columnAutoIncrement:return sw({...i,value:Cp(o.options,dp.autoIncrement)});case Jm.columnUnique:return cw({...i,value:Cp(o.options,dp.unique)});case Jm.columnNotNull:return uw({...i,value:Cp(o.options,dp.notNull)});default:return null}})).filter(Boolean),Kg({tableId:c.id,columnId:n,focusType:r.focusType,$mod:!0,shiftKey:!1})]}const m=e.slice(h.length);for(const e of m){const t=di(),n={id:t,tableId:c.id};yield[tw(n),...f.map((t=>{switch(t){case Jm.columnName:return rw({...n,value:e.name});case Jm.columnDataType:return iw({...n,value:e.dataType});case Jm.columnDefault:return aw({...n,value:e.default});case Jm.columnComment:return ow({...n,value:e.comment});case Jm.columnAutoIncrement:return sw({...n,value:Cp(e.options,dp.autoIncrement)});case Jm.columnUnique:return cw({...n,value:Cp(e.options,dp.unique)});case Jm.columnNotNull:return uw({...n,value:Cp(e.options,dp.notNull)});default:return null}})).filter(Boolean),Kg({tableId:c.id,columnId:t,focusType:r.focusType,$mod:!0,shiftKey:!1})]}},Nw={addTableAction$:Aw,removeTableAction$:Ow,selectTableAction$:Sw,pasteTableAction$:Ew};function Mw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const{doc:{relationshipIds:o},collections:i}=t,a=e.pop();return a&&(r.some((e=>{let{id:t}=e;return t===a.id}))||(r.push(a),aa(i).collection("relationshipEntities").selectByIds(o).forEach((t=>{let{start:r,end:o}=t;const i=r.columnIds.indexOf(a.id);if(-1!==i){const t=o.columnIds[i];e.push({id:t,tableId:o.tableId,value:n.value})}else{const t=o.columnIds.indexOf(a.id);if(-1!==t){const o=r.columnIds[t];e.push({id:o,tableId:r.tableId,value:n.value})}}}))),Mw(e,t,n,r)),r}const Dw=Qo([hg.columnNotNull,hg.columnUnique,hg.columnAutoIncrement]),Lw=Qo([hg.columnName,hg.columnDataType,hg.columnDefault,hg.columnComment]),jw=e=>function*(t){let{editor:{selectedMap:n}}=t;if(e){const t=di();return yield tw({id:t,tableId:e}),void(yield Kg({tableId:e,columnId:t,focusType:hg.columnName,$mod:!1,shiftKey:!1}))}const r=Object.entries(n).filter((e=>{let[,t]=e;return t===ug})).map((e=>{let[t]=e;return{tableId:t,id:di()}}));for(const e of r)yield tw(e);const o=So(r);o&&(yield Kg({tableId:o.tableId,columnId:o.id,focusType:hg.columnName,$mod:!1,shiftKey:!1}))},_w=(e,t)=>function*(n){const{doc:{relationshipIds:r,indexIds:o},editor:{focusTable:i},collections:a}=n;if(null!=i&&i.columnId){const e=function(e,t){const{collections:n,editor:{focusTable:r}}=e;if(null==r||!r.columnId)return null;const o=aa(n).collection("tableEntities").selectById(r.tableId);if(!o)return null;const i=o.columnIds.indexOf(r.columnId);if(i<=0)return null;let a=null;for(let e=i;e>=0;e--){const n=o.columnIds[e];if(!t.includes(n)){a=n;break}}return a}(n,t);e?yield Kg({tableId:i.tableId,columnId:e,focusType:i.focusType,$mod:!1,shiftKey:!1}):yield Jg({tableId:i.tableId,focusType:hg.tableName})}const s=Qo(t),l=aa(a).collection("relationshipEntities").selectByIds(r).filter((t=>{let{start:n,end:r}=t;return n.tableId===e&&n.columnIds.some(s)||r.tableId===e&&r.columnIds.some(s)})),c=aa(a).collection("indexEntities").selectByIds(o).filter((t=>t.tableId===e&&aa(a).collection("indexColumnEntities").selectByIds(t.indexColumnIds).map((e=>{let{columnId:t}=e;return t})).some(s)));for(const{id:e}of c)yield Dy({id:e});for(const{id:e}of l)yield $v({id:e});for(const n of t)yield nw({id:n,tableId:e})},zw=(e,t,n)=>function*(r){let{collections:o}=r;if(!Dw(e))return;const i=aa(o).collection("tableColumnEntities").selectById(n);if(i)switch(e){case hg.columnNotNull:yield uw({id:n,tableId:t,value:!Cp(i.options,dp.notNull)});break;case hg.columnUnique:yield cw({id:n,tableId:t,value:!Cp(i.options,dp.unique)});break;case hg.columnAutoIncrement:yield sw({id:n,tableId:t,value:!Cp(i.options,dp.autoIncrement)})}},Rw=e=>function*(t){const{settings:{relationshipDataTypeSync:n}}=t;let r=[e];n&&(r=Mw([e],t,e)),yield r.map(iw)},Vw=(e,t,n,r)=>function*(o){let{collections:i}=o;if(!Lw(e)||!aa(i).collection("tableColumnEntities").selectById(n))return;const a={id:n,tableId:t,value:r};switch(e){case hg.columnName:yield rw(a);break;case hg.columnDataType:yield Rw(a);break;case hg.columnDefault:yield aw(a);break;case hg.columnComment:yield ow(a)}},Bw=(e,t)=>function*(n){let{collections:r}=n;const o=aa(r).collection("tableColumnEntities").selectById(t);if(!o)return;const i=Cp(o.options,dp.primaryKey);yield lw({tableId:e,id:t,value:!i})},Pw={addColumnAction$:jw,removeColumnAction$:_w,toggleColumnValueAction$:zw,changeColumnDataTypeAction$:Rw,changeColumnValueAction$:Vw,changeColumnPrimaryKeyAction$:Bw};function Uw(e){return 9+e.ui.width+8+1}function Ww(e){return 25+e.ui.height+8+1}const Fw="string",Zw="leftParent",Yw="rightParent",Hw="comma",qw="period",Gw=e=>t=>e===t,Qw=e=>t=>e.test(t),Xw={doubleQuote:Gw('"'),singleQuote:Gw("'"),backtick:Gw("`"),whiteSpace:Qw(/\s/),string:Qw(/\S/),breakString:Qw(/;|,|\(|\)|\[|\]|\./),equal:Gw("="),period:Gw("."),comma:Gw(","),semicolon:Gw(";"),leftParent:Gw("("),rightParent:Gw(")"),leftBracket:Gw("["),rightBracket:Gw("]")},Jw=e=>t=>n=>!!t[n]&&t[n].type===e,Kw=e=>{const t=e.toUpperCase();return e=>n=>!!e[n]&&e[n].value.toUpperCase()===t},ex=Jw(Fw),tx=Jw(qw),nx=Jw(Hw),rx=Jw(Zw),ox=Jw(Yw),ix=Kw("CREATE"),ax=Kw("ALTER"),sx=Kw("DROP"),lx=Kw("USE"),cx=Kw("RENAME"),ux=Kw("DELETE"),dx=Kw("SELECT"),hx=Kw("TABLE"),fx=Kw("INDEX"),mx=Kw("UNIQUE"),px=Kw("ADD"),gx=Kw("PRIMARY"),yx=Kw("KEY"),vx=Kw("CONSTRAINT"),bx=Kw("FOREIGN"),wx=Kw("NOT"),xx=Kw("NULL"),kx=Kw("DEFAULT"),Ix=Kw("COMMENT"),$x=Kw("REFERENCES"),Cx=Kw("ASC"),Tx=Kw("DESC"),Ax=Kw("ON"),Ox=Kw("AUTO_INCREMENT"),Sx=Kw("AUTOINCREMENT"),Ex=Kw("IF"),Nx=Kw("EXISTS"),Mx=Kw("ONLY"),Dx=e=>{const t=Ox(e),n=Sx(e);return e=>t(e)||n(e)},Lx=e=>{const t=ix(e),n=ax(e),r=sx(e),o=lx(e),i=cx(e),a=ux(e),s=dx(e);return e=>t(e)||n(e)||r(e)||o(e)||i(e)||a(e)||s(e)},jx=e=>{const t=ix(e),n=hx(e),r=Ex(e),o=wx(e),i=Nx(e);return e=>t(e)&&n(e+1)&&r(e+2)&&o(e+3)&&i(e+4)},_x=e=>{const t=ix(e),n=fx(e),r=mx(e);return e=>t(e)&&r(e+1)&&n(e+2)},zx=e=>{const t=ax(e),n=hx(e);return e=>t(e)&&n(e+1)},Rx=e=>{const t=zx(e),n=Mx(e);return e=>t(e)&&n(e+2)},Vx=e=>{const t=Rx(e),n=px(e),r=gx(e),o=yx(e),i=vx(e);return e=>(e=>t(e)&&n(e+4)&&r(e+5)&&o(e+6))(e)||(e=>t(e)&&n(e+4)&&i(e+5)&&r(e+7)&&o(e+8))(e)||(e=>t(e)&&n(e+6)&&r(e+7)&&o(e+8))(e)||(e=>t(e)&&n(e+6)&&i(e+7)&&r(e+9)&&o(e+10))(e)},Bx=e=>{const t=Rx(e),n=px(e),r=bx(e),o=yx(e),i=vx(e);return e=>(e=>t(e)&&n(e+4)&&r(e+5)&&o(e+6))(e)||(e=>t(e)&&n(e+4)&&i(e+5)&&r(e+7)&&o(e+8))(e)||(e=>t(e)&&n(e+6)&&r(e+7)&&o(e+8))(e)||(e=>t(e)&&n(e+6)&&i(e+7)&&r(e+9)&&o(e+10))(e)},Px=e=>{const t=Rx(e),n=px(e),r=mx(e),o=vx(e);return e=>(e=>t(e)&&n(e+4)&&r(e+5))(e)||(e=>t(e)&&n(e+4)&&o(e+5)&&r(e+7))(e)||(e=>t(e)&&n(e+6)&&r(e+7))(e)||(e=>t(e)&&n(e+6)&&o(e+7)&&r(e+9))(e)},Ux=Array.from(new Set(["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","GEOMETRY","GEOMETRYCOLLECTION","INT","INTEGER","JSON","LINESTRING","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MULTILINESTRING","MULTIPOINT","MULTIPOLYGON","NUMERIC","POINT","POLYGON","REAL","SET","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","YEAR","BIGINT","BINARY","BIT","CHAR","DATE","DATETIME","DATETIME2","DATETIMEOFFSET","DECIMAL","FLOAT","GEOGRAPHY","GEOMETRY","IMAGE","INT","MONEY","NCHAR","NTEXT","NUMERIC","NVARCHAR","REAL","SMALLDATETIME","SMALLINT","SMALLMONEY","SQL_VARIANT","TEXT","TIME","TINYINT","UNIQUEIDENTIFIER","VARBINARY","VARCHAR","XML","BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FLOAT","GEOMETRY","GEOMETRYCOLLECTION","INT","INTEGER","JSON","LINESTRING","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MULTILINESTRING","MULTIPOINT","MULTIPOLYGON","NUMERIC","POINT","POLYGON","SET","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","YEAR","BFILE","BINARY_DOUBLE","BINARY_FLOAT","BLOB","CHAR","CLOB","DATE","DATETIME","LONG RAW","LONG","NCHAR","NCLOB","NUMBER","NVARCHAR2","RAW","TIMESTAMP WITH LOCAL TIME ZONE","TIMESTAMP WITH TIME ZONE","TIMESTAMP","UriType","VARCHAR","VARCHAR2","XMLType","BIGINT","BIGSERIAL","BIT VARYING","BIT","BOOL","BOOLEAN","BOX","BYTEA","CHAR","CHARACTER VARYING","CHARACTER","CIDR","CIRCLE","DATE","DECIMAL","DOUBLE PRECISION","FLOAT4","FLOAT8","INET","INT","INT2","INT4","INT8","INTEGER","INTERVAL","JSON","JSONB","LINE","LSEG","MACADDR","MACADDR8","MONEY","NUMERIC","PATH","PG_LSN","POINT","POLYGON","REAL","SERIAL","SERIAL2","SERIAL4","SERIAL8","SMALLINT","SMALLSERIAL","TEXT","TIME WITH","TIME","TIMESTAMP WITH","TIMESTAMP","TIMESTAMPTZ","TIMETZ","TSQUERY","TSVECTOR","TXID_SNAPSHOT","UUID","VARBIT","VARCHAR","XML","BLOB","INTEGER","NUMERIC","REAL","TEXT"].map((e=>e.toUpperCase())))),Wx=e=>{const t=ex(e);return n=>{const r=e[n];return!!r&&t(n)&&Ux.includes(r.value.toUpperCase())}},Fx={createTable:"create.table",createIndex:"create.index",alterTableAddUnique:"alter.table.add.unique",alterTableAddPrimaryKey:"alter.table.add.primaryKey",alterTableAddForeignKey:"alter.table.add.foreignKey"},Zx={asc:"ASC",desc:"DESC"};function Yx(e,t){const n=Lx(e),r=ex(e),o=rx(e),i=tx(e),a=Ix(e),s=jx(e),l={type:Fx.createTable,name:"",comment:"",columns:[],indexes:[],foreignKeys:[]};for(t.value+=s(t.value)?5:2;t.value<e.length&&!n(t.value);){let n=e[t.value];if(o(t.value)){t.value++;const{columns:n,indexes:r,foreignKeys:o}=Hx(e,t);l.columns=n,l.indexes=r,l.foreignKeys=o}else!r(t.value)||l.name?a(t.value)?(n=e[++t.value],r(t.value)&&(l.comment=n.value,t.value++)):t.value++:(l.name=n.value,n=e[++t.value],i(t.value)&&(n=e[++t.value],r(t.value)&&(l.name=n.value,t.value++)))}return l}function Hx(e,t){const n=ex(e),r=rx(e),o=ox(e),i=nx(e),a=vx(e),s=fx(e),l=gx(e),c=bx(e),u=Dx(e),d=mx(e),h=xx(e),f=wx(e),m=kx(e),p=Ix(e),g=Tx(e),y=Cx(e),v=yx(e),b=Wx(e),w=()=>t.value<e.length,x=[],k=[],I=[],$=[],C=[];let T={name:"",dataType:"",default:"",comment:"",primaryKey:!1,autoIncrement:!1,unique:!1,nullable:!0};for(;w();){let A=e[t.value];if(!n(t.value)||T.name||a(t.value)||l(t.value)||c(t.value)||d(t.value)||s(t.value)||v(t.value))if(r(t.value)){for(A=e[++t.value];w()&&!o(t.value);)A=e[++t.value];t.value++}else if(a(t.value))A=e[++t.value],n(t.value)&&t.value++;else if(l(t.value)){if(A=e[++t.value],v(t.value))if(A=e[++t.value],r(t.value)){for(A=e[++t.value];w()&&!o(t.value);)n(t.value)&&$.push(A.value.toUpperCase()),A=e[++t.value];t.value++}else T.primaryKey=!0}else if(c(t.value)){const n=qx(e,t);n&&I.push(n)}else if(s(t.value)||v(t.value)){if(A=e[++t.value],n(t.value)){const a=A.value,s=[];if(A=e[++t.value],r(t.value)){A=e[++t.value];let r={name:"",sort:Zx.asc};for(;w()&&!o(t.value);)n(t.value)&&!g(t.value)&&!y(t.value)&&(r.name=A.value),g(t.value)&&(r.sort=Zx.desc),i(t.value)&&(s.push(r),r={name:"",sort:Zx.asc}),A=e[++t.value];!s.includes(r)&&""!==r.name&&s.push(r),s.length&&k.push({name:a,unique:!1,columns:s}),t.value++}}}else if(d(t.value))if(A=e[++t.value],v(t.value)&&(A=e[++t.value]),n(t.value)&&(A=e[++t.value]),r(t.value)){for(A=e[++t.value];w()&&!o(t.value);)n(t.value)&&C.push(A.value.toUpperCase()),A=e[++t.value];t.value++}else T.unique=!0;else if(f(t.value))A=e[++t.value],h(t.value)&&(T.nullable=!1,t.value++);else if(m(t.value))A=e[++t.value],n(t.value)&&(T.default=A.value,t.value++);else if(p(t.value))A=e[++t.value],n(t.value)&&(T.comment=A.value,t.value++);else if(u(t.value))T.autoIncrement=!0,t.value++;else if(b(t.value)){let n=A.value;if(A=e[++t.value],r(t.value)){for(n+="(",A=e[++t.value];w()&&!o(t.value);)n+=A.value,A=e[++t.value];n+=")",t.value++}T.dataType=n}else if(i(t.value))(T.name||T.dataType)&&x.push(T),T={name:"",dataType:"",default:"",comment:"",primaryKey:!1,autoIncrement:!1,unique:!1,nullable:!0},t.value++;else{if(o(t.value)){t.value++;break}t.value++}else T.name=A.value,t.value++}return!x.includes(T)&&(T.name||T.dataType)&&x.push(T),x.forEach((e=>{$.includes(e.name.toUpperCase())&&(e.primaryKey=!0),C.includes(e.name.toUpperCase())&&(e.unique=!0)})),{columns:x,indexes:k,foreignKeys:I}}function qx(e,t){const n=ex(e),r=rx(e),o=ox(e),i=$x(e),a=tx(e),s=yx(e),l=()=>t.value<e.length,c={columnNames:[],refTableName:"",refColumnNames:[]};let u=e[++t.value];if(s(t.value)){if(u=e[++t.value],r(t.value)){for(u=e[++t.value];l()&&!o(t.value);)n(t.value)&&c.columnNames.push(u.value),u=e[++t.value];u=e[++t.value]}if(i(t.value)&&(u=e[++t.value],n(t.value)&&(c.refTableName=u.value,u=e[++t.value],a(t.value)&&(u=e[++t.value],n(t.value)&&(c.refTableName=u.value,u=e[++t.value])),r(t.value)))){for(u=e[++t.value];l()&&!o(t.value);)n(t.value)&&c.refColumnNames.push(u.value),u=e[++t.value];u=e[++t.value]}if(c.columnNames.length&&c.columnNames.length===c.refColumnNames.length)return c}return null}function Gx(e,t){const n=Lx(e),r=ex(e),o=vx(e),i=tx(e),a=hx(e),s=bx(e),l=Bx(e)(t.value),c={type:Fx.alterTableAddForeignKey,name:"",columnNames:[],refTableName:"",refColumnNames:[]};for(t.value++;t.value<e.length&&!n(t.value);){let n=e[t.value];if(a(t.value))n=e[++t.value],l&&(n=e[++t.value]),r(t.value)&&(c.name=n.value,n=e[++t.value],i(t.value)&&(n=e[++t.value],r(t.value)&&(c.name=n.value,t.value++)));else if(o(t.value))n=e[++t.value],r(t.value)&&t.value++;else if(s(t.value)){const n=qx(e,t);n&&(c.columnNames=n.columnNames,c.refTableName=n.refTableName,c.refColumnNames=n.refColumnNames)}else t.value++}return c}function Qx(e,t){const n=Lx(e),r=ex(e),o=rx(e),i=ox(e),a=vx(e),s=gx(e),l=tx(e),c=yx(e),u=hx(e),d=Vx(e)(t.value),h=()=>t.value<e.length,f={type:Fx.alterTableAddPrimaryKey,name:"",columnNames:[]};for(t.value++;h()&&!n(t.value);){let n=e[t.value];if(u(t.value))n=e[++t.value],d&&(n=e[++t.value]),r(t.value)&&(f.name=n.value,n=e[++t.value],l(t.value)&&(n=e[++t.value],r(t.value)&&(f.name=n.value,t.value++)));else if(a(t.value))n=e[++t.value],r(t.value)&&t.value++;else if(s(t.value)){if(n=e[++t.value],c(t.value)&&(n=e[++t.value],o(t.value))){for(n=e[++t.value];h()&&!i(t.value);)r(t.value)&&f.columnNames.push(n.value),n=e[++t.value];n=e[++t.value]}}else t.value++}return f}function Xx(e,t){const n=Lx(e),r=ex(e),o=vx(e),i=tx(e),a=hx(e),s=mx(e),l=rx(e),c=ox(e),u=Px(e)(t.value),d=()=>t.value<e.length,h={type:Fx.alterTableAddUnique,name:"",columnNames:[]};for(t.value++;d()&&!n(t.value);){let n=e[t.value];if(a(t.value))n=e[++t.value],u&&(n=e[++t.value]),r(t.value)&&(h.name=n.value,n=e[++t.value],i(t.value)&&(n=e[++t.value],r(t.value)&&(h.name=n.value,t.value++)));else if(o(t.value))n=e[++t.value],r(t.value)&&t.value++;else if(s(t.value)){if(n=e[++t.value],l(t.value)){for(n=e[++t.value];d()&&!c(t.value);)r(t.value)&&h.columnNames.push(n.value),n=e[++t.value];t.value++}}else t.value++}return h}function Jx(e,t){const n=Lx(e),r=mx(e),o=ex(e),i=rx(e),a=ox(e),s=nx(e),l=fx(e),c=Ax(e),u=Tx(e),d=Cx(e),h=_x(e),f=()=>t.value<e.length,m={type:Fx.createIndex,name:"",unique:r(t.value+1),tableName:"",columns:[]};for(t.value+=h(t.value)?2:1;f()&&!n(t.value);){let n=e[t.value];if(l(t.value))n=e[++t.value],o(t.value)&&(m.name=n.value);else if(c(t.value)){if(n=e[++t.value],o(t.value)&&(m.tableName=n.value,n=e[++t.value],i(t.value))){n=e[++t.value];let r={name:"",sort:Zx.asc};for(;f()&&!a(t.value);)o(t.value)&&!u(t.value)&&!d(t.value)&&(r.name=n.value),u(t.value)&&(r.sort=Zx.desc),s(t.value)&&(m.columns.push(r),r={name:"",sort:Zx.asc}),n=e[++t.value];!m.columns.includes(r)&&""!==r.name&&m.columns.push(r),t.value++}}else t.value++}return m}function Kx(e){const t=[],n={value:0},r=(e=>{const t=ix(e),n=hx(e);return e=>t(e)&&n(e+1)})(e),o=(e=>{const t=ix(e),n=fx(e),r=_x(e);return e=>t(e)&&n(e+1)||r(e)})(e),i=(e=>{const t=Vx(e),n=zx(e),r=px(e),o=gx(e),i=yx(e),a=vx(e);return e=>(e=>n(e)&&r(e+3)&&o(e+4)&&i(e+5))(e)||(e=>n(e)&&r(e+3)&&a(e+4)&&o(e+6)&&i(e+7))(e)||(e=>n(e)&&r(e+5)&&o(e+6)&&i(e+7))(e)||(e=>n(e)&&r(e+5)&&a(e+6)&&o(e+8)&&i(e+9))(e)||t(e)})(e),a=(e=>{const t=Bx(e),n=zx(e),r=px(e),o=bx(e),i=yx(e),a=vx(e);return e=>(e=>n(e)&&r(e+3)&&o(e+4)&&i(e+5))(e)||(e=>n(e)&&r(e+3)&&a(e+4)&&o(e+6)&&i(e+7))(e)||(e=>n(e)&&r(e+5)&&o(e+6)&&i(e+7))(e)||(e=>n(e)&&r(e+5)&&a(e+6)&&o(e+8)&&i(e+9))(e)||t(e)})(e),s=(e=>{const t=Px(e),n=zx(e),r=px(e),o=mx(e),i=vx(e);return e=>(e=>n(e)&&r(e+3)&&o(e+4))(e)||(e=>n(e)&&r(e+3)&&i(e+4)&&o(e+6))(e)||(e=>n(e)&&r(e+5)&&o(e+6))(e)||(e=>n(e)&&r(e+5)&&i(e+6)&&o(e+8))(e)||t(e)})(e);for(;n.value<e.length;)r(n.value)?t.push(Yx(e,n)):o(n.value)?t.push(Jx(e,n)):i(n.value)?t.push(Qx(e,n)):a(n.value)?t.push(Gx(e,n)):s(n.value)?t.push(Xx(e,n)):n.value++;return t}function ek(e,t){for(const n of e)if(n.name.toUpperCase()===t.toUpperCase())return n;return null}function tk(e,t,n){const r=Ji({}),o=function(e){const t={tables:[],indexes:[],primaryKeys:[],foreignKeys:[],uniques:[]};for(const n of e)switch(n.type){case Fx.createTable:n.name&&t.tables.push(n);break;case Fx.createIndex:n.tableName&&n.columns.length&&t.indexes.push(n);break;case Fx.alterTableAddPrimaryKey:n.name&&n.columnNames.length&&t.primaryKeys.push(n);break;case Fx.alterTableAddForeignKey:n.name&&n.columnNames.length&&n.refTableName&&n.refColumnNames.length&&n.columnNames.length===n.refColumnNames.length&&t.foreignKeys.push(n);break;case Fx.alterTableAddUnique:n.name&&n.columnNames.length&&t.uniques.push(n)}return t}((e=>Kx(function(e){const t=[];let n=0;const r=()=>n<e.length;for(;r();){let o=e[n];if(Xw.whiteSpace(o))for(;r()&&Xw.whiteSpace(o);)o=e[++n];else if(Xw.leftParent(o))t.push({type:Zw,value:o}),n++;else if(Xw.rightParent(o))t.push({type:Yw,value:o}),n++;else if(Xw.comma(o))t.push({type:Hw,value:o}),n++;else if(Xw.period(o))t.push({type:qw,value:o}),n++;else if(Xw.equal(o))t.push({type:"equal",value:o}),n++;else if(Xw.semicolon(o))t.push({type:"semicolon",value:o}),n++;else if(Xw.leftBracket(o)){let i="";for(o=e[++n];r()&&!Xw.rightBracket(o);)i+=o,o=e[++n];t.push({type:Fw,value:i}),n++}else if(Xw.doubleQuote(o)){let i="";for(o=e[++n];r()&&!Xw.doubleQuote(o);)i+=o,o=e[++n];t.push({type:Fw,value:i}),n++}else if(Xw.singleQuote(o)){let i="";for(o=e[++n];r()&&!Xw.singleQuote(o);)i+=o,o=e[++n];t.push({type:Fw,value:i}),n++}else if(Xw.backtick(o)){let i="";for(o=e[++n];r()&&!Xw.backtick(o);)i+=o,o=e[++n];t.push({type:Fw,value:i}),n++}else if(Xw.string(o)){let i="";for(;r()&&Xw.string(o)&&!Xw.breakString(o);)i+=o,o=e[++n];t.push({type:Fw,value:i})}else n++}return t}(e)))(e)),i=function(e){let{tables:t,indexes:n,primaryKeys:r,foreignKeys:o,uniques:i}=e;return n.forEach((e=>{const n=ek(t,e.tableName);n&&n.indexes.push({name:e.name,unique:e.unique,columns:e.columns})})),r.forEach((e=>{const n=ek(t,e.name);n&&e.columnNames.forEach((e=>{const t=ek(n.columns,e);t&&(t.primaryKey=!0)}))})),i.forEach((e=>{const n=ek(t,e.name);n&&e.columnNames.forEach((e=>{const t=ek(n.columns,e);t&&(t.unique=!0)}))})),o.forEach((e=>{const n=ek(t,e.name);n&&n.foreignKeys.push({columnNames:e.columnNames,refTableName:e.refTableName,refColumnNames:e.refColumnNames})})),t}(o),a=Qp(100*i.length);return r.settings.width=a,r.settings.height=a,i.forEach((e=>function(e,t,n){let{doc:r,collections:o}=e,{toWidth:i}=n;const a=Sb({name:t.name,comment:t.comment,ui:{widthName:sg(i(t.name)),widthComment:sg(i(t.comment))}});t.columns.forEach((e=>{const t=ew({tableId:a.id,name:e.name,comment:e.comment,dataType:e.dataType,default:e.default,options:(e.autoIncrement?dp.autoIncrement:0)|(e.primaryKey?dp.primaryKey:0)|(e.unique?dp.unique:0)|(e.nullable?0:dp.notNull),ui:{widthName:sg(i(e.name)),widthComment:sg(i(e.comment)),widthDataType:sg(i(e.dataType)),widthDefault:sg(i(e.default)),keys:e.primaryKey?hp.primaryKey:0}});a.columnIds.push(t.id),a.seqColumnIds.push(t.id),aa(o).collection("tableColumnEntities").setOne(t)})),r.tableIds.push(a.id),aa(o).collection("tableEntities").setOne(a)}(r,e,t))),function(e,t){let{doc:n,collections:r}=e;const o=aa(r).collection("tableEntities").selectByIds(n.tableIds),i=aa(r).collection("tableColumnEntities");t.forEach((e=>{if(!e.foreignKeys.length)return;const t=ek(o,e.name);if(!t)return;const a=i.selectByIds(t.columnIds);e.foreignKeys.forEach((e=>{const s=ek(o,e.refTableName);if(!s)return;const l=i.selectByIds(s.columnIds),c=[],u=[];e.refColumnNames.forEach((e=>{const t=ek(l,e);t&&c.push(t)})),e.columnNames.forEach((e=>{const t=ek(a,e);t&&(u.push(t),Cp(t.ui.keys,hp.primaryKey)?t.ui.keys|=hp.foreignKey:t.ui.keys=hp.foreignKey)}));const d=kv({identification:!u.some((e=>!(Cp(e.ui.keys,hp.primaryKey)&&Cp(e.ui.keys,hp.foreignKey)))),relationshipType:lp.ZeroN,start:{tableId:s.id,columnIds:c.map((e=>e.id))},end:{tableId:t.id,columnIds:u.map((e=>e.id))}});n.relationshipIds.push(d.id),aa(r).collection("relationshipEntities").setOne(d)}))}))}(r,i),function(e,t){let{doc:n,collections:r}=e;const o=aa(r).collection("tableEntities").selectByIds(n.tableIds);t.forEach((e=>{e.indexes.forEach((t=>{const i=ek(o,e.name);if(!i)return;const a=aa(r).collection("tableColumnEntities").selectByIds(i.columnIds),s=[],l=Ny({name:t.name,tableId:i.id,unique:t.unique});t.columns.forEach((e=>{const t=ek(a,e.name);if(!t)return;const n=Wy({indexId:l.id,columnId:t.id,orderType:e.sort===Zx.asc?fp.ASC:fp.DESC});s.push(n)})),0!==s.length&&(s.forEach((e=>{l.indexColumnIds.push(e.id),l.seqIndexColumnIds.push(e.id),aa(r).collection("indexColumnEntities").setOne(e)})),n.indexIds.push(l.id),aa(r).collection("indexEntities").setOne(l))}))}))}(r,i),_a(n?n(r):r)}function nk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const{doc:{relationshipIds:r},collections:o}=t,i=e.pop();return i&&(n.some((e=>{let{columnId:t}=e;return t===i.columnId}))||(n.push(i),aa(o).collection("relationshipEntities").selectByIds(r).forEach((t=>{let{id:n,start:r,end:o}=t;const a=r.columnIds.indexOf(i.columnId);if(-1!==a){const t=o.columnIds[a];e.push({columnId:t,relationshipIds:[n]})}else{const t=o.columnIds.indexOf(i.columnId);if(-1!==t){const o=r.columnIds[t];e.push({columnId:o,relationshipIds:[n]})}}}))),nk(e,t,n)),n}const rk=15;function ok(e){return Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return r===ug?e.tableIds.push(n):r===dg&&e.memoIds.push(n),e}),{tableIds:[],memoIds:[]})}const ik=e=>function*(){yield qg(),yield Gg({value:e})},ak=e=>function*(){yield Qg(),yield Xg({value:e})},sk=(e,t)=>function*(n){let{editor:{selectedMap:r},settings:{zoomLevel:o}}=n;const{tableIds:i,memoIds:a}=ok(r),s=e/o,l=t/o;i.length&&(yield Nb({ids:i,movementX:s,movementY:l})),a.length&&(yield lv({ids:a,movementX:s,movementY:l}))},lk=()=>function*(){yield Ow(),yield xw()},ck=e=>function*(t){const{doc:{tableIds:n,memoIds:r},collections:o}=t,i={...aa(o).collection("tableEntities").selectByIds(n).reduce(((n,r)=>{const o=Cb(r,t).width,i=Ab(r),a=r.ui.x+o/2-rk,s=r.ui.y+i/2-rk;return Tp(e,{x:a,y:s,w:rk,h:rk})&&(n[r.id]=ug),n}),{}),...aa(o).collection("memoEntities").selectByIds(r).reduce(((t,n)=>{const r=Uw(n),o=Ww(n),i=n.ui.x+r/2-rk,a=n.ui.y+o/2-rk;return Tp(e,{x:i,y:a,w:rk,h:rk})&&(t[n.id]=dg),t}),{})};yield uk(),_o(i)||(yield Yg(i))},uk=()=>function*(){yield Zg(),yield ey()},dk=(e,t)=>function*(n){const{editor:{focusTable:r}}=n;r&&(e===fg.Tab&&!t&&(Rg(r.focusType)&&_g(n)&&!Og(n)||!Rg(r.focusType)&&Sg(n)&&Ng(n))?yield jw(r.tableId):yield ty({moveKey:e,shiftKey:t}))},hk=e=>function*(t){let{editor:n}=t;var r;(null==(r=n.drawRelationship)?void 0:r.relationshipType)===e?yield sy():yield iy({relationshipType:e})},fk=e=>function*(t){let{collections:n}=t;const r=aa(n).collection("tableEntities").selectById(e);if(r){if(!aa(n).collection("tableColumnEntities").selectByIds(r.columnIds).some((e=>Cp(e.options,dp.primaryKey)))){const t=di();yield tw({tableId:e,id:t}),yield lw({tableId:e,id:t,value:!0}),yield Kg({tableId:e,columnId:t,focusType:hg.columnName,$mod:!1,shiftKey:!1})}yield ay({tableId:e})}},mk=e=>function*(t){let{editor:{selectedMap:n},collections:r}=t;const{tableIds:o,memoIds:i}=ok(n),a=aa(r).collection("tableEntities").selectByIds(o),s=aa(r).collection("memoEntities").selectByIds(i);yield a.map((t=>_b({id:t.id,color:e,prevColor:t.ui.color}))),yield s.map((t=>hv({id:t.id,color:e,prevColor:t.ui.color})))},pk=e=>function*(t,n){let{settings:r}=t;yield ik(tk(e,n,(e=>(e.settings={...e.settings,...Vo(Rr(r),["width","height","scrollTop","scrollLeft","zoomLevel"])},e)))),yield Rb()},gk=e=>function*(t){let{editor:{focusTable:n}}=t;!n||!n.columnId||(yield hy({tableId:n.tableId,columnIds:e?[...n.selectColumnIds]:[n.columnId]}))},yk=(e,t)=>function*(n){let{editor:{draggableColumn:r},collections:o}=n;if(!r||0===r.columnIds.length)return;const{tableId:i,columnIds:a}=r,s=aa(o).collection("tableEntities"),l=s.selectById(i);if(!l)return;if(t===i){const t=l.columnIds.indexOf(a[0]);if(-1===t)return;const n=l.columnIds.indexOf(e);if(-1===n)return;const r=a.map((t=>dw({tableId:i,id:t,targetId:e})));return t<n&&r.reverse(),void(yield r)}if(!s.selectById(t))return;const c=aa(o).collection("tableColumnEntities").selectByIds(a);if(0===c.length)return;yield _w(i,a);const u=c.map((()=>di()));for(let n=0;n<c.length;n++){const r=c[n],o=u[n],i={id:o,tableId:t};yield[tw(i),rw({...i,value:r.name}),iw({...i,value:r.dataType}),aw({...i,value:r.default}),ow({...i,value:r.comment}),lw({...i,value:Cp(r.options,dp.primaryKey)}),uw({...i,value:Cp(r.options,dp.notNull)}),cw({...i,value:Cp(r.options,dp.unique)}),sw({...i,value:Cp(r.options,dp.autoIncrement)}),dw({...i,targetId:e}),Kg({tableId:t,columnId:o,focusType:hg.columnName,$mod:!0,shiftKey:!1})]}yield hy({tableId:t,columnIds:u})},vk=e=>function*(t){const{columnIds:n,relationshipIds:r}=nk([{columnId:e,relationshipIds:[]}],t).reduce(((e,t)=>{let{columnId:n,relationshipIds:r}=t;return e.columnIds.push(n),e.relationshipIds.push(...r),e}),{columnIds:[],relationshipIds:[]});yield cy({columnIds:Go(n)}),yield uy({relationshipIds:Go(r)})},bk=()=>function*(){yield cy({columnIds:[]}),yield uy({relationshipIds:[]})},wk={loadJsonAction$:ik,initialLoadJsonAction$:ak,moveAllAction$:sk,removeSelectedAction$:lk,dragSelectAction$:ck,unselectAllAction$:uk,focusMoveTableAction$:dk,drawStartRelationshipAction$:hk,drawStartAddRelationshipAction$:fk,changeColorAllAction$:mk,loadSchemaSQLAction$:pk,dragstartColumnAction$:gk,dragoverColumnAction$:yk,columnKeyHoverStartAction$:vk,columnKeyHoverEndAction$:bk},xk=e=>function*(){yield My({id:di(),tableId:e})},kk=e=>function*(t){let{collections:n}=t;const r=aa(n).collection("indexEntities").selectById(e);r&&(yield jy({id:e,tableId:r.tableId,value:!r.unique}))},Ik={addIndexAction$:xk,changeIndexUniqueAction$:kk},$k=(e,t)=>function*(n){let{collections:r}=n;const o=aa(r).collection("indexEntities").selectById(e);if(!o)return;const i=aa(r).collection("indexColumnEntities").selectByIds(o.seqIndexColumnIds).find((e=>e.columnId===t));i?yield Zy({id:i.id,indexId:e,tableId:o.tableId,columnId:t}):yield Zy({id:di(),indexId:e,tableId:o.tableId,columnId:t})},Ck=(e,t)=>function*(n){let{collections:r}=n;const o=aa(r).collection("indexEntities").selectById(e);if(!o)return;const i=aa(r).collection("indexColumnEntities").selectByIds(o.indexColumnIds).filter((e=>e.columnId===t));for(const t of i)yield Yy({id:t.id,indexId:e,tableId:o.tableId})},Tk=e=>function*(t){let{collections:n}=t;const r=aa(n).collection("indexColumnEntities").selectById(e);r&&(yield qy({id:e,indexId:r.indexId,columnId:r.columnId,value:r.orderType===fp.ASC?fp.DESC:fp.ASC}))},Ak=(e,t)=>function*(n){let{collections:r}=n;if(e===t)return;const o=aa(r).collection("indexColumnEntities").selectById(e);if(!o)return;const i=aa(r).collection("indexEntities").selectById(o.indexId);i&&(yield Hy({id:e,indexId:o.indexId,tableId:i.tableId,targetId:t}))},Ok={addIndexColumnAction$:$k,removeIndexColumnAction$:Ck,changeIndexColumnOrderTypeAction$:Tk,moveIndexColumnAction$:Ak};function Sk(e,t){let{editor:{viewport:n},settings:{scrollLeft:r,scrollTop:o,zoomLevel:i,width:a,height:s}}=e;const l=Ap(a,s,i),c=Ap(a,s,t),u=(l.w-c.w)/2,d=(l.h-c.h)/2,h=a/2,f=s/2,m=-1*r+n.width/2,p=(f-(-1*o+n.height/2))/f;return{movementX:Yo(-1*u*((h-m)/h),4),movementY:Yo(-1*d*p,4)}}const Ek=e=>function*(t){const{settings:{scrollLeft:n,scrollTop:r}}=t,o=Xp(e),{movementX:i,movementY:a}=Sk(t,o);yield Gv({value:e}),yield Xv({scrollLeft:n+i,scrollTop:r+a})},Nk=e=>function*(t){const{settings:{zoomLevel:n}}=t,r=Xp(n+e),{movementX:o,movementY:i}=Sk(t,r);yield Qv({value:e}),yield Jv({movementX:o,movementY:i})},Mk={changeZoomLevelAction$:Ek,streamZoomLevelAction$:Nk},Dk=Object.freeze({...wy,...wk,...zy,...Ik,...Qy,...Ok,...gv,...Iw,...Av,...hb,...Mk,...Bb,...Nw,...fw,...Pw}),Lk=["table.add","table.move","table.moveTo","table.remove","table.changeName","table.changeComment","table.changeColor","table.sort","column.add","column.remove","column.changeName","column.changeComment","column.changeDataType","column.changeDefault","column.changeAutoIncrement","column.changePrimaryKey","column.changeUnique","column.changeNotNull","column.move","relationship.add","relationship.remove","relationship.changeType","index.add","index.remove","index.changeName","index.changeUnique","indexColumn.add","indexColumn.remove","indexColumn.move","indexColumn.changeOrderType","memo.add","memo.move","memo.moveTo","memo.remove","memo.changeValue","memo.changeColor","memo.resize","settings.changeDatabaseName","settings.resize","settings.changeZoomLevel","settings.streamZoomLevel","settings.scrollTo","settings.streamScrollTo","settings.changeShow","settings.changeDatabase","settings.changeCanvasType","settings.changeLanguage","settings.changeTableNameCase","settings.changeColumnNameCase","settings.changeBracketType","settings.changeRelationshipDataTypeSync","settings.changeRelationshipOptimization","settings.changeColumnOrder","settings.changeMaxWidthComment","settings.changeIgnoreSaveSettings","editor.loadJson","editor.clear"],jk=Qo(["settings.changeZoomLevel","settings.streamZoomLevel","settings.scrollTo","settings.streamScrollTo","settings.changeDatabase","settings.changeCanvasType","settings.changeLanguage","settings.changeTableNameCase","settings.changeColumnNameCase","settings.changeBracketType"]),_k=[...Lk.filter((e=>!jk(e)))],zk=["editor.sharedMouseTracker"],Rk=[...Lk,...zk,"editor.getLWW","editor.mergeLWW"],Vk=["table.move","memo.move"],Bk=["table.changeColor","memo.changeColor"],Pk=["settings.streamZoomLevel","settings.streamScrollTo"],Uk=[...Object.keys(gw)],Wk=[...Object.keys(pw),...Uk];var Fk;class Zk{constructor(){((e,n,r)=>{n.has(e)?t("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,0)})(this,Fk),n(this,"getVersion",(()=>((e,t,n)=>(r(e,t,"read from private field"),t.get(e)))(this,Fk))),n(this,"getNextVersion",(()=>this.getVersion()+1)),n(this,"merge",(e=>ui(e)?(this.getVersion()<e&&((e,t,n,o)=>{r(e,t,"write to private field"),t.set(e,n)})(this,Fk,e),this):this))}}Fk=new WeakMap;const Yk=gm((e=>!!e.length)),Hk=e=>{const t=Qo(e);return e=>new Bf((n=>e.subscribe({next:e=>n.next(e.filter((e=>t(e.type)))),error:e=>n.error(e),complete:()=>n.complete()}))).pipe(Yk)},qk="@@none-stream",Gk=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vm(200);const r=Qo(e),o=t.map((e=>{let[t,n]=e;return[t,Qo(n)]})),i=((e,t)=>n=>{const r=t.find((e=>{let[,t]=e;return t(n)}));return r?r[0]:e(n)?n:qk})(r,o);return e=>new Bf((t=>e.subscribe({next:e=>{const n=e.reduce(((e,t)=>{const n=i(t.type);return e[n]||(e[n]=[]),e[n].push(t),e}),{});Object.values(n).forEach((e=>t.next(e)))},error:e=>t.error(e),complete:()=>t.complete()}))).pipe(Yk,function(e,t,n,r){return Uf((function(o,i){var a;(!t||"function"==typeof t)&&(a=t);var s=new Map,l=function(e){s.forEach(e),e(i)},c=function(e){return l((function(t){return t.error(e)}))},u=0,d=!1,h=new Ff(i,(function(t){try{var o=e(t),l=s.get(o);if(!l){s.set(o,l=r?r():new Yf);var f=function(e,t){var n=new Bf((function(e){u++;var n=t.subscribe(e);return function(){n.unsubscribe(),0==--u&&d&&h.unsubscribe()}}));return n.key=e,n}(o,l);if(i.next(f),n){var m=Wf(l,(function(){l.complete(),null==m||m.unsubscribe()}),void 0,void 0,(function(){return s.delete(o)}));h.add(dm(n(f)).subscribe(m))}}l.next(a?a(t):t)}catch(e){c(e)}}),(function(){return l((function(e){return e.complete()}))}),c,(function(){return s.clear()}),(function(){return d=!0,0===u}));o.subscribe(h)}))}((e=>i(e[0].type))),pm((e=>e.key===qk?e:e.pipe(ym(e.pipe(n)),mm((e=>e.flat()))))))},Qk=Qo(Uk),Xk=Qo(zk),Jk=e=>e.pipe(Gk(zk,[],bm(100)),mm((e=>{var t;return Xk(null==(t=e[0])?void 0:t.type)?[So(e)]:e})),Gk(Uk,[["@@move",Vk],["@@scroll",Pk],["@@color",Bk]]),mm((e=>{var t;if(!Qk(null==(t=e[0])?void 0:t.type))return e;const n=[];for(const t of Object.keys(gw))gw[t]([],n,e);return n.length?n:e})));var Kk=e=>{throw TypeError(e)},eI=(e,t,n)=>t.has(e)||Kk("Cannot "+n),tI=(e,t,n)=>(eI(e,t,"read from private field"),n?n.call(e):t.get(e)),nI=(e,t,n)=>t.has(e)?Kk("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),rI=(e,t,n,r)=>(eI(e,t,"write to private field"),t.set(e,n),n),oI=(e,t,n)=>(eI(e,t,"access private method"),n);const iI={limit:-1,leading:!1,trailing:!1};var aI,sI,lI,cI;class uI{constructor(e){nI(this,lI),nI(this,aI,[]),nI(this,sI),rI(this,sI,Object.assign({},iI,{...e}))}isEmpty(){return!tI(this,aI).length}put(e){tI(this,aI).push(e),oI(this,lI,cI).call(this)}take(){return tI(this,aI).shift()}flush(){const e=tI(this,aI);return rI(this,aI,[]),e}drop(e){const t=tI(this,aI).findIndex(e);if(-1===t)return!1;const n=tI(this,aI).slice();return n.splice(t,1),rI(this,aI,n),!0}}aI=new WeakMap,sI=new WeakMap,lI=new WeakSet,cI=function(){-1!==tI(this,sI).limit&&tI(this,sI).limit<tI(this,aI).length&&(tI(this,sI).trailing?tI(this,aI).pop():tI(this,sI).leading?tI(this,aI).shift():tI(this,aI).pop())};const dI=e=>new uI(e),hI=Symbol.for("https://github.com/dineug/go.git#closed");var fI,mI,pI,gI,yI;class vI{constructor(e=dI()){nI(this,gI),nI(this,fI),nI(this,mI,dI()),nI(this,pI,!1),rI(this,fI,e)}get closed(){return tI(this,pI)}put(e){tI(this,pI)||(tI(this,fI).put(e),oI(this,gI,yI).call(this))}take(e,t){return tI(this,pI)?(null==t||t(hI),()=>!1):(tI(this,mI).put([e,t]),oI(this,gI,yI).call(this),()=>tI(this,mI).drop((t=>{let[n]=t;return n===e})))}flush(e,t){tI(this,pI)?null==t||t(hI):e(tI(this,fI).flush())}close(){rI(this,pI,!0),tI(this,mI).flush().forEach((e=>{let[t,n]=e;return null==n?void 0:n(hI)}))}}fI=new WeakMap,mI=new WeakMap,pI=new WeakMap,gI=new WeakSet,yI=function(){if(tI(this,mI).isEmpty()||tI(this,fI).isEmpty())return;const[e]=tI(this,mI).take(),t=tI(this,fI).take();null==e||e(t)};const bI=e=>new vI(e),wI=e=>t=>typeof t===e,xI=wI("object"),kI=wI("function"),{isArray:II}=Array,$I=e=>xI(e)&&!(e=>null===e)(e)&&!II(e),CI=e=>$I(e)&&kI(e.then),TI=e=>$I(e)&&kI(e.next),AI=e=>$I(e)&&kI(e.next)&&kI(e.throw)&&kI(e.return),OI=Symbol.for("https://github.com/dineug/go.git#cancel"),SI=Symbol.for("https://github.com/dineug/go.git#attachCancel"),EI=(e,t)=>(Reflect.set(e,SI,t),e),NI=e=>e===OI,MI=e=>{if($I(e)){const t=Reflect.get(e,SI);null==t||t()}return PI((()=>new Promise(((e,t)=>t(OI)))))},DI=e=>PI((function*(){let t=()=>!1;const n=new Promise(((n,r)=>{t=e.take(n,r)}));return EI(n,(()=>{t()})),yield n})),LI=e=>PI((()=>new Promise((t=>setTimeout(t,e))))),jI=Symbol.for("https://github.com/dineug/go.git#kill"),_I=e=>e===jI,zI=(e,t)=>{e.put(t)},RI=(e,t)=>PI((function*(){for(;;){const n=yield DI(e);PI(t,n)}})),VI={leading:!0,trailing:!1},BI=(e,t,n,r)=>PI((function*(){const o=Object.assign({},VI,{...r});let i,a,s=-1;for(;;){const r=yield DI(e);a=r,-1===s&&(o.leading&&(i=r,PI(t,r)),s=setTimeout((()=>{o.trailing&&(!o.leading||i!==a)&&PI(t,a),s=-1}),n))}}));function PI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let o=!1,i=null;const a=new Promise((async(t,r)=>{let a=null;i=()=>{r(OI),null==a||a.forEach(MI),a=null};try{const r=e(...n);if(CI(r))return a=[r],t(await r);if(!TI(r))return t(r);let i,s=await r.next();for(;!o&&!s.done;){try{const e=UI(s.value);a=II(e)?e:[e],i=await(II(e)?Promise.all(e):e),s=await r.next(i)}catch(e){if(_I(e))throw e;AI(r)&&(s=await r.throw(e))}i=void 0,a=null}t(s.value)}catch(e){NI(e)&&(o=!0),r(e)}}));return a.catch((()=>{})),EI(a,(()=>{o=!0,null==i||i()})),a}function UI(e){return CI(e)?e:TI(e)?PI((()=>e)):kI(e)?PI(e):II(e)?e.map((e=>PI((()=>e)))):Promise.resolve()}const WI={left:"left",right:"right",top:"top",bottom:"bottom"},FI=Object.values(WI);Qo([WI.top,WI.bottom,WI.left,WI.right]);const ZI=50,YI=35,HI=10,qI=16;function GI(e,t){const n=Cb(t,e).width,r=Ab(t),{x:o,y:i}=t.ui;return{width:n,height:r,top:{x:o+n/2,y:i},bottom:{x:o+n/2,y:i+r},left:{x:o,y:i+r/2},right:{x:o+n,y:i+r/2},lt:{x:o,y:i},rt:{x:o+n,y:i},lb:{x:o,y:i+r},rb:{x:o+n,y:i+r}}}function QI(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}const XI={[WI.top]:up.top,[WI.bottom]:up.bottom,[WI.left]:up.left,[WI.right]:up.right};function JI(e){const{doc:{tableIds:t,relationshipIds:n},collections:r}=e,o=Qo(t),i=aa(r).collection("tableEntities"),a=aa(r).collection("relationshipEntities").selectByIds(n).filter((e=>{let{start:t,end:n}=e;return o(t.tableId)&&o(n.tableId)})),s=new Map,l=new Map;for(const t of a){const n=e$(t),{start:r,end:o}=n,a=i.selectById(r.tableId),c=i.selectById(o.tableId);if(a&&c)if(l.set(t,n),r.tableId===o.tableId){r.direction=up.top,o.direction=up.right;const t=KI(e,s,a);r.x=t.objectPoint.rt.x-20,r.y=t.objectPoint.rt.y,o.x=t.objectPoint.rt.x,o.y=t.objectPoint.rt.y+20,t.top.set(n.id,n),t.right.set(n.id,n)}else{const t=KI(e,s,a),r=KI(e,s,c),[o,i]=t$(t.objectPoint,r.objectPoint,n);t[o].set(n.id,n),r[i].set(n.id,n)}}for(const e of s.values())for(const t of FI){const n=t;e[n].size<2||n$(n,e)}for(const[e,t]of l.entries())e.start.direction=t.start.direction,e.start.x=t.start.x,e.start.y=t.start.y,e.end.direction=t.end.direction,e.end.x=t.end.x,e.end.y=t.end.y}function KI(e,t,n){let r=t.get(n.id);return r||(r={tableId:n.id,objectPoint:GI(e,n),top:new Map,bottom:new Map,left:new Map,right:new Map},t.set(n.id,r)),r}function e$(e){return{id:e.id,start:{tableId:e.start.tableId,x:e.start.x,y:e.start.y,direction:e.start.direction},end:{tableId:e.end.tableId,x:e.end.x,y:e.end.y,direction:e.end.direction}}}function t$(e,t,n){const r=[WI.bottom,WI.bottom];let o=QI(e.bottom,t.bottom);n.start.x=e.bottom.x,n.start.y=e.bottom.y,n.end.x=t.bottom.x,n.end.y=t.bottom.y,n.start.direction=up.bottom,n.end.direction=up.bottom;for(const i of FI)for(const a of FI){const s=i,l=a,c=QI(e[s],t[l]);o<=c||(o=c,r[0]=s,r[1]=l,n.start.x=e[s].x,n.start.y=e[s].y,n.start.direction=XI[s],n.end.x=t[l].x,n.end.y=t[l].y,n.end.direction=XI[l])}return r}function n$(e,t){const n=function(e,t){const n=t[e].size,r=t.objectPoint.width/n,o=t.objectPoint.height/n,i=r/2,a=o/2,s=[],l=[];if(e===WI.left||e===WI.right){let e=t.objectPoint.lt.y-a;for(let t=0;t<n;t++)e+=o,l.push(e)}else if(e===WI.top||e===WI.bottom){let e=t.objectPoint.lt.x-i;for(let t=0;t<n;t++)e+=r,s.push(e)}return{xArray:s,yArray:l}}(e,t),r=function(e,t){const n=[],r=[],o=[],i=e===WI.top||e===WI.bottom;for(const o of t[e].values()){const{start:i,end:a}=o;i.tableId===a.tableId?e===WI.top?(n.push(o.start),r.push(o.end)):e===WI.right&&(n.push(o.end),r.push(o.start)):o.start.tableId===t.tableId?(n.push(o.start),r.push(o.end)):(n.push(o.end),r.push(o.start))}return r.forEach(((e,t)=>{o.push({start:n[t],end:r[t],distance:i?e.x:e.y})})),o.sort(((e,t)=>e.distance-t.distance))}(e,t);e===WI.left||e===WI.right?n.yArray.forEach(((e,t)=>{r[t].start.y=e})):(e===WI.top||e===WI.bottom)&&n.xArray.forEach(((e,t)=>{r[t].start.x=e}))}const r$=[[[nw,lw,Gg,Xg],function*(e,t){yield BI(e,(function*(){const{doc:e,collections:n}=t(),r=aa(n).collection("relationshipEntities").selectByIds(e.relationshipIds);for(const e of r){const{end:t,identification:r}=e,o=aa(n).collection("tableEntities").selectById(t.tableId);if(!o)continue;const i=Qo(o.columnIds),a=aa(n).collection("tableColumnEntities").selectByIds(t.columnIds).filter((e=>i(e.id)));if(!a.length)continue;const s=a.every((e=>Cp(e.options,dp.primaryKey)));s!==r&&(e.identification=s)}}),10,{leading:!1,trailing:!0})}],[[nw,uw,Gg,Xg],function*(e,t){yield BI(e,(function*(){const{doc:e,collections:n}=t(),r=aa(n).collection("relationshipEntities").selectByIds(e.relationshipIds);for(const e of r){const{end:t,startRelationshipType:r}=e,o=aa(n).collection("tableEntities").selectById(t.tableId);if(!o)continue;const i=Qo(o.columnIds),a=aa(n).collection("tableColumnEntities").selectByIds(t.columnIds).filter((e=>i(e.id)));if(!a.length)continue;const s=a.every((e=>Cp(e.options,dp.notNull)))?cp.dash:cp.ring;s!==r&&(e.startRelationshipType=s)}}),10,{leading:!1,trailing:!0})}],[[Kv,cb,Iv,lv,Nb,Mb,Lb,jb,tw,nw,rw,ow,iw,aw,Rb],function*(e,t){yield BI(e,(function*(){JI(t())}),5,{leading:!1,trailing:!0})}]],o$=[[[Gg,Xg],function*(e,t,n){yield BI(e,(function*(){const e=t();Ob(e,n),JI(e)}),5,{leading:!1,trailing:!0})}]],i$=[[[lw],function*(e,t){yield RI(e,(function*(e){let{payload:{id:n}}=e;const{collections:r}=t(),o=aa(r).collection("tableColumnEntities").selectById(n);!o||!Cp(o.options,dp.primaryKey)||Cp(o.options,dp.notNull)||(o.options=o.options|dp.notNull)}))}],[[Iv],function*(e,t){yield RI(e,(function*(e){let{payload:{id:n,end:r}}=e;const{doc:{relationshipIds:o},collections:i}=t();if(!o.includes(n))return;const a=aa(i).collection("tableColumnEntities").selectByIds(r.columnIds);for(const e of a)e.ui.keys=e.ui.keys|hp.foreignKey}))}],[[$v],function*(e,t){yield RI(e,(function*(e){let{payload:{id:n}}=e;const{doc:{relationshipIds:r},collections:o}=t();if(r.includes(n))return;const i=aa(o).collection("relationshipEntities").selectById(n);if(!i)return;const a=aa(o).collection("tableColumnEntities").selectByIds(i.end.columnIds);for(const e of a)e.ui.keys=-3&e.ui.keys}))}],[[Gg,Xg],function*(e,t){yield RI(e,(function*(){const{doc:e,collections:n}=t(),r=aa(n).collection("relationshipEntities").selectByIds(e.relationshipIds),o=aa(n).collection("tableEntities").selectByIds(e.tableIds),i=new Set,a=aa(n).collection("tableColumnEntities");for(const{end:e}of r){const t=a.selectByIds(e.columnIds);for(const e of t)e.ui.keys=e.ui.keys|hp.foreignKey,i.add(e.id)}for(const e of o){const t=a.selectByIds(e.columnIds);for(const e of t)Cp(e.ui.keys,hp.foreignKey)&&!i.has(e.id)&&(e.ui.keys=-3&e.ui.keys)}}))}]],a$=[...o$,...i$,...r$];class s$ extends Error{}class l$ extends s${constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class c$ extends s${constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class u$ extends s${constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class d$ extends s${}class h$ extends s${constructor(e){super(`Invalid unit ${e}`)}}class f$ extends s${}class m$ extends s${constructor(){super("Zone is an abstract class")}}const p$="numeric",g$="short",y$="long",v$={year:p$,month:p$,day:p$},b$={year:p$,month:g$,day:p$},w$={year:p$,month:g$,day:p$,weekday:g$},x$={year:p$,month:y$,day:p$},k$={year:p$,month:y$,day:p$,weekday:y$},I$={hour:p$,minute:p$},$$={hour:p$,minute:p$,second:p$},C$={hour:p$,minute:p$,second:p$,timeZoneName:g$},T$={hour:p$,minute:p$,second:p$,timeZoneName:y$},A$={hour:p$,minute:p$,hourCycle:"h23"},O$={hour:p$,minute:p$,second:p$,hourCycle:"h23"},S$={hour:p$,minute:p$,second:p$,hourCycle:"h23",timeZoneName:g$},E$={hour:p$,minute:p$,second:p$,hourCycle:"h23",timeZoneName:y$},N$={year:p$,month:p$,day:p$,hour:p$,minute:p$},M$={year:p$,month:p$,day:p$,hour:p$,minute:p$,second:p$},D$={year:p$,month:g$,day:p$,hour:p$,minute:p$},L$={year:p$,month:g$,day:p$,hour:p$,minute:p$,second:p$},j$={year:p$,month:g$,day:p$,weekday:g$,hour:p$,minute:p$},_$={year:p$,month:y$,day:p$,hour:p$,minute:p$,timeZoneName:g$},z$={year:p$,month:y$,day:p$,hour:p$,minute:p$,second:p$,timeZoneName:g$},R$={year:p$,month:y$,day:p$,weekday:y$,hour:p$,minute:p$,timeZoneName:y$},V$={year:p$,month:y$,day:p$,weekday:y$,hour:p$,minute:p$,second:p$,timeZoneName:y$};class B${get type(){throw new m$}get name(){throw new m$}get ianaName(){return this.name}get isUniversal(){throw new m$}offsetName(e,t){throw new m$}formatOffset(e,t){throw new m$}offset(e){throw new m$}equals(e){throw new m$}get isValid(){throw new m$}}let P$=null;class U$ extends B${static get instance(){return null===P$&&(P$=new U$),P$}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,t){let{format:n,locale:r}=t;return tT(e,n,r)}formatOffset(e,t){return iT(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return"system"===e.type}get isValid(){return!0}}let W$={};const F$={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let Z$={};class Y$ extends B${static create(e){return Z$[e]||(Z$[e]=new Y$(e)),Z$[e]}static resetCache(){Z$={},W$={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Y$.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,t){let{format:n,locale:r}=t;return tT(e,n,r,this.name)}formatOffset(e,t){return iT(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const n=function(e){return W$[e]||(W$[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),W$[e]}(this.name);let[r,o,i,a,s,l,c]=n.formatToParts?function(e,t){const n=e.formatToParts(t),r=[];for(let e=0;e<n.length;e++){const{type:t,value:o}=n[e],i=F$[t];"era"===t?r[i]=o:LC(i)||(r[i]=parseInt(o,10))}return r}(n,t):function(e,t){const n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,o,i,a,s,l,c,u]=r;return[a,o,i,s,l,c,u]}(n,t);"BC"===a&&(r=1-Math.abs(r));let u=+t;const d=u%1e3;return u-=d>=0?d:1e3+d,(XC({year:r,month:o,day:i,hour:24===s?0:s,minute:l,second:c,millisecond:0})-u)/6e4}equals(e){return"iana"===e.type&&e.name===this.name}get isValid(){return this.valid}}let H$={},q$={};function G$(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=JSON.stringify([e,t]);let r=q$[n];return r||(r=new Intl.DateTimeFormat(e,t),q$[n]=r),r}let Q$={},X$={},J$=null,K$={};function eC(e,t,n,r){const o=e.listingMode();return"error"===o?null:"en"===o?n(t):r(t)}class tC{constructor(e,t,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:r,floor:o,...i}=n;if(!t||Object.keys(i).length>0){const t={useGrouping:!1,...n};n.padTo>0&&(t.minimumIntegerDigits=n.padTo),this.inf=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=JSON.stringify([e,t]);let r=Q$[n];return r||(r=new Intl.NumberFormat(e,t),Q$[n]=r),r}(e,t)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}return WC(this.floor?Math.floor(e):HC(e,3),this.padTo)}}class nC{constructor(e,t,n){let r;if(this.opts=n,this.originalZone=void 0,this.opts.timeZone)this.dt=e;else if("fixed"===e.zone.type){const t=e.offset/60*-1,n=t>=0?`Etc/GMT+${t}`:`Etc/GMT${t}`;0!==e.offset&&Y$.create(n).valid?(r=n,this.dt=e):(r="UTC",this.dt=0===e.offset?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else"system"===e.zone.type?this.dt=e:"iana"===e.zone.type?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const o={...this.opts};o.timeZone=o.timeZone||r,this.dtf=G$(t,o)}format(){return this.originalZone?this.formatToParts().map((e=>{let{value:t}=e;return t})).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map((e=>{if("timeZoneName"===e.type){const t=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...e,value:t}}return e})):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class rC{constructor(e,t,n){this.opts={style:"long",...n},!t&&zC()&&(this.rtf=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{base:n,...r}=t,o=JSON.stringify([e,r]);let i=X$[o];return i||(i=new Intl.RelativeTimeFormat(e,t),X$[o]=i),i}(e,n))}format(e,t){return this.rtf?this.rtf.format(e,t):function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"always",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===n&&i){const n="days"===e;switch(t){case 1:return n?"tomorrow":`next ${o[e][0]}`;case-1:return n?"yesterday":`last ${o[e][0]}`;case 0:return n?"today":`this ${o[e][0]}`}}const a=Object.is(t,-0)||t<0,s=Math.abs(t),l=1===s,c=o[e],u=r?l?c[1]:c[2]||c[1]:l?o[e][0]:e;return a?`${s} ${u} ago`:`in ${s} ${u}`}(t,e,this.opts.numeric,"long"!==this.opts.style)}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const oC={firstDay:1,minimalDays:4,weekend:[6,7]};class iC{static fromOpts(e){return iC.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=e||vC.defaultLocale,a=i||(o?"en-US":J$||(J$=(new Intl.DateTimeFormat).resolvedOptions().locale,J$)),s=t||vC.defaultNumberingSystem,l=n||vC.defaultOutputCalendar,c=PC(r)||vC.defaultWeekSettings;return new iC(a,s,l,c,i)}static resetCache(){J$=null,q$={},Q$={},X$={}}static fromObject(){let{locale:e,numberingSystem:t,outputCalendar:n,weekSettings:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return iC.create(e,t,n,r)}constructor(e,t,n,r,o){const[i,a,s]=function(e){const t=e.indexOf("-x-");-1!==t&&(e=e.substring(0,t));const n=e.indexOf("-u-");if(-1===n)return[e];{let t,r;try{t=G$(e).resolvedOptions(),r=e}catch{const o=e.substring(0,n);t=G$(o).resolvedOptions(),r=o}const{numberingSystem:o,calendar:i}=t;return[r,o,i]}}(e);this.locale=i,this.numberingSystem=t||a||null,this.outputCalendar=n||s||null,this.weekSettings=r,this.intl=function(e,t,n){return(n||t)&&(e.includes("-u-")||(e+="-u"),n&&(e+=`-ca-${n}`),t&&(e+=`-nu-${t}`)),e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function(e){return(!e.numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return e&&t?"en":"intl"}clone(e){return e&&0!==Object.getOwnPropertyNames(e).length?iC.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,PC(e.weekSettings)||this.weekSettings,e.defaultToEN||!1):this}redefaultToEN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.clone({...e,defaultToEN:!0})}redefaultToSystem(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.clone({...e,defaultToEN:!1})}months(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return eC(this,e,uT,(()=>{const n=t?{month:e,day:"numeric"}:{month:e},r=t?"format":"standalone";return this.monthsCache[r][e]||(this.monthsCache[r][e]=function(e){const t=[];for(let n=1;n<=12;n++){const r=fO.utc(2009,n,1);t.push(e(r))}return t}((e=>this.extract(e,n,"month")))),this.monthsCache[r][e]}))}weekdays(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return eC(this,e,mT,(()=>{const n=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=t?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=function(e){const t=[];for(let n=1;n<=7;n++){const r=fO.utc(2016,11,13+n);t.push(e(r))}return t}((e=>this.extract(e,n,"weekday")))),this.weekdaysCache[r][e]}))}meridiems(){return eC(this,void 0,(()=>pT),(()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[fO.utc(2016,11,13,9),fO.utc(2016,11,13,19)].map((t=>this.extract(t,e,"dayperiod")))}return this.meridiemCache}))}eras(e){return eC(this,e,bT,(()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[fO.utc(-40,1,1),fO.utc(2017,1,1)].map((e=>this.extract(e,t,"era")))),this.eraCache[e]}))}extract(e,t,n){const r=this.dtFormatter(e,t).formatToParts().find((e=>e.type.toLowerCase()===n));return r?r.value:null}numberFormatter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new tC(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new nC(e,this.intl,t)}relFormatter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new rC(this.intl,this.isEnglish(),e)}listFormatter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=JSON.stringify([e,t]);let r=H$[n];return r||(r=new Intl.ListFormat(e,t),H$[n]=r),r}(this.intl,e)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:RC()?function(e){let t=K$[e];if(!t){const n=new Intl.Locale(e);t="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,K$[e]=t}return t}(this.locale):oC}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let aC=null;class sC extends B${static get utcInstance(){return null===aC&&(aC=new sC(0)),aC}static instance(e){return 0===e?sC.utcInstance:new sC(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new sC(nT(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${iT(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${iT(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return iT(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return"fixed"===e.type&&e.fixed===this.fixed}get isValid(){return!0}}class lC extends B${constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function cC(e,t){if(LC(e)||null===e)return t;if(e instanceof B$)return e;if(function(e){return"string"==typeof e}(e)){const n=e.toLowerCase();return"default"===n?t:"local"===n||"system"===n?U$.instance:"utc"===n||"gmt"===n?sC.utcInstance:sC.parseSpecifier(n)||Y$.create(e)}return jC(e)?sC.instance(e):"object"==typeof e&&"offset"in e&&"function"==typeof e.offset?e:new lC(e)}let uC,dC=()=>Date.now(),hC="system",fC=null,mC=null,pC=null,gC=60,yC=null;class vC{static get now(){return dC}static set now(e){dC=e}static set defaultZone(e){hC=e}static get defaultZone(){return cC(hC,U$.instance)}static get defaultLocale(){return fC}static set defaultLocale(e){fC=e}static get defaultNumberingSystem(){return mC}static set defaultNumberingSystem(e){mC=e}static get defaultOutputCalendar(){return pC}static set defaultOutputCalendar(e){pC=e}static get defaultWeekSettings(){return yC}static set defaultWeekSettings(e){yC=PC(e)}static get twoDigitCutoffYear(){return gC}static set twoDigitCutoffYear(e){gC=e%100}static get throwOnInvalid(){return uC}static set throwOnInvalid(e){uC=e}static resetCaches(){iC.resetCache(),Y$.resetCache()}}class bC{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const wC=[0,31,59,90,120,151,181,212,243,273,304,334],xC=[0,31,60,91,121,152,182,213,244,274,305,335];function kC(e,t){return new bC("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function IC(e,t,n){const r=new Date(Date.UTC(e,t-1,n));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const o=r.getUTCDay();return 0===o?7:o}function $C(e,t,n){return n+(qC(e)?xC:wC)[t-1]}function CC(e,t){const n=qC(e)?xC:wC,r=n.findIndex((e=>e<t));return{month:r+1,day:t-n[r]}}function TC(e,t){return(e-t+7)%7+1}function AC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const{year:r,month:o,day:i}=e,a=$C(r,o,i),s=TC(IC(r,o,i),n);let l,c=Math.floor((a-s+14-t)/7);return c<1?(l=r-1,c=KC(l,t,n)):c>KC(r,t,n)?(l=r+1,c=1):l=r,{weekYear:l,weekNumber:c,weekday:s,...aT(e)}}function OC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const{weekYear:r,weekNumber:o,weekday:i}=e,a=TC(IC(r,1,t),n),s=GC(r);let l,c=7*o+i-a-7+t;c<1?(l=r-1,c+=GC(l)):c>s?(l=r+1,c-=GC(r)):l=r;const{month:u,day:d}=CC(l,c);return{year:l,month:u,day:d,...aT(e)}}function SC(e){const{year:t,month:n,day:r}=e;return{year:t,ordinal:$C(t,n,r),...aT(e)}}function EC(e){const{year:t,ordinal:n}=e,{month:r,day:o}=CC(t,n);return{year:t,month:r,day:o,...aT(e)}}function NC(e,t){if(LC(e.localWeekday)&&LC(e.localWeekNumber)&&LC(e.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!LC(e.weekday)||!LC(e.weekNumber)||!LC(e.weekYear))throw new d$("Cannot mix locale-based week fields with ISO-based week fields");return LC(e.localWeekday)||(e.weekday=e.localWeekday),LC(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),LC(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}function MC(e){const t=_C(e.year),n=UC(e.month,1,12),r=UC(e.day,1,QC(e.year,e.month));return t?n?!r&&kC("day",e.day):kC("month",e.month):kC("year",e.year)}function DC(e){const{hour:t,minute:n,second:r,millisecond:o}=e,i=UC(t,0,23)||24===t&&0===n&&0===r&&0===o,a=UC(n,0,59),s=UC(r,0,59),l=UC(o,0,999);return i?a?s?!l&&kC("millisecond",o):kC("second",r):kC("minute",n):kC("hour",t)}function LC(e){return typeof e>"u"}function jC(e){return"number"==typeof e}function _C(e){return"number"==typeof e&&e%1==0}function zC(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function RC(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function VC(e,t,n){if(0!==e.length)return e.reduce(((e,r)=>{const o=[t(r),r];return e&&n(e[0],o[0])===e[0]?e:o}),null)[1]}function BC(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function PC(e){if(null==e)return null;if("object"!=typeof e)throw new f$("Week settings must be an object");if(!UC(e.firstDay,1,7)||!UC(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some((e=>!UC(e,1,7))))throw new f$("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function UC(e,t,n){return _C(e)&&e>=t&&e<=n}function WC(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return t=e<0?"-"+(""+-e).padStart(n,"0"):(""+e).padStart(n,"0"),t}function FC(e){if(!LC(e)&&null!==e&&""!==e)return parseInt(e,10)}function ZC(e){if(!LC(e)&&null!==e&&""!==e)return parseFloat(e)}function YC(e){if(!LC(e)&&null!==e&&""!==e){const t=1e3*parseFloat("0."+e);return Math.floor(t)}}function HC(e,t){const n=10**t;return(arguments.length>2&&void 0!==arguments[2]&&arguments[2]?Math.trunc:Math.round)(e*n)/n}function qC(e){return e%4==0&&(e%100!=0||e%400==0)}function GC(e){return qC(e)?366:365}function QC(e,t){const n=function(e,t){return e-12*Math.floor(e/12)}(t-1)+1;return 2===n?qC(e+(t-n)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function XC(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function JC(e,t,n){return-TC(IC(e,1,t),n)+t-1}function KC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=JC(e,t,n),o=JC(e+1,t,n);return(GC(e)-r+o)/7}function eT(e){return e>99?e:e>vC.twoDigitCutoffYear?1900+e:2e3+e}function tT(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const o=new Date(e),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(i.timeZone=r);const a={timeZoneName:t,...i},s=new Intl.DateTimeFormat(n,a).formatToParts(o).find((e=>"timezonename"===e.type.toLowerCase()));return s?s.value:null}function nT(e,t){let n=parseInt(e,10);Number.isNaN(n)&&(n=0);const r=parseInt(t,10)||0;return 60*n+(n<0||Object.is(n,-0)?-r:r)}function rT(e){const t=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(t))throw new f$(`Invalid unit value ${e}`);return t}function oT(e,t){const n={};for(const r in e)if(BC(e,r)){const o=e[r];if(null==o)continue;n[t(r)]=rT(o)}return n}function iT(e,t){const n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),o=e>=0?"+":"-";switch(t){case"short":return`${o}${WC(n,2)}:${WC(r,2)}`;case"narrow":return`${o}${n}${r>0?`:${r}`:""}`;case"techie":return`${o}${WC(n,2)}${WC(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function aT(e){return function(e,t){return["hour","minute","second","millisecond"].reduce(((t,n)=>(t[n]=e[n],t)),{})}(e)}const sT=["January","February","March","April","May","June","July","August","September","October","November","December"],lT=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],cT=["J","F","M","A","M","J","J","A","S","O","N","D"];function uT(e){switch(e){case"narrow":return[...cT];case"short":return[...lT];case"long":return[...sT];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const dT=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],hT=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],fT=["M","T","W","T","F","S","S"];function mT(e){switch(e){case"narrow":return[...fT];case"short":return[...hT];case"long":return[...dT];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const pT=["AM","PM"],gT=["Before Christ","Anno Domini"],yT=["BC","AD"],vT=["B","A"];function bT(e){switch(e){case"narrow":return[...vT];case"short":return[...yT];case"long":return[...gT];default:return null}}function wT(e,t){let n="";for(const r of e)r.literal?n+=r.val:n+=t(r.val);return n}const xT={D:v$,DD:b$,DDD:x$,DDDD:k$,t:I$,tt:$$,ttt:C$,tttt:T$,T:A$,TT:O$,TTT:S$,TTTT:E$,f:N$,ff:D$,fff:_$,ffff:R$,F:M$,FF:L$,FFF:z$,FFFF:V$};class kT{static create(e){return new kT(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}static parseFormat(e){let t=null,n="",r=!1;const o=[];for(let i=0;i<e.length;i++){const a=e.charAt(i);"'"===a?(n.length>0&&o.push({literal:r||/^\s+$/.test(n),val:n}),t=null,n="",r=!r):r||a===t?n+=a:(n.length>0&&o.push({literal:/^\s+$/.test(n),val:n}),n=a,t=a)}return n.length>0&&o.push({literal:r||/^\s+$/.test(n),val:n}),o}static macroTokenToFormatOpts(e){return xT[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.opts.forceSimple)return WC(e,t);const n={...this.opts};return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,t){const n="en"===this.loc.listingMode(),r=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,o=(t,n)=>this.loc.extract(e,t,n),i=t=>e.isOffsetFixed&&0===e.offset&&t.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,t.format):"",a=(t,r)=>n?function(e,t){return uT(t)[e.month-1]}(e,t):o(r?{month:t}:{month:t,day:"numeric"},"month"),s=(t,r)=>n?function(e,t){return mT(t)[e.weekday-1]}(e,t):o(r?{weekday:t}:{weekday:t,month:"long",day:"numeric"},"weekday"),l=t=>{const n=kT.macroTokenToFormatOpts(t);return n?this.formatWithSystemDefault(e,n):t},c=t=>n?function(e,t){return bT(t)[e.year<0?0:1]}(e,t):o({era:t},"era");return wT(kT.parseFormat(t),(t=>{switch(t){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12==0?12:e.hour%12);case"hh":return this.num(e.hour%12==0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return i({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return i({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return i({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return n?function(e){return pT[e.hour<12?0:1]}(e):o({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return r?o({day:"numeric"},"day"):this.num(e.day);case"dd":return r?o({day:"2-digit"},"day"):this.num(e.day,2);case"c":case"E":return this.num(e.weekday);case"ccc":return s("short",!0);case"cccc":return s("long",!0);case"ccccc":return s("narrow",!0);case"EEE":return s("short",!1);case"EEEE":return s("long",!1);case"EEEEE":return s("narrow",!1);case"L":return r?o({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?o({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return a("short",!0);case"LLLL":return a("long",!0);case"LLLLL":return a("narrow",!0);case"M":return r?o({month:"numeric"},"month"):this.num(e.month);case"MM":return r?o({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return a("short",!1);case"MMMM":return a("long",!1);case"MMMMM":return a("narrow",!1);case"y":return r?o({year:"numeric"},"year"):this.num(e.year);case"yy":return r?o({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?o({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?o({year:"numeric"},"year"):this.num(e.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return l(t)}}))}formatDurationFromString(e,t){const n=e=>{switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=kT.parseFormat(t),o=r.reduce(((e,t)=>{let{literal:n,val:r}=t;return n?e:e.concat(r)}),[]);return wT(r,(e=>t=>{const r=n(t);return r?this.num(e.get(r),t.length):t})(e.shiftTo(...o.map(n).filter((e=>e)))))}}const IT=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function $T(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e+t.source),"");return RegExp(`^${r}$`)}function CT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.reduce(((t,n)=>{let[r,o,i]=t;const[a,s,l]=n(e,i);return[{...r,...a},s||o,l]}),[{},null,1]).slice(0,2)}function TT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(null==e)return[null,null];for(const[t,r]of n){const n=t.exec(e);if(n)return r(n)}return[null,null]}function AT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(e,n)=>{const r={};let o;for(o=0;o<t.length;o++)r[t[o]]=FC(e[n+o]);return[r,null,n+o]}}const OT=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,ST=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,ET=RegExp(`${ST.source}(?:${OT.source}?(?:\\[(${IT.source})\\])?)?`),NT=RegExp(`(?:T${ET.source})?`),MT=AT("weekYear","weekNumber","weekDay"),DT=AT("year","ordinal"),LT=RegExp(`${ST.source} ?(?:${OT.source}|(${IT.source}))?`),jT=RegExp(`(?: ${LT.source})?`);function _T(e,t,n){const r=e[t];return LC(r)?n:FC(r)}function zT(e,t){return[{hours:_T(e,t,0),minutes:_T(e,t+1,0),seconds:_T(e,t+2,0),milliseconds:YC(e[t+3])},null,t+4]}function RT(e,t){const n=!e[t]&&!e[t+1],r=nT(e[t+1],e[t+2]);return[{},n?null:sC.instance(r),t+3]}function VT(e,t){return[{},e[t]?Y$.create(e[t]):null,t+1]}const BT=RegExp(`^T?${ST.source}$`),PT=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function UT(e){const[t,n,r,o,i,a,s,l,c]=e,u="-"===t[0],d=l&&"-"===l[0],h=function(e){return void 0!==e&&(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||e&&u)?-e:e};return[{years:h(ZC(n)),months:h(ZC(r)),weeks:h(ZC(o)),days:h(ZC(i)),hours:h(ZC(a)),minutes:h(ZC(s)),seconds:h(ZC(l),"-0"===l),milliseconds:h(YC(c),d)}]}const WT={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function FT(e,t,n,r,o,i,a){const s={year:2===t.length?eT(FC(t)):FC(t),month:lT.indexOf(n)+1,day:FC(r),hour:FC(o),minute:FC(i)};return a&&(s.second=FC(a)),e&&(s.weekday=e.length>3?dT.indexOf(e)+1:hT.indexOf(e)+1),s}const ZT=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function YT(e){const[,t,n,r,o,i,a,s,l,c,u,d]=e,h=FT(t,o,r,n,i,a,s);let f;return f=l?WT[l]:c?0:nT(u,d),[h,new sC(f)]}const HT=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,qT=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,GT=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function QT(e){const[,t,n,r,o,i,a,s]=e;return[FT(t,o,r,n,i,a,s),sC.utcInstance]}function XT(e){const[,t,n,r,o,i,a,s]=e;return[FT(t,s,n,r,o,i,a),sC.utcInstance]}const JT=$T(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,NT),KT=$T(/(\d{4})-?W(\d\d)(?:-?(\d))?/,NT),eA=$T(/(\d{4})-?(\d{3})/,NT),tA=$T(ET),nA=CT((function(e,t){return[{year:_T(e,t),month:_T(e,t+1,1),day:_T(e,t+2,1)},null,t+3]}),zT,RT,VT),rA=CT(MT,zT,RT,VT),oA=CT(DT,zT,RT,VT),iA=CT(zT,RT,VT),aA=CT(zT),sA=$T(/(\d{4})-(\d\d)-(\d\d)/,jT),lA=$T(LT),cA=CT(zT,RT,VT),uA="Invalid Duration",dA={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},hA={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...dA},fA=365.2425,mA=30.436875,pA={years:{quarters:4,months:12,weeks:fA/7,days:fA,hours:24*fA,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:fA/28,days:fA/4,hours:24*fA/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:mA/7,days:mA,hours:24*mA,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...dA},gA=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],yA=gA.slice(0).reverse();function vA(e,t){const n={values:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new xA(n)}function bA(e,t){let n=t.milliseconds??0;for(const r of yA.slice(1))t[r]&&(n+=t[r]*e[r].milliseconds);return n}function wA(e,t){const n=bA(e,t)<0?-1:1;gA.reduceRight(((r,o)=>{if(LC(t[o]))return r;if(r){const i=t[r]*n,a=e[o][r],s=Math.floor(i/a);t[o]+=s*n,t[r]-=s*a*n}return o}),null),gA.reduce(((n,r)=>{if(LC(t[r]))return n;if(n){const o=t[n]%1;t[n]-=o,t[r]+=o*e[n][r]}return r}),null)}class xA{constructor(e){const t="longterm"===e.conversionAccuracy||!1;let n=t?pA:hA;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||iC.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,t){return xA.fromObject({milliseconds:e},t)}static fromObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||"object"!=typeof e)throw new f$("Duration.fromObject: argument expected to be an object, got "+(null===e?"null":typeof e));return new xA({values:oT(e,xA.normalizeUnit),loc:iC.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(jC(e))return xA.fromMillis(e);if(xA.isDuration(e))return e;if("object"==typeof e)return xA.fromObject(e);throw new f$(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[n]=function(e){return TT(e,[PT,UT])}(e);return n?xA.fromObject(n,t):xA.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[n]=function(e){return TT(e,[BT,aA])}(e);return n?xA.fromObject(n,t):xA.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)throw new f$("need to specify a reason the Duration is invalid");const n=e instanceof bC?e:new bC(e,t);if(vC.throwOnInvalid)throw new u$(n);return new xA({invalid:n})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new h$(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={...t,floor:!1!==t.round&&!1!==t.floor};return this.isValid?kT.create(this.loc,n).formatDurationFromString(this,e):uA}toHuman(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return uA;const t=gA.map((t=>{const n=this.values[t];return LC(n)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:t.slice(0,-1)}).format(n)})).filter((e=>e));return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return 0!==this.years&&(e+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(e+=HC(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}toISOTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},fO.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?bA(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=xA.fromDurationLike(e),n={};for(const e of gA)(BC(t.values,e)||BC(this.values,e))&&(n[e]=t.get(e)+this.get(e));return vA(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const t=xA.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=rT(e(this.values[n],n));return vA(this,{values:t},!0)}get(e){return this[xA.normalizeUnit(e)]}set(e){return this.isValid?vA(this,{values:{...this.values,...oT(e,xA.normalizeUnit)}}):this}reconfigure(){let{locale:e,numberingSystem:t,conversionAccuracy:n,matrix:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return vA(this,{loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:r,conversionAccuracy:n})}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return wA(this.matrix,e),vA(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=function(e){const t={};for(const[n,r]of Object.entries(e))0!==r&&(t[n]=r);return t}(this.normalize().shiftToAll().toObject());return vA(this,{values:e},!0)}shiftTo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!this.isValid)return this;if(0===t.length)return this;t=t.map((e=>xA.normalizeUnit(e)));const r={},o={},i=this.toObject();let a;for(const e of gA)if(t.indexOf(e)>=0){a=e;let t=0;for(const n in o)t+=this.matrix[n][e]*o[n],o[n]=0;jC(i[e])&&(t+=i[e]);const n=Math.trunc(t);r[e]=n,o[e]=(1e3*t-1e3*n)/1e3}else jC(i[e])&&(o[e]=i[e]);for(const e in o)0!==o[e]&&(r[a]+=e===a?o[e]:o[e]/this.matrix[a][e]);return wA(this.matrix,r),vA(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=0===this.values[t]?0:-this.values[t];return vA(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(e,t){return void 0===e||0===e?void 0===t||0===t:e===t}for(const n of gA)if(!t(this.values[n],e.values[n]))return!1;return!0}}const kA="Invalid Interval";class IA{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)throw new f$("need to specify a reason the Interval is invalid");const n=e instanceof bC?e:new bC(e,t);if(vC.throwOnInvalid)throw new c$(n);return new IA({invalid:n})}static fromDateTimes(e,t){const n=mO(e),r=mO(t),o=function(e,t){return e&&e.isValid?t&&t.isValid?t<e?IA.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null:IA.invalid("missing or invalid end"):IA.invalid("missing or invalid start")}(n,r);return o??new IA({start:n,end:r})}static after(e,t){const n=xA.fromDurationLike(t),r=mO(e);return IA.fromDateTimes(r,r.plus(n))}static before(e,t){const n=xA.fromDurationLike(t),r=mO(e);return IA.fromDateTimes(r.minus(n),r)}static fromISO(e,t){const[n,r]=(e||"").split("/",2);if(n&&r){let e,o,i,a;try{e=fO.fromISO(n,t),o=e.isValid}catch{o=!1}try{i=fO.fromISO(r,t),a=i.isValid}catch{a=!1}if(o&&a)return IA.fromDateTimes(e,i);if(o){const n=xA.fromISO(r,t);if(n.isValid)return IA.after(e,n)}else if(a){const e=xA.fromISO(n,t);if(e.isValid)return IA.before(i,e)}}return IA.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds";return this.isValid?this.toDuration(e).get(e):NaN}count(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds",t=arguments.length>1?arguments[1]:void 0;if(!this.isValid)return NaN;const n=this.start.startOf(e,t);let r;return r=null!=t&&t.useLocaleWeeks?this.end.reconfigure({locale:n.locale}):this.end,r=r.startOf(e,t),Math.floor(r.diff(n,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return!!this.isValid&&this.s>e}isBefore(e){return!!this.isValid&&this.e<=e}contains(e){return!!this.isValid&&this.s<=e&&this.e>e}set(){let{start:e,end:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?IA.fromDateTimes(e||this.s,t||this.e):this}splitAt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!this.isValid)return[];const r=t.map(mO).filter((e=>this.contains(e))).sort(((e,t)=>e.toMillis()-t.toMillis())),o=[];let{s:i}=this,a=0;for(;i<this.e;){const e=r[a]||this.e,t=+e>+this.e?this.e:e;o.push(IA.fromDateTimes(i,t)),i=t,a+=1}return o}splitBy(e){const t=xA.fromDurationLike(e);if(!this.isValid||!t.isValid||0===t.as("milliseconds"))return[];let n,{s:r}=this,o=1;const i=[];for(;r<this.e;){const e=this.start.plus(t.mapUnits((e=>e*o)));n=+e>+this.e?this.e:e,i.push(IA.fromDateTimes(r,n)),r=n,o+=1}return i}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return!!this.isValid&&+this.e==+e.s}abutsEnd(e){return!!this.isValid&&+e.e==+this.s}engulfs(e){return!!this.isValid&&this.s<=e.s&&this.e>=e.e}equals(e){return!(!this.isValid||!e.isValid)&&this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return t>=n?null:IA.fromDateTimes(t,n)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return IA.fromDateTimes(t,n)}static merge(e){const[t,n]=e.sort(((e,t)=>e.s-t.s)).reduce(((e,t)=>{let[n,r]=e;return r?r.overlaps(t)||r.abutsStart(t)?[n,r.union(t)]:[n.concat([r]),t]:[n,t]}),[[],null]);return n&&t.push(n),t}static xor(e){let t=null,n=0;const r=[],o=e.map((e=>[{time:e.s,type:"s"},{time:e.e,type:"e"}])),i=Array.prototype.concat(...o).sort(((e,t)=>e.time-t.time));for(const e of i)n+="s"===e.type?1:-1,1===n?t=e.time:(t&&+t!=+e.time&&r.push(IA.fromDateTimes(t,e.time)),t=null);return IA.merge(r)}difference(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return IA.xor([this].concat(t)).map((e=>this.intersection(e))).filter((e=>e&&!e.isEmpty()))}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:kA}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v$,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?kT.create(this.s.loc.clone(t),e).formatInterval(this):kA}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:kA}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:kA}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:kA}toFormat(e){let{separator:t=" – "}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:kA}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):xA.invalid(this.invalidReason)}mapEndpoints(e){return IA.fromDateTimes(e(this.s),e(this.e))}}class $A{static hasDST(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vC.defaultZone;const t=fO.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return Y$.isValidZone(e)}static normalizeZone(e){return cC(e,vC.defaultZone)}static getStartOfWeek(){let{locale:e=null,locObj:t=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t||iC.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek(){let{locale:e=null,locObj:t=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t||iC.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays(){let{locale:e=null,locObj:t=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t||iC.create(e)).getWeekendDays().slice()}static months(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",{locale:t=null,numberingSystem:n=null,locObj:r=null,outputCalendar:o="gregory"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(r||iC.create(t,n,o)).months(e)}static monthsFormat(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",{locale:t=null,numberingSystem:n=null,locObj:r=null,outputCalendar:o="gregory"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(r||iC.create(t,n,o)).months(e,!0)}static weekdays(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",{locale:t=null,numberingSystem:n=null,locObj:r=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(r||iC.create(t,n,null)).weekdays(e)}static weekdaysFormat(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",{locale:t=null,numberingSystem:n=null,locObj:r=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(r||iC.create(t,n,null)).weekdays(e,!0)}static meridiems(){let{locale:e=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return iC.create(e).meridiems()}static eras(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"short",{locale:t=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return iC.create(t,null,"gregory").eras(e)}static features(){return{relative:zC(),localeWeek:RC()}}}function CA(e,t){const n=e=>e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(t)-n(e);return Math.floor(xA.fromMillis(r).as("days"))}const TA={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},AA={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},OA=TA.hanidec.replace(/[\[|\]]/g,"").split("");function SA(e){let{numberingSystem:t}=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new RegExp(`${TA[t||"latn"]}${n}`)}function EA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return{regex:e,deser:e=>{let[n]=e;return t(function(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(-1!==e[n].search(TA.hanidec))t+=OA.indexOf(e[n]);else for(const e in AA){const[n,o]=AA[e];r>=n&&r<=o&&(t+=r-n)}}return parseInt(t,10)}return t}(n))}}}const NA="[  ]",MA=new RegExp(NA,"g");function DA(e){return e.replace(/\./g,"\\.?").replace(MA,NA)}function LA(e){return e.replace(/\./g,"").replace(MA," ").toLowerCase()}function jA(e,t){return null===e?null:{regex:RegExp(e.map(DA).join("|")),deser:n=>{let[r]=n;return e.findIndex((e=>LA(r)===LA(e)))+t}}}function _A(e,t){return{regex:e,deser:e=>{let[,t,n]=e;return nT(t,n)},groups:t}}function zA(e){return{regex:e,deser:e=>{let[t]=e;return t}}}function RA(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const VA={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let BA=null;function PA(e,t){return Array.prototype.concat(...e.map((e=>function(e,t){if(e.literal)return e;const n=WA(kT.macroTokenToFormatOpts(e.val),t);return null==n||n.includes(void 0)?e:n}(e,t))))}function UA(e,t,n){const r=PA(kT.parseFormat(n),e),o=r.map((t=>function(e,t){const n=SA(t),r=SA(t,"{2}"),o=SA(t,"{3}"),i=SA(t,"{4}"),a=SA(t,"{6}"),s=SA(t,"{1,2}"),l=SA(t,"{1,3}"),c=SA(t,"{1,6}"),u=SA(t,"{1,9}"),d=SA(t,"{2,4}"),h=SA(t,"{4,6}"),f=e=>({regex:RegExp(RA(e.val)),deser:e=>{let[t]=e;return t},literal:!0}),m=(m=>{if(e.literal)return f(m);switch(m.val){case"G":return jA(t.eras("short"),0);case"GG":return jA(t.eras("long"),0);case"y":return EA(c);case"yy":case"kk":return EA(d,eT);case"yyyy":case"kkkk":return EA(i);case"yyyyy":return EA(h);case"yyyyyy":return EA(a);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return EA(s);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return EA(r);case"MMM":return jA(t.months("short",!0),1);case"MMMM":return jA(t.months("long",!0),1);case"LLL":return jA(t.months("short",!1),1);case"LLLL":return jA(t.months("long",!1),1);case"o":case"S":return EA(l);case"ooo":case"SSS":return EA(o);case"u":return zA(u);case"uu":return zA(s);case"uuu":case"E":case"c":return EA(n);case"a":return jA(t.meridiems(),0);case"EEE":return jA(t.weekdays("short",!1),1);case"EEEE":return jA(t.weekdays("long",!1),1);case"ccc":return jA(t.weekdays("short",!0),1);case"cccc":return jA(t.weekdays("long",!0),1);case"Z":case"ZZ":return _A(new RegExp(`([+-]${s.source})(?::(${r.source}))?`),2);case"ZZZ":return _A(new RegExp(`([+-]${s.source})(${r.source})?`),2);case"z":return zA(/[a-z_+-/]{1,256}?/i);case" ":return zA(/[^\S\n\r]/);default:return f(m)}})(e)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return m.token=e,m}(t,e))),i=o.find((e=>e.invalidReason));if(i)return{input:t,tokens:r,invalidReason:i.invalidReason};{const[e,n]=function(e){return[`^${e.map((e=>e.regex)).reduce(((e,t)=>`${e}(${t.source})`),"")}$`,e]}(o),i=RegExp(e,"i"),[a,s]=function(e,t,n){const r=e.match(t);if(r){const e={};let t=1;for(const o in n)if(BC(n,o)){const i=n[o],a=i.groups?i.groups+1:1;!i.literal&&i.token&&(e[i.token.val[0]]=i.deser(r.slice(t,t+a))),t+=a}return[r,e]}return[r,{}]}(t,i,n),[l,c,u]=s?function(e){let t,n=null;return LC(e.z)||(n=Y$.create(e.z)),LC(e.Z)||(n||(n=new sC(e.Z)),t=e.Z),LC(e.q)||(e.M=3*(e.q-1)+1),LC(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),LC(e.u)||(e.S=YC(e.u)),[Object.keys(e).reduce(((t,n)=>{const r=(e=>{switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(n);return r&&(t[r]=e[n]),t}),{}),n,t]}(s):[null,null,void 0];if(BC(s,"a")&&BC(s,"H"))throw new d$("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:r,regex:i,rawMatches:a,matches:s,result:l,zone:c,specificOffset:u}}}function WA(e,t){if(!e)return null;const n=kT.create(t,e).dtFormatter((BA||(BA=fO.fromMillis(1555555555555)),BA)),r=n.formatToParts(),o=n.resolvedOptions();return r.map((t=>function(e,t,n){const{type:r,value:o}=e;if("literal"===r){const e=/^\s+$/.test(o);return{literal:!e,val:e?" ":o}}const i=t[r];let a=r;"hour"===r&&(a=null!=t.hour12?t.hour12?"hour12":"hour24":null!=t.hourCycle?"h11"===t.hourCycle||"h12"===t.hourCycle?"hour12":"hour24":n.hour12?"hour12":"hour24");let s=VA[a];if("object"==typeof s&&(s=s[i]),s)return{literal:!1,val:s}}(t,e,o)))}const FA="Invalid DateTime";function ZA(e){return new bC("unsupported zone",`the zone "${e.name}" is not supported`)}function YA(e){return null===e.weekData&&(e.weekData=AC(e.c)),e.weekData}function HA(e){return null===e.localWeekData&&(e.localWeekData=AC(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function qA(e,t){const n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new fO({...n,...t,old:n})}function GA(e,t,n){let r=e-60*t*1e3;const o=n.offset(r);if(t===o)return[r,t];r-=60*(o-t)*1e3;const i=n.offset(r);return o===i?[r,o]:[e-60*Math.min(o,i)*1e3,Math.max(o,i)]}function QA(e,t){const n=new Date(e+=60*t*1e3);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function XA(e,t,n){return GA(XC(e),t,n)}function JA(e,t){const n=e.o,r=e.c.year+Math.trunc(t.years),o=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),i={...e.c,year:r,month:o,day:Math.min(e.c.day,QC(r,o))+Math.trunc(t.days)+7*Math.trunc(t.weeks)},a=xA.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),s=XC(i);let[l,c]=GA(s,n,e.zone);return 0!==a&&(l+=a,c=e.zone.offset(l)),{ts:l,o:c}}function KA(e,t,n,r,o,i){const{setZone:a,zone:s}=n;if(e&&0!==Object.keys(e).length||t){const r=t||s,o=fO.fromObject(e,{...n,zone:r,specificOffset:i});return a?o:o.setZone(s)}return fO.invalid(new bC("unparsable",`the input "${o}" can't be parsed as ${r}`))}function eO(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.isValid?kT.create(iC.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function tO(e,t){const n=e.c.year>9999||e.c.year<0;let r="";return n&&e.c.year>=0&&(r+="+"),r+=WC(e.c.year,n?6:4),t?(r+="-",r+=WC(e.c.month),r+="-",r+=WC(e.c.day)):(r+=WC(e.c.month),r+=WC(e.c.day)),r}function nO(e,t,n,r,o,i){let a=WC(e.c.hour);return t?(a+=":",a+=WC(e.c.minute),(0!==e.c.millisecond||0!==e.c.second||!n)&&(a+=":")):a+=WC(e.c.minute),(0!==e.c.millisecond||0!==e.c.second||!n)&&(a+=WC(e.c.second),(0!==e.c.millisecond||!r)&&(a+=".",a+=WC(e.c.millisecond,3))),o&&(e.isOffsetFixed&&0===e.offset&&!i?a+="Z":e.o<0?(a+="-",a+=WC(Math.trunc(-e.o/60)),a+=":",a+=WC(Math.trunc(-e.o%60))):(a+="+",a+=WC(Math.trunc(e.o/60)),a+=":",a+=WC(Math.trunc(e.o%60)))),i&&(a+="["+e.zone.ianaName+"]"),a}const rO={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},oO={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},iO={ordinal:1,hour:0,minute:0,second:0,millisecond:0},aO=["year","month","day","hour","minute","second","millisecond"],sO=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],lO=["year","ordinal","hour","minute","second","millisecond"];function cO(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new h$(e);return t}(e)}}function uO(e,t){const n=cC(t.zone,vC.defaultZone),r=iC.fromObject(t),o=vC.now();let i,a;if(LC(e.year))i=o;else{for(const t of aO)LC(e[t])&&(e[t]=rO[t]);const t=MC(e)||DC(e);if(t)return fO.invalid(t);const r=n.offset(o);[i,a]=XA(e,r,n)}return new fO({ts:i,zone:n,loc:r,o:a})}function dO(e,t,n){const r=!!LC(n.round)||n.round,o=(e,o)=>(e=HC(e,r||n.calendary?0:2,!0),t.loc.clone(n).relFormatter(n).format(e,o)),i=r=>n.calendary?t.hasSame(e,r)?0:t.startOf(r).diff(e.startOf(r),r).get(r):t.diff(e,r).get(r);if(n.unit)return o(i(n.unit),n.unit);for(const e of n.units){const t=i(e);if(Math.abs(t)>=1)return o(t,e)}return o(e>t?-0:0,n.units[n.units.length-1])}function hO(e){let t,n={};return e.length>0&&"object"==typeof e[e.length-1]?(n=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[n,t]}class fO{constructor(e){const t=e.zone||vC.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new bC("invalid input"):null)||(t.isValid?null:ZA(t));this.ts=LC(e.ts)?vC.now():e.ts;let r=null,o=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[r,o]=[e.old.c,e.old.o];else{const e=t.offset(this.ts);r=QA(this.ts,e),n=Number.isNaN(r.year)?new bC("invalid input"):null,r=n?null:r,o=n?null:e}this._zone=t,this.loc=e.loc||iC.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=r,this.o=o,this.isLuxonDateTime=!0}static now(){return new fO({})}static local(){const[e,t]=hO(arguments),[n,r,o,i,a,s,l]=t;return uO({year:n,month:r,day:o,hour:i,minute:a,second:s,millisecond:l},e)}static utc(){const[e,t]=hO(arguments),[n,r,o,i,a,s,l]=t;return e.zone=sC.utcInstance,uO({year:n,month:r,day:o,hour:i,minute:a,second:s,millisecond:l},e)}static fromJSDate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=function(e){return"[object Date]"===Object.prototype.toString.call(e)}(e)?e.valueOf():NaN;if(Number.isNaN(n))return fO.invalid("invalid input");const r=cC(t.zone,vC.defaultZone);return r.isValid?new fO({ts:n,zone:r,loc:iC.fromObject(t)}):fO.invalid(ZA(r))}static fromMillis(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(jC(e))return e<-864e13||e>864e13?fO.invalid("Timestamp out of range"):new fO({ts:e,zone:cC(t.zone,vC.defaultZone),loc:iC.fromObject(t)});throw new f$(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(jC(e))return new fO({ts:1e3*e,zone:cC(t.zone,vC.defaultZone),loc:iC.fromObject(t)});throw new f$("fromSeconds requires a numerical input")}static fromObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=e||{};const n=cC(t.zone,vC.defaultZone);if(!n.isValid)return fO.invalid(ZA(n));const r=iC.fromObject(t),o=oT(e,cO),{minDaysInFirstWeek:i,startOfWeek:a}=NC(o,r),s=vC.now(),l=LC(t.specificOffset)?n.offset(s):t.specificOffset,c=!LC(o.ordinal),u=!LC(o.year),d=!LC(o.month)||!LC(o.day),h=u||d,f=o.weekYear||o.weekNumber;if((h||c)&&f)throw new d$("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&c)throw new d$("Can't mix ordinal dates with month/day");const m=f||o.weekday&&!h;let p,g,y=QA(s,l);m?(p=sO,g=oO,y=AC(y,i,a)):c?(p=lO,g=iO,y=SC(y)):(p=aO,g=rO);let v=!1;for(const e of p)LC(o[e])?o[e]=v?g[e]:y[e]:v=!0;const b=m?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=_C(e.weekYear),o=UC(e.weekNumber,1,KC(e.weekYear,t,n)),i=UC(e.weekday,1,7);return r?o?!i&&kC("weekday",e.weekday):kC("week",e.weekNumber):kC("weekYear",e.weekYear)}(o,i,a):c?function(e){const t=_C(e.year),n=UC(e.ordinal,1,GC(e.year));return t?!n&&kC("ordinal",e.ordinal):kC("year",e.year)}(o):MC(o),w=b||DC(o);if(w)return fO.invalid(w);const x=m?OC(o,i,a):c?EC(o):o,[k,I]=XA(x,l,n),$=new fO({ts:k,zone:n,o:I,loc:r});return o.weekday&&h&&e.weekday!==$.weekday?fO.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${$.toISO()}`):$}static fromISO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[n,r]=function(e){return TT(e,[JT,nA],[KT,rA],[eA,oA],[tA,iA])}(e);return KA(n,r,t,"ISO 8601",e)}static fromRFC2822(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[n,r]=function(e){return TT(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[ZT,YT])}(e);return KA(n,r,t,"RFC 2822",e)}static fromHTTP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[n,r]=function(e){return TT(e,[HT,QT],[qT,QT],[GT,XT])}(e);return KA(n,r,t,"HTTP",t)}static fromFormat(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(LC(e)||LC(t))throw new f$("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:o=null}=n,i=iC.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0}),[a,s,l,c]=function(e,t,n){const{result:r,zone:o,specificOffset:i,invalidReason:a}=UA(e,t,n);return[r,o,i,a]}(i,e,t);return c?fO.invalid(c):KA(a,s,n,`format ${t}`,e,l)}static fromString(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return fO.fromFormat(e,t,n)}static fromSQL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[n,r]=function(e){return TT(e,[sA,nA],[lA,cA])}(e);return KA(n,r,t,"SQL",e)}static invalid(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)throw new f$("need to specify a reason the DateTime is invalid");const n=e instanceof bC?e:new bC(e,t);if(vC.throwOnInvalid)throw new l$(n);return new fO({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=WA(e,iC.fromObject(t));return n?n.map((e=>e?e.val:null)).join(""):null}static expandFormat(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return PA(kT.parseFormat(e),iC.fromObject(t)).map((e=>e.val)).join("")}get(e){return this[e]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?YA(this).weekYear:NaN}get weekNumber(){return this.isValid?YA(this).weekNumber:NaN}get weekday(){return this.isValid?YA(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?HA(this).weekday:NaN}get localWeekNumber(){return this.isValid?HA(this).weekNumber:NaN}get localWeekYear(){return this.isValid?HA(this).weekYear:NaN}get ordinal(){return this.isValid?SC(this.c).ordinal:NaN}get monthShort(){return this.isValid?$A.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?$A.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?$A.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?$A.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,n=XC(this.c),r=this.zone.offset(n-e),o=this.zone.offset(n+e),i=this.zone.offset(n-r*t),a=this.zone.offset(n-o*t);if(i===a)return[this];const s=n-i*t,l=n-a*t,c=QA(s,i),u=QA(l,a);return c.hour===u.hour&&c.minute===u.minute&&c.second===u.second&&c.millisecond===u.millisecond?[qA(this,{ts:s}),qA(this,{ts:l})]:[this]}get isInLeapYear(){return qC(this.year)}get daysInMonth(){return QC(this.year,this.month)}get daysInYear(){return this.isValid?GC(this.year):NaN}get weeksInWeekYear(){return this.isValid?KC(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?KC(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{locale:t,numberingSystem:n,calendar:r}=kT.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:n,outputCalendar:r}}toUTC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setZone(sC.instance(e),t)}toLocal(){return this.setZone(vC.defaultZone)}setZone(e){let{keepLocalTime:t=!1,keepCalendarTime:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((e=cC(e,vC.defaultZone)).equals(this.zone))return this;if(e.isValid){let r=this.ts;if(t||n){const t=e.offset(this.ts),n=this.toObject();[r]=XA(n,t,e)}return qA(this,{ts:r,zone:e})}return fO.invalid(ZA(e))}reconfigure(){let{locale:e,numberingSystem:t,outputCalendar:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return qA(this,{loc:this.loc.clone({locale:e,numberingSystem:t,outputCalendar:n})})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=oT(e,cO),{minDaysInFirstWeek:n,startOfWeek:r}=NC(t,this.loc),o=!LC(t.weekYear)||!LC(t.weekNumber)||!LC(t.weekday),i=!LC(t.ordinal),a=!LC(t.year),s=!LC(t.month)||!LC(t.day),l=a||s,c=t.weekYear||t.weekNumber;if((l||i)&&c)throw new d$("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(s&&i)throw new d$("Can't mix ordinal dates with month/day");let u;o?u=OC({...AC(this.c,n,r),...t},n,r):LC(t.ordinal)?(u={...this.toObject(),...t},LC(t.day)&&(u.day=Math.min(QC(u.year,u.month),u.day))):u=EC({...SC(this.c),...t});const[d,h]=XA(u,this.o,this.zone);return qA(this,{ts:d,o:h})}plus(e){return this.isValid?qA(this,JA(this,xA.fromDurationLike(e))):this}minus(e){return this.isValid?qA(this,JA(this,xA.fromDurationLike(e).negate())):this}startOf(e){let{useLocaleWeeks:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isValid)return this;const n={},r=xA.normalizeUnit(e);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0}if("weeks"===r)if(t){const e=this.loc.getStartOfWeek(),{weekday:t}=this;t<e&&(n.weekNumber=this.weekNumber-1),n.weekday=e}else n.weekday=1;if("quarters"===r){const e=Math.ceil(this.month/3);n.month=3*(e-1)+1}return this.set(n)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?kT.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):FA}toLocaleString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v$,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?kT.create(this.loc.clone(t),e).formatDateTime(this):FA}toLocaleParts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?kT.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO(){let{format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:n=!1,includeOffset:r=!0,extendedZone:o=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return null;const i="extended"===e;let a=tO(this,i);return a+="T",a+=nO(this,i,t,n,r,o),a}toISODate(){let{format:e="extended"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?tO(this,"extended"===e):null}toISOWeekDate(){return eO(this,"kkkk-'W'WW-c")}toISOTime(){let{suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:n=!0,includePrefix:r=!1,extendedZone:o=!1,format:i="extended"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?(r?"T":"")+nO(this,"extended"===i,t,e,n,o):null}toRFC2822(){return eO(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return eO(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?tO(this,!0):null}toSQLTime(){let{includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:n=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r="HH:mm:ss.SSS";return(t||e)&&(n&&(r+=" "),t?r+="z":e&&(r+="ZZ")),eO(this,r,!0)}toSQL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():FA}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"milliseconds",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.isValid||!e.isValid)return xA.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...n},o=function(e){return Array.isArray(e)?e:[e]}(t).map(xA.normalizeUnit),i=e.valueOf()>this.valueOf(),a=function(e,t,n,r){let[o,i,a,s]=function(e,t,n){const r=[["years",(e,t)=>t.year-e.year],["quarters",(e,t)=>t.quarter-e.quarter+4*(t.year-e.year)],["months",(e,t)=>t.month-e.month+12*(t.year-e.year)],["weeks",(e,t)=>{const n=CA(e,t);return(n-n%7)/7}],["days",CA]],o={},i=e;let a,s;for(const[l,c]of r)n.indexOf(l)>=0&&(a=l,o[l]=c(e,t),s=i.plus(o),s>t?(o[l]--,(e=i.plus(o))>t&&(s=e,o[l]--,e=i.plus(o))):e=s);return[e,o,s,a]}(e,t,n);const l=t-o,c=n.filter((e=>["hours","minutes","seconds","milliseconds"].indexOf(e)>=0));0===c.length&&(a<t&&(a=o.plus({[s]:1})),a!==o&&(i[s]=(i[s]||0)+l/(a-o)));const u=xA.fromObject(i,r);return c.length>0?xA.fromMillis(l,r).shiftTo(...c).plus(u):u}(i?this:e,i?e:this,o,r);return i?a.negate():a}diffNow(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.diff(fO.now(),e,t)}until(e){return this.isValid?IA.fromDateTimes(this,e):this}hasSame(e,t,n){if(!this.isValid)return!1;const r=e.valueOf(),o=this.setZone(e.zone,{keepLocalTime:!0});return o.startOf(t,n)<=r&&r<=o.endOf(t,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return null;const t=e.base||fO.fromObject({},{zone:this.zone}),n=e.padding?this<t?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],o=e.unit;return Array.isArray(e.unit)&&(r=e.unit,o=void 0),dO(t,this.plus(n),{...e,numeric:"always",units:r,unit:o})}toRelativeCalendar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?dO(e.base||fO.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.every(fO.isDateTime))throw new f$("min requires all arguments be DateTimes");return VC(t,(e=>e.valueOf()),Math.min)}static max(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.every(fO.isDateTime))throw new f$("max requires all arguments be DateTimes");return VC(t,(e=>e.valueOf()),Math.max)}static fromFormatExplain(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{locale:r=null,numberingSystem:o=null}=n;return UA(iC.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0}),e,t)}static fromStringExplain(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return fO.fromFormatExplain(e,t,n)}static get DATE_SHORT(){return v$}static get DATE_MED(){return b$}static get DATE_MED_WITH_WEEKDAY(){return w$}static get DATE_FULL(){return x$}static get DATE_HUGE(){return k$}static get TIME_SIMPLE(){return I$}static get TIME_WITH_SECONDS(){return $$}static get TIME_WITH_SHORT_OFFSET(){return C$}static get TIME_WITH_LONG_OFFSET(){return T$}static get TIME_24_SIMPLE(){return A$}static get TIME_24_WITH_SECONDS(){return O$}static get TIME_24_WITH_SHORT_OFFSET(){return S$}static get TIME_24_WITH_LONG_OFFSET(){return E$}static get DATETIME_SHORT(){return N$}static get DATETIME_SHORT_WITH_SECONDS(){return M$}static get DATETIME_MED(){return D$}static get DATETIME_MED_WITH_SECONDS(){return L$}static get DATETIME_MED_WITH_WEEKDAY(){return j$}static get DATETIME_FULL(){return _$}static get DATETIME_FULL_WITH_SECONDS(){return z$}static get DATETIME_HUGE(){return R$}static get DATETIME_HUGE_WITH_SECONDS(){return V$}}function mO(e){if(fO.isDateTime(e))return e;if(e&&e.valueOf&&jC(e.valueOf()))return fO.fromJSDate(e);if(e&&"object"==typeof e)return fO.fromObject(e);throw new f$(`Unknown datetime argument: ${e}, of type ${typeof e}`)}function pO(e,t){let{collections:n}=e,{tableIds:r,tableColumnIds:o,relationshipIds:i,indexIds:a,indexColumnIds:s,memoIds:l}=t;aa(n).collection("tableEntities").removeMany(r),aa(n).collection("tableColumnEntities").removeMany(o),aa(n).collection("relationshipEntities").removeMany(i),aa(n).collection("indexEntities").removeMany(a),aa(n).collection("indexColumnEntities").removeMany(s),aa(n).collection("memoEntities").removeMany(l)}class gO{async run(e){const t=Ji(JSON.parse(e)),{doc:{tableIds:n,memoIds:r,indexIds:o,relationshipIds:i},collections:a}=t,s=Qo(n),l=Qo(r),c=Qo(o),u=Qo(i),d=yO(fO.now()),h=aa(a).collection("tableEntities"),f=aa(a).collection("tableColumnEntities"),m=aa(a).collection("indexEntities"),p=aa(a).collection("indexColumnEntities"),g=aa(a).collection("relationshipEntities"),y=aa(a).collection("memoEntities"),v=new Set(h.selectAll().filter(d(s)).map((e=>{let{id:t}=e;return t}))),b=new Set,w=new Set(g.selectAll().filter(d(u)).map((e=>{let{id:t}=e;return t}))),x=new Set(m.selectAll().filter(d(c)).map((e=>{let{id:t}=e;return t}))),k=new Set,I=new Set(y.selectAll().filter(d(l)).map((e=>{let{id:t}=e;return t})));f.selectAll().filter((e=>{let{tableId:t}=e;return v.has(t)})).forEach((e=>{let{id:t}=e;return b.add(t)})),g.selectAll().filter((e=>{let{id:t,start:n,end:r}=e;return!w.has(t)&&(v.has(n.tableId)||v.has(r.tableId))})).forEach((e=>{let{id:t}=e;return w.add(t)})),m.selectAll().filter((e=>{let{id:t,tableId:n}=e;return!x.has(t)&&v.has(n)})).forEach((e=>{let{id:t}=e;return x.add(t)})),p.selectAll().filter((e=>{let{indexId:t}=e;return x.has(t)})).forEach((e=>{let{id:t}=e;return k.add(t)})),pO(t,{tableIds:[...v],tableColumnIds:[...b],relationshipIds:[...w],indexIds:[...x],indexColumnIds:[...k],memoIds:[...I]});const $=Qo(h.selectAll().map((e=>{let{id:t}=e;return t}))),C=Qo(m.selectAll().map((e=>{let{id:t}=e;return t})));return f.selectAll().filter((e=>{let{tableId:t,id:n,meta:r}=e;return!$(t)&&d((()=>!1))({id:n,meta:r})})).forEach((e=>{let{id:t}=e;return b.add(t)})),p.selectAll().filter((e=>{let{indexId:t,id:n,meta:r}=e;return!C(t)&&d((()=>!1))({id:n,meta:r})})).forEach((e=>{let{id:t}=e;return k.add(t)})),{tableIds:[...v],tableColumnIds:[...b],relationshipIds:[...w],indexIds:[...x],indexColumnIds:[...k],memoIds:[...I]}}}const yO=e=>t=>n=>{let{id:r,meta:o}=n;return!t(r)&&3<Math.floor(e.diff(fO.fromMillis(o.updateAt),"days").toObject().days??0)};var vO=Object.defineProperty,bO=e=>{throw TypeError(e)},wO=(e,t,n)=>((e,t,n)=>t in e?vO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),xO=(e,t,n)=>(((e,t,n)=>{t.has(e)||bO("Cannot read from private field")})(e,t),n?n.call(e):t.get(e)),kO=wn((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}));function IO(e,t,n){return null==e?e:Bo(e,t,n)}var $O=wn((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),CO={now:function(){return(CO.delegate||performance).now()},delegate:void 0},TO=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return requestAnimationFrame.apply(void 0,bf([],vf(e)))},AO=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return cancelAnimationFrame.apply(void 0,bf([],vf(e)))};function OO(e){return new Bf((function(e){var t=CO,n=t.now(),r=0,o=function(){e.closed||(r=TO((function(i){r=0;var a=t.now();e.next({timestamp:i,elapsed:a-n}),o()})))};return o(),function(){r&&AO(r)}}))}var SO=OO(),EO=new Bf((function(e){return e.complete()}));function NO(e){return e[e.length-1]}function MO(e,t){return void 0===t&&(t=0),Uf((function(n,r){n.subscribe(Wf(r,(function(n){return fm(r,e,(function(){return r.next(n)}),t)}),(function(){return fm(r,e,(function(){return r.complete()}),t)}),(function(n){return fm(r,e,(function(){return r.error(n)}),t)})))}))}function DO(e,t){return void 0===t&&(t=0),Uf((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function LO(e,t){if(!e)throw new Error("Iterable cannot be null");return new Bf((function(n){fm(n,t,(function(){var r=e[Symbol.asyncIterator]();fm(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}var jO=Array.isArray;var _O=["addListener","removeListener"],zO=["addEventListener","removeEventListener"],RO=["on","off"];function VO(e,t,n,r){if(xf(n)&&(r=n,n=void 0),r)return VO(e,t,n).pipe(function(e){return mm((function(t){return function(e,t){return jO(t)?e.apply(void 0,bf([],vf(t))):e(t)}(e,t)}))}(r));var o=vf(function(e){return xf(e.addEventListener)&&xf(e.removeEventListener)}(e)?zO.map((function(r){return function(o){return e[r](t,o,n)}})):function(e){return xf(e.addListener)&&xf(e.removeListener)}(e)?_O.map(BO(e,t)):function(e){return xf(e.on)&&xf(e.off)}(e)?RO.map(BO(e,t)):[],2),i=o[0],a=o[1];if(!i&&nm(e))return pm((function(e){return VO(e,t,n)}))(dm(e));if(!i)throw new TypeError("Invalid event target");return new Bf((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return i(t),function(){return a(t)}}))}function BO(e,t){return function(n){return function(r){return e[n](t,r)}}}function PO(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(e){return tm(NO(e))?e.pop():void 0}(e),r=function(e,t){return"number"==typeof NO(e)?e.pop():1/0}(e),o=e;return o.length?1===o.length?dm(o[0]):function(e){return void 0===e&&(e=1/0),pm(Vf,e)}(r)(function(e,t){return t?function(e,t){if(null!=e){if(om(e))return function(e,t){return dm(e).pipe(DO(t),MO(t))}(e,t);if(nm(e))return function(e,t){return new Bf((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(rm(e))return function(e,t){return dm(e).pipe(DO(t),MO(t))}(e,t);if(im(e))return LO(e,t);if(lm(e))return function(e,t){return new Bf((function(n){var r;return fm(n,t,(function(){r=e[sm](),fm(n,t,(function(){var e,t,o;try{t=(e=r.next()).value,o=e.done}catch(e){return void n.error(e)}o?n.complete():n.next(t)}),0,!0)})),function(){return xf(null==r?void 0:r.return)&&r.return()}}))}(e,t);if(um(e))return function(e,t){return LO(cm(e),t)}(e,t)}throw am(e)}(e,t):dm(e)}(o,n)):EO}function UO(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!0!==t){if(!1!==t){var o=new jf({next:function(){o.unsubscribe(),e()}});return dm(t.apply(void 0,bf([],vf(n)))).subscribe(o)}}else e()}function WO(e){return Uf((function(t,n){dm(e).subscribe(Wf(n,(function(){return n.complete()}),Nf)),!n.closed&&t.subscribe(n)}))}function FO(e,t){let{notify:n,dispatch:r}=e,o=(null==t?void 0:t.commands)??[],i=(null==t?void 0:t.cursor)??-1,a=(null==t?void 0:t.limit)??0,s=!0;const l=()=>-1!==i,c=()=>i<o.length-1,u=()=>({hasRedo:c(),hasUndo:l()}),d=(e,t)=>{s=!1,e[t](r),s=!0};return Object.freeze({get cursor(){return i},get size(){return o.length},hasUndo:l,hasRedo:c,push:e=>{s&&(o.splice(i+1,o.length-i),o.push(e),0!==a&&o.length>a&&(o=o.slice(o.length-a,o.length)),i=o.length-1,n(u()))},undo:()=>{if(!l())return;const e=o[i];d(e,"undo"),i--,n(u())},redo:()=>{if(!c())return;const e=o[i+1];d(e,"redo"),i++,n(u())},clear:()=>{const e=o.length;o=[],i=-1,e>0&&n(u())},setLimit:e=>a=e,clone:e=>FO(e,{commands:[...o],cursor:i,limit:a})})}const ZO=e=>{const t=t=>si(t.tags)||!e.some((e=>Cp(t.tags,e)));return e=>new Bf((n=>e.subscribe({next:e=>n.next(e.filter(t)),error:e=>n.error(e),complete:()=>n.complete()}))).pipe(Yk)},YO=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=Qo(_k),r=e=>!si(e.tags)&&t.some((t=>Cp(e.tags,t)))||!n(e.type);return t=>new Bf((n=>t.subscribe({next:t=>{n.next(e()?t.filter(r):t)},error:e=>n.error(e),complete:()=>n.complete()}))).pipe(Yk)},HO=2048;function qO(e){let{getReadonly:t=(()=>!1),getHistory:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new Set,o=function(e,t){return function(e){let{context:t,state:n,reducers:r,enableObservable:o=!0}=e;const i=o?il(n):n,a=cs(),s=cs();let l=cf(uf);const c=e=>{qa(Reflect.get(r,e.type,r),i,e,t)},u=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const o=lf(i,t,n);a.next(o)},d=a.subscribe((e=>{const t=l(function*(e){yield e}(e));for(const e of t)s.next(e)})),h=s.subscribe((e=>e.forEach(c)));return{context:t,state:i,dispatch:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ga((()=>u(...t)))},dispatchSync:u,subscribe:s.subscribe,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l=cf(...t,uf),()=>{l=cf(uf)}},destroy:()=>{d(),h()}}}({context:e,state:{...Ji({}),editor:pg(),lww:{}},reducers:{...by,...Vb,...hw,...pv,...Tv,...db,..._y,...Gy},enableObservable:t??!0})}(e),i=function(e){const t=()=>e.state,n=a$.map((n=>{let[r,o]=n;const i=bI();return{pattern:Qo(r.map(String)),channel:i,proc:PI(o,i,t,e.context)}})),r=e.subscribe((e=>{for(const t of e)for(const e of n)e.pattern(t.type)&&zI(e.channel,t)}));return{destroy:()=>{n.forEach((e=>{let{proc:t}=e;return MI(t)})),n.splice(0,n.length),r()}}}(o),a={notify:e=>o.dispatch(Wg(e)),dispatch:o.dispatchSync},s=(null==n?void 0:n(a))??FO(a);s.setLimit(HO);const l=new Yf,c=l.pipe(Hk(Wk),ZO([xp.changeOnly,xp.shared]),YO(t),Gk(Uk,[["@@move",Vk],["@@scroll",Pk],["@@color",Bk]])),u=new Bf((e=>o.subscribe((t=>e.next(t))))).pipe(Hk(Lk),YO(t,[xp.shared]),vm(200)),d=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=e.clock.getNextVersion();return lf(o.state,o.context,n).map((e=>(si(e.version)&&(e.version=i),e)))}(n);l.next(i)};return r.add(c.subscribe(bw(o,s))).add(l.pipe(YO(t,[xp.shared])).subscribe(o.dispatchSync)).add(o.subscribe((t=>{t.forEach((t=>e.clock.merge(t.version)))}))),Object.freeze({...o,dispatch:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Jo((()=>d(t)))},dispatchSync:d,destroy:()=>{Array.from(r).forEach((e=>ni(e)?e():e.unsubscribe())),r.clear(),o.destroy(),i.destroy(),s.clear(),l.complete()},undo:()=>{t()||s.undo()},redo:()=>{t()||s.redo()},history:s,change$:u})}var GO;class QO{constructor(){((e,t,n)=>{t.has(e)?bO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n)})(this,GO,new Set)}on(e){return xO(this,GO).has(e)||xO(this,GO).add(e),()=>{xO(this,GO).delete(e)}}emit(e){xO(this,GO).forEach((t=>{Xo(Reflect.get(t,e.type),e)}))}clear(){xO(this,GO).clear()}}GO=new WeakMap;const XO=af("openColorPicker"),JO=af("closeColorPicker"),KO=af("openToast"),eS=af("loadShikiService"),tS=af("openTableProperties"),nS=af("dragendColumnAll"),rS=af("copy"),oS=af("paste"),iS=af("schemaGC"),aS=af("toggleSearch"),sS=af("openThemeBuilder"),lS=af("setThemeOptions"),cS=af("mouseTrackerStart"),uS=af("mouseTrackerEnd"),dS=af("openDiffViewer");function hS(e,t){for(var n=e.length,r=0;r<n;++r)if(t(e[r],r))return!0;return!1}function fS(e,t){for(var n=e.length,r=0;r<n;++r)if(t(e[r],r))return e[r];return null}function mS(e){var t=e;if(typeof t>"u"){if(typeof navigator>"u"||!navigator)return"";t=navigator.userAgent||""}return t.toLowerCase()}function pS(e,t){try{return new RegExp(e,"g").exec(t)}catch{return null}}function gS(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var e=navigator.userAgentData,t=e.brands||e.uaList;return!(!t||!t.length)}function yS(e){return e.replace(/_/g,".")}function vS(e,t){var n=null,r="-1";return hS(e,(function(e){var o=pS("("+e.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",t);return!(!o||e.brand||(n=e,r=o[3]||"-1",e.versionAlias?r=e.versionAlias:e.versionTest&&(r=function(e,t){var n=pS("("+e+")((?:\\/|\\s|:)([0-9|\\.|_]+))",t);return n?n[3]:""}(e.versionTest.toLowerCase(),t)||r),r=yS(r),0))})),{preset:n,version:r}}function bS(e,t){var n={brand:"",version:"-1"};return hS(e,(function(e){var r=wS(t,e);return!!r&&(n.brand=e.id,n.version=e.versionAlias||r.version,"-1"!==n.version)})),n}function wS(e,t){return fS(e,(function(e){var n=e.brand;return pS(""+t.test,n.toLowerCase())}))}var xS=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],kS=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],IS=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],$S=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],CS=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function TS(e){return!!vS($S,e).preset}function AS(e){var t=navigator.userAgentData,n=(t.uaList||t.brands).slice(),r=e&&e.fullVersionList,o=t.mobile||!1,i=n[0],a=(e&&e.platform||t.platform||navigator.platform).toLowerCase(),s={name:i.brand,version:i.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!bS($S,n).brand||TS(mS())},l={name:"unknown",version:"-1",majorVersion:-1};s.webkit=!s.chromium&&hS(IS,(function(e){return wS(n,e)}));var c=bS(kS,n);if(s.chromium=!!c.brand,s.chromiumVersion=c.version,!s.chromium){var u=bS(IS,n);s.webkit=!!u.brand,s.webkitVersion=u.version}var d=fS(CS,(function(e){return new RegExp(""+e.test,"g").exec(a)}));if(l.name=d?d.id:"",e&&(l.version=e.platformVersion),r&&r.length){var h=bS(xS,r);s.name=h.brand||s.name,s.version=h.version||s.version}else{var f=bS(xS,n);s.name=f.brand||s.name,s.version=f.brand&&e?e.uaFullVersion:f.version}return s.webkit&&(l.name=o?"ios":"mac"),"ios"===l.name&&s.webview&&(s.version="-1"),l.version=yS(l.version),s.version=yS(s.version),l.majorVersion=parseInt(l.version,10),s.majorVersion=parseInt(s.version,10),{browser:s,os:l,isMobile:o,isHints:!0}}function OS(e){return gS()?AS():function(e){var t=mS(e),n=!!/mobi/g.exec(t),r={name:"unknown",version:"-1",majorVersion:-1,webview:TS(t),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},o={name:"unknown",version:"-1",majorVersion:-1},i=vS(xS,t),a=i.preset,s=i.version,l=vS(CS,t),c=l.preset,u=l.version,d=vS(kS,t);if(r.chromium=!!d.preset,r.chromiumVersion=d.version,!r.chromium){var h=vS(IS,t);r.webkit=!!h.preset,r.webkitVersion=h.version}return c&&(o.name=c.id,o.version=u,o.majorVersion=parseInt(u,10)),a&&(r.name=a.id,r.version=s,r.webview&&"ios"===o.name&&"safari"!==r.name&&(r.webview=!1)),r.majorVersion=parseInt(r.version,10),{browser:r,os:o,isMobile:n,isHints:!1}}(e)}const SS=OS();let ES="mac"===SS.os.name,NS="ios"===SS.os.name;SS.os.name,SS.os.name,SS.browser.name,SS.browser.name,SS.browser.name,function(e){gS()?navigator.userAgentData.getHighEntropyValues(["architecture","model","platform","platformVersion","uaFullVersion","fullVersionList"]).then((function(t){var n=AS(t);return e&&e(n),n})):(e&&e(OS()),typeof Promise>"u"||!Promise||Promise.resolve(OS()))}((e=>{ES="mac"===e.os.name,NS="ios"===e.os.name,e.os.name,e.os.name,e.browser.name,e.browser.name,e.browser.name}));const MS=()=>ES||NS,DS={edit:"edit",stop:"stop",search:"search",undo:"undo",redo:"redo",addTable:"addTable",addColumn:"addColumn",addMemo:"addMemo",removeTable:"removeTable",removeColumn:"removeColumn",primaryKey:"primaryKey",selectAllTable:"selectAllTable",selectAllColumn:"selectAllColumn",relationshipZeroOne:"relationshipZeroOne",relationshipZeroN:"relationshipZeroN",relationshipOneOnly:"relationshipOneOnly",relationshipOneN:"relationshipOneN",tableProperties:"tableProperties",zoomIn:"zoomIn",zoomOut:"zoomOut"},LS=Object.values(DS),jS="Shift",_S="Meta",zS="Control",RS={[jS]:"⇧",[_S]:"⌘",Alt:"⌥",[zS]:"⌃"},VS={[jS]:"Shift",[_S]:"Cmd",Alt:"Alt",[zS]:"Ctrl"};function BS(e){return(MS()?RS:VS)[e]??e}function PS(e){return e.startsWith("Key")?e.slice(3):e.startsWith("Digit")?e.slice(5):"Backspace"===e?"⌫":"Escape"===e?"ESC":"Equal"===e?"Plus":e}function US(e){return e?function(e){const t=MS()?"Meta":"Control";return e.trim().split(" ").map((e=>{let n=e.split(/\b\+/);const r=n.pop();return n=n.map((e=>"$mod"===e?t:e)),[n,r]}))}(e).map((e=>{let[t,n]=e;return[t.map(BS),PS(n)]})):[]}function WS(e){return MS()?e.metaKey:e.ctrlKey}function FS(e){return US(e).map((e=>{let[t,n]=e;return[...t,n].join(" + ")})).join(" ")}function ZS(e,t){const n=function(e){return{...e,clock:new Zk}}(e),r=qO(n,t),o=il({[DS.edit]:[{shortcut:"Enter"}],[DS.stop]:[{shortcut:"Escape"}],[DS.search]:[{shortcut:"$mod+KeyK",preventDefault:!0,stopPropagation:!0}],[DS.undo]:[{shortcut:"$mod+KeyZ",preventDefault:!0,stopPropagation:!0}],[DS.redo]:[{shortcut:"$mod+Shift+KeyZ",preventDefault:!0,stopPropagation:!0}],[DS.addTable]:[{shortcut:"Alt+KeyN",preventDefault:!0}],[DS.addColumn]:[{shortcut:"Alt+Enter",preventDefault:!0}],[DS.addMemo]:[{shortcut:"Alt+KeyM",preventDefault:!0}],[DS.removeTable]:[{shortcut:"$mod+Backspace",preventDefault:!0},{shortcut:"$mod+Delete",preventDefault:!0}],[DS.removeColumn]:[{shortcut:"Alt+Backspace",preventDefault:!0},{shortcut:"Alt+Delete",preventDefault:!0}],[DS.primaryKey]:[{shortcut:"Alt+KeyK",preventDefault:!0}],[DS.selectAllTable]:[{shortcut:"$mod+Alt+KeyA",preventDefault:!0}],[DS.selectAllColumn]:[{shortcut:"Alt+KeyA",preventDefault:!0}],[DS.relationshipZeroOne]:[{shortcut:"$mod+Alt+Digit1",preventDefault:!0}],[DS.relationshipZeroN]:[{shortcut:"$mod+Alt+Digit2",preventDefault:!0}],[DS.relationshipOneOnly]:[{shortcut:"$mod+Alt+Digit3",preventDefault:!0}],[DS.relationshipOneN]:[{shortcut:"$mod+Alt+Digit4",preventDefault:!0}],[DS.tableProperties]:[{shortcut:"Alt+Space",preventDefault:!0}],[DS.zoomIn]:[{shortcut:"$mod+Equal",preventDefault:!0,stopPropagation:!0}],[DS.zoomOut]:[{shortcut:"$mod+Minus",preventDefault:!0,stopPropagation:!0}]},{shallow:!0}),i=new Yf,a=new Yf,s=new QO;return Object.freeze({...n,actions:Dk,store:r,keyBindingMap:o,shortcut$:i,keydown$:a,emitter:s})}const YS=Fa({}),HS=(e,t)=>sl(e,{...YS,value:t??YS.value});function qS(e){e.store.dispatchSync(Qg()),e.store.destroy(),e.keydown$.complete(),e.shortcut$.complete(),e.emitter.clear()}function GS(e,t){const n={start:{x1:e.x,y1:e.y,x2:e.x,y2:e.y},end:{x1:t.x,y1:t.y,x2:t.x,y2:t.y}},r={M:{x:0,y:0},L:{x:0,y:0},Q:{x:0,y:0},d(){if(e.tableId===t.tableId)return[[{x:this.M.x,y:this.M.y},{x:this.L.x,y:this.L.y}]];const n=this.M.x-this.L.x,r=this.M.y-this.L.y,o=n/2,i=r/2,a=Math.abs(r)<=Math.abs(n),s=function(e){return t=>n=>n<0?(t?-1:1)*e:(t?1:-1)*e}(Math.abs(a?i:o)),l=s(!0),c=s(!1),u=l(n),d=l(r),h=c(n),f=c(r),m=a?this.M.x-o+u:this.M.x,p=a?this.M.y:this.M.y-i+d,g=a?this.L.x+o+h:this.L.x,y=a?this.L.y:this.L.y+i+f;return[[{x:this.M.x,y:this.M.y},{x:m,y:p}],[{x:m,y:p},{x:g,y}],[{x:g,y},{x:this.L.x,y:this.L.y}]]}};let o=1;return e.direction===up.left||e.direction===up.right?(e.direction===up.left&&(o*=-1),n.start.x2=e.x+o*ZI,n.start.x1+=o*YI,r.M.x=n.start.x2,r.M.y=e.y):(e.direction===up.top||e.direction===up.bottom)&&(e.direction===up.top&&(o*=-1),n.start.y2=e.y+o*ZI,n.start.y1+=o*YI,r.M.x=e.x,r.M.y=n.start.y2),o=1,t.direction===up.left||t.direction===up.right?(t.direction===up.left&&(o*=-1),n.end.x2=t.x+o*ZI,n.end.x1+=o*YI,r.L.x=n.end.x2,r.L.y=t.y):(t.direction===up.top||t.direction===up.bottom)&&(t.direction===up.top&&(o*=-1),n.end.y2=t.y+o*ZI,n.end.y1+=o*YI,r.L.x=t.x,r.L.y=n.end.y2),{line:n,path:r}}function QS(e,t){const n={start:{base:{x1:e.x,y1:e.y,x2:e.x,y2:e.y},base2:{x1:e.x,y1:e.y,x2:e.x,y2:e.y},center:{x1:e.x,y1:e.y,x2:e.x,y2:e.y},center2:{x1:e.x,y1:e.y,x2:e.x,y2:e.y}},end:{base:{x1:t.x,y1:t.y,x2:t.x,y2:t.y},base2:{x1:t.x,y1:t.y,x2:t.x,y2:t.y},left:{x1:t.x,y1:t.y,x2:t.x,y2:t.y},center:{x1:t.x,y1:t.y,x2:t.x,y2:t.y},center2:{x1:t.x,y1:t.y,x2:t.x,y2:t.y},right:{x1:t.x,y1:t.y,x2:t.x,y2:t.y}}},r={cx:t.x,cy:t.y},o={cx:e.x,cy:e.y};let i=1;return e.direction===up.left||e.direction===up.right?(e.direction===up.left&&(i*=-1),n.start.base.x1=n.start.base.x2+=i*qI,n.start.base2.x1=n.start.base2.x2+=26*i,n.start.center.x1=n.start.base.x1,n.start.base.y1-=HI,n.start.base.y2+=HI,n.start.base2.y1-=HI,n.start.base2.y2+=HI,n.start.center2.x1+=35*i,o.cx+=26*i):(e.direction===up.top||e.direction===up.bottom)&&(e.direction===up.top&&(i*=-1),n.start.base.y1=n.start.base.y2+=i*qI,n.start.base2.y1=n.start.base2.y2+=26*i,n.start.center.y1=n.start.base.y1,n.start.base.x1-=HI,n.start.base.x2+=HI,n.start.base2.x1-=HI,n.start.base2.x2+=HI,n.start.center2.y1+=35*i,o.cy+=26*i),i=1,t.direction===up.left||t.direction===up.right?(t.direction===up.left&&(i*=-1),n.end.base.x1=n.end.base.x2+=i*qI,n.end.base2.x1=n.end.base2.x2+=26*i,n.end.center.x1=n.end.left.x1=n.end.right.x1=n.end.base.x1,n.end.base.y1-=HI,n.end.base.y2+=HI,n.end.base2.y1-=HI,n.end.base2.y2+=HI,n.end.left.y2+=HI,n.end.right.y2-=HI,n.end.center2.x1+=35*i,r.cx+=26*i):(t.direction===up.top||t.direction===up.bottom)&&(t.direction===up.top&&(i*=-1),n.end.base.y1=n.end.base.y2+=i*qI,n.end.base2.y1=n.end.base2.y2+=26*i,n.end.center.y1=n.end.left.y1=n.end.right.y1=n.end.base.y1,n.end.base.x1-=HI,n.end.base.x2+=HI,n.end.base2.x1-=HI,n.end.base2.x2+=HI,n.end.left.x2+=HI,n.end.right.x2-=HI,n.end.center2.y1+=35*i,r.cy+=26*i),{line:n,circle:r,startCircle:o}}const XS={1:e=>{let{path:t,line:n}=e;return Zh`
    <line
      x1=${t.line.end.x1} y1=${t.line.end.y1}
      x2=${t.line.end.x2} y2=${t.line.end.y2}
      stroke-width="3"
    ></line>
    <circle
      cx=${n.circle.cx} cy=${n.circle.cy} r="8"
      fill-opacity="0.0"
      stroke-width="3"
    ></circle>
    <line
      x1=${n.line.end.base.x1} y1=${n.line.end.base.y1}
      x2=${n.line.end.base.x2} y2=${n.line.end.base.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${n.line.end.left.x1} y1=${n.line.end.left.y1}
      x2=${n.line.end.left.x2} y2=${n.line.end.left.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${n.line.end.center.x1} y1=${n.line.end.center.y1}
      x2=${n.line.end.center.x2} y2=${n.line.end.center.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${n.line.end.right.x1} y1=${n.line.end.right.y1}
      x2=${n.line.end.right.x2} y2=${n.line.end.right.y2}
      stroke-width="3"
    ></line>
  `},[lp.ZeroOne]:e=>{let{path:t,line:n}=e;return Zh`
    <line
      x1=${t.line.end.x1} y1=${t.line.end.y1}
      x2=${t.line.end.x2} y2=${t.line.end.y2}
      stroke-width="3"
    ></line>
    <circle
      cx=${n.circle.cx} cy=${n.circle.cy} r="8"
      fill-opacity="0.0"
      stroke-width="3"
    ></circle>
    <line
      x1=${n.line.end.base.x1} y1=${n.line.end.base.y1}
      x2=${n.line.end.base.x2} y2=${n.line.end.base.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${n.line.end.center.x1} y1=${n.line.end.center.y1}
      x2=${n.line.end.center.x2} y2=${n.line.end.center.y2}
      stroke-width="3"
    ></line>
  `},[lp.ZeroN]:e=>{let{path:t,line:n}=e;return Zh`
    <line
      x1=${t.line.end.x1} y1=${t.line.end.y1}
      x2=${t.line.end.x2} y2=${t.line.end.y2}
      stroke-width="3"
    ></line>
    <circle
      cx=${n.circle.cx} cy=${n.circle.cy} r="8"
      fill-opacity="0.0"
      stroke-width="3"
    ></circle>
    <line
      x1=${n.line.end.left.x1} y1=${n.line.end.left.y1}
      x2=${n.line.end.left.x2} y2=${n.line.end.left.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${n.line.end.center.x1} y1=${n.line.end.center.y1}
      x2=${n.line.end.center.x2} y2=${n.line.end.center.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${n.line.end.right.x1} y1=${n.line.end.right.y1}
      x2=${n.line.end.right.x2} y2=${n.line.end.right.y2}
      stroke-width="3"
    ></line>
  `},[lp.OneOnly]:e=>{let{path:t,line:n}=e;return Zh`
    <line
      x1=${t.line.end.x1} y1=${t.line.end.y1}
      x2=${t.line.end.x2} y2=${t.line.end.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${n.line.end.base.x1} y1=${n.line.end.base.y1}
      x2=${n.line.end.base.x2} y2=${n.line.end.base.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${n.line.end.base2.x1} y1=${n.line.end.base2.y1}
      x2=${n.line.end.base2.x2} y2=${n.line.end.base2.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${n.line.end.center2.x1} y1=${n.line.end.center2.y1}
      x2=${n.line.end.center2.x2} y2=${n.line.end.center2.y2}
      stroke-width="3"
    ></line>
  `},[lp.OneN]:e=>{let{path:t,line:n}=e;return Zh`
    <line
      x1=${t.line.end.x1} y1=${t.line.end.y1}
      x2=${t.line.end.x2} y2=${t.line.end.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${n.line.end.base.x1} y1=${n.line.end.base.y1}
      x2=${n.line.end.base.x2} y2=${n.line.end.base.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${n.line.end.left.x1} y1=${n.line.end.left.y1}
      x2=${n.line.end.left.x2} y2=${n.line.end.left.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${n.line.end.center2.x1} y1=${n.line.end.center2.y1}
      x2=${n.line.end.center2.x2} y2=${n.line.end.center2.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${n.line.end.right.x1} y1=${n.line.end.right.y1}
      x2=${n.line.end.right.x2} y2=${n.line.end.right.y2}
      stroke-width="3"
    ></line>
  `},32:e=>{let{path:t,line:n}=e;return Zh`
    <line
      x1=${t.line.end.x1} y1=${t.line.end.y1}
      x2=${t.line.end.x2} y2=${t.line.end.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${n.line.end.base.x1} y1=${n.line.end.base.y1}
      x2=${n.line.end.base.x2} y2=${n.line.end.base.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${n.line.end.center2.x1} y1=${n.line.end.center2.y1}
      x2=${n.line.end.center2.x2} y2=${n.line.end.center2.y2}
      stroke-width="3"
    ></line>
  `},64:e=>{let{path:t,line:n}=e;return Zh`
    <line
      x1=${t.line.end.x1} y1=${t.line.end.y1}
      x2=${t.line.end.x2} y2=${t.line.end.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${n.line.end.left.x1} y1=${n.line.end.left.y1}
      x2=${n.line.end.left.x2} y2=${n.line.end.left.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${n.line.end.center2.x1} y1=${n.line.end.center2.y1}
      x2=${n.line.end.center2.x2} y2=${n.line.end.center2.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${n.line.end.right.x1} y1=${n.line.end.right.y1}
      x2=${n.line.end.right.x2} y2=${n.line.end.right.y2}
      stroke-width="3"
    ></line>
  `}},JS=(e,t)=>{const n=HS(t),r=()=>{const{store:e}=n.value;e.dispatch(cy({columnIds:[]}))};return()=>{const{store:t}=n.value,{editor:o}=t.state,{relationship:i,strokeWidth:a}=e,s=function(e){return{path:GS(e.start,e.end),line:QS(e.start,e.end)}}(i),{path:l,line:c}=s,u=l.path.d(),d=function(e,t){const n=XS[e];return(null==n?void 0:n(t))??null}(i.relationshipType,s),h=!!o.hoverRelationshipMap[i.id];return Zh`
      <g
        class=${["relationship",{identification:i.identification}]}
        data-id=${i.id}
        ?data-hover=${h}
        @mouseenter=${()=>(e=>{const{store:t}=n.value;t.dispatch(cy({columnIds:[...e.start.columnIds,...e.end.columnIds]}))})(i)}
        @mouseleave=${r}
      >
        ${u.map((e=>{let[t,n]=e;return Zh`
              <line
                x1=${t.x} y1=${t.y}
                x2=${n.x} y2=${n.y}
                stroke-dasharray=${i.identification?0:10}
                stroke-width=${a}
                fill="transparent"
              ></line>
            `}))}
        <line
          x1=${l.line.start.x1} y1=${l.line.start.y1}
          x2=${l.line.start.x2} y2=${l.line.start.y2}
          stroke-width="3"
        ></line>
        <line
          x1=${c.line.start.base.x1} y1=${c.line.start.base.y1}
          x2=${c.line.start.base.x2} y2=${c.line.start.base.y2}
          stroke-width="3"
        ></line>
        ${i.startRelationshipType===cp.ring?Zh`
              <circle
                cx=${c.startCircle.cx} cy=${c.startCircle.cy} r="8"
                fill-opacity="0.0"
                stroke-width="3"
              ></circle>
              <line
                x1=${c.line.start.center.x1} y1=${c.line.start.center.y1}
                x2=${c.line.start.center.x2} y2=${c.line.start.center.y2}
                stroke-width="3"
              ></line>
        `:Zh`
              <line
                x1=${c.line.start.base2.x1} y1=${c.line.start.base2.y1}
                x2=${c.line.start.base2.x2} y2=${c.line.start.base2.y2}
                stroke-width="3"
              ></line>
              <line
                x1=${c.line.start.center2.x1} y1=${c.line.start.center2.y1}
                x2=${c.line.start.center2.x2} y2=${c.line.start.center2.y2}
                stroke-width="3"
              ></line>
        `}
        ${d}
      </g>
    `}},KS=ff`
  position: absolute;
  top: 0;
  left: 0;
  overflow: visible;

  .relationship {
    stroke: var(--key-fk);
  }

  .relationship.identification {
    stroke: var(--key-pfk);
  }

  .relationship:hover,
  .relationship[data-hover],
  .relationship.identification[data-hover] {
    stroke: var(--relationship-hover);
  }
`,eE=(e,t)=>{const n=HS(t);return()=>{const{store:t}=n.value,{settings:{width:r,height:o},doc:{relationshipIds:i},collections:a}=t.state,s=aa(a).collection("relationshipEntities").selectByIds(i);return Zh`
      <svg
        class=${[KS,e.class]}
        style=${{width:`${r}px`,height:`${o}px`,"min-width":`${r}px`,"min-height":`${o}px`}}
      >
        ${gd(s,(e=>e.id),(t=>Zh`<${JS} relationship=${t} strokeWidth=${e.strokeWidth??3} />
          `))}
      </svg>
    `}};function tE(){const e=new Set;return Fs((()=>{Array.from(e).forEach((e=>ni(e)?e():e.unsubscribe())),e.clear()})),{addUnsubscribe:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((t=>e.add(t)))}}}const nE=ff`
  position: absolute;
  top: 0;
  left: 0;
  pointer-events: none;
  stroke: var(--key-fk);
  overflow: visible;
`,rE=(e,t)=>{const n=HS(t),{addUnsubscribe:r}=tE();return Ws((()=>{const t=e.root.value,{store:o}=n.value;r(VO(t,"mousemove").subscribe((e=>{e.preventDefault();const{x:n,y:r}=t.getBoundingClientRect();o.dispatch(ly({x:e.clientX-n,y:e.clientY-r}))})))})),()=>{const{store:t}=n.value,{settings:{width:r,height:o}}=t.state,{path:i,line:a}=function(e,t){const n={path:{path:{M:{x:0,y:0},L:{x:0,y:0},Q:{x:0,y:0},d(){return`M ${this.M.x} ${this.M.y} L ${this.L.x} ${this.L.y}`}},line:{start:{x1:0,y1:0,x2:0,y2:0}}},line:{start:{base:{x1:0,y1:0,x2:0,y2:0},base2:{x1:0,y1:0,x2:0,y2:0},center:{x1:0,y1:0,x2:0,y2:0},center2:{x1:0,y1:0,x2:0,y2:0}}}};if(!t.start)return n;const r=function(e,t){let n=WI.bottom;if(!t.start)return n;const r=aa(e.collections).collection("tableEntities").selectById(t.start.tableId);if(!r)return n;const o=GI(e,r);let i=QI(o.bottom,t.end);return t.start.x=o.bottom.x,t.start.y=o.bottom.y,FI.forEach((e=>{const r=e,a=QI(o[r],t.end);i<=a||(i=a,n=r,t.start&&(t.start.x=o[r].x,t.start.y=o[r].y))})),n}(e,t);return n.path=function(e,t){const n={start:{x1:0,y1:0,x2:0,y2:0}},r={M:{x:0,y:0},L:{x:0,y:0},Q:{x:0,y:0},d(){return`M ${this.M.x} ${this.M.y} L ${this.L.x} ${this.L.y}`}};if(t.start){n.start.x1=t.start.x,n.start.y1=t.start.y,n.start.x2=t.start.x,n.start.y2=t.start.y;let o=1;e===WI.left||e===WI.right?(e===WI.left&&(o*=-1),n.start.x2=t.start.x+o*ZI,n.start.x1+=o*YI,r.M.x=n.start.x2,r.M.y=t.start.y):(e===WI.top||e===WI.bottom)&&(e===WI.top&&(o*=-1),n.start.y2=t.start.y+o*ZI,n.start.y1+=o*YI,r.M.x=t.start.x,r.M.y=n.start.y2)}return r.L.x=t.end.x,r.L.y=t.end.y,{path:r,line:n}}(r,t),n.line=function(e,t){const n={start:{base:{x1:0,y1:0,x2:0,y2:0},base2:{x1:0,y1:0,x2:0,y2:0},center:{x1:0,y1:0,x2:0,y2:0},center2:{x1:0,y1:0,x2:0,y2:0}}};if(!t.start)return n;n.start.base.x1=n.start.base2.x1=n.start.center.x1=n.start.center2.x1=t.start.x,n.start.base.x2=n.start.base2.x2=n.start.center.x2=n.start.center2.x2=t.start.x,n.start.base.y1=n.start.base2.y1=n.start.center.y1=n.start.center2.y1=t.start.y,n.start.base.y2=n.start.base2.y2=n.start.center.y2=n.start.center2.y2=t.start.y;let r=1;return e===WI.left||e===WI.right?(e===WI.left&&(r*=-1),n.start.base.x1=n.start.base.x2+=r*qI,n.start.base2.x1=n.start.base2.x2+=26*r,n.start.center.x1=n.start.base.x1,n.start.base.y1-=HI,n.start.base.y2+=HI,n.start.base2.y1-=HI,n.start.base2.y2+=HI,n.start.center2.x1+=35*r):(e===WI.top||e===WI.bottom)&&(e===WI.top&&(r*=-1),n.start.base.y1=n.start.base.y2+=r*qI,n.start.base2.y1=n.start.base2.y2+=26*r,n.start.center.y1=n.start.base.y1,n.start.base.x1-=HI,n.start.base.x2+=HI,n.start.base2.x1-=HI,n.start.base2.x2+=HI,n.start.center2.y1+=35*r),n}(r,t),n}(t.state,e.draw);return Zh`
      <svg
        class=${nE}
        style=${{width:`${r}px`,height:`${o}px`,"min-width":`${r}px`,"min-height":`${o}px`}}
      >
        <g>
          <path
            d=${i.path.d()}
            stroke-dasharray="10"
            stroke-width="3"
            fill="transparent"
          ></path>
          <line
            x1=${i.line.start.x1} y1=${i.line.start.y1}
            x2=${i.line.start.x2} y2=${i.line.start.y2}
            stroke-width="3"
          ></line>
          <line
            x1=${a.start.base.x1} y1=${a.start.base.y1}
            x2=${a.start.base.x2} y2=${a.start.base.y2}
            stroke-width="3"
          ></line>
          <line
            x1=${a.start.base2.x1} y1=${a.start.base2.y1}
            x2=${a.start.base2.x2} y2=${a.start.base2.y2}
            stroke-width="3"
          ></line>
          <line
            x1=${a.start.center2.x1} y1=${a.start.center2.y1}
            x2=${a.start.center2.x2} y2=${a.start.center2.y2}
            stroke-width="3"
          ></line>
        </g>
      </svg>
    `}},oE=e=>ff`
  font-size: var(--font-size-${e});
  letter-spacing: var(--letter-spacing-${e});
  line-height: var(--line-height-${e});
`,iE=oE(1),aE=oE(2),sE=oE(3);oE(4);const lE=oE(5),cE=oE(6),uE=oE(7),dE=oE(8),hE=oE(9),fE=ff`
  ${aE};
  font-weight: var(--font-weight-regular);
`,mE=ff`
  ${iE};
  font-weight: var(--font-weight-regular);
`,pE=ff`
  position: absolute;
  background-color: var(--table-background);
  padding: ${Mp}px 0;
  border-radius: 6px;
  border: 1px solid var(--table-border);
  fill: transparent;
  color: transparent;
  ${mE};

  &:hover {
    fill: var(--foreground);
    color: var(--foreground);
  }

  &[data-selected] {
    border: 1px solid var(--table-select);
  }

  .column-row-move {
    transition: transform 0.3s;
  }
`,gE=ff`
  display: flex;
  flex-direction: column;
  position: relative;
  padding: 0 ${Mp}px;
`,yE=ff`
  position: absolute;
  top: -${Mp+1}px;
  left: 0;
  width: 100%;
  min-height: 4px;
  border-radius: 6px 6px 0 0;
  cursor: pointer;
`,vE=ff`
  display: flex;
  height: ${12}px;
  justify-content: flex-end;
  margin-bottom: ${2}px;
  cursor: move;

  & > .icon {
    cursor: pointer;
  }

  & > .icon:last-child {
    margin-left: ${4}px;
  }

  & > .icon:hover {
    fill: var(--active);
    color: var(--active);
  }
`,bE=ff`
  display: flex;
  height: ${24}px;
  align-items: center;

  & > .input-padding {
    padding: ${2}px ${Ep}px
      ${2}px 0;
  }
`;function wE(e){const t=e.target;t&&(t.value=Yp(t.value))}function xE(e){e.preventDefault()}function kE(e){e.stopPropagation()}function IE(e){return e instanceof MouseEvent}function $E(e,t){function n(n,r){return new CustomEvent(e,{detail:n,...t,...r})}return n.toString=()=>`${e}`,n.type=e,n}const CE=$E("@dineug/erd-editor/internal-focus"),TE=$E("@dineug/erd-editor/internal-force-focus"),AE=$E("@dineug/erd-editor/internal-forward-move-start",{bubbles:!0,composed:!0}),OE=VO(window,"keyup"),SE=VO(window,"mousedown"),EE=VO(window,"mousemove"),NE=VO(window,"mouseup"),ME=VO(window,"touchstart"),DE=VO(window,"touchmove"),LE=VO(window,"touchend"),jE=SO.pipe(function(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new Yf}:t,r=e.resetOnError,o=void 0===r||r,i=e.resetOnComplete,a=void 0===i||i,s=e.resetOnRefCountZero,l=void 0===s||s;return function(e){var t,r,i,s=0,c=!1,u=!1,d=function(){null==r||r.unsubscribe(),r=void 0},h=function(){d(),t=i=void 0,c=u=!1},f=function(){var e=t;h(),null==e||e.unsubscribe()};return Uf((function(e,m){s++,!u&&!c&&d();var p=i=i??n();m.add((function(){0==--s&&!u&&!c&&(r=UO(f,l))})),p.subscribe(m),!t&&s>0&&(t=new jf({next:function(e){return p.next(e)},error:function(e){u=!0,d(),r=UO(h,o,e),p.error(e)},complete:function(){c=!0,d(),r=UO(h,a),p.complete()}}),dm(e).subscribe(t))}))(e)}}()),_E=VO(window,AE.type).pipe(mm((e=>e.detail.originEvent))),zE=PO(SE,ME,_E),RE=PO(NE,LE);let VE=0,BE=0;zE.subscribe((e=>{IE(e)?(VE=e.clientX,BE=e.clientY):(VE=e.touches[0].clientX,BE=e.touches[0].clientY)}));const PE=PO(EE.pipe(mm((e=>{const t=e.clientX,n=e.clientY,r=t-VE,o=n-BE;return VE=t,BE=n,{event:e,movementX:r,movementY:o,x:t,y:n}}))),DE.pipe(gm((e=>1===e.touches.length)),mm((e=>{const t=e.touches[0].clientX,n=e.touches[0].clientY,r=t-VE,o=n-BE;return VE=t,BE=n,{event:e,movementX:r,movementY:o,x:t,y:n}})))),UE=PE.pipe(WO(RE));function WE(e,t){const n=HS(e),r=e=>{let{event:t,movementX:r,movementY:o}=e;"mousemove"===t.type&&t.preventDefault();const{store:i}=n.value;i.dispatch(sk(r,o))};return{onMoveStart:e=>{const o=e.target;if(!o)return;const{store:i}=n.value;i.dispatch(Sw(t.table.id,WS(e))),!o.closest(".table-header-color")&&!o.closest(".column-row")&&!o.closest(".icon")&&!o.closest(".input-padding")&&UE.subscribe(r)}}}const FE=ff`
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: auto;
  word-break: break-all;
  color: var(--active);
  font-weight: var(--font-weight-bold);

  &.isEmptyName {
    color: var(--placeholder);
  }
`,ZE=(e,t)=>{const n=HS(t),{onMoveStart:r}=WE(t,e),o=()=>{const{store:e}=n.value,{settings:{zoomLevel:t}}=e.state;let r=lE.toString();return r=t>.6?lE.toString():t>.5?cE.toString():t>.4?uE.toString():t>.3?dE.toString():hE.toString(),r},i=t=>{const{emitter:r}=n.value;r.emit(XO({x:t.clientX,y:t.clientY,color:e.table.ui.color}))};return()=>{const{store:t}=n.value,{editor:a}=t.state,{table:s}=e,l=!!a.selectedMap[s.id],c=Cb(s,t.state),u=Ab(s),d=_o(s.name.trim());return Fh`
      <div
        class=${["table",pE]}
        style=${{top:`${s.ui.y}px`,left:`${s.ui.x}px`,"z-index":`${s.ui.zIndex}`,width:`${c.width}px`,height:`${u}px`}}
        ?data-selected=${l}
        data-id=${s.id}
        @mousedown=${r}
        @touchstart=${r}
      >
        <div class=${gE}>
          <div
            class=${["table-header-color",yE]}
            style=${{"background-color":s.ui.color}}
            @click=${i}
          ></div>
        </div>
        <div
          class=${["scrollbar",FE,o(),{isEmptyName:d}]}
        >
          ${d?"unnamed":s.name}
        </div>
      </div>
    `}},YE=ff`
  position: absolute;

  &.vertical {
    width: ${5}px;
    height: 100%;
    cursor: ew-resize;
  }

  &.horizontal {
    width: 100%;
    height: ${5}px;
    cursor: ns-resize;
  }

  &.edge {
    width: ${5}px;
    height: ${5}px;
  }
`,HE="vertical",qE="horizontal",GE="edge",QE=(e,t)=>{const n=()=>{const t=e.top??0;return 0===t&&e.type===HE?t:t-2.5},r=()=>{const t=e.left??0;return 0===t&&e.type===qE?t:t-2.5},o=t=>{var n;null==(n=e.onMousedown)||n.call(e,t),UE.subscribe((t=>{var n;"mousemove"===t.event.type&&t.event.preventDefault(),null==(n=e.onMove)||n.call(e,t)}))};return()=>{const t=e.type===HE,i=e.type===qE,a=e.type===GE;return Fh`
      <div
        class=${["sash",YE,{vertical:t,horizontal:i,edge:a}]}
        style=${{top:`${n()}px`,left:`${r()}px`,cursor:a?e.cursor:""}}
        @mousedown=${o}
      ></div>
    `}},XE="left",JE="right",KE="bottom",eN=(e,t)=>{const n=HS(t);let r=0,o=0;const i=(t,n)=>{let{movementX:o,x:i}=t;const a=Object.assign({change:!1},e.memo.ui),s=o<0?WI.left:WI.right,l=n===WI.left?a.width-o:a.width+o;switch(s){case WI.left:116<l&&i<r&&(n===WI.left&&(a.x+=o),r+=o,a.width=l,a.change=!0);break;case WI.right:116<l&&i>r&&(n===WI.left&&(a.x+=o),r+=o,a.width=l,a.change=!0)}return a},a=(t,n)=>{let{movementY:r,y:i}=t;const a=Object.assign({change:!1},e.memo.ui),s=r<0?WI.top:WI.bottom,l=n===WI.top?a.height-r:a.height+r;switch(s){case WI.top:100<l&&i<o&&(n===WI.top&&(a.y+=r),o+=r,a.height=l,a.change=!0);break;case WI.bottom:100<l&&i>o&&(n===WI.top&&(a.y+=r),o+=r,a.height=l,a.change=!0)}return a};return()=>Fh`${((e,t)=>[{type:HE,position:XE},{type:HE,position:JE,left:t},{type:qE,position:KE,top:e},{type:GE,position:"lt",cursor:"nwse-resize"},{type:GE,position:"rt",cursor:"nesw-resize",left:t},{type:GE,position:"lb",cursor:"nesw-resize",top:e},{type:GE,position:"rb",cursor:"nwse-resize",top:e,left:t}])(e.top,e.left).map((t=>Fh`
        <${QE}
          ...${t}
          .onMousedown=${s=>{((t,s)=>{r=t.clientX,o=t.clientY,UE.subscribe((t=>((t,r)=>{t.event.preventDefault();const{store:o}=n.value;let s=null,l=null;switch(r){case XE:case JE:s=i(t,r);break;case"top":case KE:l=a(t,r);break;case"lt":s=i(t,WI.left),l=a(t,WI.top);break;case"rt":s=i(t,WI.right),l=a(t,WI.top);break;case"lb":s=i(t,WI.left),l=a(t,WI.bottom);break;case"rb":s=i(t,WI.right),l=a(t,WI.bottom)}null!=s&&s.change&&null!=l&&l.change?o.dispatch(fv({id:e.memo.id,x:s.x,y:l.y,width:s.width,height:l.height})):null!=s&&s.change?o.dispatch(fv({id:e.memo.id,x:s.x,y:s.y,width:s.width,height:s.height})):null!=l&&l.change&&o.dispatch(fv({id:e.memo.id,x:l.x,y:l.y,width:l.width,height:l.height}))})(t,s)))})(s,t.position)}}
        />
      `))}`};function tN(e){return Object.keys(e).reduce(((t,n)=>{const r=Reflect.get(e,n);return!si(r)&&""!==r&&Reflect.set(t,n,r),t}),{})}const nN=ff`
  display: inline-flex;
  height: 100%;
  align-items: center;
`,rN=ff`
  transition: fill 0.15s;
`,oN=(e,t)=>({prefix:"mdi",iconName:e,icon:[24,24,,,t]}),iN=[{prefix:"fas",iconName:"key",icon:[512,512,[128273],"f084","M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0S160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17v80c0 13.3 10.7 24 24 24h80c13.3 0 24-10.7 24-24V448h40c13.3 0 24-10.7 24-24V384h40c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3zM376 96a40 40 0 1 1 0 80 40 40 0 1 1 0-80z"]},{prefix:"fas",iconName:"table",icon:[512,512,[],"f0ce","M64 256V160H224v96H64zm0 64H224v96H64V320zm224 96V320H448v96H288zM448 256H288V160H448v96zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z"]},{prefix:"fas",iconName:"note-sticky",icon:[448,512,[62026,"sticky-note"],"f249","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H288V368c0-26.5 21.5-48 48-48H448V96c0-35.3-28.7-64-64-64H64zM448 352H402.7 336c-8.8 0-16 7.2-16 16v66.7V480l32-32 64-64 32-32z"]},{prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},{prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},{prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},{prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},{prefix:"fas",iconName:"rotate-right",icon:[512,512,["redo-alt","rotate-forward"],"f2f9","M463.5 224H472c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1c-87.5 87.5-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H463.5z"]},{prefix:"fas",iconName:"rotate-left",icon:[512,512,["rotate-back","rotate-backward","undo-alt"],"f2ea","M48.5 224H40c-13.3 0-24-10.7-24-24V72c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2L98.6 96.6c87.6-86.5 228.7-86.2 315.8 1c87.5 87.5 87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3c-62.2-62.2-162.7-62.5-225.3-1L185 183c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8H48.5z"]},{prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},{prefix:"fas",iconName:"question",icon:[320,512,[10067,10068,61736],"3f","M80 160c0-35.3 28.7-64 64-64h32c35.3 0 64 28.7 64 64v3.6c0 21.8-11.1 42.1-29.4 53.8l-42.2 27.1c-25.2 16.2-40.4 44.1-40.4 74V320c0 17.7 14.3 32 32 32s32-14.3 32-32v-1.4c0-8.2 4.2-15.8 11-20.2l42.2-27.1c36.6-23.6 58.8-64.1 58.8-107.7V160c0-70.7-57.3-128-128-128H144C73.3 32 16 89.3 16 160c0 17.7 14.3 32 32 32s32-14.3 32-32zm80 320a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"]},{prefix:"fas",iconName:"diagram-project",icon:[576,512,["project-diagram"],"f542","M0 80C0 53.5 21.5 32 48 32h96c26.5 0 48 21.5 48 48V96H384V80c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H432c-26.5 0-48-21.5-48-48V160H192v16c0 1.7-.1 3.4-.3 5L272 288h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H272c-26.5 0-48-21.5-48-48V336c0-1.7 .1-3.4 .3-5L144 224H48c-26.5 0-48-21.5-48-48V80z"]},{prefix:"fas",iconName:"file-image",icon:[384,512,[128443],"f1c5","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM64 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm152 32c5.3 0 10.2 2.6 13.2 6.9l88 128c3.4 4.9 3.7 11.3 1 16.5s-8.2 8.6-14.2 8.6H216 176 128 80c-5.8 0-11.1-3.1-13.9-8.1s-2.8-11.2 .2-16.1l48-80c2.9-4.8 8.1-7.8 13.7-7.8s10.8 2.9 13.7 7.8l12.8 21.4 48.3-70.2c3-4.3 7.9-6.9 13.2-6.9z"]},{prefix:"fas",iconName:"file-export",icon:[576,512,["arrow-right-from-file"],"f56e","M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V288H216c-13.3 0-24 10.7-24 24s10.7 24 24 24H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zM384 336V288H494.1l-39-39c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l80 80c9.4 9.4 9.4 24.6 0 33.9l-80 80c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l39-39H384zm0-208H256V0L384 128z"]},{prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},{prefix:"fas",iconName:"file-import",icon:[512,512,["arrow-right-to-file"],"f56f","M128 64c0-35.3 28.7-64 64-64H352V128c0 17.7 14.3 32 32 32H512V448c0 35.3-28.7 64-64 64H192c-35.3 0-64-28.7-64-64V336H302.1l-39 39c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l80-80c9.4-9.4 9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l39 39H128V64zm0 224v48H24c-13.3 0-24-10.7-24-24s10.7-24 24-24H128zM512 128H384V0L512 128z"]},{prefix:"fas",iconName:"file-code",icon:[384,512,[],"f1c9","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM153 289l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L71 337c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM265 255l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"]},{prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},{prefix:"fas",iconName:"arrow-pointer",icon:[320,512,["mouse-pointer"],"f245","M0 55.2V426c0 12.2 9.9 22 22 22c6.3 0 12.4-2.7 16.6-7.5L121.2 346l58.1 116.3c7.9 15.8 27.1 22.2 42.9 14.3s22.2-27.1 14.3-42.9L179.8 320H297.9c12.2 0 22.1-9.9 22.1-22.1c0-6.3-2.7-12.3-7.4-16.5L38.6 37.9C34.3 34.1 28.9 32 23.2 32C10.4 32 0 42.4 0 55.2z"]},{prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"]},{prefix:"fas",iconName:"rotate",icon:[512,512,[128260,"sync-alt"],"f2f1","M142.9 142.9c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H463.5c0 0 0 0 0 0H472c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5c7.7-21.8 20.2-42.3 37.8-59.8zM16 312v7.6 .7V440c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2l41.6-41.6c87.6 86.5 228.7 86.2 315.8-1c24.4-24.4 42.1-53.1 52.9-83.7c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.2 62.2-162.7 62.5-225.3 1L185 329c6.9-6.9 8.9-17.2 5.2-26.2s-12.5-14.8-22.2-14.8H48.4h-.7H40c-13.3 0-24 10.7-24 24z"]},{prefix:"fas",iconName:"palette",icon:[512,512,[127912],"f53f","M512 256c0 .9 0 1.8 0 2.7c-.4 36.5-33.6 61.3-70.1 61.3H344c-26.5 0-48 21.5-48 48c0 3.4 .4 6.7 1 9.9c2.1 10.2 6.5 20 10.8 29.9c6.1 13.8 12.1 27.5 12.1 42c0 31.8-21.6 60.7-53.4 62c-3.5 .1-7 .2-10.6 .2C114.6 512 0 397.4 0 256S114.6 0 256 0S512 114.6 512 256zM128 288a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm0-96a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM288 96a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm96 96a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"]},{prefix:"fas",iconName:"table-columns",icon:[512,512,["columns"],"f0db","M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zm64 64V416H224V160H64zm384 0H288V416H448V160z"]},{prefix:"far",iconName:"copy",icon:[448,512,[],"f0c5","M384 336H192c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16l140.1 0L400 115.9V320c0 8.8-7.2 16-16 16zM192 384H384c35.3 0 64-28.7 64-64V115.9c0-12.7-5.1-24.9-14.1-33.9L366.1 14.1c-9-9-21.2-14.1-33.9-14.1H192c-35.3 0-64 28.7-64 64V320c0 35.3 28.7 64 64 64zM64 128c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H256c35.3 0 64-28.7 64-64V416H272v32c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192c0-8.8 7.2-16 16-16H96V128H64z"]},{prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},{prefix:"fas",iconName:"location-dot",icon:[384,512,["map-marker-alt"],"f3c5","M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},{prefix:"fas",iconName:"circle-half-stroke",icon:[512,512,[9680,"adjust"],"f042","M448 256c0-106-86-192-192-192V448c106 0 192-86 192-192zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},oN("code-json","M5,3H7V5H5V10A2,2 0 0,1 3,12A2,2 0 0,1 5,14V19H7V21H5C3.93,20.73 3,20.1 3,19V15A2,2 0 0,0 1,13H0V11H1A2,2 0 0,0 3,9V5A2,2 0 0,1 5,3M19,3A2,2 0 0,1 21,5V9A2,2 0 0,0 23,11H24V13H23A2,2 0 0,0 21,15V19A2,2 0 0,1 19,21H17V19H19V14A2,2 0 0,1 21,12A2,2 0 0,1 19,10V5H17V3H19M12,15A1,1 0 0,1 13,16A1,1 0 0,1 12,17A1,1 0 0,1 11,16A1,1 0 0,1 12,15M8,15A1,1 0 0,1 9,16A1,1 0 0,1 8,17A1,1 0 0,1 7,16A1,1 0 0,1 8,15M16,15A1,1 0 0,1 17,16A1,1 0 0,1 16,17A1,1 0 0,1 15,16A1,1 0 0,1 16,15Z"),oN("database","M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M4,9V12C4,14.21 7.58,16 12,16C16.42,16 20,14.21 20,12V9C20,11.21 16.42,13 12,13C7.58,13 4,11.21 4,9M4,14V17C4,19.21 7.58,21 12,21C16.42,21 20,19.21 20,17V14C20,16.21 16.42,18 12,18C7.58,18 4,16.21 4,14Z"),oN("database-import","M12,3C8.59,3 5.69,4.07 4.54,5.57L9.79,10.82C10.5,10.93 11.22,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M3.92,7.08L2.5,8.5L5,11H0V13H5L2.5,15.5L3.92,16.92L8.84,12M20,9C20,11.21 16.42,13 12,13C11.34,13 10.7,12.95 10.09,12.87L7.62,15.34C8.88,15.75 10.38,16 12,16C16.42,16 20,14.21 20,12M20,14C20,16.21 16.42,18 12,18C9.72,18 7.67,17.5 6.21,16.75L4.53,18.43C5.68,19.93 8.59,21 12,21C16.42,21 20,19.21 20,17"),oN("database-export","M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C12.5,11 13,10.97 13.5,10.92V9.5H16.39L15.39,8.5L18.9,5C17.5,3.8 14.94,3 12,3M18.92,7.08L17.5,8.5L20,11H15V13H20L17.5,15.5L18.92,16.92L23.84,12M4,9V12C4,14.21 7.58,16 12,16C13.17,16 14.26,15.85 15.25,15.63L16.38,14.5H13.5V12.92C13,12.97 12.5,13 12,13C7.58,13 4,11.21 4,9M4,14V17C4,19.21 7.58,21 12,21C14.94,21 17.5,20.2 18.9,19L17,17.1C15.61,17.66 13.9,18 12,18C7.58,18 4,16.21 4,14Z"),oN("format-letter-case","M20.06,18C20,17.83 19.91,17.54 19.86,17.11C19.19,17.81 18.38,18.16 17.45,18.16C16.62,18.16 15.93,17.92 15.4,17.45C14.87,17 14.6,16.39 14.6,15.66C14.6,14.78 14.93,14.1 15.6,13.61C16.27,13.12 17.21,12.88 18.43,12.88H19.83V12.24C19.83,11.75 19.68,11.36 19.38,11.07C19.08,10.78 18.63,10.64 18.05,10.64C17.53,10.64 17.1,10.76 16.75,11C16.4,11.25 16.23,11.54 16.23,11.89H14.77C14.77,11.46 14.92,11.05 15.22,10.65C15.5,10.25 15.93,9.94 16.44,9.71C16.95,9.5 17.5,9.36 18.13,9.36C19.11,9.36 19.87,9.6 20.42,10.09C20.97,10.58 21.26,11.25 21.28,12.11V16C21.28,16.8 21.38,17.42 21.58,17.88V18H20.06M17.66,16.88C18.11,16.88 18.54,16.77 18.95,16.56C19.35,16.35 19.65,16.07 19.83,15.73V14.16H18.7C16.93,14.16 16.04,14.63 16.04,15.57C16.04,16 16.19,16.3 16.5,16.53C16.8,16.76 17.18,16.88 17.66,16.88M5.46,13.71H9.53L7.5,8.29L5.46,13.71M6.64,6H8.36L13.07,18H11.14L10.17,15.43H4.82L3.86,18H1.93L6.64,6Z"),oN("table-cog","M3 3H17C18.11 3 19 3.9 19 5V12.08C17.45 11.82 15.92 12.18 14.68 13H11V17H12.08C11.97 17.68 11.97 18.35 12.08 19H3C1.9 19 1 18.11 1 17V5C1 3.9 1.9 3 3 3M3 7V11H9V7H3M11 7V11H17V7H11M3 13V17H9V13H3M22.78 19.32L21.71 18.5C21.73 18.33 21.75 18.17 21.75 18S21.74 17.67 21.71 17.5L22.77 16.68C22.86 16.6 22.89 16.47 22.83 16.36L21.83 14.63C21.77 14.5 21.64 14.5 21.5 14.5L20.28 15C20 14.82 19.74 14.65 19.43 14.53L19.24 13.21C19.23 13.09 19.12 13 19 13H17C16.88 13 16.77 13.09 16.75 13.21L16.56 14.53C16.26 14.66 15.97 14.82 15.71 15L14.47 14.5C14.36 14.5 14.23 14.5 14.16 14.63L13.16 16.36C13.1 16.47 13.12 16.6 13.22 16.68L14.28 17.5C14.26 17.67 14.25 17.83 14.25 18S14.26 18.33 14.28 18.5L13.22 19.32C13.13 19.4 13.1 19.53 13.16 19.64L14.16 21.37C14.22 21.5 14.35 21.5 14.47 21.5L15.71 21C15.97 21.18 16.25 21.35 16.56 21.47L16.75 22.79C16.77 22.91 16.87 23 17 23H19C19.12 23 19.23 22.91 19.25 22.79L19.44 21.47C19.74 21.34 20 21.18 20.28 21L21.5 21.5C21.64 21.5 21.77 21.5 21.84 21.37L22.84 19.64C22.9 19.53 22.87 19.4 22.78 19.32M18 19.5C17.17 19.5 16.5 18.83 16.5 18S17.18 16.5 18 16.5 19.5 17.17 19.5 18 18.84 19.5 18 19.5Z"),oN("code-brackets","M15,4V6H18V18H15V20H20V4M4,4V20H9V18H6V6H9V4H4Z"),oN("vector-line","M15,3V7.59L7.59,15H3V21H9V16.42L16.42,9H21V3M17,5H19V7H17M5,17H7V19H5"),oN("atom","M12,11A1,1 0 0,1 13,12A1,1 0 0,1 12,13A1,1 0 0,1 11,12A1,1 0 0,1 12,11M4.22,4.22C5.65,2.79 8.75,3.43 12,5.56C15.25,3.43 18.35,2.79 19.78,4.22C21.21,5.65 20.57,8.75 18.44,12C20.57,15.25 21.21,18.35 19.78,19.78C18.35,21.21 15.25,20.57 12,18.44C8.75,20.57 5.65,21.21 4.22,19.78C2.79,18.35 3.43,15.25 5.56,12C3.43,8.75 2.79,5.65 4.22,4.22M15.54,8.46C16.15,9.08 16.71,9.71 17.23,10.34C18.61,8.21 19.11,6.38 18.36,5.64C17.62,4.89 15.79,5.39 13.66,6.77C14.29,7.29 14.92,7.85 15.54,8.46M8.46,15.54C7.85,14.92 7.29,14.29 6.77,13.66C5.39,15.79 4.89,17.62 5.64,18.36C6.38,19.11 8.21,18.61 10.34,17.23C9.71,16.71 9.08,16.15 8.46,15.54M5.64,5.64C4.89,6.38 5.39,8.21 6.77,10.34C7.29,9.71 7.85,9.08 8.46,8.46C9.08,7.85 9.71,7.29 10.34,6.77C8.21,5.39 6.38,4.89 5.64,5.64M9.88,14.12C10.58,14.82 11.3,15.46 12,16.03C12.7,15.46 13.42,14.82 14.12,14.12C14.82,13.42 15.46,12.7 16.03,12C15.46,11.3 14.82,10.58 14.12,9.88C13.42,9.18 12.7,8.54 12,7.97C11.3,8.54 10.58,9.18 9.88,9.88C9.18,10.58 8.54,11.3 7.97,12C8.54,12.7 9.18,13.42 9.88,14.12M18.36,18.36C19.11,17.62 18.61,15.79 17.23,13.66C16.71,14.29 16.15,14.92 15.54,15.54C14.92,16.15 14.29,16.71 13.66,17.23C15.79,18.61 17.62,19.11 18.36,18.36Z"),oN("chart-scatter-plot","M2,2H4V20H22V22H2V2M9,10A3,3 0 0,1 12,13A3,3 0 0,1 9,16A3,3 0 0,1 6,13A3,3 0 0,1 9,10M13,2A3,3 0 0,1 16,5A3,3 0 0,1 13,8A3,3 0 0,1 10,5A3,3 0 0,1 13,2M18,12A3,3 0 0,1 21,15A3,3 0 0,1 18,18A3,3 0 0,1 15,15A3,3 0 0,1 18,12Z"),oN("white-balance-sunny","M3.55 19.09L4.96 20.5L6.76 18.71L5.34 17.29M12 6C8.69 6 6 8.69 6 12S8.69 18 12 18 18 15.31 18 12C18 8.68 15.31 6 12 6M20 13H23V11H20M17.24 18.71L19.04 20.5L20.45 19.09L18.66 17.29M20.45 5L19.04 3.6L17.24 5.39L18.66 6.81M13 1H11V4H13M6.76 5.39L4.96 3.6L3.55 5L5.34 6.81L6.76 5.39M1 13H4V11H1M13 20H11V23H13"),oN("weather-might","M17.75,4.09L15.22,6.03L16.13,9.09L13.5,7.28L10.87,9.09L11.78,6.03L9.25,4.09L12.44,4L13.5,1L14.56,4L17.75,4.09M21.25,11L19.61,12.25L20.2,14.23L18.5,13.06L16.8,14.23L17.39,12.25L15.75,11L17.81,10.95L18.5,9L19.19,10.95L21.25,11M18.97,15.95C19.8,15.87 20.69,17.05 20.16,17.8C19.84,18.25 19.5,18.67 19.08,19.07C15.17,23 8.84,23 4.94,19.07C1.03,15.17 1.03,8.83 4.94,4.93C5.34,4.53 5.76,4.17 6.21,3.85C6.96,3.32 8.14,4.21 8.06,5.04C7.79,7.9 8.75,10.87 10.95,13.06C13.14,15.26 16.1,16.22 18.97,15.95M17.33,17.97C14.5,17.81 11.7,16.64 9.53,14.5C7.36,12.31 6.2,9.5 6.04,6.68C3.23,9.82 3.34,14.64 6.35,17.66C9.37,20.67 14.19,20.78 17.33,17.97Z"),oN("plus-minus-box","M5,3C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3H5M11,6H13V9H16V11H13V14H11V11H8V9H11V6M8,16H16V18H8V16Z"),oN("plus-minus","M11,4V9H6V11H11V16H13V11H18V9H13V4H11M6,18V20H18V18H6Z"),oN("plus","M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"),oN("minus","M19,13H5V11H19V13Z"),oN("av-timer","M11,17A1,1 0 0,0 12,18A1,1 0 0,0 13,17A1,1 0 0,0 12,16A1,1 0 0,0 11,17M11,3V7H13V5.08C16.39,5.57 19,8.47 19,12A7,7 0 0,1 12,19A7,7 0 0,1 5,12C5,10.32 5.59,8.78 6.58,7.58L12,13L13.41,11.59L6.61,4.79V4.81C4.42,6.45 3,9.05 3,12A9,9 0 0,0 12,21A9,9 0 0,0 21,12A9,9 0 0,0 12,3M18,12A1,1 0 0,0 17,11A1,1 0 0,0 16,12A1,1 0 0,0 17,13A1,1 0 0,0 18,12M6,12A1,1 0 0,0 7,13A1,1 0 0,0 8,12A1,1 0 0,0 7,11A1,1 0 0,0 6,12Z"),{prefix:"radix",iconName:"timer",icon:[15,15,,,"M7.49998 0.849976C7.22383 0.849976 6.99998 1.07383 6.99998 1.34998V3.52234C6.99998 3.79848 7.22383 4.02234 7.49998 4.02234C7.77612 4.02234 7.99998 3.79848 7.99998 3.52234V1.8718C10.8862 2.12488 13.15 4.54806 13.15 7.49998C13.15 10.6204 10.6204 13.15 7.49998 13.15C4.37957 13.15 1.84998 10.6204 1.84998 7.49998C1.84998 6.10612 2.35407 4.83128 3.19049 3.8459C3.36919 3.63538 3.34339 3.31985 3.13286 3.14115C2.92234 2.96245 2.60681 2.98825 2.42811 3.19877C1.44405 4.35808 0.849976 5.86029 0.849976 7.49998C0.849976 11.1727 3.82728 14.15 7.49998 14.15C11.1727 14.15 14.15 11.1727 14.15 7.49998C14.15 3.82728 11.1727 0.849976 7.49998 0.849976ZM6.74049 8.08072L4.22363 4.57237C4.15231 4.47295 4.16346 4.33652 4.24998 4.25C4.33649 4.16348 4.47293 4.15233 4.57234 4.22365L8.08069 6.74051C8.56227 7.08599 8.61906 7.78091 8.19998 8.2C7.78089 8.61909 7.08597 8.56229 6.74049 8.08072Z"]},...Object.entries({ZeroOneN:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Q0RFRDI1RjI0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Q0RFRDI1RjM0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCQTE2QzQzRDQ4NjQxMUU3QkRBMDg1MDlCNjg0QjgzMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCQTE2QzQzRTQ4NjQxMUU3QkRBMDg1MDlCNjg0QjgzMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnTT5ywAAAJMSURBVHja7Fc9T2JBFB3MZq1IqLSgsRM6G6TcAmK7VNoRK4yBxE6XP/CsNxBohc6G5w+AoCU0aEWpBfAD4AeM55AZMjvvg2dClsRwkxOeb+7ce+6dmTPPmJRSbNP2xJZtR2DrBH6k0+ndEkSxBHAD9AGpMAJc4Lfh1zDGn4GLgHglNb8kqANhSKVSTiaTkY7jyMFgILWNx2PZ7XZluVyW8BkBJWA1PhwO+f7ZinUO9DmH8xl3XfIGnefzuQwzBsvlcjKIAH4PWAh9zCLq9Xp48mq16knGwASTmkaShULBQ0B1ZlSr1TyFtFqtwOS3xWLxH2eyZctUUOKVFTGRtslk4iHAODZZ/k2yLDKIwLsZjJ2gM3Bo+V0wieu6vsvCCu0ucS+RPHC1vId8kp+YrWRwvHsIWaosO7Nun3DDqn1yD+zr+RQiz3WYz+dXz6iCP82g84lKB4jxF0Rv0G7P+Gw2E6ha9Ho9/eoPsRJAucbUzl53Wi79NmwU25QSJuLx+ObugkqlInD+l8+oTsAny1aHxDlKJpOBgzhBot1ui8Vi4R3cwCY8jbIJeap4JOHvAmd6flDQj+l06ncMD/yktdPp+AoW59nEeBqUnjjAzyACd7YQUcnUxL7CyJZWk7QWIs6xdcLQg6cvSzETEl+Q4iyXkAWZBHU3/stlpLvKpaWkm0sb5Tq+19exqfvWdbyU1gjX8SGLIlnKNJ9jPGYRP0gugQLwS717Az6AB+DJ+CC5Vs8vSkEffeIdK79mVALf95swtvvXbEdg2wQ+BRgAvLABcxKvek4AAAAASUVORK5CYII=",ZeroOne:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QkExNkM0M0I0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QkExNkM0M0M0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCQTE2QzQzOTQ4NjQxMUU3QkRBMDg1MDlCNjg0QjgzMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCQTE2QzQzQTQ4NjQxMUU3QkRBMDg1MDlCNjg0QjgzMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PomEhhsAAAKSSURBVHja7FexbhpBED0ipFRI7ixBQwlV0nCUWKJIydEkFSRpHCGQ0iXgBqfBbQrAShXzA4BLJJCdEip3UDoSUFvwAZv30B5a1ncHBiSk2CONdrU3O/N2dt6w+IQQxiHllXFgeQFwcAD+aDT6zDPwBNsjaAoaVtbuoNcee46hOSi5/hd6pRv41vUBXJFJJ4FA4FMymTRCodDy22g0Mnq93gOml8Ph8Mxhb71QKOQYYzqdGq1W6zPsVkHwo5tGIpFvsVhMNJtN4Saz2UwUi0UB299QU9u/tBsMBrS51WN4BrcsS4zHY7GJEKQOYmsAMIzz5GrwyWQiSqWSwDXQkchms6LRaCwyoIPYB4Ar3NdyM+cEhPXv0LC0OYH+ZJZUEASG9fdbA2AAnlI9uQwedwF7waC29Pt92t5sCoCN6FzSZCmsdluq1aoxn8+LqN6+E0uwXoKPKNiQ4j7TNA0w5gRLZRdWraz7QZOyTkU6saXb7XL4taZH3IGSKRs4asVA5s5Vg2AwaOTz+QSmCZ2GniLTuI6uFpyLbcRfq9UeHYcZwL0v5mw8SFsYqb73yMBb9Tel3W4zA4s5gC1G2Yget2Lc8Q99MZ1Ol20AmLMOTjE9c7nT1xgstW4qlQrrhn7LNgACgp8/mN56dkKk84hVb1OLo+T+qUv66wi4QlnSeNc+cAG0y81IvyDfZaf7CE1Av5JubE6qSLDxXQEc05ib9HbLvp/JZARPTc6rQjDMyL5+Cz7wKkDDjapZD74zAOngHbRN57wGJyFAmfa6w/71ndCruyBoB0MHlf4FxZUDJd+o7wF8Z7Vfy/dAx8HFJWies1ng+CABqqe8oMIOL6KHDV5ElPt9APj/HqW+l/+Gzx7APwEGACfjkeXK58xsAAAAAElFTkSuQmCC",ZeroN:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDc5MkNFMEM0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDc5MkNFMEQ0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0NzkyQ0UwQTQ4NjQxMUU3QkRBMDg1MDlCNjg0QjgzMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0NzkyQ0UwQjQ4NjQxMUU3QkRBMDg1MDlCNjg0QjgzMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpR0ImIAAALlSURBVHja7Fe/jxJBGF0MyVUk2HgJFJ6NQqUNWEoCkfKWxusozxBI7Eiw8ardKy/hxyVWQqcF8AdA9Eqg8DqwuwJI7Aj8AeN7OEuGhd09tCBRvuTLzA4z37z53rxvF58QQtunPdD2bAcA/mg0+p9nYMf5Qfhz5fnmbwH47iND0PQaTS4QCOiRSGQ1PhgMZmja8OvhcNi/z4aIdc5Ycs1HjQCcHJu9hH/KZrOi0+kIu83nc9FsNkUymRSYZ3jEegqv6bousLHI5/NcU3RbkIa3W62W8DICKZVKDFhziFWMxWKiXq+v1ozHY8Exv0OajpmmSqVyitOtxrvdrjYajZZ90KGlUiktFAot+4ZhcDiHtTOc8L1KHWLoAKiFw+FVrOl0+rvjgNjA5msnJA3MCPxC+hX8DhuvzZN0kDqDfTt1nCPT/w1+tm3zIFPDidYC8oZxc8vcI6ZdBUHKMPadY1YMy0gBY6uxfHhIMBEKAw+BvIUMLB+q1aqG/iXSWnKg6wjND9DzmHQsFgttMploqlpIm2maWr/fv8bj5zUZMrV2KWYymaXTyDMCPgGAOxdpXRQKhQ9I7cZv2FSzDrPVvG44TiLc5CWp0Mnrn5gfxWQDFG8r02nddpwwiAzMXOrLC6d3CtNPWhxLMSjYKKcYe0XZ0OLxOOVHOX1xA6Bybj8MKWg0GjdOFNjTeUL5WNbr9UjDV3jcIf3nVIllrHK8V2xVYxypphr8kbXeidO2ql+WWwnijQrU0rq6mdT4W/gta4ldiuVy2ZJi0Q1AmoHVxTyBDL50/m7XOkETvIxxTL1zHpSwBoJlWBa2mtvNNpky+wmcjJvIk6Vtcc5Y9QjeHovxveRlbiun9tLKVFul1S2W+kJiywx4fg9AXmm+UDD5lIqg3HizwftSYgBHmV1izhXGfnrEeobmHeLkuB7rIj4n+WyTGjwh2xP4rXR+kMx2/BBKyLWzXQD8mx+lvsNfswOAfQP4JcAAK/At0HQvwB8AAAAASUVORK5CYII=",OneOnly:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUJCNTBCRDA0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QkExNkM0MzQ0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQkI1MEJDRTQ4NjQxMUU3QkRBMDg1MDlCNjg0QjgzMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQkI1MEJDRjQ4NjQxMUU3QkRBMDg1MDlCNjg0QjgzMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pur5d4QAAAE1SURBVHjaYvz//z/DQAImhgEGow4YcAewaGpqjvAQoJI5CUAsD2VPB+JXULY4EGcCMSivPwTiBRgOuH79OkU2A6MwITAwcL6UlBSYP3XqVHGgmVlQufqcnJxMUFnz7NkzhvXr1zMA5VAdAZKkBGtoaBw4derUfxgA8v8jycHFQWpAatH1j2bDUQeACqIGaDahGgClfmLlWIDZpJ7SKhmWBUEgOzsbRDVgUwOUswcy7ZHFGf8PcIOABVhwUGwIsCBiQCqIUOSgIQIviNABI7BwaKDQfodFixbZm5qawuIYRDVC5ephJe3p06cZ4uLiDgKZB0ZLwtGCaNg1SBYAs5c9MJExIDVI4GxgtgQ1SBiePn3KgK1BAsqG1GoRKSA54CVaiwgEHtDSAUM3DTCO9g1HvAMAAgwAvvwYPnW1JuQAAAAASUVORK5CYII=",OneN:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QkExNkM0Mzc0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QkExNkM0Mzg0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCQTE2QzQzNTQ4NjQxMUU3QkRBMDg1MDlCNjg0QjgzMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCQTE2QzQzNjQ4NjQxMUU3QkRBMDg1MDlCNjg0QjgzMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pt+BFx8AAAIISURBVHja7Fc9TwJBEF0MLYkdBgot4QdwLSaQSAmNdkCrR61CI9Ud1oCUIB0NYElBtJU/QIkmQKIVgcpqfXPekQNBYu7WM4FJJvs1x87Ovnk7uDjnzEnZYw7LzgHHHXAFAoHtjoDbpt9JQw/1fgX6vsH+CDohdVnlgWAwmE4kElWfz6eNy+Vypd/vX6yx9aK58fv959PplM1mswNGDlhRYOip1+txQzDma+wuoYNSqaTZUYvxnXAHMJag1WQyyYfDITdLJBLhbpEAQ8gVj8eThTBc03weoWeqqrLRaFQREgHoKfQRG3Pc9cKpW60WD4VCZKPS90IiAJA1FEVhkiTN58bjMaNIwNl7yhQA9VlLQ4Qpj9a2J1GWZZbJZBbmkBkMoHtFt6pPxbBvTGNCHZWWNqX7xalXriHkdNfrqZg7XBC4KTxWhSJgENGy0Onb7faPj1He4v7H9Xo9DGRrg1QqpaWY2SEAj+Vyua+0W6ZpQWn4YjCeWYrFIq0NiBWN70U54CWajcfj3LxGQmxIrEjsSCwplIrRP6N1cMI3Qmo2mxohCa0HQDYNNCfASAG8z7rd7nwtGo3+TUECJz6gWfB/DAT1QCAlViSgYq5gBxXXQDZhQrqpIFnlSAdNBwx4BWwUsPk15m7tqgnTepVjOPC2wX5fr4hse4xqv7Sf/J+yfPffcOsd+BRgAOvawAWTC+PMAAAAAElFTkSuQmCC",One:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUJCNTBCQ0M0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUJCNTBCQ0Q0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQkI1MEJDQTQ4NjQxMUU3QkRBMDg1MDlCNjg0QjgzMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQkI1MEJDQjQ4NjQxMUU3QkRBMDg1MDlCNjg0QjgzMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnOhfCQAAADcSURBVHjaYvz//z/DQAImhgEGow4YcAewaGpqjvAQoJI5CUAsD2VPB+JXxGpkpLQcAEZhQmBg4HwpKSkwf+rUqdOvX7+eRbQBIAdQgjU0NA6cOnXqPwwA+f9J0T+aDUcdACqIGkBpkZqGAs2sJzobTpky5T+lWRGYDRmkpaXBbKB5JOll/D/ADQIWYMFBsSGgEEAqiEgLAWDB0UCh/Q6LFi2yNzU1hcU/iGocLQlHC6IR1SBZsH79entgQmRAapCQlA2p1SJSQHLAS3o3yRYM2TTAONo3HPEOAAgwAJh583IRUllDAAAAAElFTkSuQmCC",N:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDc5MkNFMDg0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDc5MkNFMDk0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozNDQwRjc3NTQ4M0MxMUU3QkRBMDg1MDlCNjg0QjgzMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozNDQwRjc3NjQ4M0MxMUU3QkRBMDg1MDlCNjg0QjgzMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkbQDKwAAAGjSURBVHja7Jcxb4JQEMefLl272cjSUbYu0g+gSVemdpPZwKzRRSf4AGg70k8AfACTdqx+ibYJLp2MfoDr/wg0vJp2Al6TeskFeQ+4e/fufvdsEJFQKU2hWE4OKHeg0el0TlugQi6h5+kW1MkBXddbuMw0TRvu93txOBwumjUaH+Hy4jjOcLVaCcuyeHgmOAJVKpLcgAaDwYCSJKGi9Hq9yo273W6XwjCUDCP8NJlMCPP3VRm+hT6xETZWlCiKiJ3CvJfmX8mGW7wqDu16vZYMb7db4m3A/CP0On+HQTRHMpRVCiaS7Mq2bWlwuVyKxWLxjp/BEQkxQWWVYr/fF9/JipALrP5nFJPiA0EagbI+BsAI0zSlMV59HMe/NqN5mYg1DMPyPE+02+2vwc1mI6bTKTvzgNsP6Y0KSnAMfctySxLf97kKXqGj/PmqOJCWI7aDsHrJCaZhVo4BU7JqEt5Bn13XPQIS05GBVEcvOGPqsTE0IQnHtThQcOQGGnP4mYpZL/Bqc6CYpFkvGOcoVsEfPg3tVB7Jdn/nWH76b/jvHfgUYADeZNmzPgOYQQAAAABJRU5ErkJggg=="}).map((e=>{let[t,n]=e;return((e,t)=>({prefix:"base64",iconName:e,icon:[24,24,,,t]}))(t,n)}))],aN={};function sN(e,t){return aN[`${e}-${t}`]}!function(e){e.reduce(((e,t)=>(e[`${t.prefix}-${t.iconName}`]=t,e)),aN)}(iN);const lN=(e,t)=>()=>{const t=e.prefix??"fas",n=e.name??"",r=e.size??18,o=sN(t,n);if(!o)return Zh``;const[i,a,,,s]=o.icon,l=r/24*1.5;return Fh`
    <div
      class=${["icon",nN,e.class]}
      style=${{transform:`rotate(${e.rotate??0}deg)`}}
      ...${tN({title:e.title})}
      @click=${e.onClick}
      @mouseenter=${e.onMouseenter}
      @mouseleave=${e.onMouseleave}
    >
      ${"base64"===t?Fh`
            <img
              style=${{width:`${r}px`,height:`${r}px`}}
              src=${s}
            />
          `:Zh`
            <svg
              class=${e.useTransition?rN:null}
              style=${{width:"fas"===t?`${l}rem`:`${r}px`,height:"fas"===t?`${l}rem`:`${r}px`}}
              viewBox="0 0 ${i} ${a}"
            >
              ${e.color?Zh`<path d=${s} fill=${e.color}></path>`:Zh`<path d=${s}></path>`}
            </svg>
    `}
    </div>
  `},cN=ff`
  position: absolute;
  background-color: var(--memo-background);
  border-radius: 6px;
  border: 1px solid var(--memo-border);
  fill: transparent;
  color: transparent;

  &:hover {
    fill: var(--foreground);
    color: var(--foreground);
  }

  &[data-selected] {
    border: 1px solid var(--memo-select);
  }
`,uN=ff`
  position: relative;
  display: flex;
  flex-direction: column;
  padding: ${8}px;
  width: 100%;
  height: 100%;
`,dN=ff`
  display: flex;
  flex-direction: column;
  position: relative;
`,hN=ff`
  position: absolute;
  top: -${9}px;
  left: -${8}px;
  width: calc(100% + ${16}px);
  min-height: 4px;
  border-radius: 6px 6px 0 0;
  cursor: pointer;
`,fN=ff`
  display: flex;
  height: ${12}px;
  justify-content: flex-end;
  margin-bottom: ${4}px;
  cursor: move;

  & > .icon {
    margin-left: 4px;
    cursor: pointer;
  }

  & > .icon:hover {
    fill: var(--active);
    color: var(--active);
  }
`,mN=ff`
  resize: none;
  background-color: transparent;
  ${mE};
  line-height: normal;
`,pN=(e,t)=>{const n=HS(t),r=e=>{let{event:t,movementX:r,movementY:o}=e;"mousemove"===t.type&&t.preventDefault();const{store:i}=n.value;i.dispatch(sk(r,o))},o=t=>{const o=t.target;if(!o)return;const{store:i}=n.value;i.dispatch(kw(e.memo.id,WS(t))),!o.closest(".memo-header-color")&&!o.closest(".memo-textarea")&&!o.closest(".icon")&&!o.closest(".sash")&&UE.subscribe(r)},i=()=>{const{store:t}=n.value;t.dispatch(xw(e.memo.id))},a=t=>{const r=t.target;if(!r)return;const{store:o}=n.value;o.dispatch(dv({id:e.memo.id,value:r.value}))},s=()=>{t.host.dispatchEvent(CE())},l=t=>{const{emitter:r}=n.value;r.emit(XO({x:t.clientX,y:t.clientY,color:e.memo.ui.color}))};return()=>{var t;const{store:r,keyBindingMap:c}=n.value,{editor:u}=r.state,{memo:d}=e,h=!!u.selectedMap[d.id],f=Uw(d),m=Ww(d);return Fh`
      <div
        class=${["memo",cN]}
        style=${{top:`${d.ui.y}px`,left:`${d.ui.x}px`,"z-index":`${d.ui.zIndex}`,width:`${f}px`,height:`${m}px`}}
        ?data-selected=${h}
        ?data-focus-border=${h}
        @mousedown=${o}
        @touchstart=${o}
      >
        <div class=${uN}>
          <div class=${dN}>
            <div
              class=${["memo-header-color",hN]}
              style=${{"background-color":d.ui.color}}
              @click=${l}
            ></div>
            <div class=${fN}>
              <${lN}
                size=${12}
                name="xmark"
                title=${FS(null==(t=c.removeTable[0])?void 0:t.shortcut)}
                useTransition=${!0}
                .onClick=${i}
              />
            </div>
          </div>
          <textarea
            class=${["memo-textarea","scrollbar",mN]}
            style=${{width:`${d.ui.width}px`,height:`${d.ui.height}px`}}
            spellcheck="false"
            .value=${d.value}
            @input=${a}
            @wheel=${kE}
            @blur=${s}
          ></textarea>
          <${eN} memo=${d} top=${m} left=${f} />
        </div>
      </div>
    `}},gN=ff`
  position: absolute;
  max-width: 100px;
  overflow: hidden;
  display: flex;
  pointer-events: none;
  z-index: 2147483647;

  & > span {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
`,yN=(e,t)=>{const n=il({x:e.tracker.x,y:e.tracker.y}),{addUnsubscribe:r}=tE();return Ws((()=>{r(jE.subscribe((()=>{const{tracker:t}=e;n.x+=.05*(t.x-n.x),n.y+=.05*(t.y-n.y)})))})),()=>{const{tracker:{nickname:t}}=e;return Fh`
      <div
        class=${gN}
        style=${{left:`${n.x}px`,top:`${n.y}px`}}
      >
        <${lN} name="arrow-pointer" size=${16} />
        <span>${t}</span>
      </div>
    `}},vN=(e,t)=>{const n=HS(t),{addUnsubscribe:r}=tE(),o=il({force:!1}),i=()=>{o.force=!o.force};return Ws((()=>{const{store:e}=n.value,{editor:{sharedMouseTrackerMap:t}}=e.state;r(al(t).subscribe(i))})),()=>{const{store:e}=n.value,{editor:{sharedMouseTrackerMap:t}}=e.state;return o.force,Fh`
      ${gd(Object.values(t),(e=>e.id),(e=>Fh`<${yN} tracker=${e} />`))}
    `}};function bN(e){return Array.isArray?Array.isArray(e):"[object Array]"===CN(e)}function wN(e){return"string"==typeof e}function xN(e){return"number"==typeof e}function kN(e){return"object"==typeof e}function IN(e){return null!=e}function $N(e){return!e.trim().length}function CN(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const TN=e=>`Missing ${e} property in key`,AN=e=>`Property 'weight' in key '${e}' must be a positive integer`,ON=Object.prototype.hasOwnProperty;class SN{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=EN(e);this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function EN(e){let t=null,n=null,r=null,o=1,i=null;if(wN(e)||bN(e))r=e,t=NN(e),n=MN(e);else{if(!ON.call(e,"name"))throw new Error(TN("name"));const a=e.name;if(r=a,ON.call(e,"weight")&&(o=e.weight,o<=0))throw new Error(AN(a));t=NN(a),n=MN(a),i=e.getFn}return{path:t,id:n,weight:o,src:r,getFn:i}}function NN(e){return bN(e)?e:e.split(".")}function MN(e){return bN(e)?e.join("."):e}const DN={useExtendedSearch:!1,getFn:function(e,t){let n=[],r=!1;const o=(e,t,i)=>{if(IN(e))if(t[i]){const a=e[t[i]];if(!IN(a))return;if(i===t.length-1&&(wN(a)||xN(a)||function(e){return!0===e||!1===e||function(e){return kN(e)&&null!==e}(e)&&"[object Boolean]"==CN(e)}(a)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(a));else if(bN(a)){r=!0;for(let e=0,n=a.length;e<n;e+=1)o(a[e],t,i+1)}else t.length&&o(a,t,i+1)}else n.push(e)};return o(e,wN(t)?t.split("."):t,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var LN={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...DN};const jN=/[^ ]+/g;class _N{constructor({getFn:e=LN.getFn,fieldNormWeight:t=LN.fieldNormWeight}={}){this.norm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;const n=new Map,r=Math.pow(10,t);return{get(t){const o=t.match(jN).length;if(n.has(o))return n.get(o);const i=1/Math.pow(o,.5*e),a=parseFloat(Math.round(i*r)/r);return n.set(o,a),a},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.docs=e}setIndexRecords(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.records=e}setKeys(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,wN(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();wN(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!IN(e)||$N(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,r)=>{let o=t.getFn?t.getFn(e):this.getFn(e,t.path);if(IN(o))if(bN(o)){let e=[];const t=[{nestedArrIndex:-1,value:o}];for(;t.length;){const{nestedArrIndex:n,value:r}=t.pop();if(IN(r))if(wN(r)&&!$N(r)){let t={v:r,i:n,n:this.norm.get(r)};e.push(t)}else bN(r)&&r.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[r]=e}else if(wN(o)&&!$N(o)){let e={v:o,n:this.norm.get(o)};n.$[r]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function zN(e,t){let{getFn:n=LN.getFn,fieldNormWeight:r=LN.fieldNormWeight}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new _N({getFn:n,fieldNormWeight:r});return o.setKeys(e.map(EN)),o.setSources(t),o.create(),o}function RN(e){let{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:o=LN.distance,ignoreLocation:i=LN.ignoreLocation}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=t/e.length;if(i)return a;const s=Math.abs(r-n);return o?a+s/o:s?1:a}const VN=32;function BN(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const o=e.charAt(n);t[o]=(t[o]||0)|1<<r-n-1}return t}class PN{constructor(e,{location:t=LN.location,threshold:n=LN.threshold,distance:r=LN.distance,includeMatches:o=LN.includeMatches,findAllMatches:i=LN.findAllMatches,minMatchCharLength:a=LN.minMatchCharLength,isCaseSensitive:s=LN.isCaseSensitive,ignoreLocation:l=LN.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:l},this.pattern=s?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(e,t)=>{this.chunks.push({pattern:e,alphabet:BN(e),startIndex:t})},u=this.pattern.length;if(u>VN){let e=0;const t=u%VN,n=u-t;for(;e<n;)c(this.pattern.substr(e,VN),e),e+=VN;if(t){const e=u-VN;c(this.pattern.substr(e),e)}}else c(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:r,distance:o,threshold:i,findAllMatches:a,minMatchCharLength:s,ignoreLocation:l}=this.options;let c=[],u=0,d=!1;this.chunks.forEach((t=>{let{pattern:h,alphabet:f,startIndex:m}=t;const{isMatch:p,score:g,indices:y}=function(e,t,n){let{location:r=LN.location,distance:o=LN.distance,threshold:i=LN.threshold,findAllMatches:a=LN.findAllMatches,minMatchCharLength:s=LN.minMatchCharLength,includeMatches:l=LN.includeMatches,ignoreLocation:c=LN.ignoreLocation}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t.length>VN)throw new Error("Pattern length exceeds max of 32.");const u=t.length,d=e.length,h=Math.max(0,Math.min(r,d));let f=i,m=h;const p=s>1||l,g=p?Array(d):[];let y;for(;(y=e.indexOf(t,m))>-1;){let e=RN(t,{currentLocation:y,expectedLocation:h,distance:o,ignoreLocation:c});if(f=Math.min(e,f),m=y+u,p){let e=0;for(;e<u;)g[y+e]=1,e+=1}}m=-1;let v=[],b=1,w=u+d;const x=1<<u-1;for(let r=0;r<u;r+=1){let i=0,s=w;for(;i<s;)RN(t,{errors:r,currentLocation:h+s,expectedLocation:h,distance:o,ignoreLocation:c})<=f?i=s:w=s,s=Math.floor((w-i)/2+i);w=s;let l=Math.max(1,h-s+1),y=a?d:Math.min(h+s,d)+u,k=Array(y+2);k[y+1]=(1<<r)-1;for(let i=y;i>=l;i-=1){let a=i-1,s=n[e.charAt(a)];if(p&&(g[a]=+!!s),k[i]=(k[i+1]<<1|1)&s,r&&(k[i]|=(v[i+1]|v[i])<<1|1|v[i+1]),k[i]&x&&(b=RN(t,{errors:r,currentLocation:a,expectedLocation:h,distance:o,ignoreLocation:c}),b<=f)){if(f=b,m=a,m<=h)break;l=Math.max(1,2*h-m)}}if(RN(t,{errors:r+1,currentLocation:h,expectedLocation:h,distance:o,ignoreLocation:c})>f)break;v=k}const k={isMatch:m>=0,score:Math.max(.001,b)};if(p){const e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:LN.minMatchCharLength,n=[],r=-1,o=-1,i=0;for(let a=e.length;i<a;i+=1){let a=e[i];a&&-1===r?r=i:!a&&-1!==r&&(o=i-1,o-r+1>=t&&n.push([r,o]),r=-1)}return e[i-1]&&i-r>=t&&n.push([r,i-1]),n}(g,s);e.length?l&&(k.indices=e):k.isMatch=!1}return k}(e,h,f,{location:r+m,distance:o,threshold:i,findAllMatches:a,minMatchCharLength:s,includeMatches:n,ignoreLocation:l});p&&(d=!0),u+=g,p&&y&&(c=[...c,...y])}));let h={isMatch:d,score:d?u/this.chunks.length:1};return d&&n&&(h.indices=c),h}}class UN{constructor(e){this.pattern=e}static isMultiMatch(e){return WN(e,this.multiRegex)}static isSingleMatch(e){return WN(e,this.singleRegex)}search(){}}function WN(e,t){const n=e.match(t);return n?n[1]:null}class FN extends UN{constructor(e,{location:t=LN.location,threshold:n=LN.threshold,distance:r=LN.distance,includeMatches:o=LN.includeMatches,findAllMatches:i=LN.findAllMatches,minMatchCharLength:a=LN.minMatchCharLength,isCaseSensitive:s=LN.isCaseSensitive,ignoreLocation:l=LN.ignoreLocation}={}){super(e),this._bitapSearch=new PN(e,{location:t,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class ZN extends UN{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const r=[],o=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+o,r.push([t,n-1]);const i=!!r.length;return{isMatch:i,score:i?0:1,indices:r}}}const YN=[class extends UN{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},ZN,class extends UN{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends UN{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends UN{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends UN{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends UN{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},FN],HN=YN.length,qN=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,GN=new Set([FN.type,ZN.type]),QN=[];function XN(e,t){for(let n=0,r=QN.length;n<r;n+=1){let r=QN[n];if(r.condition(e,t))return new r(e,t)}return new PN(e,t)}const JN="$and",KN="$path",eM=e=>!(!e[JN]&&!e.$or),tM=e=>({[JN]:Object.keys(e).map((t=>({[t]:e[t]})))});function nM(e,t){let{auto:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e=>{let o=Object.keys(e);const i=(e=>!!e[KN])(e);if(!i&&o.length>1&&!eM(e))return r(tM(e));if((e=>!bN(e)&&kN(e)&&!eM(e))(e)){const r=i?e[KN]:o[0],a=i?e.$val:e[r];if(!wN(a))throw new Error((e=>`Invalid value for key ${e}`)(r));const s={keyId:MN(r),pattern:a};return n&&(s.searcher=XN(a,t)),s}let a={children:[],operator:o[0]};return o.forEach((t=>{const n=e[t];bN(n)&&n.forEach((e=>{a.children.push(r(e))}))})),a};return eM(e)||(e=tM(e)),r(e)}function rM(e,t){const n=e.matches;t.matches=[],IN(n)&&n.forEach((e=>{if(!IN(e.indices)||!e.indices.length)return;const{indices:n,value:r}=e;let o={indices:n,value:r};e.key&&(o.key=e.key.src),e.idx>-1&&(o.refIndex=e.idx),t.matches.push(o)}))}function oM(e,t){t.score=e.score}class iM{constructor(e,t={},n){this.options={...LN,...t},this.options.useExtendedSearch,this._keyStore=new SN(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof _N))throw new Error("Incorrect 'index' type");this._myIndex=t||zN(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){IN(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>!1;const t=[];for(let n=0,r=this._docs.length;n<r;n+=1){const o=this._docs[n];e(o,n)&&(this.removeAt(n),n-=1,r-=1,t.push(o))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e){let{limit:t=-1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{includeMatches:n,includeScore:r,shouldSort:o,sortFn:i,ignoreFieldNorm:a}=this.options;let s=wN(e)?wN(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,t){let{ignoreFieldNorm:n=LN.ignoreFieldNorm}=t;e.forEach((e=>{let t=1;e.matches.forEach((e=>{let{key:r,norm:o,score:i}=e;const a=r?r.weight:null;t*=Math.pow(0===i&&a?Number.EPSILON:i,(a||1)*(n?1:o))})),e.score=t}))}(s,{ignoreFieldNorm:a}),o&&s.sort(i),xN(t)&&t>-1&&(s=s.slice(0,t)),function(e,t){let{includeMatches:n=LN.includeMatches,includeScore:r=LN.includeScore}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=[];return n&&o.push(rM),r&&o.push(oM),e.map((e=>{const{idx:n}=e,r={item:t[n],refIndex:n};return o.length&&o.forEach((t=>{t(e,r)})),r}))}(s,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){const t=XN(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach((e=>{let{v:n,i:o,n:i}=e;if(!IN(n))return;const{isMatch:a,score:s,indices:l}=t.searchIn(n);a&&r.push({item:n,idx:o,matches:[{score:s,value:n,norm:i,indices:l}]})})),r}_searchLogical(e){const t=nM(e,this.options),n=(e,t,r)=>{if(!e.children){const{keyId:n,searcher:o}=e,i=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:o});return i&&i.length?[{idx:r,item:t,matches:i}]:[]}const o=[];for(let i=0,a=e.children.length;i<a;i+=1){const a=e.children[i],s=n(a,t,r);if(s.length)o.push(...s);else if(e.operator===JN)return[]}return o},r=this._myIndex.records,o={},i=[];return r.forEach((e=>{let{$:r,i:a}=e;if(IN(r)){let e=n(t,r,a);e.length&&(o[a]||(o[a]={idx:a,item:r,matches:[]},i.push(o[a])),e.forEach((e=>{let{matches:t}=e;o[a].matches.push(...t)})))}})),i}_searchObjectList(e){const t=XN(e,this.options),{keys:n,records:r}=this._myIndex,o=[];return r.forEach((e=>{let{$:r,i}=e;if(!IN(r))return;let a=[];n.forEach(((e,n)=>{a.push(...this._findMatches({key:e,value:r[n],searcher:t}))})),a.length&&o.push({idx:i,item:r,matches:a})})),o}_findMatches(e){let{key:t,value:n,searcher:r}=e;if(!IN(n))return[];let o=[];if(bN(n))n.forEach((e=>{let{v:n,i,n:a}=e;if(!IN(n))return;const{isMatch:s,score:l,indices:c}=r.searchIn(n);s&&o.push({score:l,key:t,value:n,idx:i,norm:a,indices:c})}));else{const{v:e,n:i}=n,{isMatch:a,score:s,indices:l}=r.searchIn(e);a&&o.push({score:s,key:t,value:e,norm:i,indices:l})}return o}}function aM(e){const t=e.value.length;e.selectionStart=t,e.selectionEnd=t,e.focus()}iM.version="7.0.0",iM.createIndex=zN,iM.parseIndex=function(e){let{getFn:t=LN.getFn,fieldNormWeight:n=LN.fieldNormWeight}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{keys:r,records:o}=e,i=new _N({getFn:t,fieldNormWeight:n});return i.setKeys(r),i.setIndexRecords(o),i},iM.config=LN,iM.parseQuery=nM,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];QN.push(...t)}(class{constructor(e,{isCaseSensitive:t=LN.isCaseSensitive,includeMatches:n=LN.includeMatches,minMatchCharLength:r=LN.minMatchCharLength,ignoreLocation:o=LN.ignoreLocation,findAllMatches:i=LN.findAllMatches,location:a=LN.location,threshold:s=LN.threshold,distance:l=LN.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:r,findAllMatches:i,ignoreLocation:o,location:a,threshold:s,distance:l},this.pattern=t?e:e.toLowerCase(),this.query=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.split("|").map((e=>{let n=e.trim().split(qN).filter((e=>e&&!!e.trim())),r=[];for(let e=0,o=n.length;e<o;e+=1){const o=n[e];let i=!1,a=-1;for(;!i&&++a<HN;){const e=YN[a];let n=e.isMultiMatch(o);n&&(r.push(new e(n,t)),i=!0)}if(!i)for(a=-1;++a<HN;){const e=YN[a];let n=e.isSingleMatch(o);if(n){r.push(new e(n,t));break}}}return r}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;e=r?e:e.toLowerCase();let o=0,i=[],a=0;for(let r=0,s=t.length;r<s;r+=1){const s=t[r];i.length=0,o=0;for(let t=0,r=s.length;t<r;t+=1){const r=s[t],{isMatch:l,indices:c,score:u}=r.search(e);if(!l){a=0,o=0,i.length=0;break}if(o+=1,a+=u,n){const e=r.constructor.type;GN.has(e)?i=[...i,...c]:i.push(c)}}if(o){let e={isMatch:!0,score:a/o};return n&&(e.indices=i),e}}return{isMatch:!1,score:1}}});const sM=ff`
  display: inline-flex;
  height: 20px;
  box-sizing: border-box;
  align-items: center;
  vertical-align: middle;
  color: var(--active);
  background-color: transparent;
  border-bottom: solid transparent 1.5px;
  ${mE};
  line-height: normal;

  &.placeholder {
    color: var(--placeholder);
  }

  &.focus {
    border-bottom: solid var(--focus) 1.5px;
  }

  &.edit {
    border-bottom: solid var(--input-active) 1.5px;
  }
`,lM=ff`
  cursor: default;
`,cM=ff`
  user-select: none;
`,uM=ff`
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,dM=(e,t)=>{const n=dd(),{addUnsubscribe:r}=tE(),o=()=>{const t=!e.edit;return{placeholder:t&&!e.value.trim(),focus:t&&e.focus,edit:e.edit}},i=n=>{var r;null==(r=e.onBlur)||r.call(e,n),t.host.dispatchEvent(CE())};return Us((()=>{r(al(e).subscribe((t=>{const r=n.value;"edit"!==t||!e.edit||!r||aM(r)})),al(e).subscribe((n=>{"edit"===n&&(e.edit||t.host.dispatchEvent(CE()))})))})),Ws((()=>{const t=n.value;!e.autofocus||!t||aM(t)})),()=>{const t=e.focus||e.edit;return e.edit?Fh`
          <input
            ${hd(n)}
            class=${["edit-input",sM,o(),e.class]}
            style=${{width:`${e.width}px`,"min-width":`${e.width}px`}}
            ...${tN({title:e.title,placeholder:e.placeholder})}
            type="text"
            spellcheck="false"
            ?data-focus-border-bottom=${t}
            .value=${e.value??""}
            @input=${e.onInput}
            @blur=${i}
            @keydown=${e.onKeydown}
          />
        `:Fh`
          <div
            class=${["edit-input",sM,lM,cM,o(),e.class]}
            style=${{width:`${e.width}px`,"min-width":`${e.width}px`}}
            ...${tN({title:e.title})}
            ?data-focus-border-bottom=${t}
          >
            <span class=${uM}>
              ${e.value.trim()?e.value:e.placeholder}
            </span>
          </div>
        `}};var hM,fM={exports:{}},mM=(hM||(hM=1,function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);Object.defineProperty(t,"combineChunks",{enumerable:!0,get:function(){return r.combineChunks}}),Object.defineProperty(t,"fillInChunks",{enumerable:!0,get:function(){return r.fillInChunks}}),Object.defineProperty(t,"findAll",{enumerable:!0,get:function(){return r.findAll}}),Object.defineProperty(t,"findChunks",{enumerable:!0,get:function(){return r.findChunks}})},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.findAll=function(e){var t=e.autoEscape,i=e.caseSensitive,a=void 0!==i&&i,s=e.findChunks,l=void 0===s?r:s,c=e.sanitize,u=e.searchWords,d=e.textToHighlight;return o({chunksToHighlight:n({chunks:l({autoEscape:t,caseSensitive:a,sanitize:c,searchWords:u,textToHighlight:d})}),totalLength:d?d.length:0})};var n=t.combineChunks=function(e){var t=e.chunks;return t=t.sort((function(e,t){return e.start-t.start})).reduce((function(e,t){if(0===e.length)return[t];var n=e.pop();if(t.start<=n.end){var r=Math.max(n.end,t.end);e.push({highlight:!1,start:n.start,end:r})}else e.push(n,t);return e}),[]),t},r=function(e){var t=e.autoEscape,n=e.caseSensitive,r=e.sanitize,o=void 0===r?i:r,a=e.searchWords,s=e.textToHighlight;return s=o(s),a.filter((function(e){return e})).reduce((function(e,r){r=o(r),t&&(r=r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"));for(var i=new RegExp(r,n?"g":"gi"),a=void 0;a=i.exec(s);){var l=a.index,c=i.lastIndex;c>l&&e.push({highlight:!1,start:l,end:c}),a.index===i.lastIndex&&i.lastIndex++}return e}),[])};t.findChunks=r;var o=t.fillInChunks=function(e){var t=e.chunksToHighlight,n=e.totalLength,r=[],o=function(e,t,n){t-e>0&&r.push({start:e,end:t,highlight:n})};if(0===t.length)o(0,n,!1);else{var i=0;t.forEach((function(e){o(i,e.start,!1),o(e.start,e.end,!0),i=e.end})),o(i,n,!1)}return r};function i(e){return e}}])}(fM)),fM.exports);const pM=ff`
  color: var(--active);
`,gM=(e,t)=>()=>mM.findAll({...e,autoEscape:!0}).map((t=>{let{end:n,highlight:r,start:o}=t;const i=e.textToHighlight.substring(o,n);return r?Fh`<span class=${pM}>${i}</span>`:i})),yM=ff`
  display: flex;
`,vM=ff`
  display: inline-flex;
  align-items: center;

  padding-left: 0.5em;
  padding-right: 0.5em;
  padding-bottom: 0.05em;
  margin-right: 4px;
  ${mE};

  white-space: nowrap;
  color: var(--foreground);
  border: 1px solid var(--foreground);
  border-radius: 3px;

  &:last-child {
    margin-right: 0;
  }
`,bM=ff`
  padding-left: 0.25em;
  padding-right: 0.25em;
  padding-bottom: 0.05em;
  margin-right: 2px;
  font-size: 10px;

  white-space: nowrap;
  color: var(--placeholder);
  border: 1px solid var(--placeholder);
  border-radius: 3px;

  &:last-child {
    margin-right: 0;
  }
`,wM=(e,t)=>()=>{const t=US(e.shortcut).map((e=>{let[t,n]=e;return[...t,n].join(" + ")}));return Fh`
      <div class=${["kbd",yM]}>
        ${t.map((t=>Fh`<div class=${e.mini?bM:vM}>
              ${t}
            </div>`))}
      </div>
    `},xM={[ep.MariaDB]:[{name:"BIGINT",primitiveType:"long"},{name:"BINARY",primitiveType:"string"},{name:"BIT",primitiveType:"int"},{name:"BLOB",primitiveType:"lob"},{name:"BOOL",primitiveType:"boolean"},{name:"BOOLEAN",primitiveType:"boolean"},{name:"CHAR",primitiveType:"string"},{name:"DATE",primitiveType:"date"},{name:"DATETIME",primitiveType:"dateTime"},{name:"DEC",primitiveType:"decimal"},{name:"DECIMAL",primitiveType:"decimal"},{name:"DOUBLE PRECISION",primitiveType:"double"},{name:"DOUBLE",primitiveType:"double"},{name:"ENUM",primitiveType:"string"},{name:"FIXED",primitiveType:"decimal"},{name:"FLOAT",primitiveType:"float"},{name:"GEOMETRY",primitiveType:"string"},{name:"GEOMETRYCOLLECTION",primitiveType:"string"},{name:"INT",primitiveType:"int"},{name:"INTEGER",primitiveType:"int"},{name:"JSON",primitiveType:"lob"},{name:"LINESTRING",primitiveType:"string"},{name:"LONGBLOB",primitiveType:"lob"},{name:"LONGTEXT",primitiveType:"lob"},{name:"MEDIUMBLOB",primitiveType:"lob"},{name:"MEDIUMINT",primitiveType:"int"},{name:"MEDIUMTEXT",primitiveType:"lob"},{name:"MULTILINESTRING",primitiveType:"string"},{name:"MULTIPOINT",primitiveType:"string"},{name:"MULTIPOLYGON",primitiveType:"string"},{name:"NUMERIC",primitiveType:"decimal"},{name:"POINT",primitiveType:"string"},{name:"POLYGON",primitiveType:"string"},{name:"REAL",primitiveType:"double"},{name:"SET",primitiveType:"string"},{name:"SMALLINT",primitiveType:"int"},{name:"TEXT",primitiveType:"lob"},{name:"TIME",primitiveType:"time"},{name:"TIMESTAMP",primitiveType:"dateTime"},{name:"TINYBLOB",primitiveType:"lob"},{name:"TINYINT",primitiveType:"int"},{name:"TINYTEXT",primitiveType:"lob"},{name:"VARBINARY",primitiveType:"string"},{name:"VARCHAR",primitiveType:"string"},{name:"YEAR",primitiveType:"int"}],[ep.MSSQL]:[{name:"bigint",primitiveType:"long"},{name:"binary",primitiveType:"lob"},{name:"bit",primitiveType:"int"},{name:"char",primitiveType:"string"},{name:"date",primitiveType:"date"},{name:"datetime",primitiveType:"dateTime"},{name:"datetime2",primitiveType:"dateTime"},{name:"datetimeoffset",primitiveType:"dateTime"},{name:"decimal",primitiveType:"decimal"},{name:"float",primitiveType:"double"},{name:"geography",primitiveType:"string"},{name:"geometry",primitiveType:"string"},{name:"image",primitiveType:"lob"},{name:"int",primitiveType:"int"},{name:"money",primitiveType:"double"},{name:"nchar",primitiveType:"string"},{name:"ntext",primitiveType:"lob"},{name:"numeric",primitiveType:"float"},{name:"nvarchar",primitiveType:"string"},{name:"real",primitiveType:"float"},{name:"smalldatetime",primitiveType:"dateTime"},{name:"smallint",primitiveType:"int"},{name:"smallmoney",primitiveType:"float"},{name:"sql_variant",primitiveType:"string"},{name:"text",primitiveType:"lob"},{name:"time",primitiveType:"time"},{name:"tinyint",primitiveType:"int"},{name:"uniqueidentifier",primitiveType:"string"},{name:"varbinary",primitiveType:"string"},{name:"varchar",primitiveType:"string"},{name:"xml",primitiveType:"lob"}],[ep.MySQL]:[{name:"BIGINT",primitiveType:"long"},{name:"BINARY",primitiveType:"string"},{name:"BIT",primitiveType:"int"},{name:"BLOB",primitiveType:"lob"},{name:"BOOL",primitiveType:"boolean"},{name:"BOOLEAN",primitiveType:"boolean"},{name:"CHAR",primitiveType:"string"},{name:"DATE",primitiveType:"date"},{name:"DATETIME",primitiveType:"dateTime"},{name:"DEC",primitiveType:"decimal"},{name:"DECIMAL",primitiveType:"decimal"},{name:"DOUBLE PRECISION",primitiveType:"double"},{name:"DOUBLE",primitiveType:"double"},{name:"ENUM",primitiveType:"string"},{name:"FLOAT",primitiveType:"float"},{name:"GEOMETRY",primitiveType:"string"},{name:"GEOMETRYCOLLECTION",primitiveType:"string"},{name:"INT",primitiveType:"int"},{name:"INTEGER",primitiveType:"int"},{name:"JSON",primitiveType:"lob"},{name:"LINESTRING",primitiveType:"string"},{name:"LONGBLOB",primitiveType:"lob"},{name:"LONGTEXT",primitiveType:"lob"},{name:"MEDIUMBLOB",primitiveType:"lob"},{name:"MEDIUMINT",primitiveType:"int"},{name:"MEDIUMTEXT",primitiveType:"lob"},{name:"MULTILINESTRING",primitiveType:"string"},{name:"MULTIPOINT",primitiveType:"string"},{name:"MULTIPOLYGON",primitiveType:"string"},{name:"NUMERIC",primitiveType:"decimal"},{name:"POINT",primitiveType:"string"},{name:"POLYGON",primitiveType:"string"},{name:"SET",primitiveType:"string"},{name:"SMALLINT",primitiveType:"int"},{name:"TEXT",primitiveType:"lob"},{name:"TIME",primitiveType:"time"},{name:"TIMESTAMP",primitiveType:"dateTime"},{name:"TINYBLOB",primitiveType:"lob"},{name:"TINYINT",primitiveType:"int"},{name:"TINYTEXT",primitiveType:"lob"},{name:"VARBINARY",primitiveType:"string"},{name:"VARCHAR",primitiveType:"string"},{name:"YEAR",primitiveType:"int"}],[ep.Oracle]:[{name:"BFILE",primitiveType:"lob"},{name:"BINARY_DOUBLE",primitiveType:"double"},{name:"BINARY_FLOAT",primitiveType:"float"},{name:"BLOB",primitiveType:"lob"},{name:"CHAR",primitiveType:"string"},{name:"CLOB",primitiveType:"lob"},{name:"DATE",primitiveType:"date"},{name:"DATETIME",primitiveType:"dateTime"},{name:"LONG RAW",primitiveType:"lob"},{name:"LONG",primitiveType:"lob"},{name:"NCHAR",primitiveType:"string"},{name:"NCLOB",primitiveType:"lob"},{name:"NUMBER",primitiveType:"long"},{name:"NVARCHAR2",primitiveType:"string"},{name:"RAW",primitiveType:"lob"},{name:"TIMESTAMP WITH LOCAL TIME ZONE",primitiveType:"dateTime"},{name:"TIMESTAMP WITH TIME ZONE",primitiveType:"dateTime"},{name:"TIMESTAMP",primitiveType:"dateTime"},{name:"UriType",primitiveType:"string"},{name:"VARCHAR",primitiveType:"string"},{name:"VARCHAR2",primitiveType:"string"},{name:"XMLType",primitiveType:"string"}],[ep.PostgreSQL]:[{name:"bigint",primitiveType:"long"},{name:"bigserial",primitiveType:"long"},{name:"bit varying",primitiveType:"int"},{name:"bit",primitiveType:"int"},{name:"bool",primitiveType:"boolean"},{name:"boolean",primitiveType:"boolean"},{name:"box",primitiveType:"string"},{name:"bytea",primitiveType:"string"},{name:"char",primitiveType:"string"},{name:"character varying",primitiveType:"string"},{name:"character",primitiveType:"string"},{name:"cidr",primitiveType:"string"},{name:"circle",primitiveType:"string"},{name:"date",primitiveType:"date"},{name:"decimal",primitiveType:"decimal"},{name:"double precision",primitiveType:"double"},{name:"float4",primitiveType:"float"},{name:"float8",primitiveType:"double"},{name:"inet",primitiveType:"string"},{name:"int",primitiveType:"int"},{name:"int2",primitiveType:"int"},{name:"int4",primitiveType:"int"},{name:"int8",primitiveType:"long"},{name:"integer",primitiveType:"int"},{name:"interval",primitiveType:"time"},{name:"json",primitiveType:"lob"},{name:"jsonb",primitiveType:"lob"},{name:"line",primitiveType:"string"},{name:"lseg",primitiveType:"string"},{name:"macaddr",primitiveType:"string"},{name:"macaddr8",primitiveType:"string"},{name:"money",primitiveType:"double"},{name:"numeric",primitiveType:"decimal"},{name:"path",primitiveType:"string"},{name:"pg_lsn",primitiveType:"int"},{name:"point",primitiveType:"string"},{name:"polygon",primitiveType:"string"},{name:"real",primitiveType:"float"},{name:"serial",primitiveType:"int"},{name:"serial2",primitiveType:"int"},{name:"serial4",primitiveType:"int"},{name:"serial8",primitiveType:"long"},{name:"smallint",primitiveType:"int"},{name:"smallserial",primitiveType:"int"},{name:"text",primitiveType:"string"},{name:"time with time zone",primitiveType:"time"},{name:"time",primitiveType:"time"},{name:"timestamp with time zone",primitiveType:"dateTime"},{name:"timestamp",primitiveType:"dateTime"},{name:"timestamptz",primitiveType:"dateTime"},{name:"timetz",primitiveType:"time"},{name:"tsquery",primitiveType:"string"},{name:"tsvector",primitiveType:"string"},{name:"txid_snapshot",primitiveType:"string"},{name:"uuid",primitiveType:"string"},{name:"varbit",primitiveType:"int"},{name:"varchar",primitiveType:"string"},{name:"xml",primitiveType:"lob"}],[ep.SQLite]:[{name:"BLOB",primitiveType:"lob"},{name:"INTEGER",primitiveType:"int"},{name:"NUMERIC",primitiveType:"decimal"},{name:"REAL",primitiveType:"double"},{name:"TEXT",primitiveType:"string"}]},kM=ff`
  position: relative;
  outline: none;
`,IM=ff`
  position: absolute;
  z-index: 1;
  top: ${20}px;
  left: 0;
  color: var(--foreground);
  background-color: var(--table-background);
  border: 1px solid var(--table-border);
  white-space: nowrap;
  ${mE};
`,$M=ff`
  display: flex;
  align-items: center;
  padding: 0 4px;
  height: 20px;
  cursor: pointer;

  &:hover {
    background-color: var(--column-hover);
  }

  &.selected {
    background-color: var(--column-select);

    .kbd {
      visibility: visible;
    }
  }

  & > .kbd {
    margin-left: auto;
    padding-left: 6px;
    visibility: hidden;
  }
`,CM=Qo(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Tab","Enter"]),TM=(e,t)=>{var n;const r=HS(t,null==(n=e.app)?void 0:n.value),o=il({hints:[],index:-1}),i=dd(),{addUnsubscribe:a}=tE(),s=e=>{const{store:t}=r.value,{settings:n}=t.state,i=xM[n.database]??[],a=e.trim();o.index=-1,o.hints=_o(a)?[]:new iM(i,{keys:["name"]}).search(a).map((e=>e.item))},l=t=>{const n=o.hints[t];if(!n)return;const{store:i}=r.value;i.dispatch(Rw({id:e.columnId,tableId:e.tableId,value:n.name})),s("")},c={ArrowUp:e=>{if(!o.hints.length)return;e.preventDefault();const t=o.index-1;o.index=t<0?o.hints.length-1:t},ArrowDown:e=>{if(!o.hints.length)return;e.preventDefault();const t=o.index+1;o.index=t>o.hints.length-1?0:t},ArrowLeft:e=>{o.index=-1},ArrowRight:e=>{-1!==o.index&&(e.preventDefault(),l(o.index))},Tab:e=>{-1!==o.index&&(e.preventDefault(),e.stopPropagation(),l(o.index))},Enter:t=>{var n;-1!==o.index&&(t.stopPropagation(),l(o.index),null==(n=e.onEditEnd)||n.call(e))}},u=e=>{var t;CM(e.key)&&(null==(t=c[e.key])||t.call(c,e))};let d=!1,h=-1;const f=()=>{d=!0},m=t=>{e.edit&&(d=!1,clearTimeout(h),h=setTimeout((()=>{var n,r;const o=null==(n=i.value)?void 0:n.querySelector("input");d&&o&&e.edit?aM(o):null==(r=e.onBlur)||r.call(e,t)}),1))},p=t=>{var n;const r=t.target;r&&s(r.value),null==(n=e.onInput)||n.call(e,t)};return Ws((()=>{const{store:t}=r.value,{settings:n}=t.state;a(al(e).subscribe((t=>{"edit"===t&&!e.edit&&s("")})),al(n).subscribe((t=>{"database"===t&&s(e.value)})))})),()=>Fh`
    <div
      class=${kM}
      ${hd(i)}
      tabindex="-1"
      @focus=${f}
      @focusin=${f}
      @focusout=${m}
    >
      <${dM}
        placeholder="dataType"
        width=${e.width}
        value=${e.value}
        focus=${e.focus}
        edit=${e.edit}
        autofocus=${!0}
        .onInput=${p}
        .onKeydown=${u}
      />
      ${e.edit?Fh`
            <div class=${IM}>
              ${gd(o.hints,(e=>e.name),((t,n)=>Fh`
                  <div
                    class=${[$M,{selected:n===o.index}]}
                    @click=${()=>l(n)}
                  >
                    <${gM}
                      searchWords=${[e.value]}
                      textToHighlight=${t.name}
                    />
                    <${wM} mini=${!0} shortcut="Tab" />
                  </div>
                `))}
            </div>
          `:null}
    </div>
  `},AM=ff`
  fill: transparent;

  &.pk {
    fill: var(--key-pk);
  }

  &.fk {
    fill: var(--key-fk);
  }

  &.pfk {
    fill: var(--key-pfk);
  }
`,OM=(e,t)=>{const n=()=>{const t=Cp(e.keys,hp.primaryKey),n=Cp(e.keys,hp.foreignKey);return{pk:t&&!n,fk:!t&&n,pfk:t&&n}};return()=>Fh`
    <${lN}
      class=${["column-col",AM,n()]}
      size=${12}
      name="key"
      .onMouseenter=${e.onMouseenter}
      .onMouseleave=${e.onMouseleave}
    />
  `},SM=ff`
  display: inline-flex;
  height: 20px;
  box-sizing: border-box;
  align-items: center;
  color: var(--active);
  background-color: transparent;
  border-bottom: solid transparent 1.5px;
  ${mE};
  line-height: normal;
  cursor: default;
  user-select: none;

  &.focus {
    border-bottom: solid var(--focus) 1.5px;
  }
`,EM=(e,t)=>()=>Fh`
    <div
      class=${[SM,{focus:e.focus}]}
      style=${{width:`${zp}px`,"min-width":`${zp}px`}}
      title="Not Null"
      ?data-focus-border-bottom=${e.focus}
    >
      ${Cp(e.options,dp.notNull)?"N-N":"NULL"}
    </div>
  `,NM=ff`
  display: inline-flex;
  height: 20px;
  box-sizing: border-box;
  align-items: center;
  color: var(--placeholder);
  background-color: transparent;
  border-bottom: solid transparent 1.5px;
  ${mE};
  line-height: normal;
  cursor: default;
  user-select: none;

  &.focus {
    border-bottom: solid var(--focus) 1.5px;
  }

  &.checked {
    color: var(--active);
  }
`,MM=(e,t)=>()=>Fh`
    <div
      class=${[NM,{focus:e.focus,checked:e.checked},e.class]}
      style=${{width:`${e.width}px`,"min-width":`${e.width}px`}}
      title=${e.title}
      ?data-focus-border-bottom=${e.focus}
    >
      ${e.text}
    </div>
  `,DM=ff`
  display: flex;
  width: 100%;
  height: ${Bp}px;
  align-items: center;
  fill: transparent;
  color: transparent;
  padding: 0 ${Mp}px;

  &:hover {
    fill: var(--foreground);
    color: var(--foreground);
    background-color: var(--column-hover);
  }

  &[data-hover] {
    background-color: var(--column-hover);
  }

  &[data-selected] {
    background-color: var(--column-select);
  }

  & > .column-col {
    padding: ${2}px ${Ep}px ${2}px 0;
  }

  &.none-hover {
    background-color: transparent;
  }

  &[data-dragging] {
    opacity: 0.5;
  }

  &[data-ghost] {
    visibility: hidden;
  }
`,LM=ff`
  cursor: pointer;
  margin-left: auto;

  &:hover {
    fill: var(--active);
    color: var(--active);
  }
`,jM=(e,t)=>{var n;const r=HS(t,null==(n=e.app)?void 0:n.value),o=()=>{const{store:t}=r.value;t.dispatch(_w(e.column.tableId,[e.column.id]))},i=(t,n)=>{const{store:o}=r.value;o.dispatch(Kg({tableId:e.column.tableId,columnId:e.column.id,focusType:n,$mod:WS(t),shiftKey:t.shiftKey}))},a=t=>{const{store:n}=r.value;n.dispatch(Dw(t)?zw(t,e.column.tableId,e.column.id):ny())},s=()=>{const{store:e}=r.value;e.dispatch(ry())},l=(t,n)=>{const{store:o}=r.value,i=t.target;i&&o.dispatch(Vw(n,e.column.tableId,e.column.id,i.value))},c=()=>{const{column:t}=e;if(0===t.ui.keys)return;const{store:n}=r.value;n.dispatch(vk(t.id))},u=()=>{const{store:e}=r.value;e.dispatch(bk())};return()=>{var t;const{store:n,keyBindingMap:d}=r.value,{editor:h}=n.state,{column:f,selected:m}=e,p=!!h.hoverColumnMap[f.id],g=h.draggingColumnMap[f.id];return Fh`
      <div
        class=${["column-row",DM]}
        data-id=${f.id}
        data-table-id=${f.tableId}
        ?data-selected=${m}
        ?data-hover=${p}
        ?data-dragging=${g}
        ?data-ghost=${e.ghost}
        draggable=${e.draggable?"true":"false"}
        @dragstart=${e.onDragstart}
        @dragend=${e.onDragend}
      >
        <${OM}
          keys=${f.ui.keys}
          .onMouseenter=${c}
          .onMouseleave=${u}
        />
        ${gd((()=>{const{store:t}=r.value,{settings:n}=t.state,{column:o,widthName:c,widthDataType:u,widthDefault:d,widthComment:h}=e;return n.columnOrder.map((t=>{let f=null;switch(t){case Jm.columnName:f=Fh`
              <div
                class="column-col"
                data-type="columnName"
                @mousedown=${e=>{i(e,hg.columnName)}}
                @dblclick=${()=>{a(hg.columnName)}}
              >
                <${dM}
                  placeholder="column"
                  width=${c}
                  value=${o.name}
                  focus=${e.focusName}
                  edit=${e.editName}
                  autofocus=${!0}
                  .onBlur=${s}
                  .onInput=${e=>{l(e,hg.columnName)}}
                />
              </div>
            `;break;case Jm.columnDefault:f=Cp(n.show,Xm.columnDefault)?Fh`
                  <div
                    class="column-col"
                    data-type="columnDefault"
                    @mousedown=${e=>{i(e,hg.columnDefault)}}
                    @dblclick=${()=>{a(hg.columnDefault)}}
                  >
                    <${dM}
                      placeholder="default"
                      width=${d}
                      value=${o.default}
                      focus=${e.focusDefault}
                      edit=${e.editDefault}
                      autofocus=${!0}
                      .onBlur=${s}
                      .onInput=${e=>{l(e,hg.columnDefault)}}
                    />
                  </div>
                `:null;break;case Jm.columnComment:f=Cp(n.show,Xm.columnComment)?Fh`
                  <div
                    class="column-col"
                    data-type="columnComment"
                    @mousedown=${e=>{i(e,hg.columnComment)}}
                    @dblclick=${()=>{a(hg.columnComment)}}
                  >
                    <${dM}
                      title=${o.comment}
                      placeholder="comment"
                      width=${h}
                      value=${o.comment}
                      focus=${e.focusComment}
                      edit=${e.editComment}
                      autofocus=${!0}
                      .onBlur=${s}
                      .onInput=${e=>{l(e,hg.columnComment)}}
                    />
                  </div>
                `:null;break;case Jm.columnDataType:f=Cp(n.show,Xm.columnDataType)?Fh`
                  <div
                    class="column-col"
                    data-type="columnDataType"
                    @mousedown=${e=>{i(e,hg.columnDataType)}}
                    @dblclick=${()=>{a(hg.columnDataType)}}
                  >
                    <${TM}
                      app=${r}
                      tableId=${o.tableId}
                      columnId=${o.id}
                      width=${u}
                      value=${o.dataType}
                      focus=${e.focusDataType}
                      edit=${e.editDataType}
                      .onBlur=${s}
                      .onEditEnd=${s}
                      .onInput=${e=>{l(e,hg.columnDataType)}}
                    />
                  </div>
                `:null;break;case Jm.columnNotNull:f=Cp(n.show,Xm.columnNotNull)?Fh`
                  <div
                    class="column-col"
                    data-type="columnNotNull"
                    @mousedown=${e=>{i(e,hg.columnNotNull)}}
                    @dblclick=${()=>{a(hg.columnNotNull)}}
                  >
                    <${EM}
                      options=${o.options}
                      focus=${e.focusNotNull}
                    />
                  </div>
                `:null;break;case Jm.columnUnique:f=Cp(n.show,Xm.columnUnique)?Fh`
                  <div
                    class="column-col"
                    data-type="columnUnique"
                    @mousedown=${e=>{i(e,hg.columnUnique)}}
                    @dblclick=${()=>{a(hg.columnUnique)}}
                  >
                    <${MM}
                      checked=${Cp(o.options,dp.unique)}
                      width=${Rp}
                      text="UQ"
                      title="Unique"
                      focus=${e.focusUnique}
                    />
                  </div>
                `:null;break;case Jm.columnAutoIncrement:f=Cp(n.show,Xm.columnAutoIncrement)?Fh`
                  <div
                    class="column-col"
                    data-type="columnAutoIncrement"
                    @mousedown=${e=>{i(e,hg.columnAutoIncrement)}}
                    @dblclick=${()=>{a(hg.columnAutoIncrement)}}
                  >
                    <${MM}
                      checked=${Cp(o.options,dp.autoIncrement)}
                      width=${Vp}
                      text="AI"
                      title="Auto Increment"
                      focus=${e.focusAutoIncrement}
                    />
                  </div>
                `:null}return{columnType:t,template:f}})).filter((e=>{let{template:t}=e;return!!t}))})(),(e=>{let{columnType:t}=e;return t}),(e=>{let{template:t}=e;return t}))}
        <${lN}
          class=${LM}
          size=${12}
          name="xmark"
          title=${FS(null==(t=d.removeColumn[0])?void 0:t.shortcut)}
          .onClick=${o}
        />
      </div>
    `}};class _M{constructor(e,t,n){wO(this,"flipSnapshots",[]),wO(this,"root"),wO(this,"selector"),wO(this,"animationName"),this.root=e,this.selector=t,this.animationName=n}snapshot(){var e;this.flipSnapshots=[],null==(e=this.root.value)||e.querySelectorAll(this.selector).forEach((e=>{if(e instanceof HTMLElement){const{top:t,left:n}=e.getBoundingClientRect();this.flipSnapshots.push({el:e,top:t,left:n})}}))}play(){this.flipSnapshots.length&&(this.flipSnapshots.forEach((e=>{const t=e.el,{top:n,left:r}=t.getBoundingClientRect(),o=e.left-r,i=e.top-n;(o||i)&&(t.style.transform=`translate(${o}px,${i}px)`,t.style.transitionDuration="0s",requestAnimationFrame((()=>{t.classList.add(this.animationName),t.style.transform="",t.style.transitionDuration="";const e=()=>{t.classList.remove(this.animationName),t.removeEventListener("transitionend",e)};t.addEventListener("transitionend",e)})))})),this.flipSnapshots=[])}}const zM=(e,t)=>PO(...e.map((e=>VO(e,"dragover").pipe(bm(300),mm((()=>t(e))))))).pipe(vm(50),WO(PO(...e.map((e=>VO(e,"dragend"))))));const RM=(e,t)=>{const n=HS(t),r=dd(),{hasEdit:o,hasFocus:i,hasSelectColumn:a}=function(e,t){const n=HS(e),r=()=>n.value.store.state.editor.focusTable;return{hasFocus:(e,n)=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!e||n!==e.tableId)return!1;switch(t){case"tableName":case"tableComment":return t===e.focusType}return r===e.columnId&&t===e.focusType}(r(),e,t,n),hasEdit:(e,n)=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if((null==e?void 0:e.tableId)!==n)return!1;switch(t){case hg.tableName:case hg.tableComment:return t===e.focusType&&e.edit}return r===e.columnId&&t===e.focusType&&e.edit}(r(),e,t,n),hasSelectColumn:e=>((e,t,n)=>(null==e?void 0:e.tableId)===t&&e.selectColumnIds.includes(n))(r(),t,e)}}(t,e.table.id),{onMoveStart:s}=WE(t,e),{addUnsubscribe:l}=tE(),c=il({dragstartId:null}),u=new _M(r,".column-row","column-row-move"),d=()=>{const{store:t}=n.value;t.dispatch(jw(e.table.id))},h=()=>{const{store:t}=n.value;t.dispatch(Ow(e.table.id))},f=t=>{const{store:r}=n.value;r.dispatch(Jg({tableId:e.table.id,focusType:t}))},m=()=>{const{store:e}=n.value;e.dispatch(ny())},p=()=>{const{store:e}=n.value;e.dispatch(ry())},g=(t,r)=>{const{store:o}=n.value,i=t.target;if(i)switch(r){case hg.tableName:o.dispatch(Lb({id:e.table.id,value:i.value}));break;case hg.tableComment:o.dispatch(jb({id:e.table.id,value:i.value}))}},y=t=>{const{emitter:r}=n.value;r.emit(XO({x:t.clientX,y:t.clientY,color:e.table.ui.color}))};let v=null;const b=()=>{const e=r.value;if(!e||v)return;const t=Array.from(e.querySelectorAll(".column-row"));t.forEach((e=>e.classList.add("none-hover")));const o=()=>{t.forEach((e=>e.classList.remove("none-hover"))),v=null,c.dragstartId=null};v=zM(t,(e=>({targetId:e.dataset.id,targetTableId:e.dataset.tableId}))).pipe((e=>t=>new Bf((n=>{const r=t.subscribe({next:e=>n.next(e),error:e=>n.error(e),complete:()=>n.complete()});return()=>{r.unsubscribe(),e()}})))(o)).subscribe({next:e=>{let{targetId:t,targetTableId:r}=e;((e,t)=>{const{store:r}=n.value,{editor:{draggableColumn:o}}=r.state;!o||o.columnIds.includes(e)||(u.snapshot(),r.dispatch(yk(e,t)))})(t,r)},complete:o})},w=e=>{var t;const{store:r}=n.value,{editor:{focusTable:o}}=r.state,i=e.target;if(!i||!o||!o.columnId)return;const a=null==(t=i.dataset)?void 0:t.id;a&&(c.dragstartId=a,r.dispatch(gk(WS(e))),b())},x=()=>{const{store:e,emitter:t}=n.value;e.dispatch(fy()),t.emit(nS())},k=()=>{const{store:e}=n.value,{editor:{draggableColumn:t}}=e.state;t&&b()};return Ys((()=>u.play())),Ws((()=>{const{emitter:e}=n.value;l(e.on({dragendColumnAll:()=>{null==v||v.unsubscribe()}}))})),()=>{var t,l;const{store:u,keyBindingMap:v}=n.value,{editor:b,settings:I,collections:$}=u.state,{table:C}=e,T=!!b.selectedMap[C.id],A=Cb(C,u.state),O=Ab(C),S=null!==c.dragstartId&&!C.columnIds.includes(c.dragstartId),E=aa($).collection("tableColumnEntities").selectByIds(S?[...C.columnIds,c.dragstartId]:C.columnIds);return Fh`
      <div
        class=${["table",pE]}
        style=${{top:`${C.ui.y}px`,left:`${C.ui.x}px`,"z-index":`${C.ui.zIndex}`,width:`${A.width}px`,height:`${O}px`}}
        ${hd(r)}
        ?data-selected=${T}
        ?data-focus-border=${T}
        data-id=${C.id}
        @mousedown=${s}
        @touchstart=${s}
      >
        <div class=${gE}>
          <div
            class=${["table-header-color",yE]}
            style=${{"background-color":C.ui.color}}
            @click=${y}
          ></div>
          <div class=${vE}>
            <${lN}
              size=${12}
              name="plus"
              title=${FS(null==(t=v.addColumn[0])?void 0:t.shortcut)}
              useTransition=${!0}
              .onClick=${d}
            />
            <${lN}
              size=${12}
              name="xmark"
              title=${FS(null==(l=v.removeTable[0])?void 0:l.shortcut)}
              useTransition=${!0}
              .onClick=${h}
            />
          </div>
          <div class=${bE}>
            <div
              class="input-padding"
              data-type="tableName"
              @mousedown=${()=>{f(hg.tableName)}}
              @dblclick=${m}
            >
              <${dM}
                placeholder="table"
                width=${C.ui.widthName}
                value=${C.name}
                focus=${i(hg.tableName)}
                edit=${o(hg.tableName)}
                autofocus=${!0}
                .onBlur=${p}
                .onInput=${e=>{g(e,hg.tableName)}}
              />
            </div>
            ${Cp(I.show,Xm.tableComment)?Fh`
                  <div
                    class="input-padding"
                    data-type="tableComment"
                    @mousedown=${()=>{f(hg.tableComment)}}
                    @dblclick=${m}
                  >
                    <${dM}
                      placeholder="comment"
                      width=${-1===I.maxWidthComment?C.ui.widthComment:I.maxWidthComment<C.ui.widthComment?I.maxWidthComment:C.ui.widthComment}
                      value=${C.comment}
                      focus=${i(hg.tableComment)}
                      edit=${o(hg.tableComment)}
                      autofocus=${!0}
                      .onBlur=${p}
                      .onInput=${e=>{g(e,hg.tableComment)}}
                    />
                  </div>
                `:null}
          </div>
        </div>
        <div
          @dragenter=${k}
          @dragenter=${xE}
          @dragover=${xE}
        >
          ${gd(E,(e=>e.id),(e=>Fh`
              <${jM}
                app=${n}
                column=${e}
                selected=${a(e.id)}
                widthName=${A.name}
                widthDataType=${A.dataType}
                widthDefault=${A.default}
                widthComment=${A.comment}
                focusName=${i(hg.columnName,e.id)}
                focusDataType=${i(hg.columnDataType,e.id)}
                focusNotNull=${i(hg.columnNotNull,e.id)}
                focusDefault=${i(hg.columnDefault,e.id)}
                focusComment=${i(hg.columnComment,e.id)}
                focusUnique=${i(hg.columnUnique,e.id)}
                focusAutoIncrement=${i(hg.columnAutoIncrement,e.id)}
                editName=${o(hg.columnName,e.id)}
                editDataType=${o(hg.columnDataType,e.id)}
                editDefault=${o(hg.columnDefault,e.id)}
                editComment=${o(hg.columnComment,e.id)}
                draggable=${!0}
                ghost=${S&&e.id===c.dragstartId}
                .onDragstart=${w}
                .onDragend=${x}
              />
            `))}
        </div>
      </div>
    `}},VM=ff`
  position: relative;
  background-color: var(--canvas-background);
  top: 0;
  left: 0;
  will-change: transform;
`,BM=ff`
  will-change: transform;
`,PM=(e,t)=>{const n=HS(t);return()=>{const{store:t}=n.value,{settings:{width:r,height:o,scrollTop:i,scrollLeft:a,zoomLevel:s,show:l},doc:{tableIds:c,memoIds:u},editor:{drawRelationship:d},collections:h}=t.state,f=aa(h).collection("tableEntities").selectByIds(c),m=aa(h).collection("memoEntities").selectByIds(u);return Fh`
      <div
        class=${BM}
        style=${{width:`${r}px`,height:`${o}px`,"min-width":`${r}px`,"min-height":`${o}px`,transform:`translate(${a}px, ${i}px) scale(${s})`,"pointer-events":e.grabMove?"none":"auto"}}
      >
        <div
          class=${VM}
          ${hd(e.canvas)}
          style=${{width:`${r}px`,height:`${o}px`,"min-width":`${r}px`,"min-height":`${o}px`}}
        >
          ${md(cg(s)?Fh`${gd(f,(e=>e.id),(e=>Fh`<${ZE} table=${e} />`))}`:Fh`${gd(f,(e=>e.id),(e=>Fh`<${RM} table=${e} />`))}`)}
          ${gd(m,(e=>e.id),(e=>Fh`<${pN} memo=${e} />`))}
          ${Cp(l,Xm.relationship)?Fh`<${eE} />`:null}
          ${null!=d&&d.start?Fh`
                <${rE}
                  root=${e.root}
                  draw=${d}
                />
              `:null}
          <${vN} />
        </div>
      </div>
    `}},UM=(e,t)=>()=>{const{memo:t}=e,n=Uw(t),r=Ww(t);return Fh`
      <div
        class=${["memo",cN]}
        style=${{top:`${t.ui.y}px`,left:`${t.ui.x}px`,"z-index":`${t.ui.zIndex}`,width:`${n}px`,height:`${r}px`}}
      ></div>
    `},WM=(e,t)=>{const n=HS(t);return()=>{const{store:t}=n.value,{table:r}=e,o=Cb(r,t.state),i=Ab(r);return Fh`
      <div
        class=${["table",pE]}
        style=${{top:`${r.ui.y}px`,left:`${r.ui.x}px`,"z-index":`${r.ui.zIndex}`,width:`${o.width}px`,height:`${i}px`}}
      ></div>
    `}};function FM(e){const t=HS(e),n=il({selected:!1});let r=0,o=0;const i=e=>{const n=(()=>{const{store:e}=t.value,{settings:{width:n}}=e.state;return Pp/n})();return e/n*-1},a=e=>{const{event:n}=e;"mousemove"===n.type&&n.preventDefault();const a=(e=>{let{movementX:n,x:o}=e;const{store:a}=t.value,{settings:s,editor:{viewport:l}}=a.state,c=s.scrollLeft+i(n),u=l.width-s.width;let d=!1;switch(n<0?WI.left:WI.right){case WI.left:c<0&&o<r&&(r+=n,d=!0);break;case WI.right:c>u&&o>r&&(r+=n,d=!0)}return d?n:0})(e),s=(e=>{let{movementY:n,y:r}=e;const{store:a}=t.value,{settings:s,editor:{viewport:l}}=a.state,c=s.scrollTop+i(n),u=l.height-s.height;let d=!1;switch(n<0?WI.top:WI.bottom){case WI.top:c<0&&r<o&&(o+=n,d=!0);break;case WI.bottom:c>u&&r>o&&(o+=n,d=!0)}return d?n:0})(e);if(0===a&&0===s)return;const{store:l}=t.value;l.dispatch(Jv({movementX:i(a),movementY:i(s)}))};return{state:n,onScrollStart:e=>{n.selected=!0,r=IE(e)?e.clientX:e.touches[0].clientX,o=IE(e)?e.clientY:e.touches[0].clientY,UE.subscribe({next:a,complete:()=>{n.selected=!1}})}}}const ZM=ff`
  position: absolute;
  border: solid 1.5px var(--minimap-viewport-border);
  cursor: pointer;

  &:hover {
    border-color: var(--minimap-viewport-border-hover);
  }

  &.selected {
    border-color: var(--minimap-viewport-border-hover);
  }
`,YM=(e,t)=>{const n=HS(t),{state:r,onScrollStart:o}=FM(t);return()=>Fh`
    <div
      class=${["minimap-viewport",ZM,{selected:r.selected||e.selected}]}
      style=${(()=>{const{store:e}=n.value,{settings:{scrollTop:t,scrollLeft:r},editor:{viewport:o}}=e.state,i=(()=>{const{store:e}=n.value,{settings:{width:t}}=e.state;return Pp/t})(),a=r*i,s=t*i,l=o.width*i;return{width:`${l}px`,height:o.height*i+"px",right:`${a-l+Pp+20}px`,top:20-s+"px"}})()}
      data-focus-border
      @mousedown=${o}
      @touchstart=${o}
    ></div>
  `},HM=ff`
  position: absolute;
  overflow: hidden;
  background-color: var(--canvas-boundary-background);
`,qM=ff`
  position: absolute;
  box-sizing: content-box;
  pointer-events: none;
  border: 1px solid var(--minimap-border);
  box-shadow: 0 1px 6px var(--minimap-shadow);
  background-color: transparent;
`,GM=ff`
  pointer-events: none;
`,QM=(e,t)=>{const n=HS(t),r=dd(),{state:o,onScrollStart:i}=FM(t),a=()=>{const{store:e}=n.value,{settings:{width:t}}=e.state;return Pp/t},s=e=>{const{store:t}=n.value,{editor:{viewport:o}}=t.state,s=a(),l=r.value.getBoundingClientRect(),c=IE(e)?e.clientX:e.touches[0].clientX,u=IE(e)?e.clientY:e.touches[0].clientY,d=c-l.x,h=(u-l.y)/s,f=d/s-o.width/2,m=h-o.height/2;t.dispatch(Xv({scrollLeft:-1*f,scrollTop:-1*m})),i(e)};return()=>{const{store:e}=n.value,{settings:{width:t,height:i,zoomLevel:l,show:c},doc:{tableIds:u,memoIds:d},collections:h}=e.state,f=aa(h).collection("tableEntities").selectByIds(u),m=aa(h).collection("memoEntities").selectByIds(d);return Fh`
      <div
        class=${["minimap",HM]}
        style=${(()=>{const{store:e}=n.value,{settings:{width:t,height:r}}=e.state,o=a();return{transform:`scale(${o})`,width:`${t}px`,height:`${r}px`,right:-1*t/2+t*o/2+20+"px",top:-1*r/2+r*o/2+20+"px"}})()}
        ${hd(r)}
        @mousedown=${s}
        @touchstart=${s}
      >
        <div
          class=${VM}
          style=${{width:`${t}px`,height:`${i}px`,"min-width":`${t}px`,"min-height":`${i}px`,transform:`scale(${l})`}}
        >
          ${gd(f,(e=>e.id),(e=>Fh`<${WM} table=${e} />`))}
          ${gd(m,(e=>e.id),(e=>Fh`<${UM} memo=${e} />`))}
          ${Cp(c,Xm.relationship)?Fh`<${eE} class=${GM} strokeWidth=${12} />`:null}
        </div>
      </div>
      <div class=${qM} style=${{width:"150px",height:"150px",right:"19px",top:"19px"}}></div>
      <${YM} selected=${o.selected} />
    `}},XM=ff`
  display: inline-flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  border-radius: 6px;
  cursor: pointer;
`,JM=ff`
  background-color: var(--accent-color-3);
  color: var(--accent-color-11);
  fill: var(--accent-color-11);

  &:hover {
    background-color: var(--accent-color-4);
  }

  &:active {
    background-color: var(--accent-color-5);
  }
`,KM=ff`
  background-color: var(--accent-color-9);
  color: #fff;
  fill: #fff;

  &:hover {
    background-color: var(--accent-color-10);
  }

  &:active {
    background-color: var(--accent-color-10);
  }
`,eD=ff`
  font-weight: var(--font-weight-medium);
  padding: 0 8px;
  height: 24px;
  ${iE};
`,tD=ff`
  font-weight: var(--font-weight-medium);
  padding: 0 12px;
  height: 32px;
  ${aE};
`,nD=ff`
  font-weight: var(--font-weight-medium);
  padding: 0 16px;
  height: 40px;
  ${sE};
`,rD=Object.freeze(Object.defineProperty({__proto__:null,button:XM,size1:eD,size2:tD,size3:nD,soft:JM,solid:KM},Symbol.toStringTag,{value:"Module"})),oD=(e,t)=>()=>Fh`
    <button
      class=${[XM,Reflect.get(rD,e.variant??"solid"),Reflect.get(rD,`size${e.size??"2"}`)]}
      type="button"
      @click=${e.onClick}
    >
      ${e.text}
    </button>
  `,iD=ff`
  display: flex;
  align-items: center;
  border-radius: 6px;
  width: fit-content;
  padding: 15px;
  background-color: var(--toast-background);
  border: 1px solid var(--toast-border);
`,aD=ff`
  word-break: break-all;

  & > div {
    margin-bottom: 5px;
  }

  & > div:last-child {
    margin-bottom: 0;
  }
`,sD=ff`
  color: var(--active);
  font-weight: var(--font-weight-medium);
  ${aE};
`,lD=ff`
  ${mE};
`,cD=ff`
  display: flex;
  margin-left: 15px;

  & > button {
    margin-left: 8px;
  }

  & > button:first-child {
    margin-left: 0;
  }
`,uD=(e,t)=>()=>{const t=e.title||e.description,n=e.action;return Fh`
      <div class=${iD}>
        ${t?Fh`
              <div class=${aD}>
                ${e.title?Fh`<div class=${sD}>${e.title}</div>`:null}
                ${e.description?Fh`<div class=${lD}>
                      ${e.description}
                    </div>`:null}
              </div>
            `:null}
        ${n?Fh`<div class=${cD}>${e.action}</div>`:null}
      </div>
    `},dD="automaticTablePlacement",hD="tableProperties",fD="search",mD="themeBuilder",pD="diffViewer",gD="timeTravel";function yD(){let e=()=>{};return[new Promise((t=>{e=t})),()=>e()]}const vD=ff`
  display: flex;
  width: 100%;
  height: 100%;
  overflow: hidden;
  position: absolute;
  top: 0;
  left: 0;
  background-color: var(--canvas-boundary-background);
`,bD=ff`
  display: flex;
  width: 100%;
  height: 100%;
  overflow: hidden;
  position: relative;
  pointer-events: none;
`;class wD extends Map{constructor(e,t=kD){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(xD(this,e))}has(e){return super.has(xD(this,e))}set(e,t){return super.set(function(e,t){let{_intern:n,_key:r}=e;const o=r(t);return n.has(o)?n.get(o):(n.set(o,t),t)}(this,e),t)}delete(e){return super.delete(function(e,t){let{_intern:n,_key:r}=e;const o=r(t);return n.has(o)&&(t=n.get(o),n.delete(o)),t}(this,e))}}function xD(e,t){let{_intern:n,_key:r}=e;const o=r(t);return n.has(o)?n.get(o):t}function kD(e){return null!==e&&"object"==typeof e?e.valueOf():e}var ID={value:()=>{}};function $D(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new CD(r)}function CD(e){this._=e}function TD(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function AD(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=ID,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}CD.prototype=$D.prototype={constructor:CD,on:function(e,t){var n,r=this._,o=function(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}(e+"",r),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<a;)if(n=(e=o[i]).type)r[n]=AD(r[n],e.name,t);else if(null==t)for(n in r)r[n]=AD(r[n],e.name,null);return this}for(;++i<a;)if((n=(e=o[i]).type)&&(n=TD(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new CD(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};var OD="http://www.w3.org/1999/xhtml";const SD={svg:"http://www.w3.org/2000/svg",xhtml:OD,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ED(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),SD.hasOwnProperty(t)?{space:SD[t],local:e}:e}function ND(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===OD&&t.documentElement.namespaceURI===OD?t.createElement(e):t.createElementNS(n,e)}}function MD(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function DD(e){var t=ED(e);return(t.local?MD:ND)(t)}function LD(){}function jD(e){return null==e?LD:function(){return this.querySelector(e)}}function _D(){return[]}function zD(e){return null==e?_D:function(){return this.querySelectorAll(e)}}function RD(e){return function(){return this.matches(e)}}function VD(e){return function(t){return t.matches(e)}}var BD=Array.prototype.find;function PD(){return this.firstElementChild}var UD=Array.prototype.filter;function WD(){return Array.from(this.children)}function FD(e){return new Array(e.length)}function ZD(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function YD(e,t,n,r,o,i){for(var a,s=0,l=t.length,c=i.length;s<c;++s)(a=t[s])?(a.__data__=i[s],r[s]=a):n[s]=new ZD(e,i[s]);for(;s<l;++s)(a=t[s])&&(o[s]=a)}function HD(e,t,n,r,o,i,a){var s,l,c,u=new Map,d=t.length,h=i.length,f=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(f[s]=c=a.call(l,l.__data__,s,t)+"",u.has(c)?o[s]=l:u.set(c,l));for(s=0;s<h;++s)c=a.call(e,i[s],s,i)+"",(l=u.get(c))?(r[s]=l,l.__data__=i[s],u.delete(c)):n[s]=new ZD(e,i[s]);for(s=0;s<d;++s)(l=t[s])&&u.get(f[s])===l&&(o[s]=l)}function qD(e){return e.__data__}function GD(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function QD(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function XD(e){return function(){this.removeAttribute(e)}}function JD(e){return function(){this.removeAttributeNS(e.space,e.local)}}function KD(e,t){return function(){this.setAttribute(e,t)}}function eL(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function tL(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function nL(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function rL(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function oL(e){return function(){this.style.removeProperty(e)}}function iL(e,t,n){return function(){this.style.setProperty(e,t,n)}}function aL(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function sL(e,t){return e.style.getPropertyValue(t)||rL(e).getComputedStyle(e,null).getPropertyValue(t)}function lL(e){return function(){delete this[e]}}function cL(e,t){return function(){this[e]=t}}function uL(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function dL(e){return e.trim().split(/^|\s+/)}function hL(e){return e.classList||new fL(e)}function fL(e){this._node=e,this._names=dL(e.getAttribute("class")||"")}function mL(e,t){for(var n=hL(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function pL(e,t){for(var n=hL(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function gL(e){return function(){mL(this,e)}}function yL(e){return function(){pL(this,e)}}function vL(e,t){return function(){(t.apply(this,arguments)?mL:pL)(this,e)}}function bL(){this.textContent=""}function wL(e){return function(){this.textContent=e}}function xL(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function kL(){this.innerHTML=""}function IL(e){return function(){this.innerHTML=e}}function $L(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function CL(){this.nextSibling&&this.parentNode.appendChild(this)}function TL(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function AL(){return null}function OL(){var e=this.parentNode;e&&e.removeChild(this)}function SL(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function EL(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function NL(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?t.length=o:delete this.__on}}}function ML(e,t,n){return function(){var r,o=this.__on,i=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(o)for(var a=0,s=o.length;a<s;++a)if((r=o[a]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=t);this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function DL(e,t,n){var r=rL(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function LL(e,t){return function(){return DL(this,e,t)}}function jL(e,t){return function(){return DL(this,e,t.apply(this,arguments))}}ZD.prototype={constructor:ZD,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},fL.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var _L=[null];function zL(e,t){this._groups=e,this._parents=t}function RL(){return new zL([[document.documentElement]],_L)}function VL(e){return"string"==typeof e?new zL([[document.querySelector(e)]],[document.documentElement]):new zL([[e]],_L)}function BL(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}zL.prototype=RL.prototype={constructor:zL,select:function(e){"function"!=typeof e&&(e=jD(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a,s=t[o],l=s.length,c=r[o]=new Array(l),u=0;u<l;++u)(i=s[u])&&(a=e.call(i,i.__data__,u,s))&&("__data__"in i&&(a.__data__=i.__data__),c[u]=a);return new zL(r,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){return function(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}(e):zD(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a,s=t[i],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(e.call(a,a.__data__,c,s)),o.push(a));return new zL(r,o)},selectChild:function(e){return this.select(null==e?PD:function(e){return function(){return BD.call(this.children,e)}}("function"==typeof e?e:VD(e)))},selectChildren:function(e){return this.selectAll(null==e?WD:function(e){return function(){return UD.call(this.children,e)}}("function"==typeof e?e:VD(e)))},filter:function(e){"function"!=typeof e&&(e=RD(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,l=r[o]=[],c=0;c<s;++c)(i=a[c])&&e.call(i,i.__data__,c,a)&&l.push(i);return new zL(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,qD);var n=t?HD:YD,r=this._parents,o=this._groups;"function"!=typeof e&&(e=function(e){return function(){return e}}(e));for(var i=o.length,a=new Array(i),s=new Array(i),l=new Array(i),c=0;c<i;++c){var u=r[c],d=o[c],h=d.length,f=GD(e.call(u,u&&u.__data__,c,r)),m=f.length,p=s[c]=new Array(m),g=a[c]=new Array(m);n(u,d,p,g,l[c]=new Array(h),f,t);for(var y,v,b=0,w=0;b<m;++b)if(y=p[b]){for(b>=w&&(w=b+1);!(v=g[w])&&++w<m;);y._next=v||null}}return(a=new zL(a,r))._enter=s,a._exit=l,a},enter:function(){return new zL(this._enter||this._groups.map(FD),this._parents)},exit:function(){return new zL(this._exit||this._groups.map(FD),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(o=t(o))&&(o=o.selection()),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,a=Math.min(o,i),s=new Array(o),l=0;l<a;++l)for(var c,u=n[l],d=r[l],h=u.length,f=s[l]=new Array(h),m=0;m<h;++m)(c=u[m]||d[m])&&(f[m]=c);for(;l<o;++l)s[l]=n[l];return new zL(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=QD);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],l=s.length,c=o[i]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(t)}return new zL(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,s=i.length;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var n=ED(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?JD:XD:"function"==typeof t?n.local?nL:tL:n.local?eL:KD)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?oL:"function"==typeof t?aL:iL)(e,t,n??"")):sL(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?lL:"function"==typeof t?uL:cL)(e,t)):this.node()[e]},classed:function(e,t){var n=dL(e+"");if(arguments.length<2){for(var r=hL(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?vL:t?gL:yL)(n,t))},text:function(e){return arguments.length?this.each(null==e?bL:("function"==typeof e?xL:wL)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?kL:("function"==typeof e?$L:IL)(e)):this.node().innerHTML},raise:function(){return this.each(CL)},lower:function(){return this.each(TL)},append:function(e){var t="function"==typeof e?e:DD(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:DD(e),r=null==t?AL:"function"==typeof t?t:jD(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(OL)},clone:function(e){return this.select(e?EL:SL)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),a=i.length;if(!(arguments.length<2)){for(s=t?ML:NL,r=0;r<a;++r)this.each(s(i[r],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((o=i[r]).type===l.type&&o.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?jL:LL)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,o=e[t],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};const PL={passive:!1},UL={capture:!0,passive:!1};function WL(e){e.stopImmediatePropagation()}function FL(e){e.preventDefault(),e.stopImmediatePropagation()}const ZL=e=>()=>e;function YL(e,t){let{sourceEvent:n,subject:r,target:o,identifier:i,active:a,x:s,y:l,dx:c,dy:u,dispatch:d}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}function HL(e){return!e.ctrlKey&&!e.button}function qL(){return this.parentNode}function GL(e,t){return t??{x:e.x,y:e.y}}function QL(){return navigator.maxTouchPoints||"ontouchstart"in this}function XL(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function JL(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function KL(){}YL.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var ej=.7,tj=1/ej,nj="\\s*([+-]?\\d+)\\s*",rj="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",oj="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ij=/^#([0-9a-f]{3,8})$/,aj=new RegExp(`^rgb\\(${nj},${nj},${nj}\\)$`),sj=new RegExp(`^rgb\\(${oj},${oj},${oj}\\)$`),lj=new RegExp(`^rgba\\(${nj},${nj},${nj},${rj}\\)$`),cj=new RegExp(`^rgba\\(${oj},${oj},${oj},${rj}\\)$`),uj=new RegExp(`^hsl\\(${rj},${oj},${oj}\\)$`),dj=new RegExp(`^hsla\\(${rj},${oj},${oj},${rj}\\)$`),hj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function fj(){return this.rgb().formatHex()}function mj(){return this.rgb().formatRgb()}function pj(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ij.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?gj(t):3===n?new bj(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?yj(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?yj(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=aj.exec(e))?new bj(t[1],t[2],t[3],1):(t=sj.exec(e))?new bj(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=lj.exec(e))?yj(t[1],t[2],t[3],t[4]):(t=cj.exec(e))?yj(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=uj.exec(e))?Cj(t[1],t[2]/100,t[3]/100,1):(t=dj.exec(e))?Cj(t[1],t[2]/100,t[3]/100,t[4]):hj.hasOwnProperty(e)?gj(hj[e]):"transparent"===e?new bj(NaN,NaN,NaN,0):null}function gj(e){return new bj(e>>16&255,e>>8&255,255&e,1)}function yj(e,t,n,r){return r<=0&&(e=t=n=NaN),new bj(e,t,n,r)}function vj(e,t,n,r){return 1===arguments.length?function(e){return e instanceof KL||(e=pj(e)),e?new bj((e=e.rgb()).r,e.g,e.b,e.opacity):new bj}(e):new bj(e,t,n,r??1)}function bj(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function wj(){return`#${$j(this.r)}${$j(this.g)}${$j(this.b)}`}function xj(){const e=kj(this.opacity);return`${1===e?"rgb(":"rgba("}${Ij(this.r)}, ${Ij(this.g)}, ${Ij(this.b)}${1===e?")":`, ${e})`}`}function kj(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ij(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $j(e){return((e=Ij(e))<16?"0":"")+e.toString(16)}function Cj(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Aj(e,t,n,r)}function Tj(e){if(e instanceof Aj)return new Aj(e.h,e.s,e.l,e.opacity);if(e instanceof KL||(e=pj(e)),!e)return new Aj;if(e instanceof Aj)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,l=(i+o)/2;return s?(a=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=l<.5?i+o:2-i-o,a*=60):s=l>0&&l<1?0:a,new Aj(a,s,l,e.opacity)}function Aj(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Oj(e){return(e=(e||0)%360)<0?e+360:e}function Sj(e){return Math.max(0,Math.min(1,e||0))}function Ej(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}XL(KL,pj,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:fj,formatHex:fj,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Tj(this).formatHsl()},formatRgb:mj,toString:mj}),XL(bj,vj,JL(KL,{brighter(e){return e=null==e?tj:Math.pow(tj,e),new bj(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?ej:Math.pow(ej,e),new bj(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new bj(Ij(this.r),Ij(this.g),Ij(this.b),kj(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wj,formatHex:wj,formatHex8:function(){return`#${$j(this.r)}${$j(this.g)}${$j(this.b)}${$j(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:xj,toString:xj})),XL(Aj,(function(e,t,n,r){return 1===arguments.length?Tj(e):new Aj(e,t,n,r??1)}),JL(KL,{brighter(e){return e=null==e?tj:Math.pow(tj,e),new Aj(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?ej:Math.pow(ej,e),new Aj(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new bj(Ej(e>=240?e-240:e+120,o,r),Ej(e,o,r),Ej(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Aj(Oj(this.h),Sj(this.s),Sj(this.l),kj(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=kj(this.opacity);return`${1===e?"hsl(":"hsla("}${Oj(this.h)}, ${100*Sj(this.s)}%, ${100*Sj(this.l)}%${1===e?")":`, ${e})`}`}}));const Nj=e=>()=>e;function Mj(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):Nj(isNaN(e)?t:e)}const Dj=function e(t){var n=function(e){return 1==(e=+e)?Mj:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Nj(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=vj(e)).r,(t=vj(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=Mj(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Lj(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var jj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_j=new RegExp(jj.source,"g");function zj(e,t){var n,r,o,i=jj.lastIndex=_j.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=jj.exec(e))&&(r=_j.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Lj(n,r)})),i=_j.lastIndex;return i<t.length&&(o=t.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}var Rj,Vj=180/Math.PI,Bj={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Pj(e,t,n,r,o,i){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Vj,skewX:Math.atan(l)*Vj,scaleX:a,scaleY:s}}function Uj(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(i,a){var s=[],l=[];return i=e(i),a=e(a),function(e,r,o,i,a,s){if(e!==o||r!==i){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:Lj(e,o)},{i:l-2,x:Lj(r,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,s,l),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:Lj(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}(i.rotate,a.rotate,s,l),function(e,t,n,i){e!==t?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:Lj(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}(i.skewX,a.skewX,s,l),function(e,t,n,r,i,a){if(e!==n||t!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:Lj(e,n)},{i:s-2,x:Lj(t,r)})}else(1!==n||1!==r)&&i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,l),i=a=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var Wj,Fj,Zj=Uj((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Bj:Pj(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),Yj=Uj((function(e){return null!=e&&(Rj||(Rj=document.createElementNS("http://www.w3.org/2000/svg","g")),Rj.setAttribute("transform",e),e=Rj.transform.baseVal.consolidate())?Pj((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Bj}),", ",")",")"),Hj=0,qj=0,Gj=0,Qj=1e3,Xj=0,Jj=0,Kj=0,e_="object"==typeof performance&&performance.now?performance:Date,t_="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function n_(){return Jj||(t_(r_),Jj=e_.now()+Kj)}function r_(){Jj=0}function o_(){this._call=this._time=this._next=null}function i_(e,t,n){var r=new o_;return r.restart(e,t,n),r}function a_(){Jj=(Xj=e_.now())+Kj,Hj=qj=0;try{!function(){n_(),++Hj;for(var e,t=Wj;t;)(e=Jj-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Hj}()}finally{Hj=0,function(){for(var e,t,n=Wj,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Wj=t);Fj=e,l_(r)}(),Jj=0}}function s_(){var e=e_.now(),t=e-Xj;t>Qj&&(Kj-=t,Xj=e)}function l_(e){Hj||(qj&&(qj=clearTimeout(qj)),e-Jj>24?(e<1/0&&(qj=setTimeout(a_,e-e_.now()-Kj)),Gj&&(Gj=clearInterval(Gj))):(Gj||(Xj=e_.now(),Gj=setInterval(s_,Qj)),Hj=1,t_(a_)))}function c_(e,t,n){var r=new o_;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}o_.prototype=i_.prototype={constructor:o_,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?n_():+n)+(null==t?0:+t),!this._next&&Fj!==this&&(Fj?Fj._next=this:Wj=this,Fj=this),this._call=e,this._time=n,l_()},stop:function(){this._call&&(this._call=null,this._time=1/0,l_())}};var u_=$D("start","end","cancel","interrupt"),d_=[],h_=0,f_=3;function m_(e,t,n,r,o,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,o=e.__transition;function i(l){var c,u,d,h;if(1!==n.state)return s();for(c in o)if((h=o[c]).name===n.name){if(h.state===f_)return c_(i);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete o[c]):+c<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete o[c])}if(c_((function(){n.state===f_&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(l))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=f_,r=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=h);r.length=u+1}}function a(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(e,o);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=i_((function(e){n.state=1,n.timer.restart(i,n.delay,n.time),n.delay<=e&&i(e-n.delay)}),0,n.time)}(e,n,{name:t,index:r,group:o,on:u_,tween:d_,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:h_})}function p_(e,t){var n=y_(e,t);if(n.state>h_)throw new Error("too late; already scheduled");return n}function g_(e,t){var n=y_(e,t);if(n.state>f_)throw new Error("too late; already running");return n}function y_(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function v_(e,t){var n,r;return function(){var o=g_(this,e),i=o.tween;if(i!==n)for(var a=0,s=(r=n=i).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}o.tween=r}}function b_(e,t,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=g_(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:t,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===t){o[l]=s;break}l===c&&o.push(s)}i.tween=o}}function w_(e,t,n){var r=e._id;return e.each((function(){var e=g_(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return y_(e,r).value[t]}}function x_(e,t){var n;return("number"==typeof t?Lj:t instanceof pj?Dj:(n=pj(t))?(t=n,Dj):zj)(e,t)}function k_(e){return function(){this.removeAttribute(e)}}function I_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function $_(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function C_(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function T_(e,t,n){var r,o,i;return function(){var a,s,l=n(this);return null==l?void this.removeAttribute(e):(a=this.getAttribute(e))===(s=l+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,l))}}function A_(e,t,n){var r,o,i;return function(){var a,s,l=n(this);return null==l?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,l))}}function O_(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,o)),n}return o._value=t,o}function S_(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,o)),n}return o._value=t,o}function E_(e,t){return function(){p_(this,e).delay=+t.apply(this,arguments)}}function N_(e,t){return t=+t,function(){p_(this,e).delay=t}}function M_(e,t){return function(){g_(this,e).duration=+t.apply(this,arguments)}}function D_(e,t){return t=+t,function(){g_(this,e).duration=t}}var L_=RL.prototype.constructor;function j_(e){return function(){this.style.removeProperty(e)}}var __=0;function z_(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function R_(){return++__}var V_=RL.prototype;z_.prototype={constructor:z_,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=jD(e));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s,l,c=r[a],u=c.length,d=i[a]=new Array(u),h=0;h<u;++h)(s=c[h])&&(l=e.call(s,s.__data__,h,c))&&("__data__"in s&&(l.__data__=s.__data__),d[h]=l,m_(d[h],t,n,h,d,y_(s,n)));return new z_(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=zD(e));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var l,c=r[s],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var h,f=e.call(l,l.__data__,d,c),m=y_(l,n),p=0,g=f.length;p<g;++p)(h=f[p])&&m_(h,t,n,p,f,m);i.push(f),a.push(l)}return new z_(i,a,t,n)},selectChild:V_.selectChild,selectChildren:V_.selectChildren,filter:function(e){"function"!=typeof e&&(e=RD(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,l=r[o]=[],c=0;c<s;++c)(i=a[c])&&e.call(i,i.__data__,c,a)&&l.push(i);return new z_(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var l,c=t[s],u=n[s],d=c.length,h=a[s]=new Array(d),f=0;f<d;++f)(l=c[f]||u[f])&&(h[f]=l);for(;s<r;++s)a[s]=t[s];return new z_(a,this._parents,this._name,this._id)},selection:function(){return new L_(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=R_(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=y_(a,t);m_(a,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new z_(r,this._parents,e,n)},call:V_.call,nodes:V_.nodes,node:V_.node,size:V_.size,empty:V_.empty,each:V_.each,on:function(e,t){var n=this._id;return arguments.length<2?y_(this.node(),n).on.on(e):this.each(function(e,t,n){var r,o,i=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?p_:g_;return function(){var a=i(this,e),s=a.on;s!==r&&(o=(r=s).copy()).on(t,n),a.on=o}}(n,e,t))},attr:function(e,t){var n=ED(e),r="transform"===n?Yj:x_;return this.attrTween(e,"function"==typeof t?(n.local?A_:T_)(n,r,w_(this,"attr."+e,t)):null==t?(n.local?I_:k_)(n):(n.local?C_:$_)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=ED(e);return this.tween(n,(r.local?O_:S_)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?Zj:x_;return null==t?this.styleTween(e,function(e,t){var n,r,o;return function(){var i=sL(this,e),a=(this.style.removeProperty(e),sL(this,e));return i===a?null:i===n&&a===r?o:o=t(n=i,r=a)}}(e,r)).on("end.style."+e,j_(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,o,i;return function(){var a=sL(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=sL(this,e)),a===l?null:a===r&&l===o?i:(o=l,i=t(r=a,s))}}(e,r,w_(this,"style."+e,t))).each(function(e,t){var n,r,o,i,a="style."+t,s="end."+a;return function(){var l=g_(this,e),c=l.on,u=null==l.value[a]?i||(i=j_(t)):void 0;(c!==n||o!==u)&&(r=(n=c).copy()).on(s,o=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,o,i=n+"";return function(){var a=sL(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,o;function i(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,i,n)),r}return i._value=t,i}(e,t,n??""))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=t??""}}(w_(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=y_(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?v_:b_)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?E_:N_)(t,e)):y_(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?M_:D_)(t,e)):y_(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){g_(this,e).ease=t}}(t,e)):y_(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;g_(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise((function(i,a){var s={value:a},l={value:function(){0==--o&&i()}};n.each((function(){var n=g_(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t})),0===o&&i()}))},[Symbol.iterator]:V_[Symbol.iterator]};var B_={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function P_(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function U_(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var o,i,a,s,l,c,u,d,h,f=e._root,m={data:r},p=e._x0,g=e._y0,y=e._x1,v=e._y1;if(!f)return e._root=m,e;for(;f.length;)if((c=t>=(i=(p+y)/2))?p=i:y=i,(u=n>=(a=(g+v)/2))?g=a:v=a,o=f,!(f=f[d=u<<1|c]))return o[d]=m,e;if(s=+e._x.call(null,f.data),l=+e._y.call(null,f.data),t===s&&n===l)return m.next=f,o?o[d]=m:e._root=m,e;do{o=o?o[d]=new Array(4):e._root=new Array(4),(c=t>=(i=(p+y)/2))?p=i:y=i,(u=n>=(a=(g+v)/2))?g=a:v=a}while((d=u<<1|c)==(h=(l>=a)<<1|s>=i));return o[h]=f,o[d]=m,e}function W_(e,t,n,r,o){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=o}function F_(e){return e[0]}function Z_(e){return e[1]}function Y_(e,t,n){var r=new H_(t??F_,n??Z_,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function H_(e,t,n,r,o,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function q_(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}RL.prototype.interrupt=function(e){return this.each((function(){!function(e,t){var n,r,o,i=e.__transition,a=!0;if(i){for(o in t=null==t?null:t+"",i)(n=i[o]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete e.__transition}}(this,e)}))},RL.prototype.transition=function(e){var t,n;e instanceof z_?(t=e._id,e=e._name):(t=R_(),(n=B_).time=n_(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],l=s.length,c=0;c<l;++c)(a=s[c])&&m_(a,e,t,c,s,n||P_(a,t));return new z_(r,this._parents,e,t)};var G_=Y_.prototype=H_.prototype;function Q_(e){return function(){return e}}function X_(e){return 1e-6*(e()-.5)}function J_(e){return e.x+e.vx}function K_(e){return e.y+e.vy}function ez(e){return e.index}function tz(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function nz(e){var t,n,r,o,i,a,s=ez,l=function(e){return 1/Math.min(o[e.source.index],o[e.target.index])},c=Q_(30),u=1;function d(r){for(var o=0,s=e.length;o<u;++o)for(var l,c,d,h,f,m,p,g=0;g<s;++g)c=(l=e[g]).source,h=(d=l.target).x+d.vx-c.x-c.vx||X_(a),f=d.y+d.vy-c.y-c.vy||X_(a),h*=m=((m=Math.sqrt(h*h+f*f))-n[g])/m*r*t[g],f*=m,d.vx-=h*(p=i[g]),d.vy-=f*p,c.vx+=h*(p=1-p),c.vy+=f*p}function h(){if(r){var a,l,c=r.length,u=e.length,d=new Map(r.map(((e,t)=>[s(e,t,r),e])));for(a=0,o=new Array(c);a<u;++a)(l=e[a]).index=a,"object"!=typeof l.source&&(l.source=tz(d,l.source)),"object"!=typeof l.target&&(l.target=tz(d,l.target)),o[l.source.index]=(o[l.source.index]||0)+1,o[l.target.index]=(o[l.target.index]||0)+1;for(a=0,i=new Array(u);a<u;++a)l=e[a],i[a]=o[l.source.index]/(o[l.source.index]+o[l.target.index]);t=new Array(u),f(),n=new Array(u),m()}}function f(){if(r)for(var n=0,o=e.length;n<o;++n)t[n]=+l(e[n],n,e)}function m(){if(r)for(var t=0,o=e.length;t<o;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),d.initialize=function(e,t){r=e,a=t,h()},d.links=function(t){return arguments.length?(e=t,h(),d):e},d.id=function(e){return arguments.length?(s=e,d):s},d.iterations=function(e){return arguments.length?(u=+e,d):u},d.strength=function(e){return arguments.length?(l="function"==typeof e?e:Q_(+e),f(),d):l},d.distance=function(e){return arguments.length?(c="function"==typeof e?e:Q_(+e),m(),d):c},d}G_.copy=function(){var e,t,n=new H_(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=q_(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var o=0;o<4;++o)(t=r.source[o])&&(t.length?e.push({source:t,target:r.target[o]=new Array(4)}):r.target[o]=q_(t));return n},G_.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return U_(this.cover(t,n),t,n,e)},G_.addAll=function(e){var t,n,r,o,i=e.length,a=new Array(i),s=new Array(i),l=1/0,c=1/0,u=-1/0,d=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(a[n]=r,s[n]=o,r<l&&(l=r),r>u&&(u=r),o<c&&(c=o),o>d&&(d=o));if(l>u||c>d)return this;for(this.cover(l,c).cover(u,d),n=0;n<i;++n)U_(this,a[n],s[n],e[n]);return this},G_.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{for(var a,s,l=o-n||1,c=this._root;n>e||e>=o||r>t||t>=i;)switch(s=(t<r)<<1|e<n,a=new Array(4),a[s]=c,c=a,l*=2,s){case 0:o=n+l,i=r+l;break;case 1:n=o-l,i=r+l;break;case 2:o=n+l,r=i-l;break;case 3:n=o-l,r=i-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this},G_.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},G_.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},G_.find=function(e,t,n){var r,o,i,a,s,l,c,u=this._x0,d=this._y0,h=this._x1,f=this._y1,m=[],p=this._root;for(p&&m.push(new W_(p,u,d,h,f)),null==n?n=1/0:(u=e-n,d=t-n,h=e+n,f=t+n,n*=n);l=m.pop();)if(!(!(p=l.node)||(o=l.x0)>h||(i=l.y0)>f||(a=l.x1)<u||(s=l.y1)<d))if(p.length){var g=(o+a)/2,y=(i+s)/2;m.push(new W_(p[3],g,y,a,s),new W_(p[2],o,y,g,s),new W_(p[1],g,i,a,y),new W_(p[0],o,i,g,y)),(c=(t>=y)<<1|e>=g)&&(l=m[m.length-1],m[m.length-1]=m[m.length-1-c],m[m.length-1-c]=l)}else{var v=e-+this._x.call(null,p.data),b=t-+this._y.call(null,p.data),w=v*v+b*b;if(w<n){var x=Math.sqrt(n=w);u=e-x,d=t-x,h=e+x,f=t+x,r=p.data}}return r},G_.remove=function(e){if(isNaN(i=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,o,i,a,s,l,c,u,d,h,f=this._root,m=this._x0,p=this._y0,g=this._x1,y=this._y1;if(!f)return this;if(f.length)for(;;){if((c=i>=(s=(m+g)/2))?m=s:g=s,(u=a>=(l=(p+y)/2))?p=l:y=l,t=f,!(f=f[d=u<<1|c]))return this;if(!f.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,h=d)}for(;f.data!==e;)if(r=f,!(f=f.next))return this;return(o=f.next)&&delete f.next,r?(o?r.next=o:delete r.next,this):t?(o?t[d]=o:delete t[d],(f=t[0]||t[1]||t[2]||t[3])&&f===(t[3]||t[2]||t[1]||t[0])&&!f.length&&(n?n[h]=f:this._root=f),this):(this._root=o,this)},G_.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},G_.root=function(){return this._root},G_.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},G_.visit=function(e){var t,n,r,o,i,a,s=[],l=this._root;for(l&&s.push(new W_(l,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(l=t.node,r=t.x0,o=t.y0,i=t.x1,a=t.y1)&&l.length){var c=(r+i)/2,u=(o+a)/2;(n=l[3])&&s.push(new W_(n,c,u,i,a)),(n=l[2])&&s.push(new W_(n,r,u,c,a)),(n=l[1])&&s.push(new W_(n,c,o,i,u)),(n=l[0])&&s.push(new W_(n,r,o,c,u))}return this},G_.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new W_(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var o=t.node;if(o.length){var i,a=t.x0,s=t.y0,l=t.x1,c=t.y1,u=(a+l)/2,d=(s+c)/2;(i=o[0])&&n.push(new W_(i,a,s,u,d)),(i=o[1])&&n.push(new W_(i,u,s,l,d)),(i=o[2])&&n.push(new W_(i,a,d,u,c)),(i=o[3])&&n.push(new W_(i,u,d,l,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},G_.x=function(e){return arguments.length?(this._x=e,this):this._x},G_.y=function(e){return arguments.length?(this._y=e,this):this._y};const rz=1664525,oz=1013904223,iz=4294967296;function az(e){return e.x}function sz(e){return e.y}var lz=10,cz=Math.PI*(3-Math.sqrt(5));function uz(e){var t,n=1,r=.001,o=1-Math.pow(r,1/300),i=0,a=.6,s=new Map,l=i_(d),c=$D("tick","end"),u=function(){let e=1;return()=>(e=(rz*e+oz)%iz)/iz}();function d(){h(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function h(r){var l,c,u=e.length;void 0===r&&(r=1);for(var d=0;d<r;++d)for(n+=(i-n)*o,s.forEach((function(e){e(n)})),l=0;l<u;++l)null==(c=e[l]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return t}function f(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var o=lz*Math.sqrt(.5+n),i=n*cz;t.x=o*Math.cos(i),t.y=o*Math.sin(i)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function m(t){return t.initialize&&t.initialize(e,u),t}return null==e&&(e=[]),f(),t={tick:h,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(n){return arguments.length?(e=n,f(),s.forEach(m),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(o=+e,t):+o},alphaTarget:function(e){return arguments.length?(i=+e,t):i},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},randomSource:function(e){return arguments.length?(u=e,s.forEach(m),t):u},force:function(e,n){return arguments.length>1?(null==n?s.delete(e):s.set(e,m(n)),t):s.get(e)},find:function(t,n,r){var o,i,a,s,l,c=0,u=e.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(a=(o=t-(s=e[c]).x)*o+(i=n-s.y)*i)<r&&(l=s,r=a);return l},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}}function dz(){var e,t,n,r,o,i=Q_(-30),a=1,s=1/0,l=.81;function c(n){var o,i=e.length,a=Y_(e,az,sz).visitAfter(d);for(r=n,o=0;o<i;++o)t=e[o],a.visit(h)}function u(){if(e){var t,n,r=e.length;for(o=new Array(r),t=0;t<r;++t)n=e[t],o[n.index]=+i(n,t,e)}}function d(e){var t,n,r,i,a,s=0,l=0;if(e.length){for(r=i=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(s+=t.value,l+=n,r+=n*t.x,i+=n*t.y);e.x=r/l,e.y=i/l}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=o[t.data.index]}while(t=t.next)}e.value=s}function h(e,i,c,u){if(!e.value)return!0;var d=e.x-t.x,h=e.y-t.y,f=u-i,m=d*d+h*h;if(f*f/l<m)return m<s&&(0===d&&(m+=(d=X_(n))*d),0===h&&(m+=(h=X_(n))*h),m<a&&(m=Math.sqrt(a*m)),t.vx+=d*e.value*r/m,t.vy+=h*e.value*r/m),!0;if(!(e.length||m>=s)){(e.data!==t||e.next)&&(0===d&&(m+=(d=X_(n))*d),0===h&&(m+=(h=X_(n))*h),m<a&&(m=Math.sqrt(a*m)));do{e.data!==t&&(f=o[e.data.index]*r/m,t.vx+=d*f,t.vy+=h*f)}while(e=e.next)}}return c.initialize=function(t,r){e=t,n=r,u()},c.strength=function(e){return arguments.length?(i="function"==typeof e?e:Q_(+e),u(),c):i},c.distanceMin=function(e){return arguments.length?(a=e*e,c):Math.sqrt(a)},c.distanceMax=function(e){return arguments.length?(s=e*e,c):Math.sqrt(s)},c.theta=function(e){return arguments.length?(l=e*e,c):Math.sqrt(l)},c}function hz(e){var t,n,r,o=Q_(.1);function i(e){for(var o,i=0,a=t.length;i<a;++i)(o=t[i]).vx+=(r[i]-o.x)*n[i]*e}function a(){if(t){var i,a=t.length;for(n=new Array(a),r=new Array(a),i=0;i<a;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+o(t[i],i,t)}}return"function"!=typeof e&&(e=Q_(null==e?0:+e)),i.initialize=function(e){t=e,a()},i.strength=function(e){return arguments.length?(o="function"==typeof e?e:Q_(+e),a(),i):o},i.x=function(t){return arguments.length?(e="function"==typeof t?t:Q_(+t),a(),i):e},i}function fz(e){var t,n,r,o=Q_(.1);function i(e){for(var o,i=0,a=t.length;i<a;++i)(o=t[i]).vy+=(r[i]-o.y)*n[i]*e}function a(){if(t){var i,a=t.length;for(n=new Array(a),r=new Array(a),i=0;i<a;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+o(t[i],i,t)}}return"function"!=typeof e&&(e=Q_(null==e?0:+e)),i.initialize=function(e){t=e,a()},i.strength=function(e){return arguments.length?(o="function"==typeof e?e:Q_(+e),a(),i):o},i.y=function(t){return arguments.length?(e="function"==typeof t?t:Q_(+t),a(),i):e},i}function mz(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}const pz=Symbol("implicit"),gz=function(e){for(var t=new Array(10),n=0;n<10;)t[n]="#"+e.slice(6*n,6*++n);return t}("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function yz(e,t,n){this.k=e,this.x=t,this.y=n}yz.prototype={constructor:yz,scale:function(e){return 1===e?this:new yz(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new yz(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},yz.prototype;const vz=(e,t)=>{const n=dd(),r=dd(),o=e.app.value,i=ZS({toWidth:o.toWidth}),{addUnsubscribe:a}=tE(),s=ll(t,YS,i),{store:{state:l}}=o,{store:c}=i,u=()=>({...o.store.state.editor.viewport});a(al(o.store.state.editor.viewport).subscribe((()=>{i.store.dispatch(Hg(u()))})),(()=>{s.destroy(),qS(i)}));const d=hi(vp,.7);var h;c.dispatchSync(ak(_a(l)),Hg(u()),Gv({value:(h=l.editor.viewport.width/l.settings.width,Yo(d(h),2))}),Xv({scrollLeft:-1*(l.settings.width/2-l.editor.viewport.width/2),scrollTop:-1*(l.settings.height/2-l.editor.viewport.height/2)}));const{doc:{tableIds:f},collections:m}=c.state,p=aa(m).collection("tableEntities").selectByIds(f),[g,y]=yD();let v=!1;const b=()=>{v=!0,y(),o.store.dispatch(dy({[dD]:!1}))};if(!p.length)return b(),o.emitter.emit(KO({message:Fh`<${uD} description="Not found tables" />`})),()=>null;try{const t=function(e){const{settings:t}=e,n=t.width/2,r=t.height/2,[o,i]=function(e,t,n){const{doc:{tableIds:r,relationshipIds:o},collections:i}=e,a=aa(i).collection("tableEntities").selectByIds(r),s=aa(i).collection("relationshipEntities").selectByIds(o),l=[],c=[],u=new Set;return a.forEach((r=>{const o=Cb(r,e).width,i=Ab(r);l.push({id:r.id,r:(o+i)/4,x:t,y:n,ref:r})})),s.forEach((e=>{const{start:t,end:n}=e,r=`${t.tableId}-${n.tableId}`;t.tableId!==n.tableId&&!u.has(r)&&(c.push({source:t.tableId,target:n.tableId}),u.add(r))})),[l,c]}(e,n,r);return uz(o).force("link",nz(i).id((e=>e.id))).force("collide",function(e){var t,n,r,o=1,i=1;function a(){for(var e,a,l,c,u,d,h,f=t.length,m=0;m<i;++m)for(a=Y_(t,J_,K_).visitAfter(s),e=0;e<f;++e)l=t[e],d=n[l.index],h=d*d,c=l.x+l.vx,u=l.y+l.vy,a.visit(p);function p(e,t,n,i,a){var s=e.data,f=e.r,m=d+f;if(!s)return t>c+m||i<c-m||n>u+m||a<u-m;if(s.index>l.index){var p=c-s.x-s.vx,g=u-s.y-s.vy,y=p*p+g*g;y<m*m&&(0===p&&(y+=(p=X_(r))*p),0===g&&(y+=(g=X_(r))*g),y=(m-(y=Math.sqrt(y)))/y*o,l.vx+=(p*=y)*(m=(f*=f)/(h+f)),l.vy+=(g*=y)*m,s.vx-=p*(m=1-m),s.vy-=g*m)}}}function s(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function l(){if(t){var r,o,i=t.length;for(n=new Array(i),r=0;r<i;++r)o=t[r],n[o.index]=+e(o,r,t)}}return"function"!=typeof e&&(e=Q_(null==e?1:+e)),a.initialize=function(e,n){t=e,r=n,l()},a.iterations=function(e){return arguments.length?(i=+e,a):i},a.strength=function(e){return arguments.length?(o=+e,a):o},a.radius=function(t){return arguments.length?(e="function"==typeof t?t:Q_(+t),l(),a):e},a}().radius((e=>100+e.r))).force("charge",dz()).force("x",hz(n)).force("y",fz(r)).on("tick",(()=>{o.forEach((e=>{let{r:t,x:n,y:r,ref:o}=e;o.ui.x=n-t,o.ui.y=r-t})),JI(e)}))}(c.state),n=()=>{v||(t.stop(),e.onChange(p.map((e=>({id:e.id,x:e.ui.x,y:e.ui.y})))),b())},r=()=>{t.stop(),b()};o.emitter.emit(KO({close:g,message:Fh`
          <${uD}
            description="Automatic Table Placement..."
            action=${Fh`
              <${oD}
                variant="soft"
                size="1"
                text="Stop"
                .onClick=${n}
              />
              <${oD} size="1" text="Cancel" .onClick=${r} />
            `}
          />
        `})),t.on("end",n),a(o.shortcut$.subscribe((e=>{let{type:t}=e;t===DS.stop&&r()})))}catch{return b(),()=>null}return()=>Fh`
    <div class=${vD}>
      <div class=${bD} ${hd(n)}>
        <${PM} root=${n} canvas=${r} grabMove=${!0} />
        <${QM} />
      </div>
    </div>
  `};function bz(e){let{doc:{tableIds:t},collections:n}=e;const r=new Map;return aa(n).collection("tableEntities").selectByIds(t).forEach((e=>{const t=new Map;r.set(e.name,{table:e,nameToColumnMap:t}),aa(n).collection("tableColumnEntities").selectByIds(e.columnIds).forEach((e=>{t.set(e.name,e)}))})),r}function wz(e,t,n){let{doc:{tableIds:r},collections:o}=e;const i=new Map;return aa(o).collection("tableEntities").selectByIds(r).forEach((e=>{const r=t.get(e.name),a=new Map;i.set(e.id,["tableEntities",a]),a.set("tableName",xz(n,e.name,null==r?void 0:r.table.name)),a.set("tableComment",xz(n,e.comment,null==r?void 0:r.table.comment)),aa(o).collection("tableColumnEntities").selectByIds(e.columnIds).forEach((e=>{const t=null==r?void 0:r.nameToColumnMap.get(e.name),o=new Map;i.set(e.id,["tableColumnEntities",o]),o.set("columnName",xz(n,e.name,null==t?void 0:t.name)),o.set("columnComment",xz(n,e.comment,null==t?void 0:t.comment)),o.set("columnDataType",xz(n,e.dataType,null==t?void 0:t.dataType)),o.set("columnDefault",xz(n,e.default,null==t?void 0:t.default)),o.set("columnAutoIncrement",t?xz(n,Cp(e.options,dp.autoIncrement),Cp(t.options,dp.autoIncrement)):n),o.set("columnPrimaryKey",t?xz(n,Cp(e.options,dp.primaryKey),Cp(t.options,dp.primaryKey)):n),o.set("columnUnique",t?xz(n,Cp(e.options,dp.unique),Cp(t.options,dp.unique)):n),o.set("columnNotNull",t?xz(n,Cp(e.options,dp.notNull),Cp(t.options,dp.notNull)):n)}))})),Array.from(i).forEach((e=>{let[t,[n,r]]=e;Array.from(r).forEach((e=>{let[t,n]=e;0===n&&r.delete(t)})),0===r.size&&i.delete(t)})),i}function xz(e,t,n){return t===n?0:e}const kz=ff`
  position: absolute;
  top: 0;
  right: 0;
  width: 8px;
  height: calc(100% - 8px);
  overflow: hidden;
  padding-top: 4px;
`,Iz=ff`
  position: absolute;
  left: 0;
  bottom: 0;
  width: calc(100% - 8px);
  height: 8px;
  overflow: hidden;
  padding-left: 4px;
`,$z=ff`
  will-change: transform;
  cursor: pointer;

  &:hover > div {
    background-color: var(--scrollbar-thumb-hover);
  }

  &[data-selected] > div {
    background-color: var(--scrollbar-thumb-hover);
  }
`,Cz=ff`
  background-color: var(--scrollbar-thumb);
  border-radius: 4px;
`,Tz=ff`
  width: 4px;
  height: 100%;
  ${Cz};
`,Az=ff`
  width: 100%;
  height: 4px;
  ${Cz};
`,Oz=(e,t)=>{const n=HS(t),{state:r,getWidthRatio:o,getHeightRatio:i,onScrollLeftStart:a,onScrollTopStart:s}=function(e){const t=HS(e),n=il({selected:null});let r=0,o=0;const i=()=>{const{store:e}=t.value,{editor:{viewport:n},settings:{width:r}}=e.state;return n.width/r},a=()=>{const{store:e}=t.value,{editor:{viewport:n},settings:{height:r}}=e.state;return n.height/r},s=(e,t)=>e/t*-1,l=e=>{const{event:l}=e;"mousemove"===l.type&&l.preventDefault();const c="vertical"===n.selected,u="horizontal"===n.selected,d=(e=>{let{movementX:n,x:o}=e;const{store:a}=t.value,{settings:l,editor:{viewport:c}}=a.state,u=l.scrollLeft+s(n,i()),d=c.width-l.width;let h=!1;switch(n<0?WI.left:WI.right){case WI.left:u<0&&o<r&&(r+=n,h=!0);break;case WI.right:u>d&&o>r&&(r+=n,h=!0)}return h?n:0})(e),h=(e=>{let{movementY:n,y:r}=e;const{store:i}=t.value,{settings:l,editor:{viewport:c}}=i.state,u=l.scrollTop+s(n,a()),d=c.height-l.height;let h=!1;switch(n<0?WI.top:WI.bottom){case WI.top:u<0&&r<o&&(o+=n,h=!0);break;case WI.bottom:u>d&&r>o&&(o+=n,h=!0)}return h?n:0})(e),{store:f}=t.value;c&&0!==h?f.dispatch(Jv({movementX:0,movementY:s(h,a())})):u&&0!==d&&f.dispatch(Jv({movementX:s(d,i()),movementY:0}))};return{state:n,onScrollLeftStart:e=>{n.selected="horizontal",r=e.clientX,UE.subscribe({next:l,complete:()=>{n.selected=null}})},onScrollTopStart:e=>{n.selected="vertical",o=e.clientY,UE.subscribe({next:l,complete:()=>{n.selected=null}})},getWidthRatio:i,getHeightRatio:a}}(t),l=dd(),c=dd(),u=e=>{const t=e.target;if(!t||t.closest(".virtual-scroll-ghost-thumb"))return;const{store:r}=n.value,{editor:{viewport:i},settings:s}=r.state,c=o(),u=l.value.getBoundingClientRect(),d=(e.clientX-u.x)/c-i.width/2;r.dispatch(Xv({scrollLeft:-1*d,scrollTop:s.scrollTop})),a(e)},d=e=>{const t=e.target;if(!t||t.closest(".virtual-scroll-ghost-thumb"))return;const{store:r}=n.value,{editor:{viewport:o}}=r.state,a=i(),l=c.value.getBoundingClientRect(),u=(e.clientY-l.y)/a-o.height/2;r.dispatch(Xv({scrollLeft:r.state.settings.scrollLeft,scrollTop:-1*u})),s(e)};return()=>{const{store:e}=n.value,{editor:{viewport:t},settings:{width:h,height:f,scrollLeft:m,scrollTop:p}}=e.state,g=o(),y=i(),v=t.width*g,b=t.height*y,w=-1*m*g,x=-1*p*y,k=t.width<h,I=t.height<f;return Fh`
      ${k?Fh`
            <div
              class=${["virtual-scroll",Iz]}
              ${hd(l)}
              @mousedown=${u}
            >
              <div
                class=${["virtual-scroll-ghost-thumb",$z]}
                style=${{width:`${v}px`,height:"100%",transform:`translate(${w}px, 0px)`}}
                ?data-selected=${"horizontal"===r.selected}
                @mousedown=${a}
              >
                <div class=${Az}></div>
              </div>
            </div>
          `:null}
      ${I?Fh`
            <div
              class=${["virtual-scroll",kz]}
              ${hd(c)}
              @mousedown=${d}
            >
              <div
                class=${["virtual-scroll-ghost-thumb",$z]}
                style=${{width:"100%",height:`${b}px`,transform:`translate(0px, ${x}px)`}}
                ?data-selected=${"vertical"===r.selected}
                @mousedown=${s}
              >
                <div class=${Tz}></div>
              </div>
            </div>
          `:null}
    `}},Sz=ff`
  display: flex;
  width: 100%;
  height: 100%;
  overflow: hidden;
  position: relative;
`,Ez=(e,t)=>{const n=dd(),r=dd(),o=e.app,i=ll(t,YS,o),a=il({grabCursor:"grab"}),{addUnsubscribe:s}=tE(),l=function(e,t){const n=document.createElement("style"),r=1===e?".diff-viewer-insert":".diff-viewer-delete",o=Array.from(t).map((e=>{let[t,[n,o]]=e;const i=`${r} [data-id="${t}"]`;return Array.from(o).map((e=>{let[t,n]=e;return 0!==n?`\n              ${i} [data-type="${t}"] {\n                background-color: ${1===n?"var(--diff-insert-background)":"var(--diff-delete-background)"};\n              }\n            `:""})).join("\n")})).join("\n");return n.textContent=o,n}(e.diff,e.diffMap);s((()=>{i.destroy()}));const c=e=>{e.preventDefault();const t=WS(e),{store:n}=o;n.dispatch(t?Nk(e.deltaY<0?.1:-.1):Jv({movementX:-1*e.deltaX,movementY:-1*e.deltaY}))},u=e=>{let{event:t,movementX:r,movementY:i}=e;const{store:a}=o;"mousemove"===t.type&&t.preventDefault(),(0!==r||0!==i)&&(a.dispatch(Jv({movementX:r,movementY:i})),0===n.value.scrollTop&&0===n.value.scrollLeft||(n.value.scrollTop=0,n.value.scrollLeft=0))},d=e=>{const t=e.target;if(!t)return;const n=!t.closest(".color-picker"),r=!t.closest(".table")&&!t.closest(".memo")&&!t.closest(".edit-input")&&!t.closest(".context-menu-content")&&!t.closest(".hide-sign")&&n,i=r&&n&&!t.closest(".minimap")&&!t.closest(".minimap-viewport")&&!t.closest(".virtual-scroll");if(r){const{store:e}=o;e.dispatch(uk())}if(n){const{emitter:e}=o;e.emit(JO())}i&&(a.grabCursor="grabbing",UE.subscribe({next:u,complete:()=>{a.grabCursor="grab"}}))};return()=>Fh`
    <div
      class=${[Sz,1===e.diff?"diff-viewer-insert":"diff-viewer-delete"]}
      style=${{cursor:a.grabCursor}}
      ${hd(n)}
      @contextmenu=${xE}
      @mousedown=${d}
      @touchstart=${d}
      @wheel=${c}
    >
      ${l}
      <${PM} root=${n} canvas=${r} grabMove=${!0} />
      <${Oz} />
      <${QM} />
    </div>
  `};function Nz(e,t,n){const r=[];return e.forEach(((n,o)=>{t?r.push(`${t}${n.name}${t}`):r.push(n.name),e.length!==o+1&&r.push(", ")})),r.join("")}function Mz(e){let t=0,n=0;return e.forEach((e=>{t<e.name.length&&(t=e.name.length),n<e.dataType.length&&(n=e.dataType.length)})),{name:t,dataType:n}}function Dz(e){const t=[];for(let n=0;n<e;n++)t.push(" ");return t.join("")}function Lz(e){return e.some((e=>{let{options:t}=e;return Cp(t,dp.primaryKey)}))}function jz(e){return e.filter((e=>{let{options:t}=e;return Cp(t,dp.primaryKey)}))}function _z(e){return e.some((e=>{let{options:t}=e;return Cp(t,dp.unique)}))}function zz(e){return e.filter((e=>{let{options:t}=e;return Cp(t,dp.unique)}))}function Rz(e){return bp[e]??""}function Vz(e,t){const n=e.name.toLowerCase(),r=t.name.toLowerCase();return n<r?-1:n>r?1:0}function Bz(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=!0;for(const r of e)if(n===r.name&&r.id!==t&&""!==n){o=!1;break}return o?n:Bz(e,t,n.replace(/[0-9]/g,"")+r,r+1)}function Pz(e){switch(e){case fp.ASC:return"ASC";case fp.DESC:return"DESC";default:return""}}const Uz=ff`
  display: flex;
  flex-direction: column;
  width: ${200}px;
  min-width: ${200}px;
  height: 100%;
  overflow-x: hidden;
  overflow-y: auto;
  background-color: var(--context-menu-background);
  padding: 14px 0;
`,Wz=ff`
  display: flex;
  align-items: center;
  cursor: pointer;

  &:hover {
    background-color: var(--context-menu-hover);
    color: var(--active);
    fill: var(--active);
  }
`,Fz=ff`
  display: flex;
  align-items: center;
  min-width: 14px;
  margin-right: 8px;

  &.diff-insert {
    fill: var(--diff-insert-foreground);
  }

  &.diff-delete {
    fill: var(--diff-delete-foreground);
  }

  &.diff-cross {
    fill: var(--diff-cross-foreground);
  }
`,Zz=ff`
  ${Wz};
  height: 36px;
  min-height: 36px;
  padding: 0 12px;
`,Yz=ff`
  ${Wz};
  height: 24px;
  min-height: 24px;
  padding: 0 12px 0 24px;
`,Hz=ff`
  width: 100%;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
`,qz=(e,t)=>{const{prevApp:n,prevDiffMap:r,app:o,diffMap:i}=e,a=bz(n.store.state),s=bz(o.store.state),l=aa(n.store.state.collections).collection("tableEntities"),c=aa(n.store.state.collections).collection("tableColumnEntities"),u=aa(o.store.state.collections).collection("tableEntities"),d=aa(o.store.state.collections).collection("tableColumnEntities"),h=[],f=[],m=[],p=[];Array.from(r).forEach((e=>{let[t,[n,r]]=e;"tableEntities"===n?h.push(t):m.push(t)})),Array.from(i).forEach((e=>{let[t,[n,r]]=e;"tableEntities"===n?f.push(t):p.push(t)}));const g=Qo(h),y=Qo(f),v=Qo(m),b=Qo(p);c.selectByIds(m).forEach((e=>{g(e.tableId)||h.push(e.tableId)})),d.selectByIds(p).forEach((e=>{y(e.tableId)||f.push(e.tableId)}));const w=l.selectByIds(h),x=u.selectByIds(f),k=[];w.forEach((e=>{const t=r.get(e.id),n=a.get(e.name),o=s.get(e.name),i={diff:0,prevId:e.id,id:null==o?void 0:o.table.id,name:e.name,columns:[]};k.push(i),t&&(i.diff|=2,o&&(i.diff|=1)),c.selectByIds(e.columnIds.filter(v)).forEach((e=>{const t=null==o?void 0:o.nameToColumnMap.get(e.name),n={diff:2,prevId:e.id,id:null==t?void 0:t.id,name:e.name};i.columns.push(n),t&&(n.diff|=1)})),o&&d.selectByIds(o.table.columnIds.filter(b)).forEach((e=>{if(null==n?void 0:n.nameToColumnMap.get(e.name))return;const t={diff:1,id:e.id,name:e.name};i.columns.push(t)}))})),x.forEach((e=>{if(a.get(e.name))return;const t={diff:1,id:e.id,name:e.name,columns:[]};k.push(t),d.selectByIds(e.columnIds.filter(b)).forEach((e=>{const n={diff:1,id:e.id,name:e.name};t.columns.push(n)}))})),k.sort(Vz);const I=(e,t)=>{let{store:n}=e;const{settings:{width:r,height:o,zoomLevel:i},collections:a}=n.state,s=aa(a).collection("tableEntities").selectById(t);if(!s)return;const{x:l,y:c}=Op({x:s.ui.x-200,y:s.ui.y-100},r,o,i);n.dispatch(Xv({scrollLeft:-1*l,scrollTop:-1*c}),Sw(s.id,!1))},$=e=>{e.prevId&&I(n,e.prevId),e.id&&I(o,e.id)};return()=>Fh`
    <div class=${Uz}>
      ${k.map((e=>{const t=e.name.trim()?e.name:"unnamed",n=Cp(e.diff,1),r=Cp(e.diff,2);return Fh`
          <div class=${Zz} @click=${()=>$(e)}>
            <div class=${[Fz,{"diff-cross":n&&r,"diff-insert":n&&!r,"diff-delete":!n&&r}]}>
              ${n&&r?Fh`<${lN} prefix="mdi" name="plus-minus" size=${14} />`:n?Fh`<${lN} prefix="mdi" name="plus" size=${14} />`:r?Fh`<${lN} prefix="mdi" name="minus" size=${14} />`:Fh`<${lN} name="table" size=${14} />`}
            </div>
            <span class=${Hz}>${t}</span>
          </div>
          ${e.columns.map((t=>{const n=t.name.trim()?t.name:"unnamed",r=Cp(t.diff,1),o=Cp(t.diff,2);return Fh`
              <div class=${Yz} @click=${()=>$(e)}>
                <div class=${[Fz,{"diff-cross":r&&o,"diff-insert":r&&!o,"diff-delete":!r&&o}]}>
                  ${r&&o?Fh`<${lN}
                        prefix="mdi"
                        name="plus-minus"
                        size=${14}
                      />`:r?Fh`<${lN} prefix="mdi" name="plus" size=${14} />`:o?Fh`<${lN} prefix="mdi" name="minus" size=${14} />`:null}
                </div>
                <span class=${Hz}>${n}</span>
              </div>
            `}))}
        `}))}
    </div>
  `},Gz=ff`
  display: flex;
  width: 100%;
  height: 100%;
  overflow: hidden;
  position: absolute;
  top: 0;
  left: 0;
  background-color: var(--canvas-boundary-background);
`,Qz=ff`
  display: flex;
  width: 100%;
  height: 100%;
  overflow: hidden;
  position: relative;
`,Xz=ff`
  display: flex;
  width: 50%;
  height: 100%;
  overflow: hidden;
  border-left: 1px solid var(--context-menu-border);
`,Jz=(e,t)=>{const n=e.app.value,r=()=>!0,o=ZS({toWidth:n.toWidth},{getReadonly:r}),i=ZS({toWidth:n.toWidth},{getReadonly:r}),{addUnsubscribe:a}=tE(),s=()=>{const{store:e}=n,{editor:{viewport:t}}=e.state;return{width:(t.width-200)/2-1,height:t.height}};o.store.dispatchSync(ak(e.initialValue),Hg(s())),i.store.dispatchSync(ak(_a(n.store.state)),Hg(s()));const[l,c]=function(e,t){const n=bz(e);return[wz(e,bz(t),2),wz(t,n,1)]}(o.store.state,i.store.state),[u,d]=yD(),h=()=>{d(),e.onClose()};return n.emitter.emit(KO({close:u,message:Fh`
        <${uD}
          description="Diff Viewer..."
          action=${Fh`
            <${oD} size="1" text="Close" .onClick=${h} />
          `}
        />
      `})),Ws((()=>{a(n.shortcut$.subscribe((e=>{let{type:t}=e;t===DS.stop&&h()})),al(n.store.state.editor.viewport).subscribe((()=>{const e=s();o.store.dispatch(Hg(e)),i.store.dispatch(Hg(e))})),(()=>{qS(o),qS(i)}))})),()=>Fh`
    <div class=${Gz}>
      <div class=${Qz}>
        <${qz}
          prevApp=${o}
          prevDiffMap=${l}
          app=${i}
          diffMap=${c}
        />
        <div class=${Xz}>
          <${Ez}
            app=${o}
            diff=${2}
            diffMap=${l}
          />
        </div>
        <div class=${Xz}>
          <${Ez} app=${i} diff=${1} diffMap=${c} />
        </div>
      </div>
    </div>
  `},Kz=ff`
  position: absolute;
  stroke: var(--darg-select-border);
  fill: var(--darg-select-background);
  pointer-events: none;
`,eR=(e,t)=>{const n=HS(t),r=il({width:0,height:0,top:0,left:0}),{addUnsubscribe:o}=tE();return Us((()=>{const{store:t}=n.value,i=e.root.value;o(NE.subscribe(e.onDragSelectEnd),VO(i,"mousemove").subscribe((n=>{n.preventDefault();const{settings:{width:o,height:a,zoomLevel:s,scrollLeft:l,scrollTop:c}}=t.state,u=i.getBoundingClientRect(),d=n.clientX-u.x,h=n.clientY-u.y,f={x:e.x<d?e.x:d,y:e.y<h?e.y:h},m={x:e.x>d?e.x:d,y:e.y>h?e.y:h};r.left=f.x,r.width=m.x-f.x,r.width<0&&(r.width=0),r.top=f.y,r.height=m.y-f.y,r.height<0&&(r.height=0);const p=Object.assign({},f),g=Object.assign({},m);p.x-=l,p.y-=c,g.x-=l,g.y-=c;const y=Sp(p,o,a,s),v=Sp(g,o,a,s);t.dispatch(ck({...y,w:v.x-y.x,h:v.y-y.y}))})))})),()=>Zh`
    <svg
      class=${Kz}
      style=${{top:`${r.top}px`,left:`${r.left}px`,width:`${r.width}px`,height:`${r.height}px`}}
    >
      <rect
        width=${r.width}
        height=${r.height}
        stroke-width="1"
        stroke-opacity="1"
        stroke-dasharray="3"
        fill-opacity="0.3"
      >
      </rect>
    </svg>
  `},tR=ff`
  position: fixed;
  display: flex;
  flex-direction: column;
  border-radius: 6px;
  min-width: max-content;
  padding: 8px;
  background-color: var(--context-menu-background);
  border: 1px solid var(--context-menu-border);
`,nR=(e,t)=>()=>Fh`
    <div
      class=${["context-menu-content",tR]}
      style=${{left:`${e.x}px`,top:`${e.y}px`}}
      data-id=${e.id}
    >
      ${e.children}
    </div>
  `,rR=Fa({show:!1,x:0,y:0,change$:new Yf}),oR=e=>sl(e,rR);function iR(e){const t=il({show:!1,x:0,y:0,change$:new Yf});return{provider:ll(e,rR,t),state:t,onContextmenu:e=>{e.preventDefault(),t.x=e.clientX,t.y=e.clientY,t.show=!1,vs((()=>{t.show=!0}))},onMousedown:e=>{const n=e.target;n&&(n.closest(".context-menu-content")||(t.show=!1))}}}const aR=ff`
  display: flex;
  align-items: center;
  padding: 0 12px;
  height: 32px;
  cursor: default;
  border-radius: 4px;

  &:hover {
    background-color: var(--context-menu-hover);
    color: var(--active);
    fill: var(--active);
  }

  &.selected {
    background-color: var(--context-menu-select);
  }
`,sR=ff`
  display: flex;
  align-items: center;
  width: 100%;
`,lR=ff`
  display: flex;
  align-items: center;
  min-width: 14px;
  margin-right: 8px;
`,cR=ff`
  display: flex;
  align-items: center;
  margin-left: auto;
  padding-left: 24px;
`,uR=(e,t)=>()=>Fh`
  <div class=${sR}>
    <div class=${lR}>${e.icon}</div>
    <div>${e.name}</div>
    ${e.right?Fh`<div class=${cR}>${e.right}</div>`:null}
  </div>
`,dR=(e,t)=>{const n=oR(t);return()=>n.value.show?Fh`
          <${nR}
            id="root"
            x=${n.value.x}
            y=${n.value.y}
            children=${e.children}
          />
        `:null},hR=(e,t)=>{const n=oR(t),r=di(),o=dd(),i=il({selected:!1,show:!1,x:0,y:0}),{addUnsubscribe:a}=tE(),s=()=>{var e;const{width:t,x:a,y:s}=o.value.getBoundingClientRect();i.x=t+a,i.y=s-8,i.show=!0;const l=null==(e=o.value.parentElement)?void 0:e.dataset.id;l&&n.value.change$.next({parentId:l,id:r})};return Ws((()=>{e.subChildren&&a(n.value.change$.subscribe((e=>{var t;(null==(t=o.value.parentElement)?void 0:t.dataset.id)===e.parentId&&r!==e.id&&(i.show=!1),i.selected=r===e.parentId})))})),()=>Fh`
    <div
      ${hd(o)}
      class=${[aR,{selected:i.selected}]}
      data-id=${r}
      @mouseenter=${s}
      @click=${e.onClick}
    >
      ${e.children}
    </div>
    ${e.subChildren&&i.show?Fh`
          <${nR}
            id=${r}
            x=${i.x}
            y=${i.y}
            children=${e.subChildren}
          />
        `:null}
  `},fR=uR,mR=/\.(json|erd|vuerd)$/i,pR=/\.sql$/i;let gR=null;function yR(e){let{store:t,emitter:n}=e;if(gR)return void gR({type:"json",op:"set",accept:".json,.erd,.vuerd"});const r=document.createElement("input");r.setAttribute("type","file"),r.setAttribute("accept",".json,.erd,.vuerd"),r.addEventListener("change",(()=>{var e;const o=null==(e=r.files)?void 0:e[0];if(!o)return;if(!mR.test(o.name))return void n.emit(KO({message:Fh`<${uD} description="Just import the json file" />`}));const i=new FileReader;i.readAsText(o),i.onload=()=>{const e=i.result;oi(e)&&t.dispatch(ik(e))}})),r.click()}function vR(e){let{store:t,emitter:n}=e;if(gR)return void gR({type:"sql",op:"set",accept:".sql"});const r=document.createElement("input");r.setAttribute("type","file"),r.setAttribute("accept",".sql"),r.addEventListener("change",(()=>{var e;const o=null==(e=r.files)?void 0:e[0];if(!o)return;if(!pR.test(o.name))return void n.emit(KO({message:Fh`<${uD} description="Just import the sql file" />`}));const i=new FileReader;i.readAsText(o),i.onload=()=>{const e=i.result;oi(e)&&t.dispatch(pk(e))}})),r.click()}const bR=[{name:"MSSQL",value:ep.MSSQL},{name:"MariaDB",value:ep.MariaDB},{name:"MySQL",value:ep.MySQL},{name:"Oracle",value:ep.Oracle},{name:"PostgreSQL",value:ep.PostgreSQL},{name:"SQLite",value:ep.SQLite}];function wR(e){let{store:t}=e;const{settings:n}=t.state;return bR.map((e=>({checked:e.value===n.database,name:e.name,onClick:()=>{t.dispatch(eb({value:e.value}))}})))}const xR=[{iconName:"ZeroOne",name:"Zero One",keyBindingName:DS.relationshipZeroOne,relationshipType:lp.ZeroOne},{iconName:"ZeroN",name:"Zero N",keyBindingName:DS.relationshipZeroN,relationshipType:lp.ZeroN},{iconName:"OneOnly",name:"One Only",keyBindingName:DS.relationshipOneOnly,relationshipType:lp.OneOnly},{iconName:"OneN",name:"One N",keyBindingName:DS.relationshipOneN,relationshipType:lp.OneN}],kR=(()=>{let e=0;return()=>(e+=1,`u${`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4)}${e}`)})();function IR(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}function $R(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function CR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.width||function(e){const t=$R(e,"border-left-width"),n=$R(e,"border-right-width");return e.clientWidth+t+n}(e),r=t.height||function(e){const t=$R(e,"border-top-width"),n=$R(e,"border-bottom-width");return e.clientHeight+t+n}(e);return{width:n,height:r}}const TR=16384;function AR(e){return new Promise(((t,n)=>{const r=new Image;r.decode=()=>t(r),r.onload=()=>t(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e}))}const OR=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return null!==n&&(n.constructor.name===t.name||OR(n,t))};function SR(e,t,n){const r=window.getComputedStyle(e,n),o=r.getPropertyValue("content");if(""===o||"none"===o)return;const i=kR();try{t.className=`${t.className} ${i}`}catch{return}const a=document.createElement("style");a.appendChild(function(e,t,n){const r=`.${e}:${t}`,o=n.cssText?function(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}(n):function(e){return IR(e).map((t=>`${t}: ${e.getPropertyValue(t)}${e.getPropertyPriority(t)?" !important":""};`)).join(" ")}(n);return document.createTextNode(`${r}{${o}}`)}(i,n,r)),t.appendChild(a)}const ER="application/font-woff",NR="image/jpeg",MR={woff:ER,woff2:ER,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:NR,jpeg:NR,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function DR(e){const t=function(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}(e).toLowerCase();return MR[t]||""}function LR(e){return-1!==e.search(/^(data:)/)}async function jR(e,t,n){const r=await fetch(e,t);if(404===r.status)throw new Error(`Resource "${r.url}" not found`);const o=await r.blob();return new Promise(((e,t)=>{const i=new FileReader;i.onerror=t,i.onloadend=()=>{try{e(n({res:r,result:i.result}))}catch(e){t(e)}},i.readAsDataURL(o)}))}const _R={};async function zR(e,t,n){const r=function(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}(e,t,n.includeQueryParams);if(null!=_R[r])return _R[r];let o;n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());try{const r=await jR(e,n.fetchRequestInit,(e=>{let{res:n,result:r}=e;return t||(t=n.headers.get("Content-Type")||""),function(e){return e.split(/,/)[1]}(r)}));o=function(e,t){return`data:${t};base64,${e}`}(r,t)}catch(t){o=n.imagePlaceholder||"";let r=`Failed to fetch resource: ${e}`;t&&(r="string"==typeof t?t:t.message),r&&console.warn(r)}return _R[r]=o,o}const RR=e=>null!=e.tagName&&"SLOT"===e.tagName.toUpperCase();async function VR(e,t,n){return n||!t.filter||t.filter(e)?Promise.resolve(e).then((e=>async function(e,t){return OR(e,HTMLCanvasElement)?async function(e){const t=e.toDataURL();return"data:,"===t?e.cloneNode(!1):AR(t)}(e):OR(e,HTMLVideoElement)?async function(e,t){if(e.currentSrc){const t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.clientWidth,t.height=e.clientHeight,null==n||n.drawImage(e,0,0,t.width,t.height),AR(t.toDataURL())}const n=e.poster,r=DR(n);return AR(await zR(n,r,t))}(e,t):OR(e,HTMLIFrameElement)?async function(e){var t;try{if(null!==(t=null==e?void 0:e.contentDocument)&&void 0!==t&&t.body)return await VR(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}(e):e.cloneNode(!1)}(e,t))).then((n=>async function(e,t,n){var r,o;let i=[];return i=RR(e)&&e.assignedNodes?IR(e.assignedNodes()):OR(e,HTMLIFrameElement)&&null!==(r=e.contentDocument)&&void 0!==r&&r.body?IR(e.contentDocument.body.childNodes):IR((null!==(o=e.shadowRoot)&&void 0!==o?o:e).childNodes),0===i.length||OR(e,HTMLVideoElement)||await i.reduce(((e,r)=>e.then((()=>VR(r,n))).then((e=>{e&&t.appendChild(e)}))),Promise.resolve()),t}(e,n,t))).then((t=>function(e,t){return OR(t,Element)&&(function(e,t){const n=t.style;if(!n)return;const r=window.getComputedStyle(e);r.cssText?(n.cssText=r.cssText,n.transformOrigin=r.transformOrigin):IR(r).forEach((o=>{let i=r.getPropertyValue(o);"font-size"===o&&i.endsWith("px")&&(i=Math.floor(parseFloat(i.substring(0,i.length-2)))-.1+"px"),OR(e,HTMLIFrameElement)&&"display"===o&&"inline"===i&&(i="block"),"d"===o&&t.getAttribute("d")&&(i=`path(${t.getAttribute("d")})`),n.setProperty(o,i,r.getPropertyPriority(o))}))}(e,t),function(e,t){SR(e,t,":before"),SR(e,t,":after")}(e,t),function(e,t){OR(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),OR(e,HTMLInputElement)&&t.setAttribute("value",e.value)}(e,t),function(e,t){if(OR(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find((t=>e.value===t.getAttribute("value")));r&&r.setAttribute("selected","")}}(e,t)),t}(e,t))).then((e=>async function(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(0===n.length)return e;const r={};for(let o=0;o<n.length;o++){const i=n[o].getAttribute("xlink:href");if(i){const n=e.querySelector(i),o=document.querySelector(i);!n&&o&&!r[i]&&(r[i]=await VR(o,t,!0))}}const o=Object.values(r);if(o.length){const t="http://www.w3.org/1999/xhtml",n=document.createElementNS(t,"svg");n.setAttribute("xmlns",t),n.style.position="absolute",n.style.width="0",n.style.height="0",n.style.overflow="hidden",n.style.display="none";const r=document.createElementNS(t,"defs");n.appendChild(r);for(let e=0;e<o.length;e++)r.appendChild(o[e]);e.appendChild(n)}return e}(e,t))):null}const BR=/url\((['"]?)([^'"]+?)\1\)/g,PR=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,UR=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function WR(e){return-1!==e.search(BR)}async function FR(e,t,n){if(!WR(e))return e;const r=function(e,t){let{preferredFontFormat:n}=t;return n?e.replace(UR,(e=>{for(;;){const[t,,r]=PR.exec(e)||[];if(!r)return"";if(r===n)return`src: ${t};`}})):e}(e,n);return function(e){const t=[];return e.replace(BR,((e,n,r)=>(t.push(r),e))),t.filter((e=>!LR(e)))}(r).reduce(((e,r)=>e.then((e=>async function(e,t,n,r,o){try{const i=n?function(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),t&&(r.href=t),o.href=e,o.href}(t,n):t,a=DR(t);let s;return o||(s=await zR(i,a,r)),e.replace(function(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}(t),`$1${s}$3`)}catch{}return e}(e,r,t,n)))),Promise.resolve(r))}async function ZR(e,t,n){var r;const o=null===(r=t.style)||void 0===r?void 0:r.getPropertyValue(e);if(o){const r=await FR(o,null,n);return t.style.setProperty(e,r,t.style.getPropertyPriority(e)),!0}return!1}async function YR(e,t){OR(e,Element)&&(await async function(e,t){await ZR("background",e,t)||await ZR("background-image",e,t),await ZR("mask",e,t)||await ZR("mask-image",e,t)}(e,t),await async function(e,t){const n=OR(e,HTMLImageElement);if((!n||LR(e.src))&&(!OR(e,SVGImageElement)||LR(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,o=await zR(r,DR(r),t);await new Promise(((t,r)=>{e.onload=t,e.onerror=r;const i=e;i.decode&&(i.decode=t),"lazy"===i.loading&&(i.loading="eager"),n?(e.srcset="",e.src=o):e.href.baseVal=o}))}(e,t),await async function(e,t){const n=IR(e.childNodes).map((e=>YR(e,t)));await Promise.all(n).then((()=>e))}(e,t))}const HR={};async function qR(e){let t=HR[e];return null!=t||(t={url:e,cssText:await(await fetch(e)).text()},HR[e]=t),t}async function GR(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map((async o=>{let i=o.replace(r,"$1");return i.startsWith("https://")||(i=new URL(i,e.url).href),jR(i,t.fetchRequestInit,(e=>{let{result:t}=e;return n=n.replace(o,`url(${t})`),[o,t]}))}));return Promise.all(o).then((()=>n))}function QR(e){if(null==e)return[];const t=[];let n=e.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const e=r.exec(n);if(null===e)break;t.push(e[0])}n=n.replace(r,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let e=o.exec(n);if(null===e){if(e=i.exec(n),null===e)break;o.lastIndex=i.lastIndex}else i.lastIndex=o.lastIndex;t.push(e[0])}return t}async function XR(e,t){const n=null!=t.fontEmbedCSS?t.fontEmbedCSS:t.skipFonts?null:await async function(e,t){const n=await async function(e,t){if(null==e.ownerDocument)throw new Error("Provided element is not within a Document");const n=IR(e.ownerDocument.styleSheets),r=await async function(e,t){const n=[],r=[];return e.forEach((n=>{if("cssRules"in n)try{IR(n.cssRules||[]).forEach(((e,o)=>{if(e.type===CSSRule.IMPORT_RULE){let i=o+1;const a=qR(e.href).then((e=>GR(e,t))).then((e=>QR(e).forEach((e=>{try{n.insertRule(e,e.startsWith("@import")?i+=1:n.cssRules.length)}catch(t){console.error("Error inserting rule from remote css",{rule:e,error:t})}})))).catch((e=>{console.error("Error loading remote css",e.toString())}));r.push(a)}}))}catch(o){const i=e.find((e=>null==e.href))||document.styleSheets[0];null!=n.href&&r.push(qR(n.href).then((e=>GR(e,t))).then((e=>QR(e).forEach((e=>{i.insertRule(e,n.cssRules.length)})))).catch((e=>{console.error("Error loading remote stylesheet",e)}))),console.error("Error inlining remote css file",o)}})),Promise.all(r).then((()=>(e.forEach((e=>{if("cssRules"in e)try{IR(e.cssRules||[]).forEach((e=>{n.push(e)}))}catch(t){console.error(`Error while reading CSS rules from ${e.href}`,t)}})),n)))}(n,t);return function(e){return e.filter((e=>e.type===CSSRule.FONT_FACE_RULE)).filter((e=>WR(e.style.getPropertyValue("src"))))}(r)}(e,t);return(await Promise.all(n.map((e=>{const n=e.parentStyleSheet?e.parentStyleSheet.href:null;return FR(e.cssText,n,t)})))).join("\n")}(e,t);if(n){const t=document.createElement("style"),r=document.createTextNode(n);t.appendChild(r),e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}}async function JR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{width:n,height:r}=CR(e,t),o=await VR(e,t,!0);return await XR(o,t),await YR(o,t),function(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;null!=r&&Object.keys(r).forEach((e=>{n[e]=r[e]}))}(o,t),await async function(e,t,n){const r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${n}`),o.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),o.appendChild(i),i.appendChild(e),async function(e){return Promise.resolve().then((()=>(new XMLSerializer).serializeToString(e))).then(encodeURIComponent).then((e=>`data:image/svg+xml;charset=utf-8,${e}`))}(o)}(o,n,r)}async function KR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{width:n,height:r}=CR(e,t),o=await JR(e,t),i=await AR(o),a=document.createElement("canvas"),s=a.getContext("2d"),l=t.pixelRatio||function(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}(),c=t.canvasWidth||n,u=t.canvasHeight||r;return a.width=c*l,a.height=u*l,t.skipAutoScale||function(e){(e.width>TR||e.height>TR)&&(e.width>TR&&e.height>TR?e.width>e.height?(e.height*=TR/e.width,e.width=TR):(e.width*=TR/e.height,e.height=TR):e.width>TR?(e.height*=TR/e.width,e.width=TR):(e.width*=TR/e.height,e.height=TR))}(a),a.style.width=`${c}`,a.style.height=`${u}`,t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,a.width,a.height)),s.drawImage(i,0,0,a.width,a.height),a}(e,t);return await function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.toBlob?new Promise((n=>{e.toBlob(n,t.type?t.type:"image/png",t.quality?t.quality:1)})):new Promise((n=>{const r=window.atob(e.toDataURL(t.type?t.type:void 0,t.quality?t.quality:void 0).split(",")[1]),o=r.length,i=new Uint8Array(o);for(let e=0;e<o;e+=1)i[e]=r.charCodeAt(e);n(new Blob([i],{type:t.type?t.type:"image/png"}))}))}(n)}let eV=null;function tV(e,t){(eV||nV)(e,t)}function nV(e,t){const n=document.createElement("a");n.href=URL.createObjectURL(e),n.download=t.fileName,n.click()}function rV(e,t){const n=fO.now().toFormat("yyyy-MM-dd'T'HH_mm_ss");return null!=t&&t.trim()?`${t}-${n}${e}`:`unnamed-${n}${e}`}function oV(e,t){tV(new Blob([e],{type:"application/json"}),{fileName:rV(".erd.json",t)})}function iV(e,t){tV(new Blob([e]),{fileName:rV(".sql",t)})}function aV(e,t){let{buffer:n,table:r}=t;const{settings:{bracketType:o},collections:i}=e,a=Rz(o),s=aa(i).collection("tableColumnEntities").selectByIds(r.columnIds);n.push(`CREATE TABLE ${a}${r.name}${a}`),n.push("(");const l=Lz(s),c=Mz(s);if(s.forEach(((t,r)=>{!function(e,t){let{settings:{bracketType:n}}=e,{buffer:r,column:o,isComma:i,spaceSize:a}=t;const s=Rz(n),l=[];l.push(`  ${s}${o.name}${s}`+Dz(a.name-o.name.length)),l.push(`${o.dataType}`+Dz(a.dataType-o.dataType.length)),l.push(Cp(o.options,dp.notNull)?"NOT NULL":"NULL    "),Cp(o.options,dp.autoIncrement)?l.push("AUTO_INCREMENT"):""!==o.default.trim()&&l.push(`DEFAULT ${o.default}`),""!==o.comment.trim()&&l.push(`COMMENT '${o.comment}'`),r.push(l.join(" ")+""+(i?",":""))}(e,l?{column:t,isComma:!0,spaceSize:c,buffer:n}:{column:t,isComma:s.length!==r+1,spaceSize:c,buffer:n})})),l){const e=jz(s);n.push(`  PRIMARY KEY (${Nz(e,a)})`)}""===r.comment.trim()?n.push(");"):n.push(`) COMMENT '${r.comment}';`)}function sV(e,t){let{settings:{bracketType:n},collections:r}=e,{buffer:o,index:i,indexNames:a}=t;const s=Rz(n),l=aa(r).collection("tableEntities").selectById(i.tableId);if(!l)return;const c=aa(r).collection("indexColumnEntities").selectByIds(i.indexColumnIds).map((e=>{const t=aa(r).collection("tableColumnEntities").selectById(e.columnId);return t?{name:`${s}${t.name}${s} ${Pz(e.orderType)}`}:null})).filter((e=>null!==e));if(0!==c.length){let e=i.name;""===i.name.trim()&&(e=`IDX_${l.name}`,e=Bz(a,"",e),a.push({id:di(),name:e})),i.unique?o.push(`CREATE UNIQUE INDEX ${s}${e}${s}`):o.push(`CREATE INDEX ${s}${e}${s}`),o.push(`  ON ${s}${l.name}${s} (${Nz(c)});`)}}function lV(e,t){let{buffer:n,table:r}=t;const{settings:{bracketType:o},collections:i}=e,a=Rz(o),s=aa(i).collection("tableColumnEntities").selectByIds(r.columnIds);n.push(`CREATE TABLE ${a}${r.name}${a}`),n.push("(");const l=Lz(s),c=Mz(s);if(s.forEach(((t,r)=>{!function(e,t){let{settings:{bracketType:n}}=e,{buffer:r,column:o,isComma:i,spaceSize:a}=t;const s=Rz(n),l=[];l.push(`  ${s}${o.name}${s}`+Dz(a.name-o.name.length)),l.push(`${o.dataType}`+Dz(a.dataType-o.dataType.length)),Cp(o.options,dp.notNull)&&l.push("NOT NULL"),Cp(o.options,dp.autoIncrement)?l.push("IDENTITY(1,1)"):""!==o.default.trim()&&l.push(`DEFAULT ${o.default}`),r.push(l.join(" ")+""+(i?",":""))}(e,l?{column:t,isComma:!0,spaceSize:c,buffer:n}:{column:t,isComma:s.length!==r+1,spaceSize:c,buffer:n})})),l){const e=jz(s);n.push(`  CONSTRAINT ${a}PK_${r.name}${a} PRIMARY KEY (${Nz(e,a)})`)}n.push(")\nGO")}function cV(e,t){let{settings:{bracketType:n},collections:r}=e,{buffer:o,index:i,indexNames:a}=t;const s=Rz(n),l=aa(r).collection("tableEntities").selectById(i.tableId);if(!l)return;const c=aa(r).collection("indexColumnEntities").selectByIds(i.indexColumnIds).map((e=>{const t=aa(r).collection("tableColumnEntities").selectById(e.columnId);return t?{name:`${s}${t.name}${s} ${Pz(e.orderType)}`}:null})).filter((e=>null!==e));if(0!==c.length){let e=i.name;""===i.name.trim()&&(e=`IDX_${l.name}`,e=Bz(a,"",e),a.push({id:di(),name:e})),i.unique?o.push(`CREATE UNIQUE INDEX ${s}${e}${s}`):o.push(`CREATE INDEX ${s}${e}${s}`),o.push(`  ON ${s}${l.name}${s} (${Nz(c)})\nGO`)}}function uV(e,t){let{buffer:n,table:r}=t;const{settings:{bracketType:o},collections:i}=e,a=Rz(o),s=aa(i).collection("tableColumnEntities").selectByIds(r.columnIds);n.push(`CREATE TABLE ${a}${r.name}${a}`),n.push("(");const l=Lz(s),c=Mz(s);if(s.forEach(((t,r)=>{!function(e,t){let{settings:{bracketType:n}}=e,{buffer:r,column:o,isComma:i,spaceSize:a}=t;const s=Rz(n),l=[];l.push(`  ${s}${o.name}${s}`+Dz(a.name-o.name.length)),l.push(`${o.dataType}`+Dz(a.dataType-o.dataType.length)),l.push(Cp(o.options,dp.notNull)?"NOT NULL":"NULL    "),Cp(o.options,dp.autoIncrement)?l.push("AUTO_INCREMENT"):""!==o.default.trim()&&l.push(`DEFAULT ${o.default}`),""!==o.comment.trim()&&l.push(`COMMENT '${o.comment}'`),r.push(l.join(" ")+""+(i?",":""))}(e,l?{column:t,isComma:!0,spaceSize:c,buffer:n}:{column:t,isComma:s.length!==r+1,spaceSize:c,buffer:n})})),l){const e=jz(s);n.push(`  PRIMARY KEY (${Nz(e,a)})`)}""===r.comment.trim()?n.push(");"):n.push(`) COMMENT '${r.comment}';`)}function dV(e,t){let{settings:{bracketType:n},collections:r}=e,{buffer:o,index:i,indexNames:a}=t;const s=Rz(n),l=aa(r).collection("tableEntities").selectById(i.tableId);if(!l)return;const c=aa(r).collection("indexColumnEntities").selectByIds(i.indexColumnIds).map((e=>{const t=aa(r).collection("tableColumnEntities").selectById(e.columnId);return t?{name:`${s}${t.name}${s} ${Pz(e.orderType)}`}:null})).filter((e=>null!==e));if(0!==c.length){let e=i.name;""===i.name.trim()&&(e=`IDX_${l.name}`,e=Bz(a,"",e),a.push({id:di(),name:e})),i.unique?o.push(`CREATE UNIQUE INDEX ${s}${e}${s}`):o.push(`CREATE INDEX ${s}${e}${s}`),o.push(`  ON ${s}${l.name}${s} (${Nz(c)});`)}}function hV(e,t){let{buffer:n,table:r}=t;const{settings:{bracketType:o},collections:i}=e,a=Rz(o),s=aa(i).collection("tableColumnEntities").selectByIds(r.columnIds);n.push(`CREATE TABLE ${a}${r.name}${a}`),n.push("(");const l=Lz(s),c=Mz(s);if(s.forEach(((t,r)=>{!function(e,t){let{settings:{bracketType:n}}=e,{buffer:r,column:o,isComma:i,spaceSize:a}=t;const s=Rz(n),l=[];l.push(`  ${s}${o.name}${s}`+Dz(a.name-o.name.length)),l.push(`${o.dataType}`+Dz(a.dataType-o.dataType.length)),""!==o.default.trim()&&l.push(`DEFAULT ${o.default}`),Cp(o.options,dp.notNull)&&l.push("NOT NULL"),r.push(l.join(" ")+""+(i?",":""))}(e,l?{column:t,isComma:!0,spaceSize:c,buffer:n}:{column:t,isComma:s.length!==r+1,spaceSize:c,buffer:n})})),l){const e=jz(s);n.push(`  CONSTRAINT ${a}PK_${r.name}${a} PRIMARY KEY (${Nz(e,a)})`)}n.push(");")}function fV(e,t){let{settings:{bracketType:n},collections:r}=e,{buffer:o,index:i,indexNames:a}=t;const s=Rz(n),l=aa(r).collection("tableEntities").selectById(i.tableId);if(!l)return;const c=aa(r).collection("indexColumnEntities").selectByIds(i.indexColumnIds).map((e=>{const t=aa(r).collection("tableColumnEntities").selectById(e.columnId);return t?{name:`${s}${t.name}${s} ${Pz(e.orderType)}`}:null})).filter((e=>null!==e));if(0!==c.length){let e=i.name;""===i.name.trim()&&(e=`IDX_${l.name}`,e=Bz(a,"",e),a.push({id:di(),name:e})),i.unique?o.push(`CREATE UNIQUE INDEX ${s}${e}${s}`):o.push(`CREATE INDEX ${s}${e}${s}`),o.push(`  ON ${s}${l.name}${s} (${Nz(c)});`)}}function mV(e,t){let{buffer:n,table:r}=t;const{settings:{bracketType:o},collections:i}=e,a=Rz(o),s=aa(i).collection("tableColumnEntities").selectByIds(r.columnIds);n.push(`CREATE TABLE ${a}${r.name}${a}`),n.push("(");const l=Lz(s),c=Mz(s);if(s.forEach(((t,r)=>{!function(e,t){let{settings:{bracketType:n}}=e,{buffer:r,column:o,isComma:i,spaceSize:a}=t;const s=Rz(n),l=[];l.push(`  ${s}${o.name}${s}`+Dz(a.name-o.name.length)),l.push(`${o.dataType}`+Dz(a.dataType-o.dataType.length)),Cp(o.options,dp.notNull)&&l.push("NOT NULL"),Cp(o.options,dp.autoIncrement)?l.push("GENERATED ALWAYS AS IDENTITY"):""!==o.default.trim()&&l.push(`DEFAULT ${o.default}`),Cp(o.options,dp.unique)&&l.push("UNIQUE"),r.push(l.join(" ")+""+(i?",":""))}(e,l?{column:t,isComma:!0,spaceSize:c,buffer:n}:{column:t,isComma:s.length!==r+1,spaceSize:c,buffer:n})})),l){const e=jz(s);n.push(`  PRIMARY KEY (${Nz(e,a)})`)}n.push(");")}function pV(e,t){let{settings:{bracketType:n},collections:r}=e,{buffer:o,index:i,indexNames:a}=t;const s=Rz(n),l=aa(r).collection("tableEntities").selectById(i.tableId);if(!l)return;const c=aa(r).collection("indexColumnEntities").selectByIds(i.indexColumnIds).map((e=>{const t=aa(r).collection("tableColumnEntities").selectById(e.columnId);return t?{name:`${s}${t.name}${s} ${Pz(e.orderType)}`}:null})).filter((e=>null!==e));if(0!==c.length){let e=i.name;""===i.name.trim()&&(e=`IDX_${l.name}`,e=Bz(a,"",e),a.push({id:di(),name:e})),i.unique?o.push(`CREATE UNIQUE INDEX ${s}${e}${s}`):o.push(`CREATE INDEX ${s}${e}${s}`),o.push(`  ON ${s}${l.name}${s} (${Nz(c)});`)}}function gV(e,t){let{buffer:n,table:r}=t;const{settings:{bracketType:o},doc:{relationshipIds:i},collections:a}=e,s=Rz(o),l=aa(a).collection("tableEntities"),c=aa(a).collection("tableColumnEntities"),u=c.selectByIds(r.columnIds),d=aa(a).collection("relationshipEntities").selectByIds(i).filter((e=>{let{end:t}=e;return t.tableId===r.id}));""!==r.comment.trim()&&n.push(`-- ${r.comment}`),n.push(`CREATE TABLE ${s}${r.name}${s}`),n.push("(");const h=Lz(u),f=Mz(u);if(u.forEach(((t,r)=>{!function(e,t){let{settings:{bracketType:n}}=e,{buffer:r,column:o,isComma:i,spaceSize:a}=t;const s=Rz(n),l=[];""!==o.comment.trim()&&r.push(`  -- ${o.comment}`),l.push(`  ${s}${o.name}${s}`+Dz(a.name-o.name.length)),l.push(`${o.dataType}`+Dz(a.dataType-o.dataType.length)),l.push(Cp(o.options,dp.notNull)?"NOT NULL":"NULL    "),Cp(o.options,dp.unique)&&l.push("UNIQUE"),!Cp(o.options,dp.autoIncrement)&&""!==o.default.trim()&&l.push(`DEFAULT ${o.default}`),r.push(l.join(" ")+""+(i?",":""))}(e,h?{column:t,isComma:!0,spaceSize:f,buffer:n}:{column:t,isComma:u.length!==r+1,spaceSize:f,buffer:n})})),h){const e=jz(u);if(0!==d.length)if(1===e.length){const t=Cp(e[0].options,dp.autoIncrement)?" AUTOINCREMENT":"";n.push(`  PRIMARY KEY (${Nz(e,s)}${t}),`)}else n.push(`  PRIMARY KEY (${Nz(e,s)}),`);else if(1===e.length){const t=Cp(e[0].options,dp.autoIncrement)?" AUTOINCREMENT":"";n.push(`  PRIMARY KEY (${Nz(e,s)}${t})`)}else n.push(`  PRIMARY KEY (${Nz(e,s)})`)}d.forEach(((e,t)=>{const r=l.selectById(e.start.tableId),o=l.selectById(e.end.tableId);if(r&&o){const o={start:[],end:[]};e.end.columnIds.forEach((e=>{const t=c.selectById(e);t&&o.end.push(t)})),e.start.columnIds.forEach((e=>{const t=c.selectById(e);t&&o.start.push(t)})),d.length-1>t?n.push(`  FOREIGN KEY (${Nz(o.end,s)}) REFERENCES ${s}${r.name}${s} (${Nz(o.start,s)}),`):n.push(`  FOREIGN KEY (${Nz(o.end,s)}) REFERENCES ${s}${r.name}${s} (${Nz(o.start,s)})`)}})),n.push(");")}function yV(e,t){let{settings:{bracketType:n},collections:r}=e,{buffer:o,index:i,indexNames:a}=t;const s=Rz(n),l=aa(r).collection("tableEntities").selectById(i.tableId);if(!l)return;const c=aa(r).collection("indexColumnEntities").selectByIds(i.indexColumnIds).map((e=>{const t=aa(r).collection("tableColumnEntities").selectById(e.columnId);return t?{name:`${s}${t.name}${s} ${Pz(e.orderType)}`}:null})).filter((e=>null!==e));if(0!==c.length){let e=i.name;""===i.name.trim()&&(e=`IDX_${l.name}`,e=Bz(a,"",e),a.push({id:di(),name:e})),i.unique?o.push(`CREATE UNIQUE INDEX ${s}${e}${s}`):o.push(`CREATE INDEX ${s}${e}${s}`),o.push(`  ON ${s}${l.name}${s} (${Nz(c)});`)}}function vV(e,t){switch(t||e.settings.database){case ep.MariaDB:return function(e){const{settings:{bracketType:t},doc:{tableIds:n,relationshipIds:r,indexIds:o},collections:i}=e,a=[],s=[],l=[""],c=Rz(t),u=aa(i).collection("tableEntities").selectByIds(n).sort(Vz),d=aa(i).collection("relationshipEntities").selectByIds(r),h=aa(i).collection("indexEntities").selectByIds(o);return u.forEach((t=>{aV(e,{table:t,buffer:l}),l.push("");const n=aa(i).collection("tableColumnEntities").selectByIds(t.columnIds);_z(n)&&zz(n).forEach((e=>{l.push(`ALTER TABLE ${c}${t.name}${c}`),l.push(`  ADD CONSTRAINT ${c}UQ_${e.name}${c} UNIQUE (${c}${e.name}${c});`),l.push("")}))})),d.forEach((t=>{(function(e,t){let{settings:{bracketType:n},collections:r}=e,{buffer:o,relationship:i,fkNames:a}=t;const s=Rz(n),l=aa(r).collection("tableEntities"),c=aa(r).collection("tableColumnEntities"),u=l.selectById(i.start.tableId),d=l.selectById(i.end.tableId);if(u&&d){o.push(`ALTER TABLE ${s}${d.name}${s}`);let e=`FK_${u.name}_TO_${d.name}`;e=Bz(a,"",e),a.push({id:di(),name:e}),o.push(`  ADD CONSTRAINT ${s}${e}${s}`);const t={start:[],end:[]};i.end.columnIds.forEach((e=>{const n=c.selectById(e);n&&t.end.push(n)})),i.start.columnIds.forEach((e=>{const n=c.selectById(e);n&&t.start.push(n)})),o.push(`    FOREIGN KEY (${Nz(t.end,s)})`),o.push(`    REFERENCES ${s}${u.name}${s} (${Nz(t.start,s)});`)}})(e,{relationship:t,buffer:l,fkNames:a}),l.push("")})),h.forEach((t=>{sV(e,{index:t,buffer:l,indexNames:s}),l.push("")})),l.join("\n")}(e);case ep.MSSQL:return function(e){const{settings:{bracketType:t},doc:{tableIds:n,relationshipIds:r,indexIds:o},collections:i}=e,a=[],s=[],l=[""],c=Rz(t),u=aa(i).collection("tableEntities").selectByIds(n).sort(Vz),d=aa(i).collection("relationshipEntities").selectByIds(r),h=aa(i).collection("indexEntities").selectByIds(o);return u.forEach((t=>{lV(e,{table:t,buffer:l}),l.push("");const n=aa(i).collection("tableColumnEntities").selectByIds(t.columnIds);_z(n)&&zz(n).forEach((e=>{l.push(`ALTER TABLE ${c}${t.name}${c}`),l.push(`  ADD CONSTRAINT ${c}UQ_${e.name}${c} UNIQUE (${c}${e.name}${c})\nGO`),l.push("")})),function(e,t){let{collections:n}=e,{table:r,buffer:o}=t;""!==r.comment.trim()&&(o.push("EXECUTE sys.sp_addextendedproperty 'MS_Description',"),o.push(`  '${r.comment}', 'user', dbo, 'table', '${r.name}'\nGO`),o.push("")),aa(n).collection("tableColumnEntities").selectByIds(r.columnIds).forEach((e=>{""!==e.comment.trim()&&(o.push("EXECUTE sys.sp_addextendedproperty 'MS_Description',"),o.push(`  '${e.comment}', 'user', dbo, 'table', '${r.name}', 'column', '${e.name}'\nGO`),o.push(""))}))}(e,{table:t,buffer:l})})),d.forEach((t=>{(function(e,t){let{settings:{bracketType:n},collections:r}=e,{buffer:o,relationship:i,fkNames:a}=t;const s=Rz(n),l=aa(r).collection("tableEntities"),c=aa(r).collection("tableColumnEntities"),u=l.selectById(i.start.tableId),d=l.selectById(i.end.tableId);if(u&&d){o.push(`ALTER TABLE ${s}${d.name}${s}`);let e=`FK_${u.name}_TO_${d.name}`;e=Bz(a,"",e),a.push({id:di(),name:e}),o.push(`  ADD CONSTRAINT ${s}${e}${s}`);const t={start:[],end:[]};i.end.columnIds.forEach((e=>{const n=c.selectById(e);n&&t.end.push(n)})),i.start.columnIds.forEach((e=>{const n=c.selectById(e);n&&t.start.push(n)})),o.push(`    FOREIGN KEY (${Nz(t.end,s)})`),o.push(`    REFERENCES ${s}${u.name}${s} (${Nz(t.start,s)})\nGO`)}})(e,{relationship:t,buffer:l,fkNames:a}),l.push("")})),h.forEach((t=>{cV(e,{index:t,buffer:l,indexNames:s}),l.push("")})),l.join("\n")}(e);case ep.MySQL:return function(e){const{settings:{bracketType:t},doc:{tableIds:n,relationshipIds:r,indexIds:o},collections:i}=e,a=[],s=[],l=[""],c=Rz(t),u=aa(i).collection("tableEntities").selectByIds(n).sort(Vz),d=aa(i).collection("relationshipEntities").selectByIds(r),h=aa(i).collection("indexEntities").selectByIds(o);return u.forEach((t=>{uV(e,{table:t,buffer:l}),l.push("");const n=aa(i).collection("tableColumnEntities").selectByIds(t.columnIds);_z(n)&&zz(n).forEach((e=>{l.push(`ALTER TABLE ${c}${t.name}${c}`),l.push(`  ADD CONSTRAINT ${c}UQ_${e.name}${c} UNIQUE (${c}${e.name}${c});`),l.push("")}))})),d.forEach((t=>{(function(e,t){let{settings:{bracketType:n},collections:r}=e,{buffer:o,relationship:i,fkNames:a}=t;const s=Rz(n),l=aa(r).collection("tableEntities"),c=aa(r).collection("tableColumnEntities"),u=l.selectById(i.start.tableId),d=l.selectById(i.end.tableId);if(u&&d){o.push(`ALTER TABLE ${s}${d.name}${s}`);let e=`FK_${u.name}_TO_${d.name}`;e=Bz(a,"",e),a.push({id:di(),name:e}),o.push(`  ADD CONSTRAINT ${s}${e}${s}`);const t={start:[],end:[]};i.end.columnIds.forEach((e=>{const n=c.selectById(e);n&&t.end.push(n)})),i.start.columnIds.forEach((e=>{const n=c.selectById(e);n&&t.start.push(n)})),o.push(`    FOREIGN KEY (${Nz(t.end,s)})`),o.push(`    REFERENCES ${s}${u.name}${s} (${Nz(t.start,s)});`)}})(e,{relationship:t,buffer:l,fkNames:a}),l.push("")})),h.forEach((t=>{dV(e,{index:t,buffer:l,indexNames:s}),l.push("")})),l.join("\n")}(e);case ep.Oracle:return function(e){const{settings:{bracketType:t},doc:{tableIds:n,relationshipIds:r,indexIds:o},collections:i}=e,a=[],s=[],l=[],c=[],u=[""],d=Rz(t),h=aa(i).collection("tableEntities").selectByIds(n).sort(Vz),f=aa(i).collection("relationshipEntities").selectByIds(r),m=aa(i).collection("indexEntities").selectByIds(o);return h.forEach((t=>{hV(e,{table:t,buffer:u}),u.push("");const n=aa(i).collection("tableColumnEntities").selectByIds(t.columnIds);_z(n)&&zz(n).forEach((e=>{u.push(`ALTER TABLE ${d}${t.name}${d}`),u.push(`  ADD CONSTRAINT ${d}UQ_${e.name}${d} UNIQUE (${d}${e.name}${d});`),u.push("")})),n.forEach((e=>{if(Cp(e.options,dp.autoIncrement)){let n=`SEQ_${t.name}`;n=Bz(s,"",n),s.push({id:di(),name:n}),u.push(`CREATE SEQUENCE ${n}`),u.push("START WITH 1"),u.push("INCREMENT BY 1;"),u.push("");let r=`SEQ_TRG_${t.name}`;r=Bz(s,"",r),l.push({id:di(),name:r}),u.push(`CREATE OR REPLACE TRIGGER ${r}`),u.push(`BEFORE INSERT ON ${t.name}`),u.push("REFERENCING NEW AS NEW FOR EACH ROW"),u.push("BEGIN"),u.push(`  SELECT ${n}.NEXTVAL`),u.push(`  INTO: NEW.${e.name}`),u.push("  FROM DUAL;"),u.push("END;"),u.push("")}})),function(e,t){let{settings:{bracketType:n},collections:r}=e,{table:o,buffer:i}=t;const a=Rz(n);""!==o.comment.trim()&&(i.push(`COMMENT ON TABLE ${a}${o.name}${a} IS '${o.comment}';`),i.push("")),aa(r).collection("tableColumnEntities").selectByIds(o.columnIds).forEach((e=>{""!==e.comment.trim()&&(i.push(`COMMENT ON COLUMN ${a}${o.name}${a}.${a}${e.name}${a} IS '${e.comment}';`),i.push(""))}))}(e,{table:t,buffer:u})})),f.forEach((t=>{(function(e,t){let{settings:{bracketType:n},collections:r}=e,{buffer:o,relationship:i,fkNames:a}=t;const s=Rz(n),l=aa(r).collection("tableEntities"),c=aa(r).collection("tableColumnEntities"),u=l.selectById(i.start.tableId),d=l.selectById(i.end.tableId);if(u&&d){o.push(`ALTER TABLE ${s}${d.name}${s}`);let e=`FK_${u.name}_TO_${d.name}`;e=Bz(a,"",e),a.push({id:di(),name:e}),o.push(`  ADD CONSTRAINT ${s}${e}${s}`);const t={start:[],end:[]};i.end.columnIds.forEach((e=>{const n=c.selectById(e);n&&t.end.push(n)})),i.start.columnIds.forEach((e=>{const n=c.selectById(e);n&&t.start.push(n)})),o.push(`    FOREIGN KEY (${Nz(t.end,s)})`),o.push(`    REFERENCES ${s}${u.name}${s} (${Nz(t.start,s)});`)}})(e,{relationship:t,buffer:u,fkNames:a}),u.push("")})),m.forEach((t=>{fV(e,{index:t,buffer:u,indexNames:c}),u.push("")})),u.join("\n")}(e);case ep.PostgreSQL:return function(e){const{doc:{tableIds:t,relationshipIds:n,indexIds:r},collections:o}=e,i=[],a=[],s=[""],l=aa(o).collection("tableEntities").selectByIds(t).sort(Vz),c=aa(o).collection("relationshipEntities").selectByIds(n),u=aa(o).collection("indexEntities").selectByIds(r);return l.forEach((t=>{mV(e,{table:t,buffer:s}),s.push(""),function(e,t){let{settings:{bracketType:n},collections:r}=e,{buffer:o,table:i}=t;const a=Rz(n);""!==i.comment.trim()&&(o.push(`COMMENT ON TABLE ${a}${i.name}${a} IS '${i.comment}';`),o.push("")),aa(r).collection("tableColumnEntities").selectByIds(i.columnIds).forEach((e=>{""!==e.comment.trim()&&(o.push(`COMMENT ON COLUMN ${a}${i.name}${a}.${a}${e.name}${a} IS '${e.comment}';`),o.push(""))}))}(e,{table:t,buffer:s})})),c.forEach((t=>{(function(e,t){let{settings:{bracketType:n},collections:r}=e,{buffer:o,relationship:i,fkNames:a}=t;const s=Rz(n),l=aa(r).collection("tableEntities"),c=aa(r).collection("tableColumnEntities"),u=l.selectById(i.start.tableId),d=l.selectById(i.end.tableId);if(u&&d){o.push(`ALTER TABLE ${s}${d.name}${s}`);let e=`FK_${u.name}_TO_${d.name}`;e=Bz(a,"",e),a.push({id:di(),name:e}),o.push(`  ADD CONSTRAINT ${s}${e}${s}`);const t={start:[],end:[]};i.end.columnIds.forEach((e=>{const n=c.selectById(e);n&&t.end.push(n)})),i.start.columnIds.forEach((e=>{const n=c.selectById(e);n&&t.start.push(n)})),o.push(`    FOREIGN KEY (${Nz(t.end,s)})`),o.push(`    REFERENCES ${s}${u.name}${s} (${Nz(t.start,s)});`)}})(e,{relationship:t,buffer:s,fkNames:i}),s.push("")})),u.forEach((t=>{pV(e,{index:t,buffer:s,indexNames:a}),s.push("")})),s.join("\n")}(e);case ep.SQLite:return function(e){const{doc:{tableIds:t,indexIds:n},collections:r}=e,o=[],i=[""],a=aa(r).collection("tableEntities").selectByIds(t).sort(Vz),s=aa(r).collection("indexEntities").selectByIds(n);return a.forEach((t=>{gV(e,{table:t,buffer:i}),i.push("")})),s.forEach((t=>{yV(e,{index:t,buffer:i,indexNames:o}),i.push("")})),i.join("\n")}(e)}return""}const bV=[{iconName:"ZeroOne",name:"Zero One",relationshipType:lp.ZeroOne},{iconName:"ZeroN",name:"Zero N",relationshipType:lp.ZeroN},{iconName:"OneOnly",name:"One Only",relationshipType:lp.OneOnly},{iconName:"OneN",name:"One N",relationshipType:lp.OneN}],wV=[{name:"Table Comment",show:Xm.tableComment},{name:"Column Comment",show:Xm.columnComment},{name:"DataType",show:Xm.columnDataType},{name:"Default",show:Xm.columnDefault},{name:"Not Null",show:Xm.columnNotNull},{name:"Unique",show:Xm.columnUnique},{name:"Auto Increment",show:Xm.columnAutoIncrement},{name:"Relationship",show:Xm.relationship}],xV="table",kV="relationship",IV=(e,t)=>{const n=HS(t),r=Fh`<${lN} name="chevron-right" size=${14} />`,{addUnsubscribe:o}=tE(),i=()=>{const{store:t}=n.value;t.dispatch(Aw()),e.onClose()},a=()=>{const{store:t}=n.value;t.dispatch(ww()),e.onClose()},s=()=>{const{store:t}=n.value;t.dispatch(dy({[dD]:!0})),e.onClose()},l=()=>{(function(e){let{emitter:t}=e;if(gR)return void gR({type:"json",op:"diff",accept:".json,.erd,.vuerd"});const n=document.createElement("input");n.setAttribute("type","file"),n.setAttribute("accept",".json,.erd,.vuerd"),n.addEventListener("change",(()=>{var e;const r=null==(e=n.files)?void 0:e[0];if(!r)return;if(!mR.test(r.name))return void t.emit(KO({message:Fh`<${uD} description="Just import the json file" />`}));const o=new FileReader;o.readAsText(r),o.onload=()=>{const e=o.result;oi(e)&&t.emit(dS({value:e}))}})),n.click()})(n.value),e.onClose()},c=()=>{if(!e.relationshipId)return;const{store:t}=n.value;t.dispatch($v({id:e.relationshipId})),e.onClose()},u=()=>{if(!e.tableId)return;const{store:t}=n.value,{editor:r}=t.state;!r.focusTable||!r.focusTable.columnId||(t.dispatch(Bw(r.focusTable.tableId,r.focusTable.columnId)),e.onClose())},d=()=>{if(!e.tableId)return;const{store:t,emitter:r}=n.value;r.emit(tS({tableId:e.tableId})),t.dispatch(dy({[hD]:!0})),e.onClose()},h=t=>{if(!e.tableId)return;const{store:r,emitter:o}=n.value,{collections:i}=r.state,a=aa(i).collection("tableEntities").selectById(e.tableId);a&&(o.emit(XO({x:t.clientX,y:t.clientY,color:a.ui.color})),e.onClose())};return Ws((()=>{const{shortcut$:t}=n.value;o(t.subscribe((t=>{let{type:n}=t;n===DS.stop&&e.onClose()})))})),()=>{var t,o,f,m;const{keyBindingMap:p}=n.value;return Fh`
      <${dR}
        children=${e.type===xV?Fh`
              <${hR}
                .onClick=${u}
                children=${Fh`
                  <${fR}
                    icon=${Fh`<${lN} name="key" size=${14} />`}
                    name="Primary Key"
                    right=${Fh`
                      <${wM}
                        shortcut=${null==(t=p.primaryKey[0])?void 0:t.shortcut}
                      />
                    `}
                  />
                `}
              />
              <${hR}
                .onClick=${d}
                children=${Fh`
                  <${fR}
                    icon=${Fh`
                      <${lN} prefix="mdi" name="table-cog" size=${14} />
                    `}
                    name="Table Properties"
                    right=${Fh`
                      <${wM}
                        shortcut=${null==(o=p.tableProperties[0])?void 0:o.shortcut}
                      />
                    `}
                  />
                `}
              />
              <${hR}
                .onClick=${h}
                children=${Fh`
                  <${fR}
                    icon=${Fh`<${lN} name="palette" size=${14} />`}
                    name="Color"
                  />
                `}
              />
            `:e.type===kV?Fh`
                <${hR}
                  children=${Fh`
                    <${fR}
                      icon=${Fh`
                        <${lN} prefix="mdi" name="vector-line" size=${14} />
                      `}
                      name="Relationship Type"
                      right=${r}
                    />
                  `}
                  subChildren=${Fh`${function(e,t){let{store:n}=e;if(!t)return[];const{collections:r}=n.state,o=aa(r).collection("relationshipEntities").selectById(t);return o?bV.map((e=>({checked:e.relationshipType===o.relationshipType,iconName:e.iconName,name:e.name,onClick:()=>{n.dispatch(Cv({id:t,value:e.relationshipType}))}}))):[]}(n.value,e.relationshipId).map((e=>Fh`
                      <${hR}
                        .onClick=${e.onClick}
                        children=${Fh`
                          <${fR}
                            icon=${e.checked?Fh`<${lN} name="check" size=${14} />`:null}
                            name=${Fh`
                              <${fR}
                                icon=${Fh` <${lN}
                                  prefix="base64"
                                  name=${e.iconName}
                                  size=${14}
                                />`}
                                name=${e.name}
                              />
                            `}
                          />
                        `}
                      />
                    `))}`}
                />
                <${hR}
                  .onClick=${c}
                  children=${Fh`<${fR} name="Delete" />`}
                />
              `:Fh`
                <${hR}
                  .onClick=${i}
                  children=${Fh`
                    <${fR}
                      icon=${Fh`<${lN} name="table" size=${14} />`}
                      name="New Table"
                      right=${Fh`
                        <${wM}
                          shortcut=${null==(f=p.addTable[0])?void 0:f.shortcut}
                        />
                      `}
                    />
                  `}
                />
                <${hR}
                  .onClick=${a}
                  children=${Fh`
                    <${fR}
                      icon=${Fh`<${lN} name="note-sticky" size=${14} />`}
                      name="New Memo"
                      right=${Fh`
                        <${wM}
                          shortcut=${null==(m=p.addMemo[0])?void 0:m.shortcut}
                        />
                      `}
                    />
                  `}
                />
                <${hR}
                  children=${Fh`
                    <${fR}
                      icon=${Fh`
                        <${lN} prefix="mdi" name="vector-line" size=${14} />
                      `}
                      name="Relationship"
                      right=${r}
                    />
                  `}
                  subChildren=${Fh`${function(e,t){let{store:n,keyBindingMap:r}=e;return xR.map((e=>{var o;return{iconName:e.iconName,name:e.name,shortcut:null==(o=r[e.keyBindingName][0])?void 0:o.shortcut,onClick:()=>{n.dispatch(hk(e.relationshipType)),t()}}}))}(n.value,e.onClose).map((e=>Fh`
                      <${hR}
                        .onClick=${e.onClick}
                        children=${Fh`
                          <${fR}
                            icon=${Fh`
                              <${lN}
                                prefix="base64"
                                name=${e.iconName}
                                size=${14}
                              />
                            `}
                            name=${e.name}
                            right=${Fh`
                              <${wM} shortcut=${e.shortcut} />
                            `}
                          />
                        `}
                      />
                    `))}`}
                />
                <${hR}
                  children=${Fh`
                    <${fR}
                      icon=${Fh`<${lN} name="eye" size=${14} />`}
                      name="View Option"
                      right=${r}
                    />
                  `}
                  subChildren=${Fh`${function(e){let{store:t}=e;const{settings:n}=t.state;return wV.map((e=>{const r=Cp(n.show,e.show);return{checked:r,name:e.name,onClick:()=>{t.dispatch(Kv({show:e.show,value:!r}))}}}))}(n.value).map((e=>Fh`
                      <${hR}
                        .onClick=${e.onClick}
                        children=${Fh`
                          <${fR}
                            icon=${e.checked?Fh`<${lN} name="check" size=${14} />`:null}
                            name=${e.name}
                          />
                        `}
                      />
                    `))}`}
                />
                <${hR}
                  children=${Fh`
                    <${fR}
                      icon=${Fh`
                        <${lN} prefix="mdi" name="database" size=${14} />
                      `}
                      name="Database"
                      right=${r}
                    />
                  `}
                  subChildren=${Fh`${wR(n.value).map((e=>Fh`
                      <${hR}
                        .onClick=${e.onClick}
                        children=${Fh`
                          <${fR}
                            icon=${e.checked?Fh`<${lN} name="check" size=${14} />`:null}
                            name=${e.name}
                          />
                        `}
                      />
                    `))}`}
                />
                <${hR}
                  children=${Fh`
                    <${fR}
                      icon=${Fh`<${lN} name="file-import" size=${14} />`}
                      name="Import"
                      right=${r}
                    />
                  `}
                  subChildren=${Fh`${function(e,t){return[{icon:{prefix:"mdi",name:"code-json"},name:"json",onClick:()=>{yR(e),t()}},{icon:{prefix:"mdi",name:"database-import"},name:"Schema SQL",onClick:()=>{vR(e),t()}}]}(n.value,e.onClose).map((e=>Fh`
                      <${hR}
                        .onClick=${e.onClick}
                        children=${Fh`
                          <${fR}
                            icon=${Fh`<${lN}
                              prefix=${e.icon.prefix}
                              name=${e.icon.name}
                              size=${14}
                            />`}
                            name=${e.name}
                          />
                        `}
                      />
                    `))}`}
                />
                <${hR}
                  children=${Fh`
                    <${fR}
                      icon=${Fh`<${lN} name="file-export" size=${14} />`}
                      name="Export"
                      right=${r}
                    />
                  `}
                  subChildren=${Fh`${function(e,t,n){const{store:r}=e,o=r.state.settings.databaseName;return[{icon:{prefix:"mdi",name:"code-json"},name:"json",onClick:()=>{t(),oV(_a(r.state),o)}},{icon:{prefix:"mdi",name:"database-export"},name:"Schema SQL",onClick:()=>{t(),iV(vV(r.state),o)}},{icon:{prefix:"fas",name:"file-image"},name:"png",onClick:()=>{t(),function(e,t){KR(e).then((e=>{e&&tV(e,{fileName:rV(".png",t)})}))}(n,o)}}]}(n.value,e.onClose,e.canvas.value).map((e=>Fh`
                      <${hR}
                        .onClick=${e.onClick}
                        children=${Fh`
                          <${fR}
                            icon=${Fh`<${lN}
                              prefix=${e.icon.prefix}
                              name=${e.icon.name}
                              size=${14}
                            />`}
                            name=${e.name}
                          />
                        `}
                      />
                    `))}`}
                />
                <${hR}
                  .onClick=${s}
                  children=${Fh`
                    <${fR}
                      icon=${Fh`<${lN}
                        prefix="mdi"
                        name="atom"
                        size=${14}
                      />`}
                      name="Automatic Table Placement"
                    />
                  `}
                />
                <${hR}
                  .onClick=${l}
                  children=${Fh`
                    <${fR}
                      icon=${Fh`<${lN}
                        prefix="mdi"
                        name="plus-minus-box"
                        size=${14}
                      />`}
                      name="Diff Viewer"
                    />
                  `}
                />
              `}
      />
    `}},$V=ff`
  position: absolute;
  cursor: pointer;

  &:hover {
    fill: var(--active);
  }
`,CV="left",TV="right",AV="top",OV="bottom",SV="lt",EV="rt",NV="lb",MV="rb",DV={[SV]:135,[EV]:225,[NV]:45,[MV]:315,[CV]:90,[TV]:270,[AV]:180,[OV]:0},LV=(e,t)=>{const n=HS(t),{addUnsubscribe:r}=tE(),o=il({scrollLeft:0,scrollTop:0}),i=e=>{let{x:t,y:r}=e;const{store:o}=n.value,{settings:{width:i,height:a}}=o.state;return t<0&&r<0?SV:t>i&&r<0?EV:t<0&&r>a?NV:t>i&&r>a?MV:t<0?CV:t>i?TV:r<0?AV:OV},a=e=>{const{store:t}=n.value,{settings:{width:r,height:a,zoomLevel:s}}=t.state,{scrollLeft:l,scrollTop:c}=o,{x:u,y:d}=Op(e,r,a,s),h=`${d+c}px`,f=`${u+l}px`,m=i(e),p=DV[m];switch(m){case SV:return[{left:"0",top:"0"},p];case EV:return[{right:"0",top:"0"},p];case NV:return[{left:"0",bottom:"0"},p];case MV:return[{right:"0",bottom:"0"},p];case CV:return[{left:"0",top:h},p];case TV:return[{right:"0",top:h},p];case AV:return[{left:f,top:"0"},p];case OV:return[{left:f,bottom:"0"},p]}},s=t=>{const r=e.root.value,{store:o}=n.value,{settings:{width:i,height:a,zoomLevel:s,scrollLeft:l,scrollTop:c}}=o.state,u=r.getBoundingClientRect();return Sp({x:t.clientX-u.x-l,y:t.clientY-u.y-c},i,a,s)};return Ws((()=>{const{store:e}=n.value,{settings:t}=e.state,i=new Bf((e=>al(t).subscribe((n=>{("scrollLeft"===n||"scrollTop"===n)&&e.next({scrollLeft:t.scrollLeft,scrollTop:t.scrollTop})}))));r(i.pipe(vm(100)).subscribe((e=>{let{scrollLeft:t,scrollTop:n}=e;o.scrollLeft=t,o.scrollTop=n})))})),()=>{const{store:e}=n.value,{doc:{tableIds:t,memoIds:r},settings:{zoomLevel:o,width:l,height:c},collections:u}=e.state,d=Sp({x:0,y:0},l,c,o),h=Sp({x:l,y:c},l,c,o),f={...d,w:h.x-d.x,h:h.y-d.y},m=aa(u).collection("tableEntities").selectByIds(t).filter((t=>!Tp(f,{x:t.ui.x,y:t.ui.y,w:Cb(t,e.state).width,h:Ab(t)}))),p=aa(u).collection("memoEntities").selectByIds(r).filter((e=>!Tp(f,{x:e.ui.x,y:e.ui.y,w:Uw(e),h:Ww(e)})));return 0===m.length&&0===p.length?null:Fh`
      ${gd(m,(e=>e.id),(e=>{const[t,r]=a(e.ui),o=_o(e.name.trim());return Fh`
            <div
              class=${["hide-sign",$V]}
              title=${o?"unnamed":e.name}
              style=${t}
              @click=${t=>((e,t)=>{const{store:r}=n.value,o=i(t.ui),{x:a,y:l}=s(e);let c=0,u=0;switch(o){case EV:c=Cb(t,r.state).width;break;case NV:u=Ab(t);break;case MV:c=Cb(t,r.state).width,u=Ab(t);break;case TV:c=Cb(t,r.state).width;break;case OV:u=Ab(t)}r.dispatch(Mb({id:t.id,x:a-c,y:l-u}),Sw(t.id,WS(e)))})(t,e)}
            >
              <${lN} name="location-dot" rotate=${r} />
            </div>
          `}))}
      ${gd(p,(e=>e.id),(e=>{const[t,r]=a(e.ui);return Fh`
            <div
              class=${["hide-sign",$V]}
              title="Memo"
              style=${t}
              @click=${t=>((e,t)=>{const{store:r}=n.value,o=i(t.ui),{x:a,y:l}=s(e);let c=0,u=0;switch(o){case EV:c=Uw(t);break;case NV:u=Ww(t);break;case MV:c=Uw(t),u=Ww(t);break;case TV:c=Uw(t);break;case OV:u=Ww(t)}r.dispatch(cv({id:t.id,x:a-c,y:l-u}),kw(t.id,WS(e)))})(t,e)}
            >
              <${lN} name="location-dot" rotate=${r} />
            </div>
          `}))}
    `}},jV=(e,t)=>{const n=dd();return Ws((()=>{const t=n.value;!e.autofocus||!t||aM(t)})),()=>Fh`
    <input
      ${hd(n)}
      class=${e.class}
      style=${{width:e.width?`${e.width}px`:""}}
      ...${tN({title:e.title,placeholder:e.placeholder})}
      type="text"
      spellcheck="false"
      ?readonly=${e.readonly}
      ?disabled=${e.disabled}
      .value=${e.value??""}
      @input=${e.numberOnly?wE:null}
      @input=${e.onInput}
      @change=${e.onChange}
      @blur=${e.onBlur}
      @keyup=${e.onKeyup}
      @keydown=${e.onKeydown}
    />
  `},_V=ff`
  display: flex;
  width: 100%;
  height: ${Bp}px;
  align-items: center;
  fill: transparent;
  color: transparent;
  padding: 0 ${Mp}px;

  &:hover {
    fill: var(--foreground);
    color: var(--foreground);
    background-color: var(--column-hover);
  }

  &.selected {
    background-color: var(--column-select);
  }

  & > .column-col {
    padding: ${2}px ${Ep}px ${2}px 0;
  }
`,zV=ff`
  width: 100%;
`,RV=ff`
  cursor: pointer;
`,VV=ff`
  cursor: pointer;
  margin-left: auto;

  &:hover {
    fill: var(--active);
    color: var(--active);
  }
`,BV=(e,t)=>{const n=HS(t),r=()=>{e.onSelect(e.index)},o=t=>{t.stopPropagation(),e.onSelect(null);const{store:r}=n.value;r.dispatch($p(Dy({id:e.index.id})))},i=()=>{const{store:t}=n.value;t.dispatch($p(kk(e.index.id)))},a=t=>{const r=t.target;if(!r)return;const{store:o}=n.value;o.dispatch($p(Ly({id:e.index.id,tableId:e.index.tableId,value:r.value})))};return()=>{const{index:t}=e;return Fh`
      <div
        class=${[_V,{selected:e.selected}]}
        @click=${r}
      >
        <div class="column-col" @click=${i}>
          <${MM}
            class=${RV}
            checked=${t.unique}
            width=${Rp}
            text="UQ"
            title="Unique"
          />
        </div>
        <div class=${["column-col",zV]}>
          <${jV}
            class=${zV}
            placeholder="name"
            value=${t.name}
            .onInput=${a}
          />
        </div>
        <${lN}
          class=${VV}
          size=${12}
          name="xmark"
          title="Remove"
          .onClick=${o}
        />
      </div>
    `}},PV=ff`
  display: flex;
  flex-direction: column;
  width: 100%;
  max-height: 240px;
  overflow: auto;
`,UV=(e,t)=>{const n=HS(t);return()=>{const{tableId:t,index:r}=e,{store:o}=n.value,{collections:i}=o.state,a=aa(i).collection("tableEntities").selectById(t);if(!a)return null;const s=aa(i).collection("tableColumnEntities").selectByIds(a.columnIds),l=Cb(a,o.state),c=aa(i).collection("indexColumnEntities").selectByIds((null==r?void 0:r.indexColumnIds)??[]).map((e=>e.columnId)),u=Qo(c);return Fh`
      <div class=${["scrollbar",PV]}>
        ${gd(s,(e=>e.id),(t=>Fh`
            <div class=${["column-row",DM]}>
              <div class="column-col">
                <input
                  type="checkbox"
                  ?disabled=${!r}
                  ?checked=${u(t.id)}
                  @change=${r=>((t,r)=>{const o=t.target;if(!o)return;const{store:i}=n.value,a=o.checked?$k:Ck;i.dispatch($p(a(e.index.id,r.id)))})(r,t)}
                />
              </div>
              <${OM} keys=${t.ui.keys} />
              ${gd(((e,t)=>{const{store:r}=n.value,{settings:o}=r.state;return o.columnOrder.map((n=>{let r=null;switch(n){case Jm.columnName:r=Fh`
              <div class="column-col">
                <${dM}
                  placeholder="column"
                  width=${t.name}
                  value=${e.name}
                />
              </div>
            `;break;case Jm.columnDefault:r=Cp(o.show,Xm.columnDefault)?Fh`
                  <div class="column-col">
                    <${dM}
                      placeholder="default"
                      width=${t.default}
                      value=${e.default}
                    />
                  </div>
                `:null;break;case Jm.columnComment:r=Cp(o.show,Xm.columnComment)?Fh`
                  <div class="column-col">
                    <${dM}
                      placeholder="comment"
                      width=${t.comment}
                      value=${e.comment}
                    />
                  </div>
                `:null;break;case Jm.columnDataType:r=Cp(o.show,Xm.columnDataType)?Fh`
                  <div class="column-col">
                    <${TM}
                      tableId=${e.tableId}
                      columnId=${e.id}
                      width=${t.dataType}
                      value=${e.dataType}
                    />
                  </div>
                `:null;break;case Jm.columnNotNull:r=Cp(o.show,Xm.columnNotNull)?Fh`
                  <div class="column-col">
                    <${EM} options=${e.options} />
                  </div>
                `:null;break;case Jm.columnUnique:r=Cp(o.show,Xm.columnUnique)?Fh`
                  <div class="column-col">
                    <${MM}
                      checked=${Cp(e.options,dp.unique)}
                      width=${Rp}
                      text="UQ"
                      title="Unique"
                    />
                  </div>
                `:null;break;case Jm.columnAutoIncrement:r=Cp(o.show,Xm.columnAutoIncrement)?Fh`
                  <div class="column-col">
                    <${MM}
                      checked=${Cp(e.options,dp.autoIncrement)}
                      width=${Vp}
                      text="AI"
                      title="Auto Increment"
                    />
                  </div>
                `:null}return{columnType:n,template:r}})).filter((e=>{let{template:t}=e;return!!t}))})(t,l),(e=>{let{columnType:t}=e;return t}),(e=>{let{template:t}=e;return t}))}
            </div>
          `))}
      </div>
    `}},WV=ff`
  padding-top: 12px;

  .index-column-order-move {
    transition: transform 0.3s;
  }
`,FV=ff`
  display: flex;
  width: 100%;
  height: ${Bp}px;
  align-items: center;
  color: var(--active);
  fill: var(--active);
  padding: 0 ${Mp}px;
  cursor: move;

  &:hover {
    background-color: var(--column-hover);
  }

  & > .column-col {
    padding: ${2}px ${Ep}px ${2}px 0;
  }

  &.none-hover {
    background-color: transparent;
  }

  &.dragging {
    opacity: 0.5;
  }
`,ZV=ff`
  cursor: pointer;
`,YV=(e,t)=>{const n=HS(t),r=dd(),o=new _M(r,`.${FV}`,"index-column-order-move"),i=e=>{var t;const i=r.value,a=e.target;if(!i||!a)return;const s=null==(t=a.dataset)?void 0:t.id;if(!s)return;const l=Array.from(i.querySelectorAll(`.${FV}`));l.forEach((e=>e.classList.add("none-hover"))),a.classList.add("dragging"),zM(l,(e=>e.dataset.id)).subscribe({next:e=>{((e,t)=>{const{store:r}=n.value;e!==t&&(o.snapshot(),r.dispatch($p(Ak(e,t))))})(s,e)},complete:()=>{a.classList.remove("dragging"),l.forEach((e=>e.classList.remove("none-hover")))}})};return Ys((()=>o.play())),()=>{const{store:t}=n.value,{collections:o}=t.state,a=aa(o).collection("indexColumnEntities").selectByIds(e.index.indexColumnIds).map((e=>({...e,column:aa(o).collection("tableColumnEntities").selectById(e.columnId)})));return Fh`
      <div
        class=${WV}
        ${hd(r)}
        @dragenter=${xE}
        @dragover=${xE}
      >
        ${gd(a,(e=>e.id),(e=>{var t;return Fh`
            <div
              class=${FV}
              draggable="true"
              data-id=${e.id}
              @dragstart=${i}
            >
              <${lN} class=${"column-col"} name="bars" size=${14} />
              <div
                class="column-col"
                @click=${()=>(e=>{const{store:t}=n.value;t.dispatch($p(Tk(e.id)))})(e)}
              >
                <${MM}
                  class=${ZV}
                  checked=${!0}
                  width=${40}
                  text=${Pz(e.orderType)}
                  title=${(e=>{switch(e){case fp.ASC:return"Ascending";case fp.DESC:return"Descending";default:return""}})(e.orderType)}
                />
              </div>
              <div class="column-col">${null==(t=e.column)?void 0:t.name}</div>
            </div>
          `}))}
      </div>
    `}},HV=ff`
  width: 30%;
  min-width: 240px;
  height: 100%;
  padding-right: 12px;
`,qV=ff`
  width: 70%;
  min-width: 560px;
  height: 100%;
`,GV=ff`
  display: flex;
  width: 100%;
  height: ${Bp}px;
  align-items: center;
  padding: 0 ${Mp}px;
  cursor: pointer;

  &:hover {
    background-color: var(--column-hover);
    fill: var(--active);
    color: var(--active);
  }
`,QV=(e,t)=>{const n=HS(t),r=il({index:null}),o=e=>{r.index=e},i=()=>{const{store:t}=n.value;t.dispatch($p(xk(e.tableId)))};return()=>{const{tableId:t}=e,{store:a}=n.value,{doc:{indexIds:s},collections:l}=a.state,c=aa(l).collection("indexEntities").selectByIds(s).filter((e=>e.tableId===t));return Fh`
      <div class=${HV}>
        ${gd(c,(e=>e.id),(e=>{var t;return Fh`
            <${BV}
              index=${e}
              selected=${e.id===(null==(t=r.index)?void 0:t.id)}
              .onSelect=${o}
            />
          `}))}
        <div
          class=${GV}
          title="Add Index"
          @click=${i}
        >
          <${lN} size=${12} name="plus" />
        </div>
      </div>
      <div class=${qV}>
        <${UV} tableId=${t} index=${r.index} />
        ${r.index?Fh`<${YV} index=${r.index} />`:null}
      </div>
    `}},XV=ff`
  display: flex;
  padding: 12px;
  min-height: 56px;
`,JV=ff`
  display: flex;
  align-items: center;
  padding: 0 12px;
  height: 32px;
  border-radius: 4px;
  cursor: default;
  white-space: nowrap;

  &:hover {
    background-color: var(--context-menu-hover);
    color: var(--active);
    fill: var(--active);
  }

  &.selected {
    background-color: var(--context-menu-select);
    color: var(--active);
    fill: var(--active);
  }
`,KV={Indexes:"Indexes",SchemaSQL:"Schema SQL",GeneratorCode:"Code Generator"},eB=Object.values(KV),tB=(e,t)=>()=>Fh`
    <div class=${XV}>
      ${eB.map((t=>Fh`
          <div
            class=${[JV,{selected:t===e.value}]}
            @click=${()=>e.onChange(t)}
          >
            ${t}
          </div>
        `))}
    </div>
  `,nB=[{name:"Pascal",value:op.pascalCase},{name:"Camel",value:op.camelCase},{name:"Snake",value:op.snakeCase},{name:"None",value:op.none}],rB=[{name:"GraphQL",value:np.GraphQL},{name:"C#",value:np.csharp},{name:"Java",value:np.Java},{name:"Kotlin",value:np.Kotlin},{name:"TypeScript",value:np.TypeScript},{name:"JPA",value:np.JPA},{name:"Scala",value:np.Scala}],oB=[{name:"Pascal",value:op.pascalCase},{name:"Camel",value:op.camelCase},{name:"Snake",value:op.snakeCase},{name:"None",value:op.none}],iB=(e,t)=>{const n=HS(t),r=Fh`<${lN} name="chevron-right" size=${14} />`,{addUnsubscribe:o}=tE();return Ws((()=>{const{shortcut$:t}=n.value;o(t.subscribe((t=>{let{type:n}=t;n===DS.stop&&e.onClose()})))})),()=>Fh`
    <${dR}
      children=${Fh`
        <${hR}
          children=${Fh`
            <${fR}
              icon=${Fh`<${lN} name="code" size=${14} />`}
              name="Language"
              right=${r}
            />
          `}
          subChildren=${Fh`${function(e){let{store:t}=e;const{settings:n}=t.state;return rB.map((e=>({checked:e.value===n.language,name:e.name,onClick:()=>{t.dispatch(nb({value:e.value}))}})))}(n.value).map((e=>Fh`
              <${hR}
                .onClick=${e.onClick}
                children=${Fh`
                  <${fR}
                    icon=${e.checked?Fh`<${lN} name="check" size=${14} />`:null}
                    name=${e.name}
                  />
                `}
              />
            `))}`}
        />
        <${hR}
          children=${Fh`
            <${fR}
              icon=${Fh`
                <${lN} prefix="mdi" name="format-letter-case" size=${14} />
              `}
              name="Table Name Case"
              right=${r}
            />
          `}
          subChildren=${Fh`${function(e){let{store:t}=e;const{settings:n}=t.state;return oB.map((e=>({checked:e.value===n.tableNameCase,name:e.name,onClick:()=>{t.dispatch(rb({value:e.value}))}})))}(n.value).map((e=>Fh`
              <${hR}
                .onClick=${e.onClick}
                children=${Fh`
                  <${fR}
                    icon=${e.checked?Fh`<${lN} name="check" size=${14} />`:null}
                    name=${e.name}
                  />
                `}
              />
            `))}`}
        />
        <${hR}
          children=${Fh`
            <${fR}
              icon=${Fh`<${lN}
                prefix="mdi"
                name="format-letter-case"
                size=${14}
              />`}
              name="Column Name Case"
              right=${r}
            />
          `}
          subChildren=${Fh`${function(e){let{store:t}=e;const{settings:n}=t.state;return nB.map((e=>({checked:e.value===n.columnNameCase,name:e.name,onClick:()=>{t.dispatch(ob({value:e.value}))}})))}(n.value).map((e=>Fh`
              <${hR}
                .onClick=${e.onClick}
                children=${Fh`
                  <${fR}
                    icon=${e.checked?Fh`<${lN} name="check" size=${14} />`:null}
                    name=${e.name}
                  />
                `}
              />
            `))}`}
        />
      `}
    />
  `},aB=new QO;let sB=()=>null;const lB=ff`
  position: absolute;
  top: 0;
  right: 0;
  padding: 8px;
  margin: 8px;
  cursor: pointer;
  fill: var(--foreground);
  color: var(--foreground);
  opacity: 0;
  transition: opacity 0.15s;
  user-select: none;

  &:hover {
    fill: var(--active);
    color: var(--active);
  }
`,cB=ff`
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
  min-height: 40px;
  outline: none;

  &:hover {
    ${lB} {
      opacity: 1;
    }
  }
`,uB=ff`
  width: 100%;
  height: 100%;
  white-space: pre;
  overflow: auto;
  outline: none;
  font-family: var(--code-font-family) !important;
  color: var(--active);
  padding: 16px;
`,dB=Qo(["value","lang","theme"]),hB=(e,t)=>{const n=dd(),{addUnsubscribe:r}=tE(),o=il({highlight:"",backgroundColor:""}),i=()=>{var t;null==(t=e.onCopy)||t.call(e,e.value)},a=()=>{var t;null==(t=sB())||t.codeToHtml(e.value,{lang:e.lang,theme:e.theme}).then((e=>{o.highlight=e,vs((()=>{o.backgroundColor=(()=>{const e=n.value;if(!e)return null;const t=e.querySelector("pre.shiki");return t&&t.style.backgroundColor||null})()||""}))}))};return Us((()=>{a(),r(aB.on({loadShikiService:a}),al(e).subscribe((e=>{dB(e)&&a()})),(()=>{o.highlight=""}))})),()=>Fh`
    <div class=${cB} ${hd(n)}>
      <div
        class=${["scrollbar",uB]}
        style=${{"background-color":o.backgroundColor}}
      >
        ${pd(o.highlight?o.highlight:e.value)}
      </div>
      <div class=${lB} title="Copy" @click=${i}>
        <${lN} prefix="far" name="copy" useTransition=${!0} />
      </div>
    </div>
  `},fB={[np.TypeScript]:"typescript",[np.GraphQL]:"graphql",[np.csharp]:"csharp",[np.Java]:"java",[np.Kotlin]:"kotlin",[np.Scala]:"scala",[np.JPA]:"java"};function mB(e){return new Promise(((t,n)=>{const r=document.createElement("textarea");r.style.fontSize="12pt",r.style.border="0",r.style.padding="0",r.style.margin="0",r.style.position="fixed",r.style.left="-9999px",r.style.top="-9999px",r.setAttribute("readonly",""),r.value=e,document.body.appendChild(r),r.select(),r.setSelectionRange(0,99999);try{document.execCommand("copy"),t()}catch(e){n(e)}r.setSelectionRange(0,0),document.body.removeChild(r)}))}async function pB(e){if(!navigator.clipboard)return mB(e);try{await navigator.clipboard.writeText(e)}catch{return mB(e)}}const gB=Qo([lp.ZeroOne,lp.OneOnly]),yB=Qo([lp.ZeroN,lp.OneN]);function vB(e,t){const n=function(e){return xM[e]??[]}(t);for(const t of n)if(0===e.toLocaleLowerCase().indexOf(t.name.toLocaleLowerCase()))return t.primitiveType;return"string"}function bB(e,t){let n=e;switch(t){case op.camelCase:n=xn(e);break;case op.pascalCase:n=function(e){return Zt(xn(e))}(e);break;case op.snakeCase:n=$O(e)}return n}const wB={int:"int",long:"long",float:"float",double:"double",decimal:"decimal",boolean:"bool",string:"string",lob:"string",date:"DateTime",dateTime:"DateTime",time:"TimeSpan"};function xB(e,t){let{buffer:n,table:r}=t;const{settings:{tableNameCase:o},collections:i}=e,a=bB(r.name,o);""!==r.comment.trim()&&n.push(`// ${r.comment}`),n.push(`public class ${a} {`),aa(i).collection("tableColumnEntities").selectByIds(r.columnIds).forEach((t=>{!function(e,t){let{settings:{columnNameCase:n,database:r}}=e,{buffer:o,column:i}=t;const a=bB(i.name,n),s=vB(i.dataType,r);""!==i.comment.trim()&&o.push(`  // ${i.comment}`),o.push(`  public ${wB[s]} ${a.charAt(0).toLocaleUpperCase()+a.slice(1)} { get; set; }`)}(e,{buffer:n,column:t})})),n.push("}")}const kB={int:"Int",long:"Int",float:"Float",double:"Float",decimal:"Float",boolean:"Boolean",string:"String",lob:"String",date:"String",dateTime:"String",time:"String"};function IB(e,t){let{buffer:n,table:r}=t;const{settings:{tableNameCase:o},collections:i}=e,a=bB(r.name,o);""!==r.comment.trim()&&n.push(`# ${r.comment}`),n.push(`type ${a} {`),aa(i).collection("tableColumnEntities").selectByIds(r.columnIds).forEach((t=>{!function(e,t){let{settings:{columnNameCase:n,database:r}}=e,{buffer:o,column:i}=t;const a=Cp(i.ui.keys,hp.primaryKey),s=Cp(i.ui.keys,hp.foreignKey);if(!a&&s)return;const l=bB(i.name,n);if(""!==i.comment.trim()&&o.push(`  # ${i.comment}`),Cp(i.options,dp.primaryKey)||s)o.push(`  ${l}: ID${Cp(i.options,dp.notNull)?"!":""}`);else{const e=vB(i.dataType,r);o.push(`  ${l}: ${kB[e]}${Cp(i.options,dp.notNull)?"!":""}`)}}(e,{buffer:n,column:t})})),function(e,t){let{doc:{relationshipIds:n},collections:r,settings:{tableNameCase:o,columnNameCase:i}}=e,{buffer:a,table:s}=t;const l=aa(r).collection("tableEntities"),c=aa(r).collection("relationshipEntities").selectByIds(n),u=new Set,d=new Set;c.filter((e=>e.end.tableId===s.id)).forEach((e=>{const t=l.selectById(e.start.tableId);if(t){const e=bB(t.name,o),n=`  ${bB(t.name,i)}: ${e}`;if(u.has(n))return;""!==t.comment.trim()&&a.push(`  # ${t.comment}`),a.push(n),u.add(n)}})),c.filter((e=>e.start.tableId===s.id)).forEach((e=>{const t=l.selectById(e.end.tableId);if(t){const n=bB(t.name,o),r=bB(t.name,i),s=gB(e.relationshipType)?`  ${r}: ${n}`:yB(e.relationshipType)?`  ${bB(`${r}List`,i)}: [${n}!]!`:null;if(null===s||d.has(s))return;""!==t.comment.trim()&&a.push(`  # ${t.comment}`),a.push(s),d.add(s)}}))}(e,{buffer:n,table:r}),n.push("}")}const $B={int:"Integer",long:"Long",float:"Float",double:"Double",decimal:"BigDecimal",boolean:"Boolean",string:"String",lob:"String",date:"LocalDate",dateTime:"LocalDateTime",time:"LocalTime"};function CB(e,t){let{buffer:n,table:r}=t;const{settings:{tableNameCase:o},collections:i}=e,a=bB(r.name,o);""!==r.comment.trim()&&n.push(`// ${r.comment}`),n.push("@Data"),n.push(`public class ${a} {`),aa(i).collection("tableColumnEntities").selectByIds(r.columnIds).forEach((t=>{!function(e,t){let{settings:{columnNameCase:n,database:r}}=e,{buffer:o,column:i}=t;const a=bB(i.name,n),s=vB(i.dataType,r);""!==i.comment.trim()&&o.push(`  // ${i.comment}`),o.push(`  private ${$B[s]} ${a};`)}(e,{buffer:n,column:t})})),n.push("}")}const TB={int:"Integer",long:"Long",float:"Float",double:"Double",decimal:"BigDecimal",boolean:"Boolean",string:"String",lob:"String",date:"LocalDate",dateTime:"LocalDateTime",time:"LocalTime"};function AB(e,t){let{buffer:n,table:r}=t;const{settings:{tableNameCase:o,columnNameCase:i,database:a},doc:{relationshipIds:s},collections:l}=e,c=bB(r.name,o),u=aa(l).collection("tableEntities"),d=aa(l).collection("tableColumnEntities").selectByIds(r.columnIds),h=aa(l).collection("relationshipEntities").selectByIds(s),f=jz(d);if(f.length>1){n.push("@Data"),n.push(`public class ${bB(`${r.name}Id`,o)} implements Serializable {`);const e=[];f.forEach((t=>{if(Cp(t.ui.keys,hp.primaryKey)&&Cp(t.ui.keys,hp.foreignKey))u.selectByIds(h.filter((e=>e.end.columnIds.includes(t.id))).map((e=>e.start.tableId))).forEach((t=>{e.some((e=>e.id===t.id))||e.push(t)}));else{const e=bB(t.name,i),r=vB(t.dataType,a);n.push(`  private ${TB[r]} ${e};`)}})),e.forEach((e=>{n.push(`  private ${bB(e.name,o)} ${bB(e.name,i)};`)})),n.push("}")}""!==r.comment.trim()&&n.push(`// ${r.comment}`),n.push("@Data"),n.push("@Entity"),f.length>1&&n.push(`@IdClass(${bB(`${r.name}Id`,o)}.class)`),n.push(`public class ${c} {`),d.forEach((t=>{!function(e,t){let{settings:{columnNameCase:n,database:r}}=e,{buffer:o,column:i}=t;const a=Cp(i.ui.keys,hp.primaryKey),s=Cp(i.ui.keys,hp.foreignKey);if(!a&&s||a&&s)return;const l=bB(i.name,n),c=vB(i.dataType,r);""!==i.comment.trim()&&o.push(`  // ${i.comment}`),Cp(i.options,dp.primaryKey)?(o.push("  @Id"),Cp(i.options,dp.autoIncrement)&&o.push("  @GeneratedValue")):Cp(i.options,dp.notNull)&&o.push("  @Column(nullable = false)"),"lob"===c&&o.push("  @Lob"),o.push(`  private ${TB[c]} ${l};`)}(e,{buffer:n,column:t})})),function(e,t){let{doc:{relationshipIds:n},collections:r,settings:{tableNameCase:o,columnNameCase:i}}=e,{buffer:a,table:s}=t;const l=aa(r).collection("tableEntities"),c=aa(r).collection("tableColumnEntities"),u=aa(r).collection("relationshipEntities").selectByIds(n);u.filter((e=>e.end.tableId===s.id)).forEach((e=>{const t=l.selectById(e.start.tableId),n=c.selectByIds(e.end.columnIds);if(t&&0!==n.length){const r=bB(t.name,o),s=bB(t.name,i);""!==t.comment.trim()&&a.push(`  // ${t.comment}`),Lz(n)&&a.push("  @Id"),gB(e.relationshipType)?a.push("  @OneToOne"):yB(e.relationshipType)&&a.push("  @ManyToOne"),n.length>1?(a.push("  @JoinColumns(value = {"),n.forEach(((e,t)=>{a.push(`    @JoinColumn(name = "${bB(e.name,op.snakeCase)}")${n.length-1>t?",":""}`)})),a.push("  })")):a.push(`  @JoinColumn(name = "${bB(n[0].name,op.snakeCase)}")`),a.push(`  private ${r} ${s};`)}})),u.filter((e=>e.start.tableId===s.id)).forEach((e=>{const t=l.selectById(e.end.tableId);if(t){const n=bB(t.name,o),r=bB(t.name,i);""!==t.comment.trim()&&a.push(`  // ${t.comment}`),gB(e.relationshipType)?(a.push(`  @OneToOne(mappedBy = "${bB(s.name,i)}")`),a.push(`  private ${n} ${r};`)):yB(e.relationshipType)&&(a.push(`  @OneToMany(mappedBy = "${bB(s.name,i)}")`),a.push(`  private List<${n}> ${bB(`${r}List`,i)} = new ArrayList<>();`))}}))}(e,{buffer:n,table:r}),n.push("}")}const OB={int:"Int",long:"Long",float:"Float",double:"Double",decimal:"BigDecimal",boolean:"Boolean",string:"String",lob:"String",date:"LocalDate",dateTime:"LocalDateTime",time:"LocalTime"};function SB(e,t){let{buffer:n,table:r}=t;const{settings:{tableNameCase:o},collections:i}=e,a=bB(r.name,o);""!==r.comment.trim()&&n.push(`// ${r.comment}`),n.push(`class ${a} {`),aa(i).collection("tableColumnEntities").selectByIds(r.columnIds).forEach((t=>{!function(e,t){let{settings:{columnNameCase:n,database:r}}=e,{buffer:o,column:i}=t;const a=bB(i.name,n),s=vB(i.dataType,r);""!==i.comment.trim()&&o.push(`  // ${i.comment}`),Cp(i.options,dp.notNull)&&"date"!==s&&"dateTime"!==s&&"time"!==s?o.push(`  var ${a}: ${OB[s]} = ${function(e){switch(e){case"int":case"long":return 0;case"float":return"0.0f";case"double":return"0.0";case"boolean":return!1;case"string":case"lob":return'""';case"decimal":return"BigDecimal.ZERO";case"date":case"dateTime":case"time":return null}}(s)}`):o.push(`  var ${a}: ${OB[s]}? = null`)}(e,{buffer:n,column:t})})),n.push("}")}const EB={int:"Int",long:"Long",float:"Float",double:"Double",decimal:"BigDecimal",boolean:"Boolean",string:"String",lob:"String",date:"LocalDate",dateTime:"LocalDateTime",time:"LocalTime"};function NB(e,t){let{buffer:n,table:r}=t;const{settings:{tableNameCase:o},collections:i}=e,a=bB(r.name,o);""!==r.comment.trim()&&n.push(`// ${r.comment}`),n.push("@Data"),n.push(`case class ${a}(`),aa(i).collection("tableColumnEntities").selectByIds(r.columnIds).forEach(((t,r,o)=>{let i=!0;r===o.length-1&&(i=!1),function(e,t,n){let{settings:{columnNameCase:r,database:o}}=e,{buffer:i,column:a}=t;const s=bB(a.name,r),l=vB(a.dataType,o);""!==a.comment.trim()&&i.push(` // ${a.comment}`),i.push(` ${s}: ${EB[l]}${n?",":""}`)}(e,{buffer:n,column:t},i)})),n.push(")")}const MB={int:"number",long:"number",float:"number",double:"number",decimal:"number",boolean:"boolean",string:"string",lob:"string",date:"string",dateTime:"string",time:"string"};function DB(e,t){let{buffer:n,table:r}=t;const{settings:{tableNameCase:o},collections:i}=e,a=bB(r.name,o);""!==r.comment.trim()&&n.push(`// ${r.comment}`),n.push(`export interface ${a} {`),aa(i).collection("tableColumnEntities").selectByIds(r.columnIds).forEach((t=>{!function(e,t){let{settings:{columnNameCase:n,database:r}}=e,{buffer:o,column:i}=t;const a=bB(i.name,n),s=vB(i.dataType,r);""!==i.comment.trim()&&o.push(`  // ${i.comment}`),o.push(`  ${a}: ${MB[s]}${Cp(i.options,dp.notNull)?"":" | null"};`)}(e,{buffer:n,column:t})})),n.push("}")}const LB=ff`
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
  background-color: var(--canvas-background);
`,jB=Qo(["language","tableNameCase","columnNameCase"]),_B=(e,t)=>{const n=HS(t),{addUnsubscribe:r}=tE(),o=iR(t),i=il({code:""}),a=()=>{const{store:t}=n.value;if(e.tableId){const{collections:n}=t.state,r=aa(n).collection("tableEntities").selectById(e.tableId);r&&(i.code=function(e,t){const n=[""],{settings:{language:r}}=e;switch(r){case np.GraphQL:IB(e,{buffer:n,table:t}),n.push("");break;case np.JPA:AB(e,{buffer:n,table:t}),n.push("");break;case np.TypeScript:DB(e,{buffer:n,table:t}),n.push("");break;case np.csharp:xB(e,{buffer:n,table:t}),n.push("");break;case np.Java:CB(e,{buffer:n,table:t}),n.push("");break;case np.Kotlin:SB(e,{buffer:n,table:t}),n.push("");break;case np.Scala:NB(e,{buffer:n,table:t}),n.push("")}return n.join("\n")}(t.state,r))}else i.code=function(e){const{settings:{language:t}}=e;switch(t){case np.GraphQL:return function(e){const{doc:{tableIds:t},collections:n}=e,r=[""];return aa(n).collection("tableEntities").selectByIds(t).sort(Vz).forEach((t=>{IB(e,{buffer:r,table:t}),r.push("")})),r.join("\n")}(e);case np.JPA:return function(e){const{doc:{tableIds:t},collections:n}=e,r=[""];return aa(n).collection("tableEntities").selectByIds(t).sort(Vz).forEach((t=>{AB(e,{buffer:r,table:t}),r.push("")})),r.join("\n")}(e);case np.TypeScript:return function(e){const{doc:{tableIds:t},collections:n}=e,r=[""];return aa(n).collection("tableEntities").selectByIds(t).sort(Vz).forEach((t=>{DB(e,{buffer:r,table:t}),r.push("")})),r.join("\n")}(e);case np.csharp:return function(e){const{doc:{tableIds:t},collections:n}=e,r=[""];return aa(n).collection("tableEntities").selectByIds(t).sort(Vz).forEach((t=>{xB(e,{buffer:r,table:t}),r.push("")})),r.join("\n")}(e);case np.Java:return function(e){const{doc:{tableIds:t},collections:n}=e,r=[""];return aa(n).collection("tableEntities").selectByIds(t).sort(Vz).forEach((t=>{CB(e,{buffer:r,table:t}),r.push("")})),r.join("\n")}(e);case np.Kotlin:return function(e){const{doc:{tableIds:t},collections:n}=e,r=[""];return aa(n).collection("tableEntities").selectByIds(t).sort(Vz).forEach((t=>{SB(e,{buffer:r,table:t}),r.push("")})),r.join("\n")}(e);case np.Scala:return function(e){const{doc:{tableIds:t},collections:n}=e,r=[""];return aa(n).collection("tableEntities").selectByIds(t).sort(Vz).forEach((t=>{NB(e,{buffer:r,table:t}),r.push("")})),r.join("\n")}(e)}return""}(t.state)},s=()=>{const{emitter:e}=n.value;pB(i.code).then((()=>{e.emit(KO({close:LI(2e3),message:Fh`<${uD} title="Copied!" />`}))}))},l=()=>{o.state.show=!1};return Us((()=>{const{store:t}=n.value,{settings:o}=t.state;a(),r(al(o).subscribe((e=>{jB(e)&&a()})),al(e).subscribe((e=>{"tableId"===e&&a()})))})),()=>{const{store:t}=n.value,{settings:{language:r}}=t.state,a=fB[r];return Fh`
      <div
        class=${LB}
        @contextmenu=${o.onContextmenu}
        @mousedown=${o.onMousedown}
      >
        <${hB}
          lang=${a}
          theme=${e.isDarkMode?"dark":"light"}
          value=${i.code}
          .onCopy=${s}
        />
        ${o.state.show?Fh`
              <${iB} .onClose=${l} />
            `:null}
      </div>
    `}},zB=[{name:"SingleQuote",value:ap.singleQuote},{name:"DoubleQuote",value:ap.doubleQuote},{name:"Backtick",value:ap.backtick},{name:"None",value:ap.none}],RB=(e,t)=>{const n=HS(t),r=Fh`<${lN} name="chevron-right" size=${14} />`,{addUnsubscribe:o}=tE();return Ws((()=>{const{shortcut$:t}=n.value;o(t.subscribe((t=>{let{type:n}=t;n===DS.stop&&e.onClose()})))})),()=>Fh`
    <${dR}
      children=${Fh`
        <${hR}
          children=${Fh`
            <${fR}
              icon=${Fh`
                <${lN} prefix="mdi" name="database" size=${14} />
              `}
              name="Database"
              right=${r}
            />
          `}
          subChildren=${Fh`${wR(n.value).map((e=>Fh`
              <${hR}
                .onClick=${e.onClick}
                children=${Fh`
                  <${fR}
                    icon=${e.checked?Fh`<${lN} name="check" size=${14} />`:null}
                    name=${e.name}
                  />
                `}
              />
            `))}`}
        />
        <${hR}
          children=${Fh`
            <${fR}
              icon=${Fh`
                <${lN} prefix="mdi" name="code-brackets" size=${14} />
              `}
              name="Bracket"
              right=${r}
            />
          `}
          subChildren=${Fh`${function(e){let{store:t}=e;const{settings:n}=t.state;return zB.map((e=>({checked:e.value===n.bracketType,name:e.name,onClick:()=>{t.dispatch(ib({value:e.value}))}})))}(n.value).map((e=>Fh`
              <${hR}
                .onClick=${e.onClick}
                children=${Fh`
                  <${fR}
                    icon=${e.checked?Fh`<${lN} name="check" size=${14} />`:null}
                    name=${e.name}
                  />
                `}
              />
            `))}`}
        />
      `}
    />
  `},VB=ff`
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
  background-color: var(--canvas-background);
`,BB=Qo(["database","bracketType"]),PB=(e,t)=>{const n=HS(t),{addUnsubscribe:r}=tE(),o=iR(t),i=il({sql:""}),a=()=>{const{store:t}=n.value;if(e.tableId){const{collections:n}=t.state,r=aa(n).collection("tableEntities").selectById(e.tableId);r&&(i.sql=function(e,t){const{settings:n,doc:{indexIds:r},collections:o}=e,i=[""],a=n.database,s=[],l=aa(o).collection("indexEntities").selectByIds(r).filter((e=>e.tableId===t.id));switch(a){case ep.MariaDB:aV(e,{buffer:i,table:t}),i.push(""),l.forEach((t=>{sV(e,{index:t,buffer:i,indexNames:s}),i.push("")}));break;case ep.MSSQL:lV(e,{buffer:i,table:t}),i.push(""),l.forEach((t=>{cV(e,{index:t,buffer:i,indexNames:s}),i.push("")}));break;case ep.MySQL:uV(e,{buffer:i,table:t}),i.push(""),l.forEach((t=>{dV(e,{index:t,buffer:i,indexNames:s}),i.push("")}));break;case ep.Oracle:hV(e,{buffer:i,table:t}),i.push(""),l.forEach((t=>{fV(e,{index:t,buffer:i,indexNames:s}),i.push("")}));break;case ep.PostgreSQL:mV(e,{buffer:i,table:t}),i.push(""),l.forEach((t=>{pV(e,{index:t,buffer:i,indexNames:s}),i.push("")}));break;case ep.SQLite:gV(e,{buffer:i,table:t}),i.push(""),l.forEach((t=>{yV(e,{index:t,buffer:i,indexNames:s}),i.push("")}))}return i.join("\n")}(t.state,r))}else i.sql=vV(t.state)},s=()=>{const{emitter:e}=n.value;pB(i.sql).then((()=>{e.emit(KO({close:LI(2e3),message:Fh`<${uD} title="Copied!" />`}))}))},l=()=>{o.state.show=!1};return Us((()=>{const{store:t}=n.value,{settings:o}=t.state;a(),r(al(o).subscribe((e=>{BB(e)&&a()})),al(e).subscribe((e=>{"tableId"===e&&a()})))})),()=>Fh`
    <div
      class=${VB}
      @contextmenu=${o.onContextmenu}
      @mousedown=${o.onMousedown}
    >
      <${hB}
        lang="sql"
        theme=${e.isDarkMode?"dark":"light"}
        value=${i.sql}
        .onCopy=${s}
      />
      ${o.state.show?Fh`<${RB} .onClose=${l} />`:null}
    </div>
  `},UB=ff`
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 16px;

  &::after {
    content: '';
    position: absolute;
    inset: 0;
    background-color: rgba(0, 0, 0, 0.4);
  }
`,WB=ff`
  display: flex;
  flex-direction: column;
  width: 100%;
  max-width: 900px;
  max-height: calc(100% - 32px);
  position: relative;
  z-index: 1;
  background-color: var(--context-menu-background);
  border: 1px solid var(--context-menu-border);
  border-radius: 6px;
  overflow: hidden;
`,FB=ff`
  display: flex;
  flex-direction: column;
  width: 100%;
  overflow: auto;
  padding: 0 12px 12px 12px;
`,ZB=ff`
  display: flex;
  padding: 0 8px;
  min-height: 32px;
  overflow-x: auto;
`,YB=ff`
  display: flex;
  max-width: 200px;
  height: 32px;
  padding: 0 12px;
  border-radius: 4px;
  cursor: default;
  align-items: center;

  &:hover {
    background-color: var(--context-menu-hover);
    color: var(--active);
    fill: var(--active);
  }

  &.selected {
    background-color: var(--context-menu-select);
    color: var(--active);
    fill: var(--active);
  }

  & > span {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
`,HB=ff`
  display: flex;
  width: 100%;
  height: 100%;
  min-height: 450px;
`,qB=(e,t)=>{const n=HS(t),{addUnsubscribe:r}=tE(),o=il({tab:KV.Indexes}),i=()=>{const{store:e}=n.value;e.dispatch(dy({[hD]:!1}))},a=e=>{const t=e.target;t&&!t.closest(".table-properties")&&i()},s=e=>{o.tab=e};return Ws((()=>{const{shortcut$:e}=n.value;r(e.subscribe((e=>{let{type:t}=e;t===DS.stop&&i()})))})),()=>{const{store:t}=n.value,{collections:r}=t.state,{tableIds:i}=e,l=aa(r).collection("tableEntities").selectByIds(i);return Fh`
      <div
        class=${UB}
        @contextmenu=${kE}
        @mousedown=${kE}
        @touchstart=${kE}
        @wheel=${kE}
        @click=${a}
      >
        <div class=${["table-properties",WB]}>
          <div class=${["scrollbar",ZB]}>
            ${l.map((t=>Fh`
                <div
                  class=${[YB,{selected:t.id===e.tableId}]}
                  title=${t.name}
                  @click=${()=>e.onChange(t.id)}
                >
                  <span>${t.name.trim()?t.name:"unnamed"}</span>
                </div>
              `))}
          </div>
          <${tB}
            value=${o.tab}
            .onChange=${s}
          />
          <div class=${["scrollbar",FB]}>
            ${o.tab===KV.Indexes?Fh`
                  <div class=${HB}>
                    <${QV} tableId=${e.tableId} />
                  </div>
                `:o.tab===KV.SchemaSQL?Fh`
                    <div class=${HB}>
                      <${PB}
                        isDarkMode=${e.isDarkMode}
                        tableId=${e.tableId}
                      />
                    </div>
                  `:o.tab===KV.GeneratorCode?Fh`
                      <div class=${HB}>
                        <${_B}
                          isDarkMode=${e.isDarkMode}
                          tableId=${e.tableId}
                        />
                      </div>
                    `:null}
          </div>
        </div>
      </div>
    `}},GB=ff`
  display: flex;
  width: 100%;
  height: 12px;
  position: relative;
  align-items: center;
  user-select: none;
  touch-action: none;
`,QB=ff`
  width: 100%;
  height: 8px;
  background-color: var(--gray-color-3);
  box-shadow: inset 0 0 0 1px var(--gray-color-6);
  overflow: hidden;
  position: relative;
  border-radius: 9999px;
`,XB=ff`
  position: absolute;
  border-radius: inherit;
  background-color: var(--accent-color-9);
  box-shadow: inset 0 0 0 1px var(--gray-color-6);
  top: 0;
  width: 100%;
  height: 100%;
`,JB=ff`
  position: absolute;
  width: 12px;
  height: 12px;
  background-color: white;
  border-radius: 9999px;

  &::before {
    content: '';
    position: absolute;
    width: calc(12px * 3);
    height: calc(12px * 3);
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }

  &::after {
    content: '';
    position: absolute;
    background-color: white;
    border-radius: 9999px;
    inset: calc(-0.25 * 8px);
    box-shadow: inset 0 0 0 1px var(--gray-color-6);
    cursor: pointer;
  }
`,KB=(e,t)=>{const n=dd(),r=t=>{const r=n.value.getBoundingClientRect(),o=t-r.x,i=Yo(o/r.width,2),a=e.max-e.min;return hi(e.min,e.max)(Yo(a*i)+e.min)},o=t=>{let{event:n,x:o}=t;"mousemove"===n.type&&n.preventDefault();const i=r(o);i!==e.value&&e.onChange(i)},i=e=>{UE.subscribe(o)},a=t=>{const n=r(t.clientX);n!==e.value&&e.onChange(n),i()};return()=>{const t=e.max-e.min,r=e.value-e.min,o=Yo(r/t,2),s=100*o,l=100-s+"%",c=`calc(${s}% - ${12*o}px)`;return Fh`
      <div class=${GB} ${hd(n)} @mousedown=${a}>
        <div class=${QB}>
          <div class=${XB} style=${{right:l}}></div>
        </div>
        <div
          class=${JB}
          style=${{left:c}}
          @mousedown=${i}
        ></div>
      </div>
    `}},eP=ff`
  display: flex;
  width: 100%;
  height: 100%;
  overflow: hidden;
  position: absolute;
  top: 0;
  left: 0;
  background-color: var(--canvas-boundary-background);
`,tP=ff`
  display: flex;
  width: 100%;
  height: 100%;
  overflow: hidden;
  position: relative;
  pointer-events: none;
`,nP=ff`
  padding: 0 15px;
  display: flex;
  width: 100%;
  height: 30px;
  overflow: hidden;
  position: absolute;
  left: 0;
  bottom: 0;
  background-color: var(--canvas-boundary-background);
  align-items: center;

  & > button:last-child {
    margin-left: 8px;
  }
`,rP=ff`
  width: 24px;
  height: 100%;
`,oP=(e,t)=>{const n=dd(),r=dd(),o=e.app.value,i=ZS({toWidth:o.toWidth},{getHistory:o.store.history.clone}),{store:a}=i,{history:s}=a,{addUnsubscribe:l}=tE(),c=ll(t,YS,i);l((()=>{c.destroy()}));const u=()=>({...o.store.state.editor.viewport}),d=il({cursor:s.cursor});a.dispatchSync(ak(_a(o.store.state)),Hg(u()));const h=()=>{e.onClose()},f=()=>{e.onChange(d.cursor),h()},m=e=>{d.cursor=e,(e=>{let t=0;for(;s.cursor!==e&&t<=HO;)s.cursor<e?s.redo():s.undo(),t++})(e)};return Ws((()=>{l(o.shortcut$.subscribe((e=>{let{type:t}=e;t===DS.stop&&h()})),al(o.store.state.editor.viewport).subscribe((()=>{i.store.dispatch(Hg(u()))})),(()=>{qS(i)}))})),()=>Fh`
    <div class=${eP}>
      <div class=${tP} ${hd(n)}>
        <${PM} root=${n} canvas=${r} grabMove=${!0} />
        <${QM} />
      </div>
    </div>
    <div class=${nP}>
      <${KB}
        min=${-1}
        max=${s.size-1}
        value=${d.cursor}
        .onChange=${m}
      />
      <div class=${rP}></div>
      <${oD} variant="soft" size="1" text="Apply" .onClick=${f} />
      <${oD} size="1" text="Cancel" .onClick=${h} />
    </div>
  `};var iP,aP={exports:{}},sP=(iP||(iP=1,function(e,t){e.exports=function(){function e(e,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(0, 0, 0, 0)";return Array.isArray(e)&&(e={r:e[0],g:e[1],b:e[2],a:e[3]}),"hex"==o?t(e):"rgb"==o?n(e,i):"hsl"==o?r(e):e}function t(e){Array.isArray(e)&&(e={r:e[0],g:e[1],b:e[2],a:e[3]});var t=e.r.toString(16);e.r<16&&(t="0"+t);var n=e.g.toString(16);e.g<16&&(n="0"+n);var r=e.b.toString(16);e.b<16&&(r="0"+r);var o="";if(e.a<1){var i=Math.floor(255*e.a);o=i.toString(16),i<16&&(o="0"+o)}return"#"+t+n+r+o}function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(0, 0, 0, 0)";if(Array.isArray(e)&&(e={r:e[0],g:e[1],b:e[2],a:e[3]}),!(typeof e>"u"))return 1==e.a||typeof e.a>"u"?isNaN(e.r)?t:"rgb("+e.r+","+e.g+","+e.b+")":"rgba("+e.r+","+e.g+","+e.b+","+e.a+")"}function r(e){return Array.isArray(e)&&(e={r:e[0],g:e[1],b:e[2],a:e[3]}),1==e.a||typeof e.a>"u"?"hsl("+e.h+","+e.s+"%,"+e.l+"%)":"hsla("+e.h+","+e.s+"%,"+e.l+"%,"+e.a+")"}var o={format:e,rgb:n,hsl:r,hex:t};function i(e,t){return t=typeof t>"u"?1:t,Math.round(e*t)/t}function a(e){return e*Math.PI/180}function s(e){var t=180*e/Math.PI;return t<0&&(t=360+t),t}function l(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)+t*Math.cos(a(e))}function c(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)+t*Math.sin(a(e))}function u(e,t){return s(Math.atan2(t,e))}var d={round:i,radianToDegree:s,degreeToRadian:a,getXInCircle:l,getYInCircle:c,caculateAngle:u},h={aliceblue:"rgb(240, 248, 255)",antiquewhite:"rgb(250, 235, 215)",aqua:"rgb(0, 255, 255)",aquamarine:"rgb(127, 255, 212)",azure:"rgb(240, 255, 255)",beige:"rgb(245, 245, 220)",bisque:"rgb(255, 228, 196)",black:"rgb(0, 0, 0)",blanchedalmond:"rgb(255, 235, 205)",blue:"rgb(0, 0, 255)",blueviolet:"rgb(138, 43, 226)",brown:"rgb(165, 42, 42)",burlywood:"rgb(222, 184, 135)",cadetblue:"rgb(95, 158, 160)",chartreuse:"rgb(127, 255, 0)",chocolate:"rgb(210, 105, 30)",coral:"rgb(255, 127, 80)",cornflowerblue:"rgb(100, 149, 237)",cornsilk:"rgb(255, 248, 220)",crimson:"rgb(237, 20, 61)",cyan:"rgb(0, 255, 255)",darkblue:"rgb(0, 0, 139)",darkcyan:"rgb(0, 139, 139)",darkgoldenrod:"rgb(184, 134, 11)",darkgray:"rgb(169, 169, 169)",darkgrey:"rgb(169, 169, 169)",darkgreen:"rgb(0, 100, 0)",darkkhaki:"rgb(189, 183, 107)",darkmagenta:"rgb(139, 0, 139)",darkolivegreen:"rgb(85, 107, 47)",darkorange:"rgb(255, 140, 0)",darkorchid:"rgb(153, 50, 204)",darkred:"rgb(139, 0, 0)",darksalmon:"rgb(233, 150, 122)",darkseagreen:"rgb(143, 188, 143)",darkslateblue:"rgb(72, 61, 139)",darkslategray:"rgb(47, 79, 79)",darkslategrey:"rgb(47, 79, 79)",darkturquoise:"rgb(0, 206, 209)",darkviolet:"rgb(148, 0, 211)",deeppink:"rgb(255, 20, 147)",deepskyblue:"rgb(0, 191, 255)",dimgray:"rgb(105, 105, 105)",dimgrey:"rgb(105, 105, 105)",dodgerblue:"rgb(30, 144, 255)",firebrick:"rgb(178, 34, 34)",floralwhite:"rgb(255, 250, 240)",forestgreen:"rgb(34, 139, 34)",fuchsia:"rgb(255, 0, 255)",gainsboro:"rgb(220, 220, 220)",ghostwhite:"rgb(248, 248, 255)",gold:"rgb(255, 215, 0)",goldenrod:"rgb(218, 165, 32)",gray:"rgb(128, 128, 128)",grey:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",greenyellow:"rgb(173, 255, 47)",honeydew:"rgb(240, 255, 240)",hotpink:"rgb(255, 105, 180)",indianred:"rgb(205, 92, 92)",indigo:"rgb(75, 0, 130)",ivory:"rgb(255, 255, 240)",khaki:"rgb(240, 230, 140)",lavender:"rgb(230, 230, 250)",lavenderblush:"rgb(255, 240, 245)",lawngreen:"rgb(124, 252, 0)",lemonchiffon:"rgb(255, 250, 205)",lightblue:"rgb(173, 216, 230)",lightcoral:"rgb(240, 128, 128)",lightcyan:"rgb(224, 255, 255)",lightgoldenrodyellow:"rgb(250, 250, 210)",lightgreen:"rgb(144, 238, 144)",lightgray:"rgb(211, 211, 211)",lightgrey:"rgb(211, 211, 211)",lightpink:"rgb(255, 182, 193)",lightsalmon:"rgb(255, 160, 122)",lightseagreen:"rgb(32, 178, 170)",lightskyblue:"rgb(135, 206, 250)",lightslategray:"rgb(119, 136, 153)",lightslategrey:"rgb(119, 136, 153)",lightsteelblue:"rgb(176, 196, 222)",lightyellow:"rgb(255, 255, 224)",lime:"rgb(0, 255, 0)",limegreen:"rgb(50, 205, 50)",linen:"rgb(250, 240, 230)",magenta:"rgb(255, 0, 255)",maroon:"rgb(128, 0, 0)",mediumaquamarine:"rgb(102, 205, 170)",mediumblue:"rgb(0, 0, 205)",mediumorchid:"rgb(186, 85, 211)",mediumpurple:"rgb(147, 112, 219)",mediumseagreen:"rgb(60, 179, 113)",mediumslateblue:"rgb(123, 104, 238)",mediumspringgreen:"rgb(0, 250, 154)",mediumturquoise:"rgb(72, 209, 204)",mediumvioletred:"rgb(199, 21, 133)",midnightblue:"rgb(25, 25, 112)",mintcream:"rgb(245, 255, 250)",mistyrose:"rgb(255, 228, 225)",moccasin:"rgb(255, 228, 181)",navajowhite:"rgb(255, 222, 173)",navy:"rgb(0, 0, 128)",oldlace:"rgb(253, 245, 230)",olive:"rgb(128, 128, 0)",olivedrab:"rgb(107, 142, 35)",orange:"rgb(255, 165, 0)",orangered:"rgb(255, 69, 0)",orchid:"rgb(218, 112, 214)",palegoldenrod:"rgb(238, 232, 170)",palegreen:"rgb(152, 251, 152)",paleturquoise:"rgb(175, 238, 238)",palevioletred:"rgb(219, 112, 147)",papayawhip:"rgb(255, 239, 213)",peachpuff:"rgb(255, 218, 185)",peru:"rgb(205, 133, 63)",pink:"rgb(255, 192, 203)",plum:"rgb(221, 160, 221)",powderblue:"rgb(176, 224, 230)",purple:"rgb(128, 0, 128)",rebeccapurple:"rgb(102, 51, 153)",red:"rgb(255, 0, 0)",rosybrown:"rgb(188, 143, 143)",royalblue:"rgb(65, 105, 225)",saddlebrown:"rgb(139, 69, 19)",salmon:"rgb(250, 128, 114)",sandybrown:"rgb(244, 164, 96)",seagreen:"rgb(46, 139, 87)",seashell:"rgb(255, 245, 238)",sienna:"rgb(160, 82, 45)",silver:"rgb(192, 192, 192)",skyblue:"rgb(135, 206, 235)",slateblue:"rgb(106, 90, 205)",slategray:"rgb(112, 128, 144)",slategrey:"rgb(112, 128, 144)",snow:"rgb(255, 250, 250)",springgreen:"rgb(0, 255, 127)",steelblue:"rgb(70, 130, 180)",tan:"rgb(210, 180, 140)",teal:"rgb(0, 128, 128)",thistle:"rgb(216, 191, 216)",tomato:"rgb(255, 99, 71)",turquoise:"rgb(64, 224, 208)",violet:"rgb(238, 130, 238)",wheat:"rgb(245, 222, 179)",white:"rgb(255, 255, 255)",whitesmoke:"rgb(245, 245, 245)",yellow:"rgb(255, 255, 0)",yellowgreen:"rgb(154, 205, 50)",transparent:"rgba(0, 0, 0, 0)"};var f={isColorName:function(e){return!!h[e]},getColorByName:function(e){return h[e]}};function m(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function p(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.h,t=r.s,n=r.l}var o,a,s;if(e/=360,n/=100,0==(t/=100))o=a=s=n;else{var l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;o=m(c,l,e+1/3),a=m(c,l,e),s=m(c,l,e-1/3)}return{r:i(255*o),g:i(255*a),b:i(255*s)}}var g={HUEtoRGB:m,HSLtoHSV:function(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.h,t=r.s,n=r.l}var o=p(e,t,n);return j(o.r,o.g,o.b)},HSLtoRGB:p},y=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0===a?void 0:a.call(r)},k=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},I=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},$=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),C=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},T=/(#(?:[\da-f]{3}){1,2}|#(?:[\da-f]{8})|rgb\((?:\s*\d{1,3},\s*){2}\d{1,3}\s*\)|rgba\((?:\s*\d{1,3},\s*){3}\d*\.?\d+\s*\)|hsl\(\s*\d{1,3}(?:,\s*\d{1,3}%){2}\s*\)|hsla\(\s*\d{1,3}(?:,\s*\d{1,3}%){2},\s*\d*\.?\d+\s*\)|([\w_\-]+))/gi;function A(e){var t=e.match(T),n=[];if(!t)return n;for(var r=0,o=t.length;r<o;r++)if(t[r].indexOf("#")>-1||t[r].indexOf("rgb")>-1||t[r].indexOf("hsl")>-1)n.push({color:t[r]});else{var i=f.getColorByName(t[r]);i&&n.push({color:t[r],nameColor:i})}var a={next:0};return n.forEach((function(t){var n=e.indexOf(t.color,a.next);t.startIndex=n,t.endIndex=n+t.color.length,a.next=t.endIndex})),n}function O(e){var t=A(e);return t.forEach((function(t,n){e=e.replace(t.color,"@"+n)})),{str:e,matches:t}}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=O(e);return n.str.split(t).map((function(e,t){return e=N(e),n.matches[t]&&(e=e.replace("@"+t,n.matches[t].color)),e}))}function E(e,t){return t.forEach((function(t,n){e=e.replace("@"+n,t.color)})),e}function N(e){return e.replace(/^\s+|\s+$/g,"")}function M(e){if("string"==typeof e){if(f.isColorName(e)&&(e=f.getColorByName(e)),e.indexOf("rgb(")>-1){for(var t=0,n=(o=e.replace("rgb(","").replace(")","").split(",")).length;t<n;t++)o[t]=parseInt(N(o[t]),10);var r={type:"rgb",r:o[0],g:o[1],b:o[2],a:1};return Object.assign(r,_(r))}if(e.indexOf("rgba(")>-1){for(t=0,n=(o=e.replace("rgba(","").replace(")","").split(",")).length;t<n;t++)o[t]=n-1==t?parseFloat(N(o[t])):parseInt(N(o[t]),10);return r={type:"rgb",r:o[0],g:o[1],b:o[2],a:o[3]},Object.assign(r,_(r))}if(e.indexOf("hsl(")>-1){for(t=0,n=(o=e.replace("hsl(","").replace(")","").split(",")).length;t<n;t++)o[t]=parseFloat(N(o[t]));return r={type:"hsl",h:o[0],s:o[1],l:o[2],a:1},Object.assign(r,p(r))}if(e.indexOf("hsla(")>-1){for(t=0,n=(o=e.replace("hsla(","").replace(")","").split(",")).length;t<n;t++)o[t]=n-1==t?parseFloat(N(o[t])):parseInt(N(o[t]),10);return r={type:"hsl",h:o[0],s:o[1],l:o[2],a:o[3]},Object.assign(r,p(r))}if(0==e.indexOf("#")){var o=[],i=1;if(3==(e=e.replace("#","")).length)for(t=0,n=e.length;t<n;t++){var a=e.substr(t,1);o.push(parseInt(a+a,16))}else if(8===e.length){for(t=0,n=e.length;t<n;t+=2)o.push(parseInt(e.substr(t,2),16));i=o.pop()/255}else for(t=0,n=e.length;t<n;t+=2)o.push(parseInt(e.substr(t,2),16));return r={type:"hex",r:o[0],g:o[1],b:o[2],a:i},Object.assign(r,_(r))}}else if("number"==typeof e){if(0<=e&&e<=16777215)return r={type:"hex",r:(16711680&e)>>16,g:(65280&e)>>8,b:(255&e)>>0,a:1},Object.assign(r,_(r));if(0<=e&&e<=4294967295)return r={type:"hex",r:(4278190080&e)>>24,g:(16711680&e)>>16,b:(65280&e)>>8,a:(255&e)/255},Object.assign(r,_(r))}return e}function D(e){"string"==typeof e&&(e=S(e)),e=e.map((function(e){if("string"==typeof e){var t=O(e),n=N(t.str).split(" ");return n[1]?n[1].includes("%")?n[1]=parseFloat(n[1].replace(/%/,""))/100:n[1]=parseFloat(n[1]):n[1]="*",n[0]=E(n[0],t.matches),n}if(Array.isArray(e))return e[1]?"string"==typeof e[1]&&(e[1].includes("%")?e[1]=parseFloat(e[1].replace(/%/,""))/100:e[1]=+e[1]):e[1]="*",[].concat(C(e))}));var t=e.filter((function(e){return"*"===e[1]})).length;if(t>0){var n=(1-e.filter((function(e){return"*"!=e[1]&&1!=e[1]})).map((function(e){return e[1]})).reduce((function(e,t){return e+t}),0))/t;e.forEach((function(t,r){"*"==t[1]&&r>0&&(e.length-1==r||(t[1]=n))}))}return e}var L={matches:A,convertMatches:O,convertMatchesArray:S,reverseMatches:E,parse:M,parseGradient:D,trim:N,color_regexp:T,color_split:","};function j(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.r,t=r.g,n=r.b}var o=e/255,i=t/255,a=n/255,s=Math.max(o,i,a),l=s-Math.min(o,i,a),c=0;return 0==l?c=0:s==o?c=(i-a)/l%6*60:s==i?c=60*((a-o)/l+2):s==a&&(c=60*((o-i)/l+4)),c<0&&(c=360+c),{h:c,s:0==s?0:l/s,v:s}}function _(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.r,t=r.g,n=r.b}e/=255,t/=255,n/=255;var o,a,s=Math.max(e,t,n),l=Math.min(e,t,n),c=(s+l)/2;if(s==l)o=a=0;else{var u=s-l;switch(a=c>.5?u/(2-s-l):u/(s+l),s){case e:o=(t-n)/u+(t<n?6:0);break;case t:o=(n-e)/u+2;break;case n:o=(e-t)/u+4}o/=6}return{h:i(360*o),s:i(100*a),l:i(100*c)}}function z(e){return{r:e,g:e,b:e}}function R(e,t,n){return Math.ceil(.2126*e+.7152*t+.0722*n)}function V(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.r,t=r.g,n=r.b}var o=R(e,t,n);return{y:o,cr:.713*(e-o),cb:.564*(n-o)}}function B(e){return 100*(e>(arguments.length>1&&void 0!==arguments[1]?arguments[1]:.04045)?Math.pow((e+.055)/1.055,2.4):e/12.92)}function P(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.r,t=r.g,n=r.b}var o=e/255,i=t/255,a=n/255;return{x:.4124*(o=B(o))+.3576*(i=B(i))+.1805*(a=B(a)),y:.2126*o+.7152*i+.0722*a,z:.0193*o+.1192*i+.9505*a}}var U={RGBtoCMYK:function(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.r,t=r.g,n=r.b}var o=e/255,i=t/255,a=n/255,s=1-Math.max(o,i,a);return{c:(1-o-s)/(1-s),m:(1-i-s)/(1-s),y:(1-a-s)/(1-s),k:s}},RGBtoGray:function(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.r,t=r.g,n=r.b}return z(V(e,t,n).y)},RGBtoHSL:_,RGBtoHSV:j,RGBtoLAB:function(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.r,t=r.g,n=r.b}return XYZtoLAB(P(e,t,n))},RGBtoSimpleGray:function(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.r,t=r.g,n=r.b}return z(Math.ceil((e+t+n)/3))},RGBtoXYZ:P,RGBtoYCrCb:V,c:function(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.r,t=r.g,n=r.b}return z((e+t+n)/3>90?0:255)},brightness:R,gray:z};var W={CMYKtoRGB:function(e,t,n,r){if(1==arguments.length){var o=arguments[0];e=o.c,t=o.m,n=o.y,r=o.k}return{r:255*(1-e)*(1-r),g:255*(1-t)*(1-r),b:255*(1-n)*(1-r)}}};function F(e){return Math.pow(e,3)>.008856?Math.pow(e,3):(e-16/116)/7.787}function Z(e){return e>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e}function Y(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.x,t=r.y,n=r.z}var o=e/100,a=t/100,s=n/100,l=3.2406*o+-1.5372*a+-.4986*s,c=-.9689*o+1.8758*a+.0415*s,u=.0557*o+-.204*a+1.057*s;return l=Z(l),c=Z(c),u=Z(u),{r:i(255*l),g:i(255*c),b:i(255*u)}}function H(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.l,t=r.a,n=r.b}var o=(e+16)/116,i=t/500+o,a=o-n/200;return o=F(o),{x:95.047*(i=F(i)),y:100*o,z:108.883*(a=F(a))}}var q={XYZtoRGB:Y,LABtoRGB:function(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.l,t=r.a,n=r.b}return Y(H(e,t,n))},LABtoXYZ:H};function G(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.h,t=r.s,n=r.v}var o=e,a=n;o>=360&&(o=0);var s=t*a,l=s*(1-Math.abs(o/60%2-1)),c=a-s,u=[];return 0<=o&&o<60?u=[s,l,0]:60<=o&&o<120?u=[l,s,0]:120<=o&&o<180?u=[0,s,l]:180<=o&&o<240?u=[0,l,s]:240<=o&&o<300?u=[l,0,s]:300<=o&&o<360&&(u=[s,0,l]),{r:i(255*(u[0]+c)),g:i(255*(u[1]+c)),b:i(255*(u[2]+c))}}var Q={HSVtoHSL:function(e,t,n){if(1==arguments.length){var r=arguments[0];e=r.h,t=r.s,n=r.v}var o=G(e,t,n);return _(o.r,o.g,o.b)},HSVtoRGB:G};var X={YCrCbtoRGB:function(e,t,n,r){if(1==arguments.length){var o=arguments[0];e=o.y,t=o.cr,n=o.cb,r=(r=o.bit)||0}var i=e+1.402*(t-r),a=e-.344*(n-r)-.714*(t-r),s=e+1.772*(n-r);return{r:Math.ceil(i),g:Math.ceil(a),b:Math.ceil(s)}}};function J(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex",a={r:i(t.r+(n.r-t.r)*r),g:i(t.g+(n.g-t.g)*r),b:i(t.b+(n.b-t.b)*r),a:i(t.a+(n.a-t.a)*r,100)};return e(a,a.a<1?"rgb":o)}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(!e)return[];"string"==typeof e&&(e=S(e));for(var n=(e=e||[]).length,r=[],o=0;o<n-1;o++)for(var i=0;i<t;i++)r.push(ee(e[o],e[o+1],i/t));return r}function ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex";return J(M(e),M(t),n,r)}function te(e){return e=M(e),(Math.round(299*e.r)+Math.round(587*e.g)+Math.round(114*e.b))/1e3}function ne(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:9,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rgb",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,l=j(M(t)),c=(a-i)*s/r,u=[],d=1;d<=r;d++)l[n]=Math.abs((s-c*d)/s),u.push(e(G(l),o));return u}K.parula=function(e){return K(["#352a87","#0f5cdd","#00b5a6","#ffc337","#fdff00"],e)},K.jet=function(e){return K(["#00008f","#0020ff","#00ffff","#51ff77","#fdff00","#ff0000","#800000"],e)},K.hsv=function(e){return K(["#ff0000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ff0000"],e)},K.hot=function(e){return K(["#0b0000","#ff0000","#ffff00","#ffffff"],e)},K.pink=function(e){return K(["#1e0000","#bd7b7b","#e7e5b2","#ffffff"],e)},K.bone=function(e){return K(["#000000","#4a4a68","#a6c6c6","#ffffff"],e)},K.copper=function(e){return K(["#000000","#3d2618","#9d623e","#ffa167","#ffc77f"],e)};var re={interpolateRGB:J,blend:ee,mix:function(e,t){return ee(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex")},scale:K,contrast:te,contrastColor:function(e){return te(e)>=128?"black":"white"},gradient:function(e){for(var t=[],n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:10)-((e=D(e)).length-1),r=n,o=1,i=e.length;o<i;o++){var a=e[o-1][0],s=e[o][0],l=1==o?e[o][1]:e[o][1]-e[o-1][1],c=o==e.length-1?r:Math.floor(l*n);t=t.concat(K([a,s],c),[s]),r-=c}return t},scaleHSV:ne,scaleH:function(e){return ne(e,"h",arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:360,1)},scaleS:function(e){return ne(e,"s",arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,100)},scaleV:function(e){return ne(e,"v",arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,100)}};function oe(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;++n)if(e[n]!==t[n])return!1;return!0}var ie={euclidean:function(e,t){for(var n=0,r=0,o=e.length;r<o;r++)n+=Math.pow(t[r]-e[r],2);return Math.sqrt(n)},manhattan:function(e,t){for(var n=0,r=0,o=e.length;r<o;r++)n+=Math.abs(t[r]-e[r]);return n},max:function(e,t){for(var n=0,r=0,o=e.length;r<o;r++)n=Math.max(n,Math.abs(t[r]-e[r]));return n}},ae={linear:function(e,t){var n=[],r=Math.round(Math.random()*e),o=Math.floor(e/t);do{n.push(r),r=(r+o)%e}while(n.length<t);return n},shuffle:function(e,t){for(var n=[];n.length<t;){var r=Math.round(Math.random()*e);-1==n.indexOf(r)&&n.push(r)}return n}};function se(e,t,n){var r=1/0,o=0;return t.forEach((function(t,i){var a=n(e,t);a<r&&(r=a,o=i)})),o}function le(e){if(!e.length)return[];for(var t=new Array(e[0].length),n=0,r=t.length;n<r;n++)t[n]=0;var o=0;for(r=e.length;o<r;o++)for(var i=e[o],a=o+1,s=0,l=i.length;s<l;s++)t[s]+=(i[s]-t[s])/a;return t=t.map((function(e){return Math.floor(e)})),t}function ce(e,t,n,r){for(var o=new Array(e),i=0;i<e;i++)o[i]=[];for(var a=0,s=t.length;a<s;a++){var l=t[a];o[se(l,n,r)].push(l)}return o}function ue(e,t,n,r,o,i){for(var a=0;a<e;a++){var s=n[a],l=r[a],c=new Array(l.length);o=!oe(c=s.length>0?le(s):t[Math.floor(i()*t.length)],l),r[a]=c}return o}function de(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"linear";t=t||Math.max(2,Math.ceil(Math.sqrt(e.length/2)));var i="euclidean";"string"==typeof i&&(i=ie[i]);for(var a=0,s=function(){return(a=(9301*a+49297)%233280)/233280},l=function(e,t){return ae[arguments.length>2&&void 0!==arguments[2]?arguments[2]:"linear"](e.length,t).map((function(t){return e[t]}))}(e,t,o),c=!0,u=0;c&&(c=ue(t,e,ce(t,e,l,i),l,!1,s),++u%r!=0););return l}var he={create:function(e,t){var n=document.createElement("canvas");return n.width=e||0,n.height=t||0,n},drawPixels:function(e){var t=this.create(e.width,e.height),n=t.getContext("2d"),r=n.getImageData(0,0,t.width,t.height);return r.data.set(e.pixels),n.putImageData(r,0,0),t},createHistogram:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{black:!0,red:!1,green:!1,blue:!1},i=this.create(e,t),a=i.getContext("2d");a.clearRect(0,0,e,t),a.fillStyle="white",a.fillRect(0,0,e,t),a.globalAlpha=.7;var s={black:!1};o.black?s.black=!1:s.black=!0,o.red?s.red=!1:s.red=!0,o.green?s.green=!1:s.green=!0,o.blue?s.blue=!1:s.blue=!0,Object.keys(n).forEach((function(r){if(!s[r]){var o=n[r],i=Math.max.apply(Math,o),l=e/o.length;a.fillStyle=r,o.forEach((function(e,n){var r=t*(e/i),o=n*l;a.fillRect(o,t-r,l,r)}))}})),"function"==typeof r&&r(i)},getHistogram:function(e){for(var t=new Array(256),n=new Array(256),r=new Array(256),o=new Array(256),i=0;i<256;i++)t[i]=0,n[i]=0,r[i]=0,o[i]=0;return function(e,t){!function(e,t){for(var n=0;n<e;n+=4)t(n)}(e.pixels.length,(function(n){t(e.pixels,n)}))}(e,(function(e,i){var a=Math.round(ge.brightness(e[i],e[i+1],e[i+2]));t[a]++,n[e[i]]++,r[e[i+1]]++,o[e[i+2]]++})),{black:t,red:n,green:r,blue:o}},getBitmap:function(e,t){var n=this.drawPixels(e);return{pixels:n.getContext("2d").getImageData(t.x||0,t.y||0,t.width||n.width,t.height||n.height).data,width:t.width,height:t.height}},putBitmap:function(e,t,n){var r=this.drawPixels(e),o=this.drawPixels(t),i=r.getContext("2d");return i.drawImage(o,n.x,n.y),e.pixels=i.getImageData(0,0,e.width,e.height).data,e}},fe=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(this,e),this.isLoaded=!1,this.imageUrl=t,this.opt=n,this.initialize()}return v(e,[{key:"initialize",value:function(){this.canvas=this.createCanvas(),this.context=this.canvas.getContext("2d")}},{key:"createCanvas",value:function(){return document.createElement("canvas")}},{key:"load",value:function(e){this.loadImage(e)}},{key:"loadImage",value:function(e){var t=this,n=this.context;this.newImage=new Image;var r=this.newImage;r.onload=function(){var o=r.height/r.width;t.opt.canvasWidth&&t.opt.canvasHeight?(t.canvas.width=t.opt.canvasWidth,t.canvas.height=t.opt.canvasHeight):(t.canvas.width=t.opt.maxWidth?t.opt.maxWidth:r.width,t.canvas.height=t.canvas.width*o),n.drawImage(r,0,0,r.width,r.height,0,0,t.canvas.width,t.canvas.height),t.isLoaded=!0,e&&e()},this.getImageUrl((function(e){r.src=e}))}},{key:"load",value:function(e){var t=this;this.newImage=new Image;var n=this.newImage;n.onload=function(){t.isLoaded=!0,e&&e()},this.getImageUrl((function(e){n.src=e}))}},{key:"getImageUrl",value:function(e){if("string"==typeof this.imageUrl)return e(this.imageUrl);if(this.imageUrl instanceof Blob){var t=new FileReader;t.onload=function(t){e(t.target.result)},t.readAsDataURL(this.imageUrl)}}},{key:"getRGBA",value:function(e,t,n,r){return[e,t,n,r]}},{key:"toArray",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),o=r.width,i=r.height,a={pixels:new Uint8ClampedArray(r.data),width:o,height:i};e||(e=function(){return function(e,t){t(e)}}()),e(a,(function(e){var r=he.drawPixels(e);"canvas"==n.returnTo?t(r):t(r.toDataURL(n.outputFormat||"image/png"))}),n)}},{key:"toHistogram",value:function(e){var t=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),n=t.width,r=t.height,o={pixels:new Uint8ClampedArray(t.data),width:n,height:r};return he.getHistogram(o)}},{key:"toRGB",value:function(){for(var e=this.context.getImageData(0,0,this.canvas.width,this.canvas.height).data,t=[],n=0,r=e.length;n<r;n+=4)t[t.length]=[e[n+0],e[n+1],e[n+2],e[n+3]];return t}}]),e}();function me(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{frameTimer:"full"},o=new fe(e);o.loadImage((function(){o.toArray(t,(function(e){"function"==typeof n&&n(e)}),r)}))}var pe={palette:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hex";return t.length>n&&(t=de(t,n)),t.map((function(t){return e(t,r)}))},ImageToCanvas:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{frameTimer:"full"};me(e,t,n,Object.assign({returnTo:"canvas"},r))},ImageToHistogram:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{width:200,height:100},r=new fe(e);r.loadImage((function(){he.createHistogram(n.width||200,n.height||100,r.toHistogram(n),(function(e){"function"==typeof t&&t(e.toDataURL("image/png"))}),n)}))},ImageToRGB:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2];r?r&&(t=new fe(e,n)).loadImage((function(){"function"==typeof r&&r(t.toRGB())})):(t=new fe(e)).loadImage((function(){"function"==typeof n&&n(t.toRGB())}))},ImageToURL:me,histogram:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new fe(e);r.loadImage((function(){"function"==typeof t&&t(r.toHistogram(n))}))},histogramToPoints:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n=[],r=0;r<e.length;r++){var o=e[r];if(0!=r)if(r!=e.length-1){var i=e[r-1],a=e[r+1];a[1],i[1],a[0],i[0];var s=[i[0]+(a[0]-i[0])*t,i[1]+(a[1]-i[1])*t],l=[[].concat(C(i)),[].concat(s)],c=Math.sqrt(Math.pow(o[0]-i[0],2)+Math.pow(o[1]-i[1],2))/Math.sqrt(Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2)),u=l[0][0]+(l[1][0]-l[0][0])*c,d=l[0][1]+(l[1][1]-l[0][1])*c;l[0][0]+=o[0]-u,l[0][1]+=o[1]-d,l[1][0]+=o[0]-u,l[1][1]+=o[1]-d,n[r]=l}else n[r]=[];else n[r]=[]}return n}},ge=w({},o,d,re,L,X,U,W,Q,g,q,pe);function ye(e){return typeof e>"u"||null===e}function ve(e){return!1===ye(e)}function be(e){return"string"==typeof e}function we(e){return"function"==typeof e}function xe(e){return"number"==typeof e}var ke=[{rgb:"#ff0000",start:0},{rgb:"#ffff00",start:.17},{rgb:"#00ff00",start:.33},{rgb:"#00ffff",start:.5},{rgb:"#0000ff",start:.67},{rgb:"#ff00ff",start:.83},{rgb:"#ff0000",start:1}];function Ie(e){for(var t,n,r=0;r<ke.length;r++)if(ke[r].start>=e){t=ke[r-1],n=ke[r];break}return t&&n?ge.mix(t.rgb,n.rgb,(e-t.start)/(n.start-t.start)):ke[0].rgb}!function(){for(var e=0,t=ke.length;e<t;e++){var n=ke[e],r=ge.parse(n.rgb);n.r=r.r,n.g=r.g,n.b=r.b}}();var $e={colors:ke,checkHueColor:Ie,getHueScale:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=arguments[2],r=ye(n)?e-t:t,o=ye(n)?e+scale:n,i=[],a=0;a<ke.length;a++){var s=ke[a];r<=s.start&&s.start<o?i.push({rgb:s.rgb,start:s.start}):ke[a+1]&&s.start<r&&r<ke[a+1].start?i.push({rgb:Ie(r),start:r}):ke[a-1]&&ke[a-1].start<o&&o<s.start?i.push({rgb:Ie(o),start:o}):s.start<r||s.start>o||i.push({rgb:s.rgb,start:s.start})}return i}},Ce={identity:function(){return[1,0,0,0,1,0,0,0,1]},stretching:function(e){return[e,0,0,0,1,0,0,0,1]},squeezing:function(e){return[e,0,0,0,1/e,0,0,0,1]},scale:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[e=e||0===e?e:1,0,0,0,t=t||0===t?t:1,0,0,0,1]},scaleX:function(e){return this.scale(e)},scaleY:function(e){return this.scale(1,e)},translate:function(e,t){return[1,0,e,0,1,t,0,0,1]},rotate:function(e){var t=this.radian(e);return[Math.cos(t),-Math.sin(t),0,Math.sin(t),Math.cos(t),0,0,0,1]},rotate90:function(){return[0,-1,0,1,0,0,0,0,1]},rotate180:function(){return[-1,0,0,0,-1,0,0,0,1]},rotate270:function(){return[0,1,0,-1,0,0,0,0,1]},radian:function(e){return e*Math.PI/180},skew:function(e,t){var n=this.radian(e),r=this.radian(t);return[1,Math.tan(n),0,Math.tan(r),1,0,0,0,1]},skewX:function(e){var t=this.radian(e);return[1,Math.tan(t),0,0,1,0,0,0,1]},skewY:function(e){var t=this.radian(e);return[1,0,0,Math.tan(t),1,0,0,0,1]},shear1:function(e){return[1,-Math.tan(this.radian(e)/2),0,0,1,0,0,0,1]},shear2:function(e){return[1,0,0,Math.sin(this.radian(e)),1,0,0,0,1]}},Te={CONSTANT:Ce,radian:function(e){return Ce.radian(e)},multiply:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]},identity:function(e){return this.multiply(Ce.identity(),e)},translate:function(e,t,n){return this.multiply(Ce.translate(e,t),n)},rotate:function(e,t){return this.multiply(Ce.rotate(e),t)},shear1:function(e,t){return this.multiply(Ce.shear1(e),t)},shear2:function(e,t){return this.multiply(Ce.shear2(e),t)},rotateShear:function(e,t){var n=t;return n=this.shear1(e,n),n=this.shear2(e,n),this.shear1(e,n)}};function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"center";return function(r,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=ot(r.pixels.length,r.width,r.height),s=r.width,l=r.height;"center"==t&&(t=Math.floor(s/2)),"center"==n&&(n=Math.floor(l/2));var c=Te.CONSTANT.translate(-t,-n),u=Te.CONSTANT.translate(t,n),d=Te.CONSTANT.shear1(e),h=Te.CONSTANT.shear2(e);ft((function(e,t,n,o){var i=Te.multiply(c,[n,o,1]);i=Te.multiply(d,i).map(Math.round),i=Te.multiply(h,i).map(Math.round),i=Te.multiply(d,i).map(Math.round),i=Te.multiply(u,i);var a=$(i,2),f=a[0],m=a[1];f<0||m<0||f>s-1||m>l-1||gt(e,m*s+f<<2,r.pixels,t)}))(a,(function(){o(a)}),i)}}var Oe={crop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2],r=arguments[3],o=ot(n*r*4,n,r);return function(i,a){for(var s=t,l=0;s<r;s++,l++)for(var c=e,u=0;c<n;c++,u++)o.pixels[l*n*u]=i.pixels[s*n*c];a(o)}},resize:function(e,t){return function(n,r){var o=he.drawPixels(n),i=o.getContext("2d");o.width=e,o.height=t,r({pixels:new Uint8ClampedArray(i.getImageData(0,0,e,t).data),width:e,height:t})}},flipH:function(){return function(e,t){for(var n=e.width,r=e.height,o=n%2==1?Math.floor(n/2):n/2,i=0;i<r;i++)for(var a=0;a<o;a++){var s=i*n+a<<2,l=i*n+(n-1-a)<<2;ht(e.pixels,s,l)}t(e)}},flipV:function(){return function(e,t){for(var n=e.width,r=e.height,o=r%2==1?Math.floor(r/2):r/2,i=0;i<o;i++)for(var a=0;a<n;a++){var s=i*n+a<<2,l=(r-1-i)*n+a<<2;ht(e.pixels,s,l)}t(e)}},rotate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e=st(e),e%=360,function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(0==e)return t;if(90==e||270==e)var o=ot(t.pixels.length,t.height,t.width);else{if(180!=e)return Ae(e)(t,n,r);o=ot(t.pixels.length,t.width,t.height)}ft((function(n,r,i,a){if(90==e)var s=i*o.width+(o.width-1-a)<<2;else 270==e?s=(o.height-1-i)*o.width+a<<2:180==e&&(s=(o.height-1-a)*o.width+(o.width-1-i)<<2);gt(o.pixels,s,t.pixels,r)}))(t,(function(){n(o)}),r)}},rotateDegree:Ae,histogram:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"gray",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0;r<t.length-1;r++)for(var o=t[r],i=t[r+1],a=i[0]-o[0],s=(i[1]-o[1])/a,l=0,c=o[0];l<a;l++,c++)n[c]=o[1]+l*s;return n[255]=255,ut("red"===e?function(){$r=n[$r]}:"green"===e?function(){$g=n[$g]}:"blue"===e?function(){$b=n[$b]}:function(){var e=Color.RGBtoYCrCb($r,$g,$b),t=Color.YCrCbtoRGB(clamp(n[clamp(e.y)]),e.cr,e.cb,0);$r=t.r,$g=t.g,$b=t.b},{},{$realPoints:n})},"rotate-degree":Ae};function Se(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=st(arguments.length>0&&void 0!==arguments[0]?arguments[0]:200);return ut("\n        // refer to Color.brightness \n        const v = ($C * Math.ceil($r * 0.2126 + $g * 0.7152 + $b * 0.0722) ) >= $scale ? 255 : 0;\n\n        if ($hasColor) {\n\n            if (v == 0) {\n                $r = 0; \n                $g = 0; \n                $b = 0;\n            }\n            \n        } else {\n            const value = Math.round(v);\n            $r = value; \n            $g = value;\n            $b = value; \n        }\n        \n    ",{$C:(e=st(e))/100,$scale:n,$hasColor:t})}var Ee={bitonal:function(e,t){return ut("        \n        const thresholdColor = ( $r + $g + $b ) <= $threshold ? $darkColor : $lightColor\n\n        $r = thresholdColor.r;\n        $g = thresholdColor.g;\n        $b = thresholdColor.b; \n    ",{$threshold:arguments.length>2&&void 0!==arguments[2]?arguments[2]:100},{$darkColor:ge.parse(e),$lightColor:ge.parse(t)})},brightness:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e=st(e),ut("\n        $r += $C;\n        $g += $C;\n        $b += $C;\n    ",{$C:Math.floor(e/100*255)})},brownie:function(){return ut("\n        $r = $matrix[0] * $r + $matrix[1] * $g + $matrix[2] * $b + $matrix[3] * $a;\n        $g = $matrix[4] * $r + $matrix[5] * $g + $matrix[6] * $b + $matrix[7] * $a;\n        $b = $matrix[8] * $r + $matrix[9] * $g + $matrix[10] * $b + $matrix[11] * $a;\n        $a = $matrix[12] * $r + $matrix[13] * $g + $matrix[14] * $b + $matrix[15] * $a;        \n    ",{$matrix:[.5997023498159715,.34553243048391263,-.2708298674538042,0,-.037703249837783157,.8609577587992641,.15059552388459913,0,.24113635128153335,-.07441037908422492,.44972182064877153,0,0,0,0,1]})},clip:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e=st(e),ut("\n\n        $r = ($r > 255 - $C) ? 255 : 0;\n        $g = ($g > 255 - $C) ? 255 : 0;\n        $b = ($b > 255 - $C) ? 255 : 0;\n\n    ",{$C:2.55*Math.abs(e)})},contrast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e=st(e),ut("\n        $r *= $C;\n        $g *= $C;\n        $b *= $C;\n    ",{$C:Math.max((128+e)/128,0)})},gamma:function(){return ut("\n        $r = Math.pow($r / 255, $C) * 255;\n        $g = Math.pow($g / 255, $C) * 255;\n        $b = Math.pow($b / 255, $C) * 255;\n    ",{$C:st(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)})},gradient:function(){var e=[].concat(Array.prototype.slice.call(arguments));1===e.length&&"string"==typeof e[0]&&(e=ge.convertMatchesArray(e[0])),e=e.map((function(e){return ge.matches(e).length?{type:"param",value:e}:{type:"scale",value:e}}));var t=e.filter((function(e){return"scale"==e.type}))[0];t=t?+t.value:256,e=e.filter((function(e){return"param"==e.type})).map((function(e){return e.value})).join(",");var n=ge.gradient(e,t).map((function(e){var t=ge.parse(e);return{r:t.r,g:t.g,b:t.b,a:t.a}}));return ut("\n        const colorIndex = clamp(Math.ceil($r * 0.2126 + $g * 0.7152 + $b * 0.0722));\n        const newColorIndex = clamp(Math.floor(colorIndex * ($scale / 256)));\n        const color = $colors[newColorIndex];\n\n        $r = color.r; \n        $g = color.g; \n        $b = color.b; \n        $a = clamp(Math.floor(color.a * 256));\n    ",{},{$colors:n,$scale:t})},grayscale:function(e){var t=(e=st(e))/100;return t>1&&(t=1),ut("\n        $r = $matrix[0] * $r + $matrix[1] * $g + $matrix[2] * $b + $matrix[3] * $a;\n        $g = $matrix[4] * $r + $matrix[5] * $g + $matrix[6] * $b + $matrix[7] * $a;\n        $b = $matrix[8] * $r + $matrix[9] * $g + $matrix[10] * $b + $matrix[11] * $a;\n        $a = $matrix[12] * $r + $matrix[13] * $g + $matrix[14] * $b + $matrix[15] * $a;\n    ",{$matrix:[.2126+.7874*(1-t),.7152-.7152*(1-t),.0722-.0722*(1-t),0,.2126-.2126*(1-t),.7152+.2848*(1-t),.0722-.0722*(1-t),0,.2126-.2126*(1-t),.7152-.7152*(1-t),.0722+.9278*(1-t),0,0,0,0,1]})},hue:function(){return ut("\n        var hsv = Color.RGBtoHSV($r, $g, $b);\n\n        // 0 ~ 360 \n        var h = hsv.h;\n        h += Math.abs($C);\n        h = h % 360;\n        hsv.h = h;\n\n        var rgb = Color.HSVtoRGB(hsv);\n\n        $r = rgb.r;\n        $g = rgb.g;\n        $b = rgb.b;\n    ",{$C:st(arguments.length>0&&void 0!==arguments[0]?arguments[0]:360)})},invert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return ut("\n        $r = (255 - $r) * $C;\n        $g = (255 - $g) * $C;\n        $b = (255 - $b) * $C;\n    ",{$C:(e=st(e))/100})},kodachrome:function(){return ut("\n        $r = $matrix[0] * $r + $matrix[1] * $g + $matrix[2] * $b + $matrix[3] * $a;\n        $g = $matrix[4] * $r + $matrix[5] * $g + $matrix[6] * $b + $matrix[7] * $a;\n        $b = $matrix[8] * $r + $matrix[9] * $g + $matrix[10] * $b + $matrix[11] * $a;\n        $a = $matrix[12] * $r + $matrix[13] * $g + $matrix[14] * $b + $matrix[15] * $a;\n    ",{$matrix:[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,0,0,0,1]})},matrix:function(){return ut("\n        $r = $matrix[0] * $r + $matrix[1] * $g + $matrix[2] * $b + $matrix[3] * $a;\n        $g = $matrix[4] * $r + $matrix[5] * $g + $matrix[6] * $b + $matrix[7] * $a;\n        $b = $matrix[8] * $r + $matrix[9] * $g + $matrix[10] * $b + $matrix[11] * $a;\n        $a = $matrix[12] * $r + $matrix[13] * $g + $matrix[14] * $b + $matrix[15] * $a;\n    ",{$matrix:[arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,arguments.length>15&&void 0!==arguments[15]?arguments[15]:0]})},noise:function(){return ut("\n        const C = Math.abs($C) * 5;\n        const min = -C;\n        const max = C;\n        const noiseValue = Math.round(min + (Math.random() * (max - min)));\n\n        $r += noiseValue;\n        $g += noiseValue;\n        $b += noiseValue;\n    ",{$C:st(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)})},opacity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return ut("\n        $a *= $C; \n    ",{$C:(e=st(e))/100})},polaroid:function(){return ut("\n        $r = $matrix[0] * $r + $matrix[1] * $g + $matrix[2] * $b + $matrix[3] * $a;\n        $g = $matrix[4] * $r + $matrix[5] * $g + $matrix[6] * $b + $matrix[7] * $a;\n        $b = $matrix[8] * $r + $matrix[9] * $g + $matrix[10] * $b + $matrix[11] * $a;\n        $a = $matrix[12] * $r + $matrix[13] * $g + $matrix[14] * $b + $matrix[15] * $a;\n    ",{$matrix:[1.438,-.062,-.062,0,-.122,1.378,-.122,0,-.016,-.016,1.483,0,0,0,0,1]})},saturation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=(e=st(e))/100,n=1-Math.abs(t);return ut("\n        $r = $matrix[0] * $r + $matrix[1] * $g + $matrix[2] * $b + $matrix[3] * $a;\n        $g = $matrix[4] * $r + $matrix[5] * $g + $matrix[6] * $b + $matrix[7] * $a;\n        $b = $matrix[8] * $r + $matrix[9] * $g + $matrix[10] * $b + $matrix[11] * $a;\n        $a = $matrix[12] * $r + $matrix[13] * $g + $matrix[14] * $b + $matrix[15] * $a;        \n    ",{$matrix:[n,0,0,0,0,n,0,0,0,0,n,0,0,0,0,n]})},sepia:function(){var e=st(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1);return e>1&&(e=1),ut("\n        $r = $matrix[0] * $r + $matrix[1] * $g + $matrix[2] * $b + $matrix[3] * $a;\n        $g = $matrix[4] * $r + $matrix[5] * $g + $matrix[6] * $b + $matrix[7] * $a;\n        $b = $matrix[8] * $r + $matrix[9] * $g + $matrix[10] * $b + $matrix[11] * $a;\n        $a = $matrix[12] * $r + $matrix[13] * $g + $matrix[14] * $b + $matrix[15] * $a;        \n    ",{$matrix:[.393+.607*(1-e),.769-.769*(1-e),.189-.189*(1-e),0,.349-.349*(1-e),.686+.314*(1-e),.168-.168*(1-e),0,.272-.272*(1-e),.534-.534*(1-e),.131+.869*(1-e),0,0,0,0,1]})},shade:function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return ut("\n        $r *= $redValue;\n        $g *= $greenValue;\n        $b *= $blueValue;\n    ",{$redValue:st(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1),$greenValue:st(e),$blueValue:st(t)})},shift:function(){return ut("\n        $r = $matrix[0] * $r + $matrix[1] * $g + $matrix[2] * $b + $matrix[3] * $a;\n        $g = $matrix[4] * $r + $matrix[5] * $g + $matrix[6] * $b + $matrix[7] * $a;\n        $b = $matrix[8] * $r + $matrix[9] * $g + $matrix[10] * $b + $matrix[11] * $a;\n        $a = $matrix[12] * $r + $matrix[13] * $g + $matrix[14] * $b + $matrix[15] * $a;        \n    ",{$matrix:[1.438,-.062,-.062,0,-.122,1.378,-.122,0,-.016,-.016,1.483,0,0,0,0,1]})},solarize:function(e,t,n){return ut("\n        $r = ($r < $redValue) ? 255 - $r: $r;\n        $g = ($g < $greenValue) ? 255 - $g: $g;\n        $b = ($b < $blueValue) ? 255 - $b: $b;\n    ",{$redValue:st(e),$greenValue:st(t),$blueValue:st(n)})},technicolor:function(){return ut("\n        $r = $matrix[0] * $r + $matrix[1] * $g + $matrix[2] * $b + $matrix[3] * $a;\n        $g = $matrix[4] * $r + $matrix[5] * $g + $matrix[6] * $b + $matrix[7] * $a;\n        $b = $matrix[8] * $r + $matrix[9] * $g + $matrix[10] * $b + $matrix[11] * $a;\n        $a = $matrix[12] * $r + $matrix[13] * $g + $matrix[14] * $b + $matrix[15] * $a;\n    ",{$matrix:[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-.231103377548616,-.7501899197440212,1.847597816108189,0,0,0,0,1]})},threshold:function(){return Se(arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,!1)},"threshold-color":Se,tint:function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return ut("\n\n        $r += (255 - $r) * $redTint;\n        $g += (255 - $g) * $greenTint;\n        $b += (255 - $b) * $blueTint;\n\n    ",{$redTint:st(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1),$greenTint:st(e),$blueTint:st(t)})}};function Ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return yt(Ke([1,2,1,2,4,2,1,2,1],1/16*((e=st(e))/100)))}function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return yt(Ke([1,4,6,4,1,4,16,24,16,4,6,24,36,24,6,4,16,24,16,4,1,4,6,4,1],1/256*((e=st(e))/100)))}function De(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e=st(e),yt([5,5,5,-3,0,-3,-3,-3,-3])}function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e=st(e),yt([5,-3,-3,5,0,-3,5,-3,-3])}function je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return yt(Ke([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,24,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],(e=st(e))/100))}function _e(){return yt(Ke([1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1],1/9))}function ze(){return yt(Ke([1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1],1/9))}function Re(){return yt(Ke([1,0,0,0,1,0,0,0,1,0,1,0,0,1,0,0,1,0,0,0,1,0,1,0,1,0,0,0,0,0,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,0,0,0,0,0,1,0,1,0,1,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0,1,0,0,0,1],1/9))}function Ve(){return yt([-1,-2,-1,0,0,0,1,2,1])}function Be(){return yt([-1,0,1,-2,0,2,-1,0,1])}var Pe=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],Ue=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function We(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}function Fe(e,t,n){return n?function(e,t,n,r){if(isNaN(r)||r<1)return e;r|=0;var o,i,a,s,l,c,u,d,h,f,m,p,g,y,v,b,w,x,k,I,$=e.pixels,C=e.width,T=e.height,A=r+r+1,O=C-1,S=T-1,E=r+1,N=E*(E+1)/2,M=new We,D=M;for(a=1;a<A;a++)if(D=D.next=new We,a==E)var L=D;D.next=M;var j=null,_=null;u=c=0;var z=Pe[r],R=Ue[r];for(i=0;i<T;i++){for(y=v=b=d=h=f=0,m=E*(w=$[c]),p=E*(x=$[c+1]),g=E*(k=$[c+2]),d+=N*w,h+=N*x,f+=N*k,D=M,a=0;a<E;a++)D.r=w,D.g=x,D.b=k,D=D.next;for(a=1;a<E;a++)s=c+((O<a?O:a)<<2),d+=(D.r=w=$[s])*(I=E-a),h+=(D.g=x=$[s+1])*I,f+=(D.b=k=$[s+2])*I,y+=w,v+=x,b+=k,D=D.next;for(j=M,_=L,o=0;o<C;o++)$[c]=d*z>>R,$[c+1]=h*z>>R,$[c+2]=f*z>>R,d-=m,h-=p,f-=g,m-=j.r,p-=j.g,g-=j.b,s=u+((s=o+r+1)<O?s:O)<<2,d+=y+=j.r=$[s],h+=v+=j.g=$[s+1],f+=b+=j.b=$[s+2],j=j.next,m+=w=_.r,p+=x=_.g,g+=k=_.b,y-=w,v-=x,b-=k,_=_.next,c+=4;u+=C}for(o=0;o<C;o++){for(v=b=y=h=f=d=0,m=E*(w=$[c=o<<2]),p=E*(x=$[c+1]),g=E*(k=$[c+2]),d+=N*w,h+=N*x,f+=N*k,D=M,a=0;a<E;a++)D.r=w,D.g=x,D.b=k,D=D.next;for(l=C,a=1;a<=r;a++)c=l+o<<2,d+=(D.r=w=$[c])*(I=E-a),h+=(D.g=x=$[c+1])*I,f+=(D.b=k=$[c+2])*I,y+=w,v+=x,b+=k,D=D.next,a<S&&(l+=C);for(c=o,j=M,_=L,i=0;i<T;i++)$[s=c<<2]=d*z>>R,$[s+1]=h*z>>R,$[s+2]=f*z>>R,d-=m,h-=p,f-=g,m-=j.r,p-=j.g,g-=j.b,s=o+((s=i+E)<S?s:S)*C<<2,d+=y+=j.r=$[s],h+=v+=j.g=$[s+1],f+=b+=j.b=$[s+2],j=j.next,m+=w=_.r,p+=x=_.g,g+=k=_.b,y-=w,v-=x,b-=k,_=_.next,c+=C}return e}(e,0,0,t):stackBlurCanvasRGB(e,0,0,t)}function Ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=st(e),function(n,r){r(Fe(n,e,t))}}function Ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:256;return yt(Ke([1,4,6,4,1,4,16,24,16,4,6,24,-476,24,6,4,16,24,16,4,1,4,6,4,1],-1/(e=st(e))))}var He={blur:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return yt(mt(e=st(e)))},emboss:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;return yt([-2*(e=st(e)),-e,0,-e,1,e,0,e,2*e])},gaussianBlur:Ne,"gaussian-blur":Ne,gaussianBlur5x:Me,"gaussian-blur-5x":Me,grayscale2:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return yt(Ke([.3,.3,.3,0,0,.59,.59,.59,0,0,.11,.11,.11,0,0,0,0,0,0,0,0,0,0,0,0],(e=st(e))/100))},normal:function(){return yt([0,0,0,0,1,0,0,0,0])},kirschHorizontal:De,"kirsch-horizontal":De,kirschVertical:Le,"kirsch-vertical":Le,laplacian:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return yt(Ke([-1,-1,-1,-1,8,-1,-1,-1,-1],(e=st(e))/100))},laplacian5x:je,"laplacian-5x":je,motionBlur:_e,"motion-blur":_e,motionBlur2:ze,"motion-blur-2":ze,motionBlur3:Re,"motion-blur-3":Re,negative:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return yt(Ke([-1,0,0,0,0,0,-1,0,0,0,0,0,-1,0,0,0,0,0,1,0,1,1,1,1,1],(e=st(e))/100))},sepia2:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return yt(Ke([.393,.349,.272,0,0,.769,.686,.534,0,0,.189,.168,.131,0,0,0,0,0,0,0,0,0,0,0,0],(e=st(e))/100))},sharpen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return yt(Ke([0,-1,0,-1,5,-1,0,-1,0],(e=st(e))/100))},sobelHorizontal:Ve,"sobel-horizontal":Ve,sobelVertical:Be,"sobel-vertical":Be,stackBlur:Ze,"stack-blur":Ze,transparency:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return yt(Ke([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,.3,0,0,0,0,0,1],(e=st(e))/100))},unsharpMasking:Ye,"unsharp-masking":Ye};var qe,Ge=w({},Oe,Ee,He,{kirsch:function(){return xt("kirsch-horizontal kirsch-vertical")},sobel:function(){return xt("sobel-horizontal sobel-vertical")},vintage:function(){return xt("brightness(15) saturation(-20) gamma(1.8)")}}),Qe=0,Xe=(b(qe={partial:Ct,multi:It,merge:$t,weight:Ke,repeat:et,colorMatrix:function(e,t,n){var r=e[t],o=e[t+1],i=e[t+2],a=e[t+3];pt(e,t,n[0]*r+n[1]*o+n[2]*i+n[3]*a,n[4]*r+n[5]*o+n[6]*i+n[7]*a,n[8]*r+n[9]*o+n[10]*i+n[11]*a,n[12]*r+n[13]*o+n[14]*i+n[15]*a)},each:nt,eachXY:rt,createRandomCount:function(){return[9,16,25,36,49,64,81,100].sort((function(e,t){return.5-Math.random()}))[0]},createRandRange:function(e,t,n){for(var r=[],o=1;o<=n;o++){var i=Math.random()*(t-e)+e,a=Math.floor(10*Math.random())%2==0?-1:1;r.push(a*i)}r.sort();var s=Math.floor(n>>1),l=r[s];return r[s]=r[0],r[0]=l,r},createBitmap:ot,createBlurMatrix:mt,pack:function(e){return function(t,n){nt(t.pixels.length,(function(n,r){e(t.pixels,n,r,t.pixels[n],t.pixels[n+1],t.pixels[n+2],t.pixels[n+3])}),(function(){n(t)}))}},packXY:ft,pixel:ut,getBitmap:it,putBitmap:at,radian:function(e){return Te.CONSTANT.radian(e)},convolution:yt,parseParamNumber:st,filter:xt,clamp:wt,fillColor:pt,fillPixelColor:gt},"multi",It),b(qe,"merge",$t),b(qe,"matches",vt),b(qe,"parseFilter",bt),b(qe,"partial",Ct),qe),Je=Xe;function Ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.map((function(e){return e*t}))}function et(e,t){for(var n=new Array(t),r=0;r<t;r++)n[r]=e;return n}function tt(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments[3],r=arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1e4,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"full",a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:50,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=function(e){setTimeout(e,0)};function c(){for(var i=function(){var e=[].concat(C(Array(arguments.length>0&&void 0!==arguments[0]?arguments[0]:50))).map((function(e){return"cri = ri + i * s; if (cri >= mx) return {currentRunIndex: cri, i: null}; c(cri); i++;"})).join("\n");return new Function("ri","i","s","mx","c","\n            let cri = ri;\n            \n            "+e+"\n            \n            return {currentRunIndex: cri, i: i} \n        ")}(a),u=s,d={},h=0;h<o;){if(null==(d=i(s,h,t,e,n)).i){u=d.currentRunIndex;break}h=d.i,u=d.currentRunIndex}!function(n){n?s=n:s+=t,s>=e?r():l?l(c):c()}(u)}"requestAnimationFrame"==i&&(l=requestAnimationFrame,o=1e3),"full"==i&&(l=null,o=e),c()}function nt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};tt(e,0,4,(function(e){t(e,e>>2)}),(function(){n()}),r.functionDumpCount,r.frameTimer,r.loopCount)}function rt(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};tt(e,0,4,(function(e){var r=e>>2;n(e,r%t,Math.floor(r/t))}),(function(){r()}),o.functionDumpCount,o.frameTimer,o.loopCount)}function ot(e,t,n){return{pixels:new Uint8ClampedArray(e),width:t,height:n}}function it(e,t){return he.getBitmap(e,t)}function at(e,t,n){return he.putBitmap(e,t,n)}function st(e){return"string"==typeof e&&(e=(e=e.replace(/deg/,"")).replace(/px/,"")),+e}var lt=/(([\w_\-]+)(\(([^\)]*)\))?)+/gi;function ct(e){return function(e){var t={},n=e.map((function(e){var n=[];Object.keys(e.context).forEach((function(e,t){n[e]="n$"+Qe+++e+"$"})),Object.keys(e.rootContext).forEach((function(r,o){n[r]="r$"+Qe+++r+"$",t[n[r]]=e.rootContext[r]}));var r=Object.keys(e.context).filter((function(t){return"number"!=typeof e.context[t]&&"string"!=typeof e.context[t]&&!(Array.isArray(e.context[t])&&("number"==typeof e.context[t][0]||"string"==typeof e.context[t][0]))})).map((function(t,r){return[n[t],JSON.stringify(e.context[t])].join(" = ")})),o=e.callback;return"function"==typeof e.callback&&((o=e.callback.toString().split("{")).shift(),(o=(o=o.join("{")).split("}")).pop(),o=o.join("}")),Object.keys(n).forEach((function(t){var r=n[t];"number"==typeof e.context[t]||"string"==typeof e.context[t]?o=o.replace(new RegExp("\\"+t,"g"),e.context[t]):!Array.isArray(e.context[t])||"number"!=typeof e.context[t][0]&&"string"!=typeof e.context[t][0]?o=o.replace(new RegExp("\\"+t,"g"),r):e.context[t].forEach((function(e,n){o=o.replace(new RegExp("\\"+t+"\\["+n+"\\]","g"),e)}))})),{preCallbackString:o,preContext:r}})),r=n.map((function(e,t){return e.preContext.length?"const "+e.preContext+";":""})).join("\n\n"),o=n.map((function(e){return e.preCallbackString})).join("\n\n"),i=new Function("$pixels","$pixelIndex","$clamp","$Color"," \n    let $r = $pixels[$pixelIndex], $g = $pixels[$pixelIndex+1], $b = $pixels[$pixelIndex+2], $a = $pixels[$pixelIndex+3];\n\n    "+r+"\n\n    "+o+"\n    \n    $pixels[$pixelIndex] = $r\n    $pixels[$pixelIndex+1] = $g \n    $pixels[$pixelIndex+2] = $b   \n    $pixels[$pixelIndex+3] = $a   \n    ");return i.$preCallbackString=o,i.$preContext=r,i.rootContextObject=t,i}([{callback:e,context:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},rootContext:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}}])}function ut(e){var t=ct(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),n=function(e,t){};return n.userFunction=t,n}var dt=[0,1,2,3];function ht(e,t,n){dt.forEach((function(r){var o=e[t+r];e[t+r]=e[n+r],e[n+r]=o}))}function ft(e){return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};rt(t.pixels.length,t.width,(function(n,r,o){e(t.pixels,n,r,o)}),(function(){n(t)}),r)}}function mt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=Math.pow(e,2);return et(1/t,t)}function pt(e,t,n,r,o,i){if(3==arguments.length){var a=arguments[2];n=a.r,r=a.g,o=a.b,i=a.a}"number"==typeof n&&(e[t]=n),"number"==typeof r&&(e[t+1]=r),"number"==typeof o&&(e[t+2]=o),"number"==typeof i&&(e[t+3]=i)}function gt(e,t,n,r){pt(e,t,n[r],n[r+1],n[r+2],n[r+3])}function yt(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255;return t=e.map((function(e,t){return[]})),e.forEach((function(e,o){if(0!=e){var i=t[o];for(o=n;o<=r;o++)i[o]=e*o}})),t}(e);return function(r,o){var i=Math.round(Math.sqrt(e.length)),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.width+t,r=e.height+t;return{pixels:new Uint8ClampedArray(n*r*4),width:n,height:r}}(r,2*i);!function(e,t,n,r){for(var o=t.pixels.length/4,i=0,a=0,s=0,l=0,c=0,u=0,d=0;d<o;d++)s=d%t.width,a=r+(l=Math.floor(d/t.width)),!((i=n+s)>e.width)&&(a>e.height||(c=l*t.width+s<<2,u=a*e.width+i<<2,e.pixels[u]=t.pixels[c],e.pixels[u+1]=t.pixels[c+1],e.pixels[u+2]=t.pixels[c+2],e.pixels[u+3]=t.pixels[c+3]))}(a,r,i,i);for(var s=ot(a.pixels.length,a.width,a.height),l=ot(r.pixels.length,r.width,r.height),c=function(e,t,n,r,o){var i=Math.round(Math.sqrt(e.length)),a=Math.floor(i/2),s=o?1:0,l="let r = 0, g = 0, b = 0, a = 0, scy = 0, scx =0, si = 0; ",c=[],u=[],d=[],h=[];e.forEach((function(e,t){var r=Math.floor(t/i)-a,o=t%i-a;0!=e&&(c.push("$t["+t+"][$sp[(($sy + ("+r+")) * "+n+" + ($sx + ("+o+"))) * 4]]"),u.push("$t["+t+"][$sp[(($sy + ("+r+")) * "+n+" + ($sx + ("+o+"))) * 4 + 1]]"),d.push("$t["+t+"][$sp[(($sy + ("+r+")) * "+n+" + ($sx + ("+o+"))) * 4 + 2]]"),h.push("$t["+t+"][$sp[(($sy + ("+r+")) * "+n+" + ($sx + ("+o+"))) * 4 + 3]]"))})),l+="r = "+c.join(" + ")+"; g = "+u.join(" + ")+"; b = "+d.join(" + ")+"; a = "+h.join(" + ")+";",l+="$dp[$di] = r; $dp[$di+1] = g;$dp[$di+2] = b;$dp[$di+3] = a + ("+s+")*(255-a); ";var f=new Function("$dp","$sp","$di","$sx","$sy","$t",l);return function(e,n,r,o,i){f(e,n,r,o,i,t)}}(e,n,a.width,a.height,t),u=r.pixels.length/4,d=0;d<u;d++){var h=d,f=h%r.width+i,m=Math.floor(h/r.width)+i;c(s.pixels,a.pixels,4*(m*a.width+f),f,m)}(function(e,t,n,r){for(var o=t.pixels.length>>2,i=0,a=0,s=0,l=0,c=0,u=0,d=0;d<o;d++)s=d%t.width,a=r+(l=Math.floor(d/t.width)),!((i=n+s)>e.width)&&(a>e.height||(c=a*e.width+i<<2,u=l*t.width+s<<2,t.pixels[u]=e.pixels[c],t.pixels[u+1]=e.pixels[c+1],t.pixels[u+2]=e.pixels[c+2],t.pixels[u+3]=e.pixels[c+3]))})(s,l,i,i),o(l)}}function vt(e){var t=ge.convertMatches(e),n=t.str.match(lt),r=[];if(!n)return r;r=n.map((function(e){return{filter:e,origin:ge.reverseMatches(e,t.matches)}}));var o={next:0};return r=r.map((function(t){var n=e.indexOf(t.origin,o.next);return t.startIndex=n,t.endIndex=n+t.origin.length,t.arr=bt(t.origin),o.next=t.endIndex,t})).filter((function(e){return!!e.arr.length})),r}function bt(e){var t=ge.convertMatches(e),n=t.str.match(lt);if(!n[0])return[];var r=n[0].split("("),o=r.shift(),i=[];return r.length&&(i=r.shift().split(")")[0].split(",").map((function(e){return ge.reverseMatches(e,t.matches)}))),[o].concat(C(i)).map(ge.trim)}function wt(e){return Math.min(255,e)}function xt(e){return $t(vt(e).map((function(e){return e.arr})))}function kt(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],n=[],r=0,o=e.length;r<o;r++){var i=e[r];i.userFunction?n.push(i):(n.length&&t.push([].concat(C(n))),t.push(i),n=[])}return n.length&&t.push([].concat(C(n))),t.forEach((function(e,n){Array.isArray(e)&&(t[n]=function(){var t=function(e){var t=e.map((function(e){return" \n            "+e.userFunction.$preContext+"\n\n            "+e.userFunction.$preCallbackString+"\n\n            $r = clamp($r); $g = clamp($g); $b = clamp($b); $a = clamp($a);\n        "})).join("\n\n"),n={clamp:wt,Color:ge};e.forEach((function(e){Object.assign(n,e.userFunction.rootContextObject)}));var r="const "+Object.keys(n).map((function(e){return" "+e+" = $rc."+e+" "})).join(","),o=new Function("$p","$pi","$rc"," \n    let $r = $p[$pi], $g = $p[$pi+1], $b = $p[$pi+2], $a = $p[$pi+3];\n    \n    "+r+"\n\n    "+t+"\n    \n    $p[$pi] = $r; $p[$pi+1] = $g; $p[$pi+2] = $b; $p[$pi+3] = $a;\n    ");return function(e,t){o(e,t,n)}}(e);return function(e,n){for(var r=0,o=e.pixels.length;r<o;r+=4)t(e.pixels,r);n(e)}}())})),t}function It(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];t=t.map((function(e){return function(e){if("function"==typeof e)return e;"string"==typeof e&&(e=[e]);var t=(e=e.slice(0)).shift();if("function"==typeof t)return t;var n=e,r=Ge[t]||Je[t];if(!r)throw new Error(t+" is not filter. please check filter name.");return r.apply(r,n)}(e)})).filter((function(e){return e}));var r=(t=kt(t)).length;return function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e,a=0;function s(){t[a].call(null,i,(function(e){i=e,++a>=r?n(i):s()}),o)}s()}}function $t(e){return It.apply(void 0,C(e))}function Ct(e){for(var t=null,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t=1==r.length&&"string"==typeof r[0]?xt(r[0]):$t(r),function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t(it(n,e),(function(t){r(at(n,t,e))}),o)}}var Tt=w({},Ge,Xe),At={Color:ge,HueColor:$e,ColorNames:f,ImageFilter:Tt,Canvas:he,ImageLoader:fe};ge.color;var Ot=0,St=[],Et=function(){function e(t,n,r){if(y(this,e),"string"!=typeof t)this.el=t;else{var o=document.createElement(t);for(var i in this.uniqId=Ot++,n&&(o.className=n),r=r||{})o.setAttribute(i,r[i]);this.el=o}}return v(e,[{key:"attr",value:function(e,t){return 1==arguments.length?this.el.getAttribute(e):(this.el.setAttribute(e,t),this)}},{key:"closest",value:function(t){for(var n=this,r=!1;!(r=n.hasClass(t));){if(!n.el.parentNode)return null;n=new e(n.el.parentNode)}return r?n:null}},{key:"checked",value:function(){return this.el.checked}},{key:"removeClass",value:function(e){return this.el.className=(" "+this.el.className+" ").replace(" "+e+" "," ").trim(),this}},{key:"hasClass",value:function(e){return!!this.el.className&&(" "+this.el.className+" ").indexOf(" "+e+" ")>-1}},{key:"addClass",value:function(e){return this.hasClass(e)||(this.el.className=this.el.className+" "+e),this}},{key:"toggleClass",value:function(e){this.hasClass(e)?this.removeClass(e):this.addClass(e)}},{key:"html",value:function(e){try{"string"==typeof e?this.el.innerHTML=e:this.empty().append(e)}catch{console.log(e)}return this}},{key:"find",value:function(e){return this.el.querySelector(e)}},{key:"$",value:function(t){return new e(this.find(t))}},{key:"findAll",value:function(e){return this.el.querySelectorAll(e)}},{key:"$$",value:function(t){return[].concat(C(this.findAll(t))).map((function(t){return new e(t)}))}},{key:"empty",value:function(){return this.html("")}},{key:"append",value:function(e){return"string"==typeof e?this.el.appendChild(document.createTextNode(e)):this.el.appendChild(e.el||e),this}},{key:"appendTo",value:function(e){return(e.el?e.el:e).appendChild(this.el),this}},{key:"remove",value:function(){return this.el.parentNode&&this.el.parentNode.removeChild(this.el),this}},{key:"text",value:function(){return this.el.textContent}},{key:"css",value:function(e,t){var n=this;if(2==arguments.length)this.el.style[e]=t;else if(1==arguments.length){if("string"==typeof e)return getComputedStyle(this.el)[e];var r=e||{};Object.keys(r).forEach((function(e){n.el.style[e]=r[e]}))}return this}},{key:"cssFloat",value:function(e){return parseFloat(this.css(e))}},{key:"cssInt",value:function(e){return parseInt(this.css(e))}},{key:"px",value:function(e,t){return this.css(e,t+"px")}},{key:"offset",value:function(){var t=this.el.getBoundingClientRect();return{top:t.top+e.getScrollTop(),left:t.left+e.getScrollLeft()}}},{key:"rect",value:function(){return this.el.getBoundingClientRect()}},{key:"position",value:function(){return this.el.style.top?{top:parseFloat(this.css("top")),left:parseFloat(this.css("left"))}:this.el.getBoundingClientRect()}},{key:"size",value:function(){return[this.width(),this.height()]}},{key:"width",value:function(){return this.el.offsetWidth||this.el.getBoundingClientRect().width}},{key:"contentWidth",value:function(){return this.width()-this.cssFloat("padding-left")-this.cssFloat("padding-right")}},{key:"height",value:function(){return this.el.offsetHeight||this.el.getBoundingClientRect().height}},{key:"contentHeight",value:function(){return this.height()-this.cssFloat("padding-top")-this.cssFloat("padding-bottom")}},{key:"dataKey",value:function(e){return this.uniqId+"."+e}},{key:"data",value:function(e,t){if(2!=arguments.length){if(1==arguments.length)return St[this.dataKey(e)];var n=Object.keys(St),r=this.uniqId+".";return n.filter((function(e){return 0==e.indexOf(r)})).map((function(e){return St[e]}))}return St[this.dataKey(e)]=t,this}},{key:"val",value:function(e){return 0==arguments.length?this.el.value:(1==arguments.length&&(this.el.value=e),this)}},{key:"int",value:function(){return parseInt(this.val(),10)}},{key:"float",value:function(){return parseFloat(this.val())}},{key:"show",value:function(){return this.css("display","block")}},{key:"hide",value:function(){return this.css("display","none")}},{key:"toggle",value:function(){return"none"==this.css("display")?this.show():this.hide()}},{key:"scrollTop",value:function(){return this.el===document.body?e.getScrollTop():this.el.scrollTop}},{key:"scrollLeft",value:function(){return this.el===document.body?e.getScrollLeft():this.el.scrollLeft}},{key:"on",value:function(e,t,n,r){return this.el.addEventListener(e,t,n,r),this}},{key:"off",value:function(e,t){return this.el.removeEventListener(e,t),this}},{key:"getElement",value:function(){return this.el}},{key:"createChild",value:function(t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=new e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return r.css(n),this.append(r),r}},{key:"firstChild",value:function(){return new e(this.el.firstElementChild)}},{key:"replace",value:function(e,t){return this.el.replaceChild(t,e),this}}],[{key:"getScrollTop",value:function(){return Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)}},{key:"getScrollLeft",value:function(){return Math.max(window.pageXOffset,document.documentElement.scrollLeft,document.body.scrollLeft)}}]),e}(),Nt=function(){function e(t){y(this,e),this.$store=t,this.initialize()}return v(e,[{key:"initialize",value:function(){var e=this;this.filterProps().forEach((function(t){e.$store.action(t,e)}))}},{key:"filterProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";return Object.getOwnPropertyNames(this.__proto__).filter((function(t){return t.startsWith(e)}))}}]),e}(),Mt=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"initialize",value:function(){x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.$store.colorSetsList=[{name:"Material",colors:["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548","#9E9E9E","#607D8B"],edit:!0},{name:"Custom",edit:!0,colors:[]},{name:"Color Scale",scale:["red","yellow","black"],count:5}],this.$store.currentColorSets={}}},{key:"/list",value:function(e){return Array.isArray(e.userList)&&e.userList.length?e.userList:e.colorSetsList}},{key:"/setUserPalette",value:function(e,t){e.userList=t,e.dispatch("/resetUserPalette"),e.dispatch("/setCurrentColorSets")}},{key:"/resetUserPalette",value:function(e){e.userList&&e.userList.length&&(e.userList=e.userList.map((function(t,n){if("function"==typeof t.colors){var r=t.colors;t.colors=r(e),t._colors=r}return Object.assign({name:"color-"+n,colors:[]},t)})),e.emit("changeUserList"))}},{key:"/setCurrentColorSets",value:function(e,t){var n=e.dispatch("/list");e.currentColorSets=typeof t>"u"?n[0]:"number"==typeof t?n[t]:n.filter((function(e){return e.name==t}))[0],e.emit("changeCurrentColorSets")}},{key:"/getCurrentColorSets",value:function(e){return e.currentColorSets}},{key:"/addCurrentColor",value:function(e,t){Array.isArray(e.currentColorSets.colors)&&(e.currentColorSets.colors.push(t),e.emit("changeCurrentColorSets"),e.emit("addCurrentColor",t))}},{key:"/setCurrentColorAll",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.currentColorSets.colors=t,e.emit("changeCurrentColorSets")}},{key:"/removeCurrentColor",value:function(e,t){e.currentColorSets.colors[t]&&(e.currentColorSets.colors.splice(t,1),e.emit("changeCurrentColorSets"))}},{key:"/removeCurrentColorToTheRight",value:function(e,t){e.currentColorSets.colors[t]&&(e.currentColorSets.colors.splice(t,Number.MAX_VALUE),e.emit("changeCurrentColorSets"))}},{key:"/clearPalette",value:function(e){e.currentColorSets.colors&&(e.currentColorSets.colors=[],e.emit("changeCurrentColorSets"))}},{key:"/getCurrentColors",value:function(e){return e.dispatch("/getColors",e.currentColorSets)}},{key:"/getColors",value:function(e,t){return t.scale?ge.scale(t.scale,t.count):t.colors||[]}},{key:"/getColorSetsList",value:function(e){return e.dispatch("/list").map((function(t){return{name:t.name,edit:t.edit,colors:e.dispatch("/getColors",t)}}))}}]),t}(Nt),Dt={addEvent:function(e,t,n,r){e&&e.addEventListener(t,n,r)},removeEvent:function(e,t,n){e&&e.removeEventListener(t,n)},pos:function(e){return e.touches&&e.touches[0]?e.touches[0]:e},posXY:function(e){var t=this.pos(e);return{x:t.pageX,y:t.pageY}}},Lt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(this,e),this.masterObj=t,this.settingObj=n}return v(e,[{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.settingObj[e]=t||n}},{key:"init",value:function(e){if(!this.has(e)||!this.settingObj[e]){var t=e.split("."),n=this.masterObj.refs[t[0]]||this.masterObj[t[0]]||this.masterObj,r=t.pop();if(n[r]){for(var o=arguments.length,i=Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];var s=n[r].apply(n,i);this.set(e,s)}}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.init(e,t),this.settingObj[e]||t}},{key:"has",value:function(e){return!!this.settingObj[e]}}]),e}(),jt=/^(click|mouse(down|up|move|enter|leave)|touch(start|move|end)|key(down|up|press)|contextmenu|change|input)/gi,_t=/^load (.*)/gi,zt=["Control","Shift","Alt","Meta"],Rt=function(){function e(){y(this,e),this.state=new Lt(this),this.refs={},this.childComponents=this.components()}return v(e,[{key:"newChildComponents",value:function(){var e=this;Object.keys(this.childComponents).forEach((function(t){var n=e.childComponents[t];e[t]=new n(e)}))}},{key:"render",value:function(){this.$el=this.parseTemplate(this.template()),this.refs.$el=this.$el,this.parseTarget(),this.load(),this.afterRender()}},{key:"afterRender",value:function(){}},{key:"components",value:function(){return{}}},{key:"parseTemplate",value:function(e){var t=this,n=new Et("div").html(e).firstChild(),r=n.findAll("[ref]");return[].concat(C(r)).forEach((function(e){var n=e.getAttribute("ref");t.refs[n]=new Et(e)})),n}},{key:"parseTarget",value:function(){var e=this,t=this.$el.findAll("[target]");[].concat(C(t)).forEach((function(t){var n=t.getAttribute("target"),r=t.getAttribute("ref")||n,o=new(0,e.childComponents[n])(e);e[r]=o,e.refs[r]=o.$el,o&&(o.render(),new Et(t.parentNode).replace(t,o.$el.el))}))}},{key:"load",value:function(){var e=this;this.filterProps(_t).forEach((function(t){var n=t.split("load ")[1];e.refs[n]&&e.refs[n].html(e.parseTemplate(e[t].call(e)))}))}},{key:"template",value:function(){return"<div></div>"}},{key:"initialize",value:function(){}},{key:"initializeEvent",value:function(){var e=this;this.initializeEventMachin(),Object.keys(this.childComponents).forEach((function(t){e[t]&&e[t].initializeEvent()}))}},{key:"destroy",value:function(){var e=this;this.destroyEventMachin(),Object.keys(this.childComponents).forEach((function(t){e[t]&&e[t].destroy()}))}},{key:"destroyEventMachin",value:function(){this.removeEventAll()}},{key:"initializeEventMachin",value:function(){this.filterProps(jt).forEach(this.parseEvent.bind(this))}},{key:"collectProps",value:function(){if(!this.collapsedProps){var e=this.__proto__,t=[];do{t.push.apply(t,C(Object.getOwnPropertyNames(e))),e=e.__proto__}while(e);this.collapsedProps=t}return this.collapsedProps}},{key:"filterProps",value:function(e){return this.collectProps().filter((function(t){return t.match(e)}))}},{key:"parseEvent",value:function(e){var t=e.split(" ");this.bindingEvent(t,this[e].bind(this))}},{key:"getDefaultDomElement",value:function(e){var t=void 0;return(t=e?this.refs[e]||this[e]||window[e]:this.el||this.$el||this.$root)instanceof Et?t.getElement():t}},{key:"getDefaultEventObject",value:function(e){var t=this,n=e.split("."),r=n.shift(),o=n.includes("Control"),i=n.includes("Shift"),a=n.includes("Alt"),s=n.includes("Meta"),l=(n=n.filter((function(e){return!1===zt.includes(e)}))).filter((function(e){return!!t[e]}));return{eventName:r,isControl:o,isShift:i,isAlt:a,isMeta:s,codes:n=n.filter((function(e){return!1===l.includes(e)})).map((function(e){return e.toLowerCase()})),checkMethodList:l}}},{key:"bindingEvent",value:function(e,t){var n=function(e){return Array.isArray(e)?e:Array.from(e)}(e),r=n[0],o=n[1],i=n.slice(2);o=this.getDefaultDomElement(o);var a=this.getDefaultEventObject(r);a.dom=o,a.delegate=i.join(" "),this.addEvent(a,t)}},{key:"matchPath",value:function(e,t){return e?e.matches(t)?e:this.matchPath(e.parentElement,t):null}},{key:"getBindings",value:function(){return this._bindings||this.initBindings(),this._bindings}},{key:"addBinding",value:function(e){this.getBindings().push(e)}},{key:"initBindings",value:function(){this._bindings=[]}},{key:"checkEventType",value:function(e,t){var n=this,r=!t.isControl||e.ctrlKey,o=!t.isShift||e.shiftKey,i=!t.isAlt||e.altKey,a=!t.isMeta||e.metaKey,s=!0;t.codes.length&&(s=t.codes.includes(e.code.toLowerCase())||t.codes.includes(e.key.toLowerCase()));var l=!0;return t.checkMethodList.length&&(l=t.checkMethodList.every((function(t){return n[t].call(n,e)}))),r&&i&&o&&a&&s&&l}},{key:"makeCallback",value:function(e,t){var n=this;return e.delegate?function(r){if(r.xy=Dt.posXY(r),n.checkEventType(r,e)){var o=n.matchPath(r.target||r.srcElement,e.delegate);if(o)return r.delegateTarget=o,r.$delegateTarget=new Et(o),t(r)}}:function(r){if(r.xy=Dt.posXY(r),n.checkEventType(r,e))return t(r)}}},{key:"addEvent",value:function(e,t){e.callback=this.makeCallback(e,t),this.addBinding(e);var n=!0;"touchstart"===e.eventName&&(n={passive:!0}),Dt.addEvent(e.dom,e.eventName,e.callback,n)}},{key:"removeEventAll",value:function(){var e=this;this.getBindings().forEach((function(t){e.removeEvent(t)})),this.initBindings()}},{key:"removeEvent",value:function(e){var t=e.eventName,n=e.dom,r=e.callback;Dt.removeEvent(n,t,r)}}]),e}(),Vt=/^@/,Bt=function(e){function t(e){y(this,t);var n=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.opt=e||{},e&&e.$store&&(n.$store=e.$store),n.initialize(),n.initializeStoreEvent(),n}return k(t,e),v(t,[{key:"initializeStoreEvent",value:function(){var e=this;this.storeEvents={},this.filterProps(Vt).forEach((function(t){var n=t.split("@");n.shift();var r=n.join("@");e.storeEvents[r]=e[t].bind(e),e.$store.on(r,e.storeEvents[r])}))}},{key:"destoryStoreEvent",value:function(){var e=this;Object.keys(this.storeEvents).forEach((function(t){e.$store.off(t,e.storeEvents[t])}))}}]),t}(Rt);var Pt=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"initialize",value:function(){x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.$store.rgb={},this.$store.hsl={},this.$store.hsv={},this.$store.alpha=1,this.$store.format="hex"}},{key:"/changeFormat",value:function(e,t){e.format=t,e.emit("changeFormat")}},{key:"/initColor",value:function(e,t,n){e.dispatch("/changeColor",t,n,!0),e.emit("initColor")}},{key:"/changeColor",value:function(e,t,n,r){"string"==typeof(t=t||"#FF0000")&&(t=ge.parse(t)),t.source=t.source||n,e.alpha=function(e){return typeof e>"u"||null==e}(t.a)?e.alpha:t.a,e.format="hsv"!=t.type&&t.type||e.format,"hsl"==t.type?(e.hsl=Object.assign(e.hsl,t),e.rgb=ge.HSLtoRGB(e.hsl),e.hsv=ge.HSLtoHSV(t)):"hex"==t.type||"rgb"==t.type?(e.rgb=Object.assign(e.rgb,t),e.hsl=ge.RGBtoHSL(e.rgb),e.hsv=ge.RGBtoHSV(t)):"hsv"==t.type&&(e.hsv=Object.assign(e.hsv,t),e.rgb=ge.HSVtoRGB(e.hsv),e.hsl=ge.HSVtoHSL(e.hsv)),r||e.emit("changeColor",t.source)}},{key:"/getHueColor",value:function(e){return $e.checkHueColor(e.hsv.h/360)}},{key:"/toString",value:function(e,t){var n=e[t=t||e.format]||e.rgb;return ge.format(w({},n,{a:e.alpha}),t)}},{key:"/toColor",value:function(e,t){return"rgb"==(t=t||e.format)?e.dispatch("/toRGB"):"hsl"==t?e.dispatch("/toHSL"):"hex"==t?e.dispatch("/toHEX"):e.dispatch("/toString",t)}},{key:"/toRGB",value:function(e){return e.dispatch("/toString","rgb")}},{key:"/toHSL",value:function(e){return e.dispatch("/toString","hsl")}},{key:"/toHEX",value:function(e){return e.dispatch("/toString","hex").toUpperCase()}}]),t}(Nt),Ut=function(){function e(t){y(this,e),this.callbacks=[],this.actions=[],this.modules=t.modules||[],this.initialize()}return v(e,[{key:"initialize",value:function(){this.initializeModule()}},{key:"initializeModule",value:function(){var e=this;this.modules.forEach((function(t){new t(e)}))}},{key:"action",value:function(e,t){this.actions[e]={context:t,callback:t[e]}}},{key:"dispatch",value:function(e){var t=[].concat(Array.prototype.slice.call(arguments)),n=(e=t.shift(),this.actions[e]);if(n)return n.callback.apply(n.context,[this].concat(C(t)))}},{key:"module",value:function(e){}},{key:"on",value:function(e,t){this.callbacks.push({event:e,callback:t})}},{key:"off",value:function(e,t){0==arguments.length?this.callbacks=[]:1==arguments.length?this.callbacks=this.callbacks.filter((function(t){return t.event!=e})):2==arguments.length&&(this.callbacks=this.callbacks.filter((function(n){return n.event!=e&&n.callback!=t})))}},{key:"emit",value:function(){var e=[].concat(Array.prototype.slice.call(arguments)),t=e.shift();this.callbacks.filter((function(e){return e.event==t})).forEach((function(t){t&&"function"==typeof t.callback&&t.callback.apply(t,C(e))}))}}]),e}(),Wt=function(e){function t(e){y(this,t);var n=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.isColorPickerShow=!1,n.isShortCut=!1,n.hideDelay=+(typeof n.opt.hideDeplay>"u"?2e3:n.opt.hideDelay),n.timerCloseColorPicker,n.autoHide=n.opt.autoHide||!0,n.outputFormat=n.opt.outputFormat,n.$checkColorPickerClass=n.checkColorPickerClass.bind(n),n}return k(t,e),v(t,[{key:"initialize",value:function(){var e=this;this.$body=null,this.$root=null,this.$store=new Ut({modules:[Pt,Mt]}),this.callbackChange=function(){e.callbackColorValue()},this.callbackLastUpdate=function(){e.callbackLastUpdateColorValue()},this.callbackAddCurrentColor=function(t){e.callbackAddCurrentColorValue(t)},this.colorpickerShowCallback=function(){},this.colorpickerHideCallback=function(){},this.colorpickerLastUpdateCallback=function(){},this.colorpickerAddCurrentColorCallback=function(){},this.$body=new Et(this.getContainer()),this.$root=new Et("div","easylogic-colorpicker",{tabIndex:-1}),"inline"==this.opt.position&&this.$body.append(this.$root),this.opt.type&&this.$root.addClass(this.opt.type),this.opt.hideInformation&&this.$root.addClass("hide-information"),this.opt.hideColorsets&&this.$root.addClass("hide-colorsets"),this.$arrow=new Et("div","arrow"),this.$root.append(this.$arrow),this.opt.colorSets?this.$store.dispatch("/setUserPalette",this.opt.colorSet):we(this.opt.onRetrievePreset)?this.$store.dispatch("/setUserPalette",this.opt.onRetrievePreset()):this.$store.dispatch("/setUserPalette",[]),this.render(),this.$root.append(this.$el),this.initColorWithoutChangeEvent(this.opt.color),this.initializeEvent()}},{key:"initColorWithoutChangeEvent",value:function(e){this.$store.dispatch("/initColor",e)}},{key:"show",value:function(e,t,n,r,o,i){this.colorpickerShowCallback=n,this.colorpickerHideCallback=r,this.colorpickerLastUpdateCallback=o,this.colorpickerAddCurrentColorCallback=i,this.$root.css(this.getInitalizePosition()).show(),this.isColorPickerShow=!0,this.isShortCut=e.isShortCut||!1,this.outputFormat=e.outputFormat,this.hideDelay=+(typeof e.hideDelay>"u"?2e3:e.hideDelay),this.hideDelay>0&&this.setHideDelay(this.hideDelay),this.$root.appendTo(this.$body),this.definePosition(e),this.initColorWithoutChangeEvent(t)}},{key:"initColor",value:function(e,t){this.$store.dispatch("/changeColor",e,t)}},{key:"hide",value:function(){this.isColorPickerShow&&(this.$root.hide(),this.$root.remove(),this.isColorPickerShow=!1,this.callbackHideColorValue())}},{key:"setColorsInPalette",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.$store.dispatch("/setCurrentColorAll",e)}},{key:"setUserPalette",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.$store.dispatch("/setUserPalette",e)}},{key:"getOption",value:function(e){return this.opt[e]}},{key:"setOption",value:function(e,t){this.opt[e]=t}},{key:"isType",value:function(e){return this.getOption("type")==e}},{key:"isPaletteType",value:function(){return this.isType("palette")}},{key:"isSketchType",value:function(){return this.isType("sketch")}},{key:"getContainer",value:function(){return this.opt.container||document.body}},{key:"getColor",value:function(e){return this.$store.dispatch("/toColor",e)}},{key:"definePositionForArrow",value:function(e,t,n){}},{key:"definePosition",value:function(e){var t=this.$root.width(),n=this.$root.height(),r=e.left-this.$body.scrollLeft();t+r>window.innerWidth&&(r-=t+r-window.innerWidth),r<0&&(r=0);var o=e.top-this.$body.scrollTop();n+o>window.innerHeight&&(o-=n+o-window.innerHeight),o<0&&(o=0),this.$root.css({left:r+"px",top:o+"px"})}},{key:"getInitalizePosition",value:function(){return"inline"==this.opt.position?{position:"relative",left:"auto",top:"auto",display:"inline-block"}:{position:"fixed",left:"-10000px",top:"-10000px"}}},{key:"isAbsolute",value:function(){return"inline"!==this.opt.position}},{key:"mouseup.isAbsolute document",value:function(e){this.__isMouseDown=!1,this.checkInHtml(e.target)||(0==this.checkColorPickerClass(e.target)?this.hide():this.__isMouseIn||(clearTimeout(this.timerCloseColorPicker),this.timerCloseColorPicker=setTimeout(this.hide.bind(this),this.delayTime||this.hideDelay)))}},{key:"keyup.isAbsolute.escape $root",value:function(e){this.hide()}},{key:"mouseover.isAbsolute $root",value:function(e){clearTimeout(this.timerCloseColorPicker)}},{key:"mousemove.isAbsolute $root",value:function(e){clearTimeout(this.timerCloseColorPicker)}},{key:"mouseenter.isAbsolute $root",value:function(e){clearTimeout(this.timerCloseColorPicker),this.__isMouseIn=!0}},{key:"mouseleave.isAbsolute $root",value:function(e){this.__isMouseIn=!1,this.__isMouseDown||(clearTimeout(this.timerCloseColorPicker),this.timerCloseColorPicker=setTimeout(this.hide.bind(this),this.delayTime||this.hideDelay))}},{key:"mousedown.isAbsolute $root",value:function(e){this.__isMouseDown=!0}},{key:"setHideDelay",value:function(e){this.delayTime=e||0}},{key:"runHideDelay",value:function(){this.isColorPickerShow&&this.setHideDelay()}},{key:"callbackColorValue",value:function(e){e=e||this.getCurrentColor(),"function"==typeof this.opt.onChange&&this.opt.onChange.call(this,e),"function"==typeof this.colorpickerShowCallback&&this.colorpickerShowCallback(e)}},{key:"callbackLastUpdateColorValue",value:function(e){e=e||this.getCurrentColor(),"function"==typeof this.opt.onLastUpdate&&this.opt.onLastUpdate.call(this,e),"function"==typeof this.colorpickerLastUpdateCallback&&this.colorpickerLastUpdateCallback(e)}},{key:"callbackAddCurrentColorValue",value:function(e){"function"==typeof this.opt.onLastUpdate&&this.opt.onAddPreset.call(this,e),"function"==typeof this.colorpickerAddCurrentColorCallback&&this.colorpickerAddCurrentColorCallback(e)}},{key:"callbackHideColorValue",value:function(e){e=e||this.getCurrentColor(),"function"==typeof this.opt.onHide&&this.opt.onHide.call(this,e),"function"==typeof this.colorpickerHideCallback&&this.colorpickerHideCallback(e)}},{key:"getCurrentColor",value:function(){return this.$store.dispatch("/toColor",this.outputFormat)}},{key:"checkColorPickerClass",value:function(e){var t=new Et(e).closest("codemirror-colorview"),n=new Et(e).closest("easylogic-colorpicker"),r=new Et(e).closest("CodeMirror");return e.nodeName,!!(n||t||r)}},{key:"checkInHtml",value:function(e){return"HTML"==e.nodeName}},{key:"initializeStoreEvent",value:function(){x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initializeStoreEvent",this).call(this),this.$store.on("changeColor",this.callbackChange),this.$store.on("lastUpdateColor",this.callbackLastUpdate),this.$store.on("changeFormat",this.callbackChange),this.$store.on("addCurrentColor",this.callbackAddCurrentColor)}},{key:"destroy",value:function(){x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.$store.off("changeColor",this.callbackChange),this.$store.off("lastUpdateColor",this.callbackLastUpdate),this.$store.off("changeFormat",this.callbackChange),this.$store.off("addCurrentColor",this.callbackAddCurrentColor),this.callbackChange=void 0,this.callbackLastUpdate=void 0,this.callbackAddCurrentColor=void 0,this.colorpickerShowCallback=void 0,this.colorpickerHideCallback=void 0}}]),t}(Bt),Ft=function(e){function t(e){y(this,t);var n=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.source="base-box",n}return k(t,e),v(t,[{key:"refresh",value:function(){}},{key:"refreshColorUI",value:function(e){}},{key:"changeColor",value:function(e){this.$store.dispatch("/changeColor",Object.assign({source:this.source},e||{}))}},{key:"mouseup document",value:function(e){this.onDragEnd(e)}},{key:"mousemove document",value:function(e){this.onDragMove(e)}},{key:"mousedown $bar",value:function(e){e.preventDefault(),this.isDown=!0}},{key:"mousedown $container",value:function(e){this.isDown=!0,this.onDragStart(e)}},{key:"touchend document",value:function(e){this.onDragEnd(e)}},{key:"touchmove document",value:function(e){this.onDragMove(e)}},{key:"touchstart $bar",value:function(e){e.preventDefault(),this.isDown=!0}},{key:"touchstart $container",value:function(e){this.onDragStart(e)}},{key:"onDragStart",value:function(e){this.isDown=!0,this.refreshColorUI(e)}},{key:"onDragMove",value:function(e){this.isDown&&this.refreshColorUI(e)}},{key:"onDragEnd",value:function(e){this.isDown&&(this.$store.emit("lastUpdateColor"),this.isDown=!1)}},{key:"@changeColor",value:function(e){this.source!=e&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),t}(Bt),Zt=function(e){function t(e){y(this,t);var n=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.minValue=0,n.maxValue=1,n.source="base-slider",n}return k(t,e),v(t,[{key:"getMinMaxPosition",value:function(){var e=this.getMinPosition(),t=this.getMaxDist();return{min:e,max:e+t,width:t}}},{key:"getCurrent",value:function(e){return min+this.getMaxDist()*e}},{key:"getMinPosition",value:function(){return this.refs.$container.offset().left}},{key:"getMaxDist",value:function(){return this.state.get("$container.width")}},{key:"getDist",value:function(e){var t=this.getMinMaxPosition(),n=t.min,r=t.max;return e<n?0:e>r?100:(e-n)/(r-n)*100}},{key:"getCaculatedDist",value:function(e){var t=e?this.getMousePosition(e):this.getCurrent(this.getDefaultValue()/this.maxValue);return this.getDist(t)}},{key:"getDefaultValue",value:function(){return 0}},{key:"setMousePosition",value:function(e){this.refs.$bar.css({left:e+"px"})}},{key:"getMousePosition",value:function(e){return Dt.pos(e).pageX}},{key:"refresh",value:function(){this.setColorUI()}},{key:"setColorUI",value:function(e){if(e=e||this.getDefaultValue(),this.lastV===e)return!0;this.lastV=e,e<=this.minValue?this.refs.$bar.addClass("first").removeClass("last"):e>=this.maxValue?this.refs.$bar.addClass("last").removeClass("first"):this.refs.$bar.removeClass("last").removeClass("first"),this.setMousePosition(this.getMaxDist()*((e||0)/this.maxValue))}}]),t}(Ft),Yt=function(e){function t(e){y(this,t);var n=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.minValue=0,n.maxValue=1,n.source="value-control",n}return k(t,e),v(t,[{key:"template",value:function(){return'\n            <div class="value">\n                <div ref="$container" class="value-container">\n                    <div ref="$bar" class="drag-bar"></div>\n                </div>\n            </div>\n        '}},{key:"setBackgroundColor",value:function(){this.refs.$container.css("background-color",this.$store.dispatch("/toRGB"))}},{key:"refresh",value:function(){x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"refresh",this).call(this),this.setBackgroundColor()}},{key:"getDefaultValue",value:function(){return this.$store.hsv.v}},{key:"refreshColorUI",value:function(e){var t=this.getCaculatedDist(e);this.setColorUI(t/100*this.maxValue),this.changeColor({type:"hsv",v:t/100*this.maxValue})}}]),t}(Zt),Ht=function(e){function t(e){y(this,t);var n=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.minValue=0,n.maxValue=1,n.source="opacity-control",n}return k(t,e),v(t,[{key:"template",value:function(){return'\n        <div class="opacity">\n            <div ref="$container" class="opacity-container">\n                <div ref="$colorbar" class="color-bar"></div>\n                <div ref="$bar" class="drag-bar2"></div>\n            </div>\n        </div>\n        '}},{key:"refresh",value:function(){x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"refresh",this).call(this),this.setOpacityColorBar()}},{key:"setOpacityColorBar",value:function(){var e=Object.assign({},this.$store.rgb);e.a=0;var t=ge.format(e,"rgb");e.a=1;var n=ge.format(e,"rgb");this.setOpacityColorBarBackground(t,n)}},{key:"setOpacityColorBarBackground",value:function(e,t){this.refs.$colorbar.css("background","linear-gradient(to right, "+e+", "+t+")")}},{key:"getDefaultValue",value:function(){return this.$store.alpha}},{key:"refreshColorUI",value:function(e){var t=this.getCaculatedDist(e);this.setColorUI(t/100*this.maxValue),this.changeColor({a:Math.floor(t)/100*this.maxValue})}}]),t}(Zt),qt=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"components",value:function(){return{Value:Yt,Opacity:Ht}}},{key:"template",value:function(){return'\n        <div class="control">\n            <div target="Value" ></div>\n            <div target="Opacity" ></div>\n            <div ref="$controlPattern" class="empty"></div>\n            <div ref="$controlColor" class="color"></div>\n        </div>\n        '}},{key:"setBackgroundColor",value:function(){this.refs.$controlColor.css("background-color",this.$store.dispatch("/toRGB"))}},{key:"refresh",value:function(){this.setColorUI(),this.setBackgroundColor()}},{key:"setColorUI",value:function(){this.Value.setColorUI(),this.Opacity.setColorUI()}},{key:"@changeColor",value:function(e){"macos-control"!=e&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),t}(Bt),Gt=function(e){function t(e){y(this,t);var n=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.width=214,n.height=214,n.thinkness=0,n.half_thinkness=0,n.source="colorwheel",n}return k(t,e),v(t,[{key:"template",value:function(){return'\n        <div class="wheel">\n            <canvas class="wheel-canvas" ref="$colorwheel" ></canvas>\n            <div class="wheel-canvas" ref="$valuewheel" ></div>\n            <div class="drag-pointer" ref="$drag_pointer"></div>\n        </div>\n        '}},{key:"refresh",value:function(e){this.setColorUI(e)}},{key:"setColorUI",value:function(e){this.renderCanvas(),this.renderValue(),this.setHueColor(null,e)}},{key:"renderValue",value:function(){var e=1-this.$store.hsv.v;this.refs.$valuewheel.css({"background-color":"rgba(0, 0, 0, "+e+")"})}},{key:"renderWheel",value:function(e,t){this.width&&!e&&(e=this.width),this.height&&!t&&(t=this.height);var n=new Et("canvas"),r=n.el.getContext("2d");n.el.width=e,n.el.height=t,n.css({width:e+"px",height:t+"px"});for(var o=r.getImageData(0,0,e,t),i=o.data,a=Math.floor(e/2),s=Math.floor(t/2),l=e>t?s:a,c=a,d=s,h=0;h<t;h++)for(var f=0;f<e;f++){var m=f-c+1,p=h-d+1,g=m*m+p*p,y=u(m,p),v=ge.HSVtoRGB(y,Math.min(Math.sqrt(g)/l,1),1),b=4*(h*e+f);i[b]=v.r,i[b+1]=v.g,i[b+2]=v.b,i[b+3]=255}return r.putImageData(o,0,0),this.thinkness>0&&(r.globalCompositeOperation="destination-out",r.fillStyle="black",r.beginPath(),r.arc(c,d,l-this.thinkness,0,2*Math.PI),r.closePath(),r.fill()),n}},{key:"renderCanvas",value:function(){if(!this.$store.createdWheelCanvas){var e=this.refs.$colorwheel,t=e.el.getContext("2d"),n=e.size(),r=$(n,2),o=r[0],i=r[1];this.width&&!o&&(o=this.width),this.height&&!i&&(i=this.height),e.el.width=o,e.el.height=i,e.css({width:o+"px",height:i+"px"});var a=this.renderWheel(o,i);t.drawImage(a.el,0,0),this.$store.createdWheelCanvas=!0}}},{key:"getDefaultValue",value:function(){return this.$store.hsv.h}},{key:"getDefaultSaturation",value:function(){return this.$store.hsv.s}},{key:"getCurrentXY",value:function(e,t,n,r,o){return e?Dt.posXY(e):function(e,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{x:l(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),y:c(e,t,n)}}(t,n,r,o)}},{key:"getRectangle",value:function(){var e=this.state.get("$el.width"),t=this.state.get("$el.height"),n=this.state.get("$colorwheel.width")/2,r=this.refs.$el.offset().left,o=r+e/2,i=this.refs.$el.offset().top;return{minX:r,minY:i,width:e,height:t,radius:n,centerX:o,centerY:i+t/2}}},{key:"setHueColor",value:function(e,t){if(this.state.get("$el.width")){var n=this.getRectangle(),r=n.minX,o=n.minY,i=n.radius,a=n.centerX,s=n.centerY,l=this.getCurrentXY(e,this.getDefaultValue(),this.getDefaultSaturation()*i,a,s),c=(p=l.x)-a,d=(g=l.y)-s,h=c*c+d*d,f=u(c,d);if(h>i*i)var m=this.getCurrentXY(null,f,i,a,s),p=m.x,g=m.y;var y=Math.min(Math.sqrt(h)/i,1);this.refs.$drag_pointer.css({left:p-r+"px",top:g-o+"px"}),t||this.changeColor({type:"hsv",h:f,s:y})}}},{key:"changeColor",value:function(e){this.$store.dispatch("/changeColor",Object.assign({source:this.source},e||{}))}},{key:"@changeColor",value:function(e){this.source!=e&&this.refresh(!0)}},{key:"@initColor",value:function(){this.refresh(!0)}},{key:"mouseup document",value:function(e){this.isDown&&(this.isDown=!1,this.$store.emit("lastUpdateColor"))}},{key:"mousemove document",value:function(e){this.isDown&&this.setHueColor(e)}},{key:"mousedown $drag_pointer",value:function(e){e.preventDefault(),this.isDown=!0}},{key:"mousedown $el",value:function(e){this.isDown=!0,this.setHueColor(e)}},{key:"touchend document",value:function(e){this.isDown&&(this.isDown=!1,this.$store.emit("lastUpdateColor"))}},{key:"touchmove document",value:function(e){this.isDown&&this.setHueColor(e)}},{key:"touchstart $drag_pointer",value:function(e){e.preventDefault(),this.isDown=!0}},{key:"touchstart $el",value:function(e){e.preventDefault(),this.isDown=!0,this.setHueColor(e)}}]),t}(Bt),Qt="chromedevtool-information",Xt=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"template",value:function(){return'\n        <div class="information hex">\n            <div ref="$informationChange" class="information-change">\n                <button ref="$formatChangeButton" type="button" class="format-change-button arrow-button"></button>\n            </div>\n            <div class="information-item hex">\n                <div class="input-field hex">\n                    <input ref="$hexCode" class="input" type="text" />\n                    <div class="title">HEX</div>\n                </div>\n            </div>\n            <div class="information-item rgb">\n                <div class="input-field rgb-r">\n                    <input ref="$rgb_r" class="input" type="number" step="1" min="0" max="255" />\n                    <div class="title">R</div>\n                </div>\n                <div class="input-field rgb-g">\n                    <input ref="$rgb_g" class="input" type="number" step="1" min="0" max="255" />\n                    <div class="title">G</div>\n                </div>\n                <div class="input-field rgb-b">\n                    <input ref="$rgb_b" class="input" type="number" step="1" min="0" max="255" />\n                    <div class="title">B</div>\n                </div>          \n                <div class="input-field rgb-a">\n                    <input ref="$rgb_a" class="input" type="number" step="0.01" min="0" max="1" />\n                    <div class="title">A</div>\n                </div>                                                            \n            </div>\n            <div class="information-item hsl">\n                <div class="input-field hsl-h">\n                    <input ref="$hsl_h" class="input" type="number" step="1" min="0" max="360" />\n                    <div class="title">H</div>\n                </div>\n                <div class="input-field hsl-s">\n                    <input ref="$hsl_s" class="input" type="number" step="1" min="0" max="100" />\n                    <div class="postfix">%</div>\n                    <div class="title">S</div>\n                </div>\n                <div class="input-field hsl-l">\n                    <input ref="$hsl_l" class="input" type="number" step="1" min="0" max="100" />\n                    <div class="postfix">%</div>                        \n                    <div class="title">L</div>\n                </div>\n                <div class="input-field hsl-a">\n                    <input ref="$hsl_a" class="input" type="number" step="0.01" min="0" max="1" />\n                    <div class="title">A</div>\n                </div>\n            </div>\n        </div>\n        '}},{key:"setCurrentFormat",value:function(e){this.format=e,this.initFormat()}},{key:"initFormat",value:function(){var e=this,t=this.format||"hex";["hex","rgb","hsl"].filter((function(e){return e!==t})).forEach((function(t){e.$el.removeClass(t)})),this.$el.addClass(t)}},{key:"nextFormat",value:function(){var e=this.format||"hex",t="hex";"hex"==e?t="rgb":"rgb"==e?t="hsl":"hsl"==e&&(t="hex"),this.format=t,this.initFormat(),this.$store.dispatch("/changeFormat",this.format),this.$store.emit("lastUpdateColor")}},{key:"goToFormat",value:function(e){this.format=e,("rgb"===e||"hsl"===e)&&this.initFormat(),this.$store.dispatch("/changeFormat",this.format)}},{key:"getFormat",value:function(){return this.format||"hex"}},{key:"checkNumberKey",value:function(e){var t=e.which,n=!1;return(37==t||39==t||8==t||46==t||9==t)&&(n=!0),!(!n&&(t<48||t>57))}},{key:"checkNotNumberKey",value:function(e){return!this.checkNumberKey(e)}},{key:"changeRgbColor",value:function(){this.$store.dispatch("/changeColor",{type:"rgb",r:this.refs.$rgb_r.int(),g:this.refs.$rgb_g.int(),b:this.refs.$rgb_b.int(),a:this.refs.$rgb_a.float(),source:Qt}),this.$store.emit("lastUpdateColor")}},{key:"changeHslColor",value:function(){this.$store.dispatch("/changeColor",{type:"hsl",h:this.refs.$hsl_h.int(),s:this.refs.$hsl_s.int(),l:this.refs.$hsl_l.int(),a:this.refs.$hsl_a.float(),source:Qt}),this.$store.emit("lastUpdateColor")}},{key:"@changeColor",value:function(e){Qt!=e&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}},{key:"input $rgb_r",value:function(e){this.changeRgbColor()}},{key:"input $rgb_g",value:function(e){this.changeRgbColor()}},{key:"input $rgb_b",value:function(e){this.changeRgbColor()}},{key:"input $rgb_a",value:function(e){this.changeRgbColor()}},{key:"input $hsl_h",value:function(e){this.changeHslColor()}},{key:"input $hsl_s",value:function(e){this.changeHslColor()}},{key:"input $hsl_l",value:function(e){this.changeHslColor()}},{key:"input $hsl_a",value:function(e){this.changeHslColor()}},{key:"keyup $hexCode",value:function(e){var t=this.refs.$hexCode.val();"#"==t.charAt(0)&&(7==t.length||9===t.length)&&(this.$store.dispatch("/changeColor",t,Qt),this.$store.emit("lastUpdateColor"))}},{key:"click $formatChangeButton",value:function(e){this.nextFormat()}},{key:"click $el .information-item.hex .input-field .title",value:function(e){this.goToFormat("hex")}},{key:"click $el .information-item.rgb .input-field .title",value:function(e){this.goToFormat("hsl")}},{key:"click $el .information-item.hsl .input-field .title",value:function(e){this.goToFormat("rgb")}},{key:"setRGBInput",value:function(){this.refs.$rgb_r.val(this.$store.rgb.r),this.refs.$rgb_g.val(this.$store.rgb.g),this.refs.$rgb_b.val(this.$store.rgb.b),this.refs.$rgb_a.val(this.$store.alpha)}},{key:"setHSLInput",value:function(){this.refs.$hsl_h.val(this.$store.hsl.h),this.refs.$hsl_s.val(this.$store.hsl.s),this.refs.$hsl_l.val(this.$store.hsl.l),this.refs.$hsl_a.val(this.$store.alpha)}},{key:"setHexInput",value:function(){this.refs.$hexCode.val(this.$store.dispatch("/toHEX"))}},{key:"refresh",value:function(){this.setCurrentFormat(this.$store.format),this.setRGBInput(),this.setHSLInput(),this.setHexInput()}}]),t}(Bt),Jt=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"template",value:function(){return'\n            <div class="color-chooser">\n                <div class="color-chooser-container">\n                    <div class="colorsets-item colorsets-item-header">\n                        <h1 class="title">Color Palettes</h1>\n                        <span ref="$toggleButton" class="items">&times;</span>\n                    </div>\n                    <div ref="$colorsetsList" class="colorsets-list"></div>\n                </div>\n            </div>\n        '}},{key:"refresh",value:function(){this.load()}},{key:"@changeCurrentColorSets",value:function(){this.refresh()}},{key:"@toggleColorChooser",value:function(){this.toggle()}},{key:"load $colorsetsList",value:function(){return"\n            <div>\n                "+this.$store.dispatch("/getColorSetsList").map((function(e,t){return'\n                        <div class="colorsets-item" data-colorsets-index="'+t+'" >\n                            <h1 class="title">'+e.name+'</h1>\n                            <div class="items">\n                                <div>\n                                    '+e.colors.filter((function(e,t){return t<5})).map((function(e){return'<div class="color-item" title="'+(e=e||"rgba(255, 255, 255, 1)")+'">\n                                                <div class="color-view" style="background-color: '+e+'"></div>\n                                            </div>'})).join("")+"\n                                </div>\n                            </div>\n                        </div>"})).join("")+"\n            </div>\n        "}},{key:"show",value:function(){this.$el.addClass("open")}},{key:"hide",value:function(){this.$el.removeClass("open")}},{key:"toggle",value:function(){this.$el.toggleClass("open")}},{key:"click $toggleButton",value:function(e){this.toggle()}},{key:"click $colorsetsList .colorsets-item",value:function(e){var t=e.$delegateTarget;if(t){var n=parseInt(t.attr("data-colorsets-index"));this.$store.dispatch("/setCurrentColorSets",n),this.hide()}}},{key:"destroy",value:function(){x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.hide()}}]),t}(Bt),Kt=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"template",value:function(){return'\n            <div class="colorsets">\n                <div class="menu" title="Open Color Palettes">\n                    <button ref="$colorSetsChooseButton" type="button" class="color-sets-choose-btn arrow-button"></button>\n                </div>\n                <div ref="$colorSetsColorList" class="color-list"></div>\n            </div>\n        '}},{key:"load $colorSetsColorList",value:function(){var e=this.$store.dispatch("/getCurrentColorSets"),t=this.$store.dispatch("/getCurrentColors");return"\n            <div>\n                <h6>"+e.name+'</h6>\n                <div class="current-color-sets">\n                '+t.map((function(e,t){return'<div class="color-item" title="'+e+'" data-index="'+t+'" data-color="'+e+'">\n                        <div class="empty"></div>\n                        <div class="color-view" style="background-color: '+e+'"></div>\n                    </div>'})).join("")+"   \n                "+(e.edit?'<div class="add-color-item">+</div>':"")+"         \n                </div>\n            </div>\n            \n        "}},{key:"refresh",value:function(){this.load()}},{key:"addColor",value:function(e){this.$store.dispatch("/addCurrentColor",e)}},{key:"@changeCurrentColorSets",value:function(){this.refresh()}},{key:"click $colorSetsChooseButton",value:function(e){this.$store.emit("toggleColorChooser")}},{key:"contextmenu $colorSetsColorList",value:function(e){if(e.preventDefault(),this.$store.dispatch("/getCurrentColorSets").edit){var t=new Et(e.target).closest("color-item");if(t){var n=parseInt(t.attr("data-index"));this.$store.emit("showContextMenu",e,n)}else this.$store.emit("showContextMenu",e)}}},{key:"click $colorSetsColorList .add-color-item",value:function(e){this.addColor(this.$store.dispatch("/toColor"))}},{key:"click $colorSetsColorList .color-item",value:function(e){this.$store.dispatch("/changeColor",e.$delegateTarget.attr("data-color")),this.$store.emit("lastUpdateColor")}}]),t}(Bt),en=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"template",value:function(){return'\n            <ul class="colorsets-contextmenu">\n                <li class="menu-item small-hide" data-type="remove-color">Remove color</li>\n                <li class="menu-item small-hide" data-type="remove-all-to-the-right">Remove all to the right</li>\n                <li class="menu-item" data-type="clear-palette">Clear palette</li>\n            </ul>\n        '}},{key:"show",value:function(e,t){var n=Dt.pos(e);this.$el.css({top:n.clientY-10+"px",left:n.clientX+"px"}),this.$el.addClass("show"),this.selectedColorIndex=t,typeof this.selectedColorIndex>"u"?this.$el.addClass("small"):this.$el.removeClass("small")}},{key:"hide",value:function(){this.$el.removeClass("show")}},{key:"runCommand",value:function(e){switch(e){case"remove-color":this.$store.dispatch("/removeCurrentColor",this.selectedColorIndex);break;case"remove-all-to-the-right":this.$store.dispatch("/removeCurrentColorToTheRight",this.selectedColorIndex);break;case"clear-palette":this.$store.dispatch("/clearPalette")}}},{key:"@showContextMenu",value:function(e,t){this.show(e,t)}},{key:"click $el .menu-item",value:function(e){e.preventDefault(),this.runCommand(e.$delegateTarget.attr("data-type")),this.hide()}}]),t}(Bt),tn=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"template",value:function(){return'\n            <div class=\'colorpicker-body\'>\n                <div target="colorwheel"></div>\n                <div target="control"></div>\n                <div target="information"></div>\n                <div target="currentColorSets"></div>\n                <div target="colorSetsChooser"></div>\n                <div target="contextMenu"></div>                \n            </div>\n        '}},{key:"components",value:function(){return{colorwheel:Gt,control:qt,information:Xt,currentColorSets:Kt,colorSetsChooser:Jt,contextMenu:en}}}]),t}(Wt),nn=function(e){function t(e){y(this,t);var n=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.minValue=0,n.maxValue=360,n.source="hue-control",n}return k(t,e),v(t,[{key:"template",value:function(){return'\n            <div class="hue"> \n                <div ref="$container" class="hue-container">\n                    <div ref="$bar" class="drag-bar"></div>\n                </div>\n            </div>\n        '}},{key:"getDefaultValue",value:function(){return this.$store.hsv.h}},{key:"refreshColorUI",value:function(e){var t=this.getCaculatedDist(e);!0!==this.setColorUI(t/100*this.maxValue)&&this.changeColor({h:t/100*this.maxValue,type:"hsv"})}}]),t}(Zt),rn=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"initialize",value:function(){x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.minValue=0,this.maxValue=360,this.hueScaleDist=.05}},{key:"template",value:function(){return'\n            <div class="hue-scale">\n                <div ref="$container" class="hue-scale-container">\n                    <div ref="$bar" class="drag-bar"></div>\n                </div>\n            </div>\n        '}},{key:"getDefaultValue",value:function(){return this.$store.hsv.h}},{key:"getCalculatedDist",value:function(e){var t=e?this.getMousePosition(e):this.getCurrent(this.getDefaultValue()/this.maxValue);return this.getDist(t)}},{key:"refreshColorUI",value:function(e){var t=this.getCalculatedDist(e);!0!==this.setColorUI(t/100)&&this.changeColor({h:360*(this.minValue+this.fullDist*(t/100)),type:"hsv"})}},{key:"setColorUI",value:function(e){var t=void 0;if(e){if(t=this.minValue+e*this.fullDist,this.lastP===t)return!0;this.lastP=t}else{if(t=this.getDefaultValue()/360,this.lastP===t)return!0;this.lastP=t;var n=t+.05,r=t-.05;if(n>1)n=1,r=1-2*this.hueScaleDist;else if(r<0){var o=Math.abs(r);r=0,n+=o}var i=$e.getHueScale(t,r,n);this.list=i;var a=i[0].start,s=i[i.length-1].start;this.minValue=a,this.maxValue=s;var l=this.maxValue-this.minValue;this.fullDist=l;var c=i.map((function(e){return{color:e.rgb,percent:(e.start-a)/l*100,unit:"%"}}));this.refs.$container.css("background-image","linear-gradient(to right, "+c.map((function(e){return e.color+" "+e.percent+e.unit})).join(",")+")")}t<=this.minValue?(t=this.minValue,this.refs.$bar.addClass("first").removeClass("last")):t>=this.maxValue?(t=this.maxValue,this.refs.$bar.addClass("last").removeClass("first")):this.refs.$bar.removeClass("last").removeClass("first"),this.setMousePosition(this.getMaxDist()*((t-this.minValue)/this.fullDist))}}]),t}(Zt),on="chromedevtool-control",an=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"components",value:function(){return{Hue:nn,Opacity:Ht,HueScale:rn}}},{key:"template",value:function(){return'\n        <div class="control">\n            <div target="Hue" ></div>\n            <div target="HueScale" ></div>\n            <div target="Opacity" ></div>\n            <div ref="$controlPattern" class="empty"></div>\n            <div ref="$controlColor" class="color"></div>\n            <div ref="$controlPattern2" class="empty2"></div>\n            <div ref="$controlColor2" class="color2"></div>            \n        </div>\n        '}},{key:"setBackgroundColor",value:function(){this.refs.$controlColor.css("background-color",this.$store.dispatch("/toRGB"))}},{key:"setLastUpdateColor",value:function(){this.refs.$controlColor2.css("background-color",this.$store.dispatch("/toRGB"))}},{key:"refresh",value:function(){this.setColorUI(),this.setBackgroundColor()}},{key:"setColorUI",value:function(){this.Hue.setColorUI(),this.Opacity.setColorUI()}},{key:"@changeColor",value:function(e){on!=e&&this.refresh()}},{key:"@lastUpdateColor",value:function(e){on!=e&&this.setLastUpdateColor()}},{key:"@initColor",value:function(){this.refresh()}}]),t}(Bt),sn="chromedevtool-palette",ln=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"template",value:function(){return'\n        <div class="color">\n            <div ref="$saturation" class="saturation">\n                <div ref="$value" class="value">\n                    <div ref="$drag_pointer" class="drag-pointer" data-axis-value="all">\n                        <div ref="$left_saturation" class="left-saturation" data-axis-value="saturation"></div>\n                        <div ref="$right_saturation" class="right-saturation" data-axis-value="saturation"></div>\n                        <div ref="$top_value" class="top-value" data-axis-value="value"></div>\n                        <div ref="$bottom_value" class="bottom-value" data-axis-value="value"></div>\n                    </div>\n                </div>\n            </div>        \n        </div>        \n        '}},{key:"setBackgroundColor",value:function(e){this.$el.css("background-color",e)}},{key:"refresh",value:function(){this.cacheSize(),this.setColorUI()}},{key:"calculateSV",value:function(){var e=this.drag_pointer_pos||{x:0,y:0},t=this.state.get("$el.width"),n=this.state.get("$el.height"),r=e.x/t,o=(n-e.y)/n;this.$store.dispatch("/changeColor",{type:"hsv",s:r,v:o,source:sn})}},{key:"setColorUI",value:function(){var e=this.w*this.$store.hsv.s,t=this.h*(1-this.$store.hsv.v);this.refs.$drag_pointer.css({left:e+"px",top:t+"px"}),this.drag_pointer_pos={x:e,y:t},this.setBackgroundColor(this.$store.dispatch("/getHueColor"))}},{key:"setSubColor",value:function(e){var t=e.pageX,n=e.pageY,r=t-this.x,o=n-this.y,i=this.$el.contentWidth(),a=this.$el.contentHeight(),s=this.refs.$drag_pointer.cssFloat("left"),l=this.refs.$drag_pointer.cssFloat("top");"saturation"===this.axis?s+=r:"value"===this.axis&&(l+=o),s<0?s=0:s>i&&(s=i),l<0?l=0:l>a&&(l=a),this.refs.$drag_pointer.px("left",s),this.refs.$drag_pointer.px("top",l),this.drag_pointer_pos={x:s,y:l},this.x=t,this.y=n,this.calculateSV()}},{key:"setMainColor",value:function(e){var t=this.$el.offset(),n=this.w,r=this.h,o=Dt.pos(e).pageX-t.left,i=Dt.pos(e).pageY-t.top;o<0?o=0:o>n&&(o=n),i<0?i=0:i>r&&(i=r),this.refs.$drag_pointer.css({left:o+"px",top:i+"px"}),this.drag_pointer_pos={x:o,y:i},this.calculateSV()}},{key:"@changeColor",value:function(e){sn!=e&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}},{key:"mouseup document",value:function(e){this.isDown&&(this.isDown=!1,this.$store.emit("lastUpdateColor"))}},{key:"mousemove document",value:function(e){this.isDown&&(this.cacheSize(),"saturation"===this.axis||"value"===this.axis?this.setSubColor(e):this.setMainColor(e))}},{key:"mousedown",value:function(e){this.isDown=!0,this.cacheSize(),this.axis=new Et(e.target).attr("data-axis-value"),this.x=e.pageX,this.y=e.pageY,"saturation"===this.axis||"value"===this.axis?this.setSubColor(e):this.setMainColor(e)}},{key:"touchend document",value:function(e){this.isDown&&(this.isDown=!1,this.$store.emit("lastUpdateColor"))}},{key:"touchmove document",value:function(e){this.isDown&&this.setMainColor(e)}},{key:"touchstart",value:function(e){e.preventDefault(),this.isDown=!0,this.cacheSize(),this.setMainColor(e)}},{key:"cacheSize",value:function(){this.w=this.state.get("$el.contentWidth"),this.h=this.state.get("$el.contentHeight")}}]),t}(Bt),cn=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"template",value:function(){return'\n            <div class=\'colorpicker-body\'>\n                <div target="palette"></div> \n                <div target="control"></div>\n                <div target="information"></div>\n                <div target="currentColorSets"></div>\n                <div target="colorSetsChooser"></div>\n                <div target="contextMenu"></div>\n            </div>\n        '}},{key:"components",value:function(){return{palette:ln,control:an,information:Xt,currentColorSets:Kt,colorSetsChooser:Jt,contextMenu:en}}}]),t}(Wt),un=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"components",value:function(){return{Hue:nn,Opacity:Ht}}},{key:"template",value:function(){return'\n        <div class="control">\n            <div target="Hue" ></div>\n            <div target="Opacity" ></div>\n        </div>\n        '}},{key:"refresh",value:function(){this.setColorUI()}},{key:"setColorUI",value:function(){this.Hue.setColorUI(),this.Opacity.setColorUI()}},{key:"@changeColor",value:function(e){"mini-control"!=e&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),t}(Bt),dn=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"template",value:function(){return'\n            <div class=\'colorpicker-body\'>\n                <div target="palette"></div>\n                <div target="control"></div>\n            </div>\n        '}},{key:"components",value:function(){return{palette:ln,control:un}}}]),t}(Wt),hn=function(e){function t(e){y(this,t);var n=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.source="vertical-slider",n}return k(t,e),v(t,[{key:"getMaxDist",value:function(){return this.state.get("$container.height")}},{key:"setMousePosition",value:function(e){this.refs.$bar.css({top:e+"px"})}},{key:"getMousePosition",value:function(e){return Dt.pos(e).pageY}},{key:"getMinPosition",value:function(){return this.refs.$container.offset().top}},{key:"getCaculatedDist",value:function(e){var t=e?this.getMousePosition(e):this.getCurrent(this.getDefaultValue()/this.maxValue);return 100-this.getDist(t)}},{key:"setColorUI",value:function(e){(e=e||this.getDefaultValue())<=this.minValue?this.refs.$bar.addClass("first").removeClass("last"):e>=this.maxValue?this.refs.$bar.addClass("last").removeClass("first"):this.refs.$bar.removeClass("last").removeClass("first");var t=1-(e||0)/this.maxValue;this.setMousePosition(this.getMaxDist()*t)}}]),t}(Zt),fn=function(e){function t(e){y(this,t);var n=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.minValue=0,n.maxValue=360,n.source="vertical-hue-control",n}return k(t,e),v(t,[{key:"template",value:function(){return'\n            <div class="hue">\n                <div ref="$container" class="hue-container">\n                    <div ref="$bar" class="drag-bar"></div>\n                </div>\n            </div>\n        '}},{key:"getDefaultValue",value:function(){return this.$store.hsv.h}},{key:"refreshColorUI",value:function(e){var t=this.getCaculatedDist(e);this.setColorUI(t/100*this.maxValue),this.changeColor({h:t/100*this.maxValue,type:"hsv"})}}]),t}(hn),mn=function(e){function t(e){y(this,t);var n=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.source="vertical-opacity-control",n}return k(t,e),v(t,[{key:"template",value:function(){return'\n        <div class="opacity">\n            <div ref="$container" class="opacity-container">\n                <div ref="$colorbar" class="color-bar"></div>\n                <div ref="$bar" class="drag-bar2"></div>\n            </div>\n        </div>\n        '}},{key:"refresh",value:function(){x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"refresh",this).call(this),this.setOpacityColorBar()}},{key:"setOpacityColorBar",value:function(){var e=Object.assign({},this.$store.rgb);e.a=0;var t=ge.format(e,"rgb");e.a=1;var n=ge.format(e,"rgb");this.refs.$colorbar.css("background","linear-gradient(to top, "+t+", "+n+")")}},{key:"getDefaultValue",value:function(){return this.$store.alpha}},{key:"refreshColorUI",value:function(e){var t=this.getCaculatedDist(e);this.setColorUI(t/100*this.maxValue),this.changeColor({a:Math.floor(t)/100*this.maxValue})}}]),t}(hn),pn=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"components",value:function(){return{Hue:fn,Opacity:mn}}},{key:"template",value:function(){return'<div class="control"><div target="Hue" ></div><div target="Opacity" ></div></div>'}},{key:"refresh",value:function(){this.setColorUI()}},{key:"setColorUI",value:function(){this.Hue.setColorUI(),this.Opacity.setColorUI()}},{key:"@changeColor",value:function(e){"mini-control"!=e&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),t}(Bt),gn=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"template",value:function(){return'\n            <div class=\'colorpicker-body\'>\n                <div target="palette"></div><div target="control"></div>\n            </div>\n        '}},{key:"components",value:function(){return{palette:ln,control:pn}}}]),t}(Wt),yn=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"components",value:function(){return{Value:Yt,Opacity:Ht}}},{key:"template",value:function(){return'\n        <div class="control">\n            <div target="Value" ></div>\n            <div target="Opacity" ></div>\n            <div ref="$controlPattern" class="empty"></div>\n            <div ref="$controlColor" class="color"></div>\n        </div>\n        '}},{key:"setBackgroundColor",value:function(){this.refs.$controlColor.css("background-color",this.$store.dispatch("/toRGB"))}},{key:"refresh",value:function(){this.setColorUI(),this.setBackgroundColor()}},{key:"setColorUI",value:function(){this.Value.setColorUI(),this.Opacity.setColorUI()}},{key:"@changeColor",value:function(e){"macos-control"!=e&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),t}(Bt),vn=function(e){function t(e){y(this,t);var n=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.width=214,n.height=214,n.thinkness=16,n.half_thinkness=n.thinkness/2,n.source="colorring",n}return k(t,e),v(t,[{key:"template",value:function(){return'\n        <div class="wheel" data-type="ring">\n            <canvas class="wheel-canvas" ref="$colorwheel" ></canvas>\n            <div class="drag-pointer" ref="$drag_pointer"></div>\n        </div>\n        '}},{key:"setColorUI",value:function(e){this.renderCanvas(),this.setHueColor(null,e)}},{key:"getDefaultValue",value:function(){return this.$store.hsv.h}},{key:"setHueColor",value:function(e,t){if(this.state.get("$el.width")){var n=this.getRectangle(),r=n.minX,o=n.minY,i=n.radius,a=n.centerX,s=n.centerY,l=this.getCurrentXY(e,this.getDefaultValue(),i,a,s),c=u(l.x-a,l.y-s),d=this.getCurrentXY(null,c,i-this.half_thinkness,a,s),h=d.x,f=d.y;this.refs.$drag_pointer.css({left:h-r+"px",top:f-o+"px"}),t||this.changeColor({type:"hsv",h:c})}}}]),t}(Gt),bn=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"template",value:function(){return'\n            <div class=\'colorpicker-body\'>\n                <div target="colorring"></div>\n                <div target="palette"></div> \n                <div target="control"></div>\n                <div target="information"></div>\n                <div target="currentColorSets"></div>\n                <div target="colorSetsChooser"></div>\n                <div target="contextMenu"></div>\n            </div>\n        '}},{key:"components",value:function(){return{colorring:vn,palette:ln,control:yn,information:Xt,currentColorSets:Kt,colorSetsChooser:Jt,contextMenu:en}}}]),t}(Wt),wn=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"components",value:function(){return{Hue:fn,Opacity:mn}}},{key:"template",value:function(){return'\n        <div class="control">\n            <div target="Hue" ></div>\n            <div target="Opacity" ></div>\n        </div>\n        '}},{key:"refresh",value:function(){this.setColorUI()}},{key:"setColorUI",value:function(){this.Hue.setColorUI(),this.Opacity.setColorUI()}},{key:"@changeColor",value:function(){this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),t}(Bt),xn=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"template",value:function(){return'\n            <div class=\'colorpicker-body\'>\n                <div target="palette"></div> \n                <div target="control"></div>\n                <div target="information"></div>\n                <div target="currentColorSets"></div>\n                <div target="colorSetsChooser"></div>\n                <div target="contextMenu"></div>\n            </div>\n        '}},{key:"components",value:function(){return{palette:ln,control:wn,information:Xt,currentColorSets:Kt,colorSetsChooser:Jt,contextMenu:en}}}]),t}(Wt),kn=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"components",value:function(){return{Hue:fn,Opacity:mn}}},{key:"template",value:function(){return'\n            <div class="control">\n                <div target="Opacity" ></div>            \n                <div target="Hue" ></div>\n            </div>\n        '}},{key:"refresh",value:function(){this.setColorUI()}},{key:"setColorUI",value:function(){this.Hue.setColorUI(),this.Opacity.setColorUI()}},{key:"@changeColor",value:function(e){"mini-control"!=e&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),t}(Bt),In=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"template",value:function(){return"\n            <div class='colorpicker-body'>\n                <div class='color-view'>\n                    <div class='color-view-container'  ref=\"$colorview\"></div>\n                </div>\n                <div class='color-tool'>\n                    <div target=\"palette\"></div>\n                    <div target=\"control\"></div>\n                </div>\n            </div>\n        "}},{key:"components",value:function(){return{palette:ln,control:kn}}},{key:"initColorWithoutChangeEvent",value:function(e){this.$store.dispatch("/initColor",e),this.refresh()}},{key:"setBackgroundColor",value:function(){var e=this.$store.dispatch("/toColor"),t=this.$store.rgb,n=ge.brightness(t.r,t.g,t.b);this.refs.$colorview.css({"background-color":e,color:n>127?"black":"white"}),this.refs.$colorview.html(e)}},{key:"click $colorview",value:function(e){this.nextFormat()}},{key:"nextFormat",value:function(){var e=this.$store.format||"hex",t="hex";"hex"==e?t="rgb":"rgb"==e?t="hsl":"hsl"==e&&(t="hex"),this.$store.dispatch("/changeFormat",t),this.$store.emit("lastUpdateColor"),this.refresh()}},{key:"refresh",value:function(){this.setBackgroundColor()}},{key:"@changeColor",value:function(){this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),t}(Wt),$n={create:function(e){switch(e.type){case"macos":return new tn(e);case"xd":return new xn(e);case"ring":return new bn(e);case"mini":return new dn(e);case"vscode":return new In(e);case"mini-vertical":return new gn(e);default:return new cn(e)}},ColorPicker:cn,ChromeDevToolColorPicker:cn,MacOSColorPicker:tn,RingColorPicker:bn,MiniColorPicker:dn,VSCodePicker:In,MiniVerticalColorPicker:gn},Cn=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"afterRender",value:function(){var e=this,t=this.opt.opt.colorpickerOptions||{type:"sketch"};this.colorPicker=$n.create(w({position:"inline",container:this.refs.$el.el,onChange:function(t){e.changeColor(t)},onLastUpdate:function(t){e.changeColor(t,!0)}},t))}},{key:"template",value:function(){return'<div ref="$color"></div>'}},{key:"changeColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$store.emit("changeEmbedColorPicker",e,t)}},{key:"setValue",value:function(e){this.colorPicker.initColorWithoutChangeEvent(e)}}]),t}(Bt);function Tn(e){var t=[];return e.layers.length&&e.layers.forEach((function(e){t.push.apply(t,C(Tn(e)))})),t.push(e),t}var An=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y(this,e),n instanceof e&&(n=n.toJSON()),this.json=this.convert(w({},this.getDefaultObject(),n)),this.ref=new Proxy(this,{get:function(e,t){var n=e[t];return we(n)?function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return n.apply(e,r)}:n||e.json[t]},set:function(e,n,r){if(r&&r.realVal&&we(r.realVal)&&(r=r.realVal()),!t.checkField(n,r))throw new Error(r+" is invalid as "+n+" property value.");return e.json[n]=r,!0}}),this.ref}return v(e,[{key:"getDefaultTitle",value:function(){return"Item"}},{key:"isAttribute",value:function(){return!1}},{key:"is",value:function(){if(!this.json)return!1;for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.indexOf(this.json.itemType)>-1}},{key:"convert",value:function(e){return e}},{key:"checkField",value:function(e,t){return!0}},{key:"toCloneObject",value:function(){return{itemType:this.json.itemType,type:this.json.type,selected:this.json.selected}}},{key:"clone",value:function(){var e=new(0,this.constructor)(this.toCloneObject());return e.parent=this.json.parent,e}},{key:"reset",value:function(t){t instanceof e&&(t=t.toJSON()),this.json=this.convert(w({},this.json,t))}},{key:"getDefaultObject",value:function(){return w({selected:!1,type:"",itemType:""},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}},{key:"add",value:function(e){return this.json.layers.push(e),e.parent=this.ref,e}},{key:"toggle",value:function(e,t){ye(t)?this.json[e]=!this.json[e]:this.json[e]=!!t}},{key:"toJSON",value:function(){return this.json}},{key:"resize",value:function(){}},{key:"copy",value:function(){this.json.parent.copyItem(this.ref)}},{key:"copyItem",value:function(e){var t=e.clone();t.width.add(10),t.width.add(10);for(var n=this.json.layers,r=-1,o=0,i=n.length;o<i;o++)if(n[o]===e){r=o;break}r>-1&&this.json.layers.splice(r,0,t)}},{key:"remove",value:function(){this.json.parent.removeItem(this.ref)}},{key:"removeItem",value:function(e){for(var t=this.json.layers,n=-1,r=0,o=t.length;r<o;r++)if(t[r]===e){n=r;break}n>-1&&this.json.layers.splice(n,1)}},{key:"title",get:function(){return this.json.name||this.getDefaultTitle()}},{key:"id",get:function(){return this.json.id}},{key:"layers",get:function(){return this.json.layers}},{key:"parent",get:function(){return this.json.parent}},{key:"html",get:function(){var e=this.json,t=e.elementType,n=e.id,r=e.layers,o=t||"div";return"\n    <"+o+" class='element-item "+e.itemType+"' data-id=\""+n+'">\n      '+r.map((function(e){return e.html})).join("")+"\n    </"+o+">\n    "}},{key:"allLayers",get:function(){return[].concat(C(Tn(this.ref)))}}]),e}(),On=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"getDefaultObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultObject",this).call(this,w({itemType:"image-resource",type:"image"},e))}},{key:"isGradient",value:function(){return!1}},{key:"isLinear",value:function(){return!1}},{key:"isRadial",value:function(){return!1}},{key:"isConic",value:function(){return!1}},{key:"isStatic",value:function(){return!1}},{key:"isImage",value:function(){return!1}},{key:"hasAngle",value:function(){return!1}},{key:"isUrl",value:function(){return!1}},{key:"isFile",value:function(){return!1}},{key:"isAttribute",value:function(){return!0}},{key:"toString",value:function(){return"none"}}]),t}(An),Sn={center:50,top:0,left:0,right:100,bottom:100},En=function e(){y(this,e)};En.CENTER="center",En.TOP="top",En.RIGHT="right",En.LEFT="left",En.BOTTOM="bottom";var Nn=/([\d.]+)(px|pt|fr|r?em|deg|vh|vw|m?s|%|g?rad|turn)/gi,Mn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";y(this,e),this.value=t,this.unit=n}return v(e,[{key:Symbol.toPrimitive,value:function(e){return"number"==e?this.value:this.toString()}},{key:"toString",value:function(){switch(this.unit){case"string":case"number":return this.value+"";case"var":return"var(--"+this.value+")";case"calc":return"calc("+this.value+")";default:return this.value+this.unit}}},{key:"isUnitType",value:function(e){return this.unit===e}},{key:"isCalc",value:function(){return this.isUnitType("calc")}},{key:"isFr",value:function(){return this.isUnitType("fr")}},{key:"isPercent",value:function(){return this.isUnitType("%")}},{key:"isPx",value:function(){return this.isUnitType("px")}},{key:"isEm",value:function(){return this.isUnitType("em")}},{key:"isDeg",value:function(){return this.isUnitType("deg")}},{key:"isSecond",value:function(){return this.isUnitType("s")}},{key:"isMs",value:function(){return this.isUnitType("ms")}},{key:"isNumber",value:function(){return this.isUnitType("number")}},{key:"isString",value:function(){return this.isUnitType("")}},{key:"isVar",value:function(){return this.isUnitType("--")}},{key:"set",value:function(e){return this.value=e,this}},{key:"add",value:function(e){return this.value+=+e,this}},{key:"sub",value:function(e){return this.add(-1*e)}},{key:"mul",value:function(e){return this.value*=+e,this}},{key:"div",value:function(e){return this.value/=+e,this}},{key:"mod",value:function(e){return this.value%=+e,this}},{key:"clone",value:function(){return new e(this.value,this.unit)}},{key:"getUnitName",value:function(){return"%"===this.unit?"percent":this.unit}},{key:"toJSON",value:function(){return{value:this.value,unit:this.unit}}},{key:"rate",value:function(e){return e/this.value}},{key:"stringToPercent",value:function(){return ve(Sn[this.value])?e.percent(Sn[this.value]):e.percent(0)}},{key:"stringToEm",value:function(e){return this.stringToPercent().toEm(e)}},{key:"stringToPx",value:function(e){return this.stringToPercent().toPx(e)}},{key:"toPercent",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return this.isPercent()?this:this.isPx()?e.percent(100*this.value/t):this.isEm()?e.percent(this.value*n*100/t):this.isString()?this.stringToPercent(t):this.isDeg()?e.percent(this.value/360*100):void 0}},{key:"toEm",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return this.isPercent()?e.em(this.value/100*t/n):this.isPx()?e.em(this.value/n):this.isEm()?this:this.isString()?this.stringToEm(t):void 0}},{key:"toPx",value:function(t){return this.isPercent()?e.px(this.value/100*t):this.isPx()?this:this.isEm()?e.px(this.value/100*t/16):this.isString()?this.stringToPx(t):void 0}},{key:"toSecond",value:function(){return this.isSecond()?this:this.isMs()?e.second(this.value/1e3):void 0}},{key:"toMs",value:function(){return this.isSecond()?e.ms(1e3*this.value):this.isMs()?this:void 0}},{key:"to",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;return"px"===e?this.toPx(t,n):"%"===e||"percent"===e?this.toPercent(t,n):"em"===e?this.toEm(t,n):void 0}},{key:"toUnit",value:function(t){return new e(this.value,t)}},{key:"calculate",value:function(e,t){var n=this[e];return n?n.call(this,t):this}},{key:"includes",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(this.value)}},{key:"round",value:function(t){return new e(i(this.value,t),this.unit)}},{key:"equals",value:function(e){return this.value===e.value&&this.unit===e.unit}}],[{key:"min",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.shift(),o=0,i=t.length;o<i;o++)r.value>t[o].value&&(r=t[o]);return r}},{key:"max",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.shift(),o=0,i=t.length;o<i;o++)r.value<t[o].value&&(r=t[o]);return r}},{key:"string",value:function(t){return new e(t+"","")}},{key:"number",value:function(t){return new e(+t,"number")}},{key:"px",value:function(t){return new e(+t,"px")}},{key:"em",value:function(t){return new e(+t,"em")}},{key:"percent",value:function(t){return new e(+t,"%")}},{key:"deg",value:function(t){return new e(+t,"deg")}},{key:"fr",value:function(t){return new e(+t,"fr")}},{key:"second",value:function(t){return new e(+t,"s")}},{key:"ms",value:function(t){return new e(+t,"ms")}},{key:"var",value:function(t){return new e(t+"","--")}},{key:"calc",value:function(t){return new e(t,"calc")}},{key:"parse",value:function(t){if(be(t)){if(t.indexOf("calc(")>-1)return new e(t.split("calc(")[1].split(")")[0],"calc");var n=t.replace(Nn,"$1 $2").split(" ").filter(Boolean);return+n[0]==n[0]?new e(+n[0],n[1]):new e(n[0])}if(t instanceof e)return t;if(t.unit){if("%"==t.unit||"percent"==t.unit){var r=0;return ve(t.percent)?r=t.percent:ve(t.value)&&(r=t.value),e.percent(r)}if("px"==t.unit)return r=0,ve(t.px)?r=t.px:ve(t.value)&&(r=t.value),e.px(r);if("em"==t.unit)return r=0,ve(t.em)?r=t.em:ve(t.value)&&(r=t.value),e.em(r);if("deg"==t.unit)return r=0,ve(t.deg)?r=t.deg:ve(t.value)&&(r=t.value),e.deg(r);if("s"==t.unit)return r=0,ve(t.second)?r=t.second:ve(t.value)&&(r=t.value),e.second(r);if("ms"==t.unit)return r=0,ve(t.ms)?r=t.ms:ve(t.value)&&(r=t.value),e.ms(r);if("number"==t.unit)return r=0,ve(t.value)&&(r=t.value),e.number(r);if("--"==t.unit)return r=0,ve(t.value)&&(r=t.value),e.var(r);if(""===t.unit||"string"===t.unit)return r="",ve(t.str)?r=t.str:ve(t.value)&&(r=t.value),e.string(r)}return e.string(t)}}]),e}();Mn.auto=Mn.string("auto");var Dn,Ln,jn=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"getDefaultObject",value:function(){return x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultObject",this).call(this,{cut:!1,percent:0,unit:"%",px:0,em:0,color:"rgba(0, 0, 0, 0)",prevColorStep:null})}},{key:"toCloneObject",value:function(){return w({},x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toCloneObject",this).call(this),{cut:this.json.cut,percent:this.json.percent,unit:this.json.unit,px:this.json.px,em:this.json.em,color:this.json.color})}},{key:"on",value:function(){this.json.cut=!0}},{key:"off",value:function(){this.json.cut=!1}},{key:"toggle",value:function(){this.json.cut=!this.json.cut}},{key:"getUnit",value:function(){return"%"==this.json.unit?"percent":this.json.unit}},{key:"add",value:function(e){var t=this.getUnit();return this.json[t]+=+e,this}},{key:"sub",value:function(e){var t=this.getUnit();return this.json[t]-=+e,this}},{key:"mul",value:function(e){var t=this.getUnit();return this.json[t]*=+e,this}},{key:"div",value:function(e){var t=this.getUnit();return this.json[t]/=+e,this}},{key:"mod",value:function(e){var t=this.getUnit();return this.json[t]%=+e,this}},{key:"toLength",value:function(e){return Mn.parse(this.json).round(1e3)}},{key:"getPrevLength",value:function(){return this.json.prevColorStep?this.json.prevColorStep.toLength():""}},{key:"toString",value:function(){var e=this.json.cut?this.getPrevLength():"";return this.json.color+" "+e+" "+this.toLength()}},{key:"reset",value:function(e){x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reset",this).call(this,e),this.parent()&&this.parent().sortColorStep()}},{key:"isPx",get:function(){return"px"==this.json.unit}},{key:"isPercent",get:function(){return"%"==this.json.unit||"percent"===this.json.unit}},{key:"isEm",get:function(){return"em"==this.json.unit}}],[{key:"parse",value:function(e){var n=[],r=O(e),o=r.str.split(" ").filter((function(e){return e.trim()})),i=+o[0].replace("@",""),a=r.matches[i].color;if(1===o.length)n.push(new t({color:a,unit:"%",percent:0}));else if(2===o.length){var s=Mn.parse(o[1]),l={unit:s.unit};s.isPercent()?l.percent=s.value:s.isPx()?l.px=s.value:s.isEm()&&(l.em=s.value),n.push(new t(w({color:a},l)))}else 3===o.length&&[1,2].forEach((function(e){var r=Mn.parse(o[e]),i={unit:r.unit};r.isPercent()?i.percent=r.value:r.isPx()?i.px=r.value:r.isEm()&&(i.em=r.value),n.push(new t(w({color:a},i)))}));return n}}]),t}(An),_n={"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},zn=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"isGradient",value:function(){return!0}},{key:"toString",value:function(){return"none"}},{key:"getDefaultObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultObject",this).call(this,w({type:"gradient",colorsteps:[]},e))}},{key:"toCloneObject",value:function(){return w({},x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toCloneObject",this).call(this),{colorsteps:this.json.colorsteps.map((function(e){return e.clone()}))})}},{key:"convert",value:function(e){return e.colorsteps=e.colorsteps.map((function(e){return new jn(e)})),e}},{key:"calculateAngle",value:function(){var e=this.json.angle;return ye(_n[e])?e:_n[e]||0}},{key:"addColorStep",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.json.colorsteps.push(e),t&&this.sortColorStep(),e}},{key:"insertColorStep",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(216,216,216,0)",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(216,216,216,1)",r=this.colorsteps;if(r.length){if(e<r[0].percent)return r[0].index=1,void this.addColorStep(new jn({index:0,color:r[0].color,percent:e}));var o=r.length-1;if(r[o].percent<e){var i=r[o].color,a=r[o].index+1;this.addColorStep(new jn({index:a,color:i,percent:e}))}else for(var s=0,l=r.length-1;s<l;s++){var c=r[s],u=r[s+1];if(c.percent<=e&&e<=u.percent)return i=Color.mix(c.color,u.color,(e-c.percent)/(u.percent-c.percent),"rgb"),void this.addColorStep(new jn({index:c.index+1,color:i,percent:e}))}}else this.addColorStepList([new jn({color:t,percent:e,index:0}),new jn({color:n,percent:100,index:100})])}},{key:"sortColorStep",value:function(){var e=this.colorsteps;e.sort((function(e,t){return e.percent>t.percent?1:e.percent<t.percent?-1:e.percent==t.percent?e.index===t.index?0:e.index>t.index?1:-1:void 0})),e.forEach((function(e,t){e.index=100*t}))}},{key:"addColorStepList",value:function(){var e=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){e.addColorStep(t,!1)})),this.sortColorStep()}},{key:"getColorStep",value:function(e){return this.json.colorsteps.filter((function(t){return t.id==e}))[0]}},{key:"clear",value:function(){arguments.length?this.json.colorsteps.splice(+(arguments.length<=0?void 0:arguments[0]),1):this.json.colorsteps=[]}},{key:"getColorString",value:function(){var e=this.colorsteps;if(!e.length)return"";var t=e.map((function(t,n){return t.prevColorStep=t.cut&&n>0?e[n-1]:null,t}));return t.map((function(e){return""+e})).join(",")}},{key:"colorsteps",get:function(){return this.json.colorsteps}}],[{key:"random",value:function(){return"linear-gradient("+Math.floor(1e3*Math.random())%360+"deg, "+Color.random()+" 0%, "+Color.random()+" 100%)"}}]),t}(On),Rn=["circle","circle closest-side","circle closest-corner","circle farthest-side","circle farthest-corner","ellipse","ellipse closest-side","ellipse closest-corner","ellipse farthest-side","ellipse farthest-corner"],Vn=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"initialize",value:function(){x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this);var e=[{offset:Mn.percent(0),cut:!1,color:"yellow"},{offset:Mn.percent(100),cut:!1,color:"red"}];this.type="linear-gradient",this.index=0,this.colorsteps=e,this.radialPosition=[Mn.percent(50),Mn.percent(50)],this.radialType="ellipse"}},{key:"@changeRadialPosition",value:function(e,t){this["@changeKeyValue"]("radialPosition",[e,t]),this.reloadInputValue()}},{key:"@setGradientEditor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"linear-gradient",r=arguments[3],o=arguments[4],i=arguments[5],a=O(e),s=a.str.split(",").map((function(e){return e.trim()})).map((function(e){var t=e.split(" ").filter((function(e){return e.length})),n=$(t,3),r=n[0],o=n[1],i=n[2];r=E(r,a.matches);var s=!1;i&&(s=!0);var l=s?Mn.parse(i):Mn.parse(o);return l.isDeg()&&(l=Mn.percent(l.value/360*100)),{color:r,offset:l,cut:s}}));1==s.length&&s.push({color:s[0].color,offset:Mn.percent(100),cut:!1}),this.cachedStepListRect=null,this.colorsteps=s,this.index=t,this.type=n,this.angle=Mn.parse(r||"90deg"),this.radialPosition=o||[Mn.percent(50),Mn.percent(50)],this.radialType=i,this.refresh(),this.selectStep(t),this.reloadInputValue()}},{key:"template",value:function(){var e=this;return"\n        <div class='gradient-editor' data-selected-editor='"+this.type+"'>\n            <div class='gradient-steps' data-editor='gradient'>\n                <div class=\"hue-container\" ref=\"$back\"></div>            \n                <div class=\"hue\" ref=\"$steps\">\n                    <div class='step-list' ref=\"$stepList\" ></div>\n                </div>\n            </div>\n            <div class='tools' data-editor='tools'>\n              <label>Offset <input type='checkbox' ref='$cut' checked />  connected</label> <div class=\"right-menu\" ><button type=\"button\" ref=\"$remove\" style=\"float:right;\" title=\"Remove color stop\">&times; Remove</button></div>\n              <div class='unit'>\n                <div><input type='range' data-key='length' min='0' max=\"100\" step='0.1' ref='$offset' /></div>\n                <div><input type='number' data-key='length' min='0' max=\"100\" step='0.1' ref='$offsetNumber' /></div>              \n                <div><select ref='$offsetSelect'>\n                  <option value='%'>%</option>\n                  <option value='px'>px</option>\n                  <option value='em'>em</option>\n                </select></div>\n              </div>\n            </div>\n            <div class='sub-editor' ref='$subEditor'> \n              <div data-editor='angle'>\n                <label>Angle</label>\n                <div class='unit'>                \n                  <div><input type='range' data-key='angle' min='-720' max=\"720\" step='0.1' ref='$angle' /> </div>\n                  <div><input type='number' data-key='angle' min='-720' max=\"720\" step='0.1' ref='$angleNumber' /></div> \n                  <span>deg</span>\n                </div>\n              </div>\n              <div data-editor='centerX'>\n                <label>Center X</label>\n                <div class='unit'>\n                  <div><input type='range' data-key='centerX' min='-100' max=\"100\" step='0.1' ref='$centerX' /></div>\n                  <div><input type='number' data-key='centerX' min='-100' max=\"100\" step='0.1' ref='$centerXNumber' /></div>\n                  <div><select ref='$centerXSelect'>\n                      <option value='%'>%</option>\n                      <option value='px'>px</option>\n                      <option value='em'>em</option>\n                    </select></div>\n                </div>\n              </div>                \n              <div data-editor='centerY'>           \n                <label>Center Y</label>                 \n                <div class='unit'>\n                  <div><input type='range' data-key='centerY' min='-100' max=\"100\" step='0.1' ref='$centerY' /></div>\n                  <div><input type='number' data-key='centerX' min='-100' max=\"100\" step='0.1' ref='$centerYNumber' /></div>\n                  <div><select ref='$centerYSelect'>\n                      <option value='%'>%</option>\n                      <option value='px'>px</option>\n                      <option value='em'>em</option>\n                    </select></div>\n                </div>\n              </div>                \n              <div data-editor='radialType'>       \n                <label>Radial Type</label>              \n                <div><select ref='$radialType'>\n                  "+Rn.map((function(t){return'<option value="'+t+'" '+(e.radialType===t?"selected":"")+">"+t+"</option>"})).join("")+"\n                </select></div>\n              </div>\n            </div>            \n        </div>\n      "}},{key:"input $offset",value:function(e){this.refs.$offsetNumber.val(this.refs.$offset.val()),this["@changeColorStepOffset"]("offset",new Mn(this.refs.$offset.val(),this.refs.$offsetSelect.val()))}},{key:"mouseup $offset",value:function(e){this["@changeColorStepOffset"]("offset",new Mn(this.refs.$offset.val(),this.refs.$offsetSelect.val()),!0)}},{key:"input $offsetNumber",value:function(e){this.refs.$offset.val(this.refs.$offsetNumber.val()),this["@changeColorStepOffset"]("offset",new Mn(this.refs.$offset.val(),this.refs.$offsetSelect.val()),!0)}},{key:"input $angle",value:function(e){this.refs.$angleNumber.val(this.refs.$angle.val()),this["@changeKeyValue"]("angle",Mn.deg(this.refs.$angle.val()))}},{key:"mouseup $angle",value:function(e){this["@changeKeyValue"]("angle",Mn.deg(this.refs.$angle.val()),!0)}},{key:"input $angleNumber",value:function(e){this.refs.$angle.val(this.refs.$angleNumber.val()),this["@changeKeyValue"]("angle",Mn.deg(this.refs.$angle.val()),!0)}},{key:"input $centerX",value:function(e){this.refs.$centerXNumber.val(this.refs.$centerX.val()),this["@changeKeyValue"]("radialPositionX")}},{key:"mouseup $centerX",value:function(e){this["@changeKeyValue"]("radialPositionX",null,!0)}},{key:"input $centerXNumber",value:function(e){this.refs.$centerX.val(this.refs.$centerXNumber.val()),this["@changeKeyValue"]("radialPositionX")}},{key:"input $centerY",value:function(e){this.refs.$centerYNumber.val(this.refs.$centerY.val()),this["@changeKeyValue"]("radialPositionY")}},{key:"mouseup $centerY",value:function(e){this["@changeKeyValue"]("radialPositionY",null,!0)}},{key:"input $centerYNumber",value:function(e){this.refs.$centerY.val(this.refs.$centerYNumber.val()),this["@changeKeyValue"]("radialPositionX")}},{key:"change $centerXSelect",value:function(e){this["@changeKeyValue"]("radialPositionX",null,!0)}},{key:"change $centerYSelect",value:function(e){this["@changeKeyValue"]("radialPositionY",null,!0)}},{key:"change $radialType",value:function(e){this["@changeKeyValue"]("radialType",this.refs.$radialType.val(),!0)}},{key:"@changeKeyValue",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];"angle"===e&&(t=t.value),"radialPositionX"===e||"radialPositionY"===e?this.radialPosition=[this.radialPositionX,this.radialPositionY]:this[e]=t,this.updateData(n)}},{key:"@changeColorStepOffset",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.currentStep&&(this.currentStep.offset=t.clone(),this.$currentStep.css({left:this.currentStep.offset}),this.setColorUI(),this.updateData(n))}},{key:"click $back",value:function(e){if(!this.startXY){var t=this.refs.$stepList.rect(),n=t.x,r=t.right,o=e.xy.x;o<n?o=n:o>r&&(o=r);var i=(o-n)/t.width*100,a=this.colorsteps.map((function(e,t){return{index:t,color:e.color,offset:e.offset}})),s=a.filter((function(e){return e.offset.value<=i})).pop(),l=a.filter((function(e){return e.offset.value>i})).shift(),c=0;if(s&&l){if(s.offset.value===i)return;this.colorsteps.splice(l.index,0,{cut:!1,offset:Mn.percent(i),color:ge.mix(s.color,l.color,(i-s.offset.value)/(l.offset.value-s.offset.value))}),c=s.index+1}else if(s){var u={cut:!1,offset:Mn.percent(i),color:s.color};this.colorsteps.length-1===s.index?this.colorsteps.push(u):this.colorsteps.splice(s.index+1,0,u),c=s.index+1}else if(l){var d={cut:!1,offset:Mn.percent(i),color:l.color};0===l.index?(this.colorsteps.unshift(d),c=0):(this.colorsteps.splice(l.index-1,0,d),c=l.index)}else this.colorsteps.push({cut:!1,offset:Mn.percent(0),color:"rgba(0, 0, 0, 1)"}),c=0;this.refresh(),this.updateData(!0),this.selectStep(c)}}},{key:"reloadStepList",value:function(){this.refs.$stepList.html(this.colorsteps.map((function(e,t){return"<div class='step' data-index='"+t+"' data-cut='"+e.cut+"' style='left: "+e.offset+";'>\n        <div class='color-view' style=\"background-color: "+e.color+"\"></div>\n        <div class='arrow' style=\"background-color: "+e.color+'"></div>\n      </div>'})).join(""))}},{key:"click $cut",value:function(){this.currentStep&&(this.currentStep.cut=this.refs.$cut.checked(),this.$currentStep.attr("data-cut",this.currentStep.cut),this.setColorUI(),this.updateData(!0))}},{key:"click $remove",value:function(){this.removeStep(this.index)}},{key:"removeStep",value:function(e){this.colorsteps.splice(e,1);var t=this.colorsteps[e],n=e;t||(t=this.colorsteps[e-1],n=e-1),t&&this.selectStep(n),this.refresh(),this.updateData(!0)}},{key:"selectStep",value:function(e){this.index=e,this.currentStep=this.colorsteps[e],this.refs.$stepList.attr("data-selected-index",e),this.$currentStep=this.refs.$stepList.$('[data-index="'+e.toString()+'"]'),this.$currentStep&&(this.$colorView=this.$currentStep.$(".color-view"),this.$arrow=this.$currentStep.$(".arrow"),this.refs.$cut.el.checked=this.currentStep.cut),this.prev=this.colorsteps[e-1],this.next=this.colorsteps[e+1]}},{key:"mousedown $stepList .step",value:function(e){var t=+e.$delegateTarget.attr("data-index");e.altKey?this.removeStep(t):(this.selectStep(t),this.startXY=e.xy,this.$store.emit("selectColorStep",this.currentStep.color),this.refs.$cut.checked(this.currentStep.cut),this.refs.$offset.val(this.currentStep.offset.value),this.refs.$stepList.attr("data-selected-index",t),this.cachedStepListRect=this.refs.$stepList.rect())}},{key:"getStepListRect",value:function(){return this.cachedStepListRect}},{key:"mouseup document",value:function(e){this.startXY&&(this.startXY=null,this.updateData(!0))}},{key:"mousemove document",value:function(e){if(this.startXY){var t=e.xy.x-this.startXY.x;e.xy.y,this.startXY.y;var n=this.getStepListRect(),r=n.x,o=n.right,a=this.startXY.x+t;a<r?a=r:a>o&&(a=o);var s=(a-r)/n.width*100;this.prev&&this.prev.offset.value>s&&(s=this.prev.offset.value),this.next&&this.next.offset.value<s&&(s=this.next.offset.value),this.currentStep.offset.set(i(s,100)),this.$currentStep.css({left:Mn.percent(s)}),this.refs.$offset.val(this.currentStep.offset.value),this.setColorUI(),this.updateData()}}},{key:"refresh",value:function(){this.reloadStepList(),this.setColorUI()}},{key:"getLinearGradient",value:function(){var e=this;if(0===this.colorsteps.length)return"";if(1===this.colorsteps.length){var t=this.colorsteps[0];return"linear-gradient(to right, "+t.color+" "+t.offset+", "+t.color+" 100%)"}return"linear-gradient(to right, "+this.colorsteps.map((function(t,n){if(t.cut){var r=e.colorsteps[n-1];return r?t.color+" "+r.offset+" "+t.offset:t.color+" "+t.offset}return t.color+" "+t.offset})).join(",")+")"}},{key:"setColorUI",value:function(){this.refs.$stepList.css("background-image",this.getLinearGradient()),this.refs.$el.attr("data-selected-editor",this.type)}},{key:"reloadInputValue",value:function(){this.refs.$offset.val(this.currentStep.offset.value),this.refs.$offsetNumber.val(this.currentStep.offset.value),this.refs.$offsetSelect.val(this.currentStep.offset.unit),this.refs.$angle.val(this.angle.value),this.refs.$angleNumber.val(this.angle.value);var e=this.radialPosition.map((function(e){return"center"===e?Mn.percent(50):e}));this.refs.$centerX.val(e[0].value),this.refs.$centerXNumber.val(e[0].value),this.refs.$centerXSelect.val(e[0].unit),this.refs.$centerY.val(e[1].value),this.refs.$centerYNumber.val(e[1].value),this.refs.$centerYSelect.val(e[1].unit),this.refs.$radialType.val(this.radialType)}},{key:"@setColorStepColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.currentStep&&(this.currentStep.color=e,this.$colorView.css({"background-color":e}),this.$arrow.css({"background-color":e}),this.setColorUI(),this.updateData(t))}},{key:"updateData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$store.emit("changeGradientEditor",{type:this.type,index:this.index,angle:this.angle,colorsteps:this.colorsteps,radialPosition:this.radialPosition,radialType:this.radialType},e)}},{key:"radialPositionX",get:function(){return new Mn(+this.refs.$centerX.val(),this.refs.$centerXSelect.val()).round(1e3)}},{key:"radialPositionY",get:function(){return new Mn(+this.refs.$centerY.val(),this.refs.$centerYSelect.val()).round(1e3)}}]),t}(Bt),Bn={0:"to top",45:"to top right",90:"to right",135:"to bottom right",180:"to bottom",225:"to bottom left",270:"to left",315:"to top left"},Pn={"to top":"0","to top right":"45","to right":"90","to bottom right":"135","to bottom":"180","to bottom left":"225","to left":"270","to top left":"315"},Un=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"getDefaultObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultObject",this).call(this,w({type:"linear-gradient",angle:0},e))}},{key:"toCloneObject",value:function(){return w({},x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toCloneObject",this).call(this),{angle:this.json.angle})}},{key:"isLinear",value:function(){return!0}},{key:"hasAngle",value:function(){return!0}},{key:"toString",value:function(){if(0===this.colorsteps.length)return"";var e=this.getColorString(),t="";return xe(t=this.json.angle||0)&&(t=Bn[""+t]||t),xe(t)&&(t=t>360?t%360:t,t+="deg"),this.json.type+"("+t+", "+e+")"}}],[{key:"toLinearGradient",value:function(e){return 0===e.length?"none":new t({angle:"to right",colorsteps:e})+""}},{key:"parse",value:function(e){var n=O(e),r=0,o=[];return n.str.split("(")[1].split(")")[0].split(",").map((function(e){return e.trim()})).forEach((function(e,t){e.includes("@")?(e=E(e,n.matches),o.push.apply(o,C(jn.parse(e)))):r=ye(Pn[e])?Mn.parse(e):Mn.deg(+Pn[e])})),new t({angle:r,colorsteps:o})}}]),t}(zn),Wn=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"getDefaultObject",value:function(){return x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultObject",this).call(this,{type:"repeating-linear-gradient",angle:0})}}],[{key:"parse",value:function(e){var n=Un.parse(e);return new t({angle:n.angle,colorsteps:n.colorsteps})}}]),t}(Un),Fn=(b(Dn={},"center",!0),b(Dn,"top",!0),b(Dn,"left",!0),b(Dn,"right",!0),b(Dn,"bottom",!0),Dn),Zn=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"getDefaultObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultObject",this).call(this,w({type:"radial-gradient",radialType:"ellipse",radialPosition:[En.CENTER,En.CENTER]},e))}},{key:"toCloneObject",value:function(){var e=this.json.radialPosition||[Mn.percent(50),Mn.percent(50)];return w({},x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toCloneObject",this).call(this),{radialType:this.json.radialType||"ellipse",radialPosition:JSON.parse(JSON.stringify(e))})}},{key:"isRadial",value:function(){return!0}},{key:"toString",value:function(){if(0===this.colorsteps.length)return"";var e,t=this.getColorString(),n=this.json,r=n.radialType,o=n.radialPosition||["center","center"];return Fn[o]||"string"==typeof o||(o=o.map((function(e){return"string"==typeof e?e:e.isString()?e.value:e.round(1e3)})).join(" ")),e=o?r+" at "+o:r,(n.type||"radial-gradient")+"("+e+", "+t+")"}}],[{key:"parse",value:function(e){var n=O(e),r="ellipse",o=[En.CENTER,En.CENTER],i=[];return n.str.split("(")[1].split(")")[0].split(",").map((function(e){return e.trim()})).forEach((function(e,t){if(e.includes("@"))e=E(e,n.matches),i.push.apply(i,C(jn.parse(e)));else{if(e.includes("at")){var a=e.split("at").map((function(e){return e.trim()})),s=$(a,2);r=s[0],o=s[1]}else r=e;if(be(o)){var l=o.split(" ");if(1===l.length){var c=Mn.parse(l[0]);o=c.isString()?[c.value,c.value]:[c.clone(),c.clone()]}else 2===l.length&&(o=l.map((function(e){var t=Mn.parse(e);return t.isString()?t.value:t})))}}})),new t({radialType:r,colorsteps:i})}}]),t}(zn),Yn=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"getDefaultObject",value:function(){return x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultObject",this).call(this,{type:"repeating-radial-gradient"})}}],[{key:"parse",value:function(e){var n=Zn.parse(e);return new t({radialType:n.radialType,radialPosition:n.radialPosition,colorsteps:n.colorsteps})}}]),t}(Zn),Hn=(b(Ln={},"center",!0),b(Ln,"top",!0),b(Ln,"left",!0),b(Ln,"right",!0),b(Ln,"bottom",!0),Ln),qn={"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},Gn=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"getDefaultObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultObject",this).call(this,w({type:"conic-gradient",angle:0,radialPosition:[En.CENTER,En.CENTER]},e))}},{key:"toCloneObject",value:function(){return w({},x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toCloneObject",this).call(this),{angle:this.json.angle,radialPosition:JSON.parse(JSON.stringify(this.json.radialPosition))})}},{key:"isConic",value:function(){return!0}},{key:"hasAngle",value:function(){return!0}},{key:"getColorString",value:function(){if(0===this.colorsteps.length)return"";var e=this.colorsteps;if(!e)return"";e.sort((function(e,t){return e.percent==t.percent?0:e.percent>t.percent?1:-1}));var t=e.map((function(t,n){return t.prevColorStep=t.cut&&n>0?e[n-1]:null,t}));return t.map((function(e){var t=Math.floor(3.6*e.percent),n="";return e.cut&&e.prevColorStep&&(n=Math.floor(3.6*e.prevColorStep.percent)+"deg"),e.color+" "+n+" "+t+"deg"})).join(",")}},{key:"toString",value:function(){var e=this.getColorString(),t=[],n=this.json,r=n.angle,o=n.radialPosition||En.CENTER;o=Hn[o]?o:o.join(" "),ve(r)&&(r=+(qn[r]||r),t.push("from "+r+"deg")),o&&t.push("at "+o);var i=t.length?t.join(" ")+",":"";return n.type+"("+i+" "+e+")"}}],[{key:"parse",value:function(e){var n=O(e),r="0deg",o=[En.CENTER,En.CENTER],i=[];return n.str.split("(")[1].split(")")[0].split(",").map((function(e){return e.trim()})).forEach((function(e,t){if(e.includes("@"))e=e.split(" ").map((function(e){return e.trim()})).map((function(e){return e.includes("deg")?Mn.parse(e).toPercent():e})).join(" "),e=E(e,n.matches),i.push.apply(i,C(jn.parse(e)));else{if(e.includes("at")){var a=e.split("at").map((function(e){return e.trim()})),s=$(a,2);r=s[0],o=s[1]}else r=e;if(be(o)){var l=o.split(" ");if(1===l.length){var c=Mn.parse(l[0]);o=c.isString()?[c.value,c.value]:[c.clone(),c.clone()]}else 2===l.length&&(o=l.map((function(e){var t=Mn.parse(e);return t.isString()?t.value:t})))}be(r)&&r.includes("from")&&(r=r.split("from")[1],r=ye(qn[r])?Mn.parse(r):Mn.deg(+qn[r]))}})),new t({angle:r,radialPosition:o,colorsteps:i})}}]),t}(zn),Qn=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"getDefaultObject",value:function(){return x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getDefaultObject",this).call(this,{type:"repeating-conic-gradient",angle:0,radialPosition:[En.CENTER,En.CENTER]})}}],[{key:"parse",value:function(e){var n=Gn.parse(e);return new t({angle:n.angle,radialPosition:n.radialPosition,colorsteps:n.colorsteps})}}]),t}(Gn),Xn=[{type:"linear-gradient",title:"Linear Gradient"},{type:"repeating-linear-gradient",title:"Repeating Linear Gradient"},{type:"radial-gradient",title:"Radial Gradient"},{type:"repeating-radial-gradient",title:"Repeating Radial Gradient"},{type:"conic-gradient",title:"Conic Gradient"},{type:"repeating-conic-gradient",title:"Repeating Conic Gradient"}],Jn=/((linear\-gradient|repeating\-linear\-gradient|radial\-gradient|repeating\-radial\-gradient|conic\-gradient|repeating\-conic\-gradient|url)\(([^\)]*)\))/gi,Kn=function(e){function t(){return y(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return k(t,e),v(t,[{key:"components",value:function(){return{EmbedColorPicker:Cn,gradientEditor:Vn}}},{key:"parseImage",value:function(e){var t=O(e),n=null;return t.str.match(Jn).forEach((function(e,r){(e=E(e,t.matches)).includes("repeating-linear-gradient")?n=Wn.parse(e):e.includes("linear-gradient")?n=Un.parse(e):e.includes("repeating-radial-gradient")?n=Yn.parse(e):e.includes("radial")?n=Zn.parse(e):e.includes("repeating-conic-gradient")?n=Qn.parse(e):e.includes("conic")&&(n=Gn.parse(e))})),n}},{key:"callbackColorValue",value:function(e){var t=this.image.toString();"function"==typeof this.opt.onChange&&this.opt.onChange.call(this,t,this.image),"function"==typeof this.colorpickerShowCallback&&this.colorpickerShowCallback(t,this.image)}},{key:"callbackLastUpdateColorValue",value:function(e){var t=this.image.toString();"function"==typeof this.opt.onLastUpdate&&this.opt.onLastUpdate.call(this,t,this.image)}},{key:"callbackHideColorValue",value:function(e){var t=this.image.toString();"function"==typeof this.opt.onHide&&this.opt.onHide.call(this,t,this.image),"function"==typeof this.colorpickerHideCallback&&this.colorpickerHideCallback(t,this.image)}},{key:"initialize",value:function(){x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.$root.addClass("gradient-picker"),this.selectedTab="linear-gradient",this.setValue(this.opt.gradient||"linear-gradient(to right, red 0%, yellow 100%)")}},{key:"setValue",value:function(e){this.gradient=e,this.image=this.parseImage(this.gradient),this.selectTabContent(this.image.type)}},{key:"getValue",value:function(){return this.image.toString()}},{key:"template",value:function(){return'\n      <div class="gradient-body">\n\n        <div class=\'box\'>\n          <div class=\'gradient-preview\'>\n            <div class=\'gradient-view\' ref=\'$gradientView\'></div>\n          </div>\n          <div class="picker-tab">\n            <div class="picker-tab-list" ref="$tab" data-value="static-gradient" data-is-image-hidden="false">\n              '+Xn.map((function(e){return"\n                  <span \n                    class='picker-tab-item "+(e.selected?"selected":"")+"' \n                    data-selected-value='"+e.type+"'\n                    title='"+e.title+"'\n                  > \n                  <div class='icon'></div>\n                  </span>"})).join("")+"\n            </div>\n          </div>\n          <div target='gradientEditor'></div>\n\n        </div>\n        <div class='box'>\n          <div target=\"EmbedColorPicker\"></div>\n        </div>\n      </div>\n     \n    "}},{key:"getColorString",value:function(){return this.image?this.image.getColorString():""}},{key:"getCurrentStepColor",value:function(){return(this.image.colorsteps[this.selectColorStepIndex||0]||{color:"rgba(0, 0, 0, 1)"}).color}},{key:"@changeGradientEditor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.colorsteps.map((function(e,t){return new jn({color:e.color,percent:e.offset.value,cut:e.cut,index:100*(t+1)})}));e=w({},e,{type:this.selectedTab,colorsteps:n}),this.image.reset(e),this.updateGradientPreview(t)}},{key:"click $tab .picker-tab-item",value:function(e){var t=e.$delegateTarget.attr("data-selected-value");this.selectTabContent(t)}},{key:"selectTabContent",value:function(e){this.selectedTab=e,this.refs.$tab.attr("data-value",e),this.image=this.createGradient({type:e},this.image),this.$store.emit("setGradientEditor",this.getColorString(),this.selectColorStepIndex,this.image.type,this.image.angle,this.image.radialPosition,this.image.radialType);var t=this.getCurrentStepColor();this["@selectColorStep"](t),this.updateGradientPreview(!0)}},{key:"createGradient",value:function(e,t){var n=e.colorsteps||t.colorsteps,r=e.angle||t.angle,o=e.radialType||t.radialType||"ellipse",i=e.radialPosition||t.radialPosition||[Mn.percent(50),Mn.percent(50)],a=t.clone().toJSON();switch(delete a.itemType,delete a.type,e.type){case"linear-gradient":return new Un({colorsteps:n,angle:r});case"repeating-linear-gradient":return new Wn({colorsteps:n,angle:r});case"radial-gradient":return new Zn({colorsteps:n,radialType:o,radialPosition:i});case"repeating-radial-gradient":return new Yn({colorsteps:n,radialType:o,radialPosition:i});case"conic-gradient":return new Gn({colorsteps:n,angle:r,radialPosition:i});case"repeating-conic-gradient":return new Qn({colorsteps:n,angle:r,radialPosition:i})}return new zn}},{key:"@changeEmbedColorPicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$store.emit("setColorStepColor",e,t)}},{key:"@selectColorStep",value:function(e){this.EmbedColorPicker.setValue(e)}},{key:"@changeColorStep",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.image.reset(w({},e)),this.updateGradientPreview()}},{key:"updateGradientPreview",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.image&&(this.refs.$gradientView.css("background-image",this.image.toString()),this.updateData(e))}},{key:"mousedown $gradientView",value:function(e){this.mouseDown=!0,this.mouseDownX=e.clientX,this.mouseDownY=e.clientY,this.rect=this.refs.$gradientView.rect()}},{key:"mousemove document",value:function(e){if(this.mouseDown){var t=this.rect.left,n=this.rect.right,r=this.rect.top,o=this.rect.bottom,i=Math.min(Math.max(t,e.clientX),n),a=Math.min(Math.max(r,e.clientY),o),s=Mn.percent((i-t)/(n-t)*100),l=Mn.percent((a-r)/(o-r)*100);this.$store.emit("changeRadialPosition",s,l)}}},{key:"mouseup document",value:function(e){this.mouseDown&&(this.mouseDown=!1,this.updateData(!0))}},{key:"updateData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.callbackChange(),e&&this.callbackLastUpdate()}}]),t}(Wt);return w({},At,$n,{createGradientPicker:function(e){return new Kn(e)}})}()}(aP)),aP.exports);const lP=Ty(sP),cP=ff`
  position: absolute;
`,uP=(e,t)=>{const n=dd(),{addUnsubscribe:r}=tE(),o=il({x:e.x,y:e.y});return Ws((()=>{const t=n.value,i=lP.create({container:t,type:"sketch",position:"inline",color:e.color||"",onChange:t=>{var n;null==(n=e.onChange)||n.call(e,t)},onLastUpdate:t=>{var n;null==(n=e.onLastUpdate)||n.call(e,t)}});if(e.viewport){const n=t.getBoundingClientRect(),r=e.x+n.width,i=e.y+n.height;if(e.viewport.width<r){const t=e.viewport.width-n.width;0<=t&&(o.x=t)}if(e.viewport.height<i){const t=e.viewport.height-n.height;0<=t&&(o.y=t)}}r((()=>{i.destroy(),t.removeChild(i.$root.el)}))})),()=>Fh`
    <div
      class=${["color-picker",cP]}
      style=${{top:`${o.y}px`,left:`${o.x}px`}}
      ${hd(n)}
    ></div>
  `},dP={1:"ZeroOneN",[lp.ZeroOne]:"ZeroOne",[lp.ZeroN]:"ZeroN",[lp.OneOnly]:"OneOnly",[lp.OneN]:"OneN",32:"One",64:"N"},hP=ff`
  display: flex;
  width: 100%;
  height: 100%;
  overflow: hidden;
  position: relative;
`;function fP(e){let{editor:{focusTable:t},settings:{show:n,columnOrder:r},collections:o}=e;const i=[];if(!t||t.edit||0===t.selectColumnIds.length)return i;const a=aa(o).collection("tableEntities").selectById(t.tableId);if(!a)return i;const s=Qo(t.selectColumnIds),l=aa(o).collection("tableColumnEntities").selectByIds(a.columnIds).filter((e=>s(e.id))),c=Tw(n,r);return l.map((e=>c.map((t=>{switch(t){case Jm.columnName:return[$w.columnName,e.name];case Jm.columnDataType:return[$w.columnDataType,e.dataType];case Jm.columnDefault:return[$w.columnDefault,e.default];case Jm.columnComment:return[$w.columnComment,e.comment];case Jm.columnAutoIncrement:return[$w.columnAutoIncrement,Cp(e.options,dp.autoIncrement)?"TRUE":"FALSE"];case Jm.columnUnique:return[$w.columnUnique,Cp(e.options,dp.unique)?"TRUE":"FALSE"];case Jm.columnNotNull:return[$w.columnNotNull,Cp(e.options,dp.notNull)?"NOT NULL":"NULL"];default:return["",""]}}))))}const mP=Qo(["true","1","yes","y"]),pP=Qo(["true","1","yes","y","not null"]);function gP(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(Cw(r))switch(r){case $w.columnName:e.name=t;break;case $w.columnDataType:e.dataType=t;break;case $w.columnDefault:e.default=t;break;case $w.columnComment:e.comment=t;break;case $w.columnAutoIncrement:yP(t)&&(e.options|=dp.autoIncrement);break;case $w.columnUnique:yP(t)&&(e.options|=dp.unique);break;case $w.columnNotNull:pP(t.trim().toLowerCase())&&(e.options|=dp.notNull)}else switch(n){case Jm.columnName:e.name=t;break;case Jm.columnDataType:e.dataType=t;break;case Jm.columnDefault:e.default=t;break;case Jm.columnComment:e.comment=t;break;case Jm.columnAutoIncrement:yP(t)&&(e.options|=dp.autoIncrement);break;case Jm.columnUnique:yP(t)&&(e.options|=dp.unique);break;case Jm.columnNotNull:pP(t.trim().toLowerCase())&&(e.options|=dp.notNull)}}function yP(e){return mP(e.trim().toLowerCase())}const vP=e=>{let{editor:t,settings:n}=e;return e=>new Bf((r=>e.subscribe({next:e=>{const o=t.openMap[dD],i=t.openMap[hD],a=t.openMap[gD],s=t.openMap[fD],l=t.openMap[pD];n.canvasType===Gm.ERD&&!o&&!i&&!s&&!l&&!a&&r.next(e)},error:e=>r.error(e),complete:()=>r.complete()})))},bP=Qo([DS.relationshipZeroOne,DS.relationshipZeroN,DS.relationshipOneOnly,DS.relationshipOneN]),wP={[DS.relationshipZeroOne]:lp.ZeroOne,[DS.relationshipZeroN]:lp.ZeroN,[DS.relationshipOneOnly]:lp.OneOnly,[DS.relationshipOneN]:lp.OneN};const xP=(e,t)=>{const n=iR(t),r=dd(),o=dd(),i=HS(t),a=il({dragSelect:!1,dragSelectX:0,dragSelectY:0,contextMenuType:"ERD",relationshipId:"",tableId:"",colorPickerShow:!1,colorPickerX:0,colorPickerY:0,colorPickerViewport:null,colorPickerInitialColor:"",tablePropertiesId:"",tablePropertiesIds:[],grabMove:!1,grabCursor:"grab",diffValue:"{}"});!function(e){const t=HS(e),{addUnsubscribe:n}=tE(),r=e=>{const{store:n}=t.value,{editor:r,settings:o}=n.state;cg(o.zoomLevel)||(r.focusTable&&!r.focusTable.edit&&e.key!==fg.Tab&&mg(e.key)&&n.dispatch(ty({moveKey:e.key,shiftKey:e.shiftKey})),r.focusTable&&e.key===fg.Tab&&(e.preventDefault(),n.dispatch(dk(e.key,e.shiftKey)),setTimeout((()=>{!r.focusTable||Dw(r.focusTable.focusType)||n.dispatch(ny())}),1)))},o=n=>{let{type:r}=n;const{store:o,emitter:i}=t.value,{editor:a,settings:s}=o.state,l=cg(s.zoomLevel);if(!a.focusTable||!a.focusTable.edit){if(r===DS.addTable&&o.dispatch(Aw()),r===DS.addColumn&&o.dispatch(jw()),r===DS.addMemo&&o.dispatch(ww()),r===DS.selectAllTable&&o.dispatch(Fg()),bP(r)){const e=wP[r];o.dispatch(hk(e))}if(r===DS.removeTable&&(e.host.dispatchEvent(CE()),o.dispatch(lk())),r===DS.tableProperties){const e=Object.entries(a.selectedMap).find((e=>{let[,t]=e;return t===ug}));e&&(i.emit(tS({tableId:e[0]})),o.dispatch(dy({[hD]:!0})))}r===DS.zoomIn&&o.dispatch(Nk(.04)),r===DS.zoomOut&&o.dispatch(Nk(-.04))}if(!l&&(a.focusTable&&!a.focusTable.edit&&(r===DS.selectAllColumn&&o.dispatch(oy()),r===DS.removeColumn&&a.focusTable.selectColumnIds.length&&o.dispatch(_w(a.focusTable.tableId,a.focusTable.selectColumnIds)),r===DS.primaryKey&&a.focusTable.columnId&&o.dispatch(Bw(a.focusTable.tableId,a.focusTable.columnId))),a.focusTable&&r===DS.edit)){const e=a.focusTable;e.edit?o.dispatch(ry()):e.columnId&&Dw(e.focusType)?o.dispatch(zw(e.focusType,e.tableId,e.columnId)):o.dispatch(ny())}r===DS.stop&&(e.host.dispatchEvent(TE()),o.dispatch(sy(),uk())),r===DS.undo&&o.undo(),r===DS.redo&&o.redo()},i=e=>{const{store:n}=t.value,{editor:r,settings:o}=n.state;!cg(o.zoomLevel)&&r.focusTable&&!r.focusTable.edit&&0!==r.focusTable.selectColumnIds.length&&e.clipboardData&&(e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",function(e){return fP(e).map((e=>e.map((e=>{let[,t]=e;return t})).join("\t"))).join("\n")}(n.state)),e.clipboardData.setData("text/html",function(e){const t=fP(e);return 0===t.length?"":`<table><tbody>${t.map((e=>`<tr>${e.map((e=>{let[t,n]=e;return`<td data-type="${t}">${n}</td>`})).join("")}</tr>`)).join("")}</tbody></table>`}(n.state)))},a=e=>{var n;const{store:r}=t.value,{editor:o,settings:i}=r.state;if(cg(i.zoomLevel)||null!=(n=o.focusTable)&&n.edit||!e.clipboardData||0===Object.entries(o.selectedMap).filter((e=>{let[,t]=e;return t===ug})).length)return;const a=e.clipboardData.getData("text/html"),s=e.clipboardData.getData("text/plain");let l=[];a.trim()?l=function(e,t){let{settings:{show:n,columnOrder:r}}=e;const o=Tw(n,r),i=document.createElement("template");i.innerHTML=t;const a=i.content;return Array.from(a.querySelectorAll("tr")).map((e=>Array.from(e.querySelectorAll("td,th")).map((e=>{var t;return[(null==(t=e.dataset)?void 0:t.type)??"",e.textContent??""]})))).map((e=>{const t=ew();return o.forEach(((n,r)=>{const o=e[r];if(!o)return;const[i,a]=o,s=a.trim();gP(t,s,n,i)})),e.filter((e=>{let[t]=e;return Cw(t)})).forEach((e=>{let[n,r]=e;const o=r.trim();gP(t,o,0,n)})),t}))}(r.state,a):s.trim()&&(l=function(e,t){let{settings:{show:n,columnOrder:r}}=e;const o=t.split("\n").map((e=>e.split("\t"))),i=Tw(n,r);return o.map((e=>{const t=ew();return i.forEach(((n,r)=>{const o=e[r];if(!o)return;const i=o.trim();gP(t,i,n)})),t}))}(r.state,s)),0!==l.length&&(e.preventDefault(),r.dispatch(Ew(l)))};Ws((()=>{const{store:e,keydown$:s,shortcut$:l,emitter:c}=t.value;n(s.pipe(vP(e.state)).subscribe(r),l.pipe(vP(e.state)).subscribe(o),(e=>new Bf((t=>e.on({copy:e=>{let{payload:{event:n}}=e;t.next(n)}}))))(c).pipe(vP(e.state)).subscribe(i),(e=>new Bf((t=>e.on({paste:e=>{let{payload:{event:n}}=e;t.next(n)}}))))(c).pipe(vP(e.state)).subscribe(a))}))}(t);const{addUnsubscribe:s}=tE(),l=()=>{const{store:e}=i.value,{editor:t}=e.state,n=t.openMap[dD],r=t.openMap[hD],o=t.openMap[gD],a=t.openMap[pD];return n||r||o||a},c=e=>{const t=e.target;if(!t||l())return;const r=t.closest(".table"),o=t.closest(".relationship");r?(a.tableId=r.dataset.id,a.contextMenuType=xV):o?(a.relationshipId=o.dataset.id,a.contextMenuType=kV):a.contextMenuType="ERD",n.onContextmenu(e)},u=()=>{n.state.show=!1},d=()=>{const{store:e}=i.value;e.dispatch(dy({[pD]:!1})),a.diffValue="{}"},h=()=>{const{store:e}=i.value;e.dispatch(dy({[gD]:!1}))},f=e=>{if(l())return;e.preventDefault();const t=WS(e),{store:n}=i.value,r=e.shiftKey&&0===e.deltaX&&0!==e.deltaY;n.dispatch(t?Nk(e.deltaY<0?.03:-.03):Jv(r?{movementX:-1*e.deltaY,movementY:-1*e.deltaX}:{movementX:-1*e.deltaX,movementY:-1*e.deltaY}))},m=e=>{let{event:t,movementX:n,movementY:o}=e;const{store:a}=i.value;"mousemove"===t.type&&t.preventDefault(),(0!==n||0!==o)&&(a.dispatch(Jv({movementX:n,movementY:o})),0===r.value.scrollTop&&0===r.value.scrollLeft||(r.value.scrollTop=0,r.value.scrollLeft=0))},p=e=>{const t=e.target;if(!t)return;const n=l(),o=!t.closest(".color-picker"),s=!t.closest(".table")&&!t.closest(".memo")&&!t.closest(".edit-input")&&!t.closest(".context-menu-content")&&!t.closest(".hide-sign")&&o,c=s&&o&&!t.closest(".minimap")&&!t.closest(".minimap-viewport")&&!t.closest(".virtual-scroll")&&!n;if(s){const{store:e}=i.value;e.dispatch(uk())}if(o){const{emitter:e}=i.value;e.emit(JO())}if(c)if(IE(e)&&WS(e)){e.preventDefault();const{x:t,y:n}=r.value.getBoundingClientRect();a.dragSelect=!0,a.dragSelectX=e.clientX-t,a.dragSelectY=e.clientY-n}else a.grabMove&&(a.grabCursor="grabbing"),UE.subscribe({next:m,complete:()=>{a.grabCursor="grab"}})},g=()=>{a.dragSelect=!1},y=e=>{const{store:t}=i.value;t.dispatch(mk(e))},v=e=>{const{store:t}=i.value;t.dispatch(e.map(Mb))},b=e=>{a.tablePropertiesId=e},w=e=>{const{store:t}=i.value,{history:n}=t;let r=0;for(;n.cursor!==e&&r<=HO;)n.cursor<e?n.redo():n.undo(),r++};let x=null;const k=()=>{null==x||x.unsubscribe(),x=null},I=()=>{const{store:e}=i.value,t=r.value;t&&(k(),x=VO(t,"mousemove").pipe(bm(100,void 0,{leading:!1,trailing:!0})).subscribe((n=>{const r=t.getBoundingClientRect(),{settings:{scrollLeft:o,scrollTop:i,width:a,height:s,zoomLevel:l}}=e.state,c=Sp({x:n.clientX-r.x-o,y:n.clientY-r.y-i},a,s,l);e.dispatch(my(c))})))};return Ws((()=>{const{store:t,emitter:n,keydown$:o}=i.value,l=r.value;e.mouseTracking&&I(),s(al(e).subscribe((t=>{"mouseTracking"===t&&(e.mouseTracking?I():k())})),n.on({openColorPicker:e=>{let{payload:{x:n,y:r,color:o}}=e;const{editor:i}=t.state,s=l.getBoundingClientRect();a.colorPickerX=n-s.x,a.colorPickerY=r-s.y,a.colorPickerViewport=i.viewport,a.colorPickerInitialColor=o,a.colorPickerShow=!0},closeColorPicker:()=>{a.colorPickerShow=!1},openTableProperties:e=>{let{payload:{tableId:n}}=e;const{doc:r}=t.state,o=a.tablePropertiesIds.filter((e=>r.tableIds.includes(e)));if(o.includes(n)){const e=o.indexOf(n);o.splice(e,1)}o.unshift(n),a.tablePropertiesIds=o.slice(0,5),a.tablePropertiesId=n},openDiffViewer:e=>{let{payload:{value:n}}=e;a.diffValue=n,t.dispatch(dy({[pD]:!0}))}}),o.pipe(gm((e=>{const n=e.target;if(!n)return!1;const{editor:r,settings:o}=t.state,i=r.openMap[dD],a=r.openMap[hD],s=r.openMap[gD],l=r.openMap[pD];return!(o.canvasType!==Gm.ERD||i||a||l||s)&&"Space"===e.code&&"DIV"===n.tagName}))).subscribe((()=>{a.grabMove=!0})),OE.pipe(gm((e=>"Space"===e.code))).subscribe((()=>{a.grabMove=!1})))})),()=>{const{store:t}=i.value,{editor:{drawRelationship:s,openMap:l}}=t.state,m=l[dD],x=l[hD],k=l[gD],I=l[pD],$=a.grabMove?a.grabCursor:s?`url("${function(e){const t=sN("base64",dP[e]);if(!t)return null;const[n,r,,,o]=t.icon;return o}(s.relationshipType)}") 16 16, auto`:"";return Fh`
      <div
        class=${hP}
        style=${{cursor:$}}
        ${hd(r)}
        @contextmenu=${c}
        @mousedown=${n.onMousedown}
        @mousedown=${p}
        @touchstart=${p}
        @wheel=${f}
      >
        <${PM} root=${r} canvas=${o} grabMove=${a.grabMove} />
        <${Oz} />
        <${QM} />
        <${LV} root=${r} />
        ${a.dragSelect?Fh`
              <${eR}
                root=${r}
                x=${a.dragSelectX}
                y=${a.dragSelectY}
                .onDragSelectEnd=${g}
              />
            `:null}
        ${n.state.show?Fh`
              <${IV}
                type=${a.contextMenuType}
                canvas=${o}
                relationshipId=${a.relationshipId}
                tableId=${a.tableId}
                .onClose=${u}
              />
            `:null}
        ${a.colorPickerShow?Fh`
              <${uP}
                color=${a.colorPickerInitialColor}
                x=${a.colorPickerX}
                y=${a.colorPickerY}
                viewport=${a.colorPickerViewport}
                .onChange=${y}
              />
            `:null}
        ${m?Fh`
              <div>
                <${vz}
                  app=${i}
                  .onChange=${v}
                />
              </div>
            `:null}
        ${x?Fh`
              <${qB}
                tableId=${a.tablePropertiesId}
                tableIds=${a.tablePropertiesIds}
                isDarkMode=${e.isDarkMode}
                .onChange=${b}
              />
            `:null}
        ${I?Fh`
              <div>
                <${Jz}
                  app=${i}
                  initialValue=${a.diffValue}
                  .onClose=${d}
                />
              </div>
            `:null}
        ${k?Fh`
              <div>
                <${oP}
                  app=${i}
                  .onChange=${w}
                  .onClose=${h}
                />
              </div>
            `:null}
      </div>
    `}},kP="-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', 'Open Sans', system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji'",IP=()=>{const e=function(){const e=document.createElement("style");return e.textContent="\np,\nol,\nul,\nli,\ndl,\ndt,\ndd,\nblockquote,\nfigure,\nfieldset,\nlegend,\ntextarea,\npre,\niframe,\nhr,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  margin: 0;\n  padding: 0;\n}\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-size: 100%;\n  font-weight: normal;\n}\n\nul {\n  list-style: none;\n}\n\nbutton,\ninput,\nselect,\ntextarea {\n  padding: 0;\n  border: none;\n  outline: none;\n  font-family: var(--text-font-family);\n  color: var(--active);\n  background-color: inherit;\n}\n\ninput::placeholder,\ntextarea::placeholder {\n  font-family: var(--text-font-family);\n  color: var(--placeholder);\n  opacity: 1;\n}\n\ninput:disabled,\ntextarea:disabled {\n  cursor: not-allowed;\n  opacity: 0.5;\n}\n\n*, *::before, *::after {\n  box-sizing: border-box;\n}\n\nimg,\nvideo {\n  height: auto;\n  max-width: 100%;\n}\n\niframe {\n  border: 0;\n}\n\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n\ntd,\nth {\n  padding: 0;\n}\n\n:host {\n  font-family: var(--text-font-family);\n  color: var(--foreground);\n  fill: var(--foreground);\n  font-size: var(--font-size-2);\n  letter-spacing: var(--letter-spacing-2);\n  line-height: var(--line-height-2);\n  font-weight: var(--font-weight-regular);\n}\n",e}(),t=function(){const e=document.createElement("style");return e.textContent=`\n    :host {\n      --text-font-family: ${kP};\n      --code-font-family: 'Menlo', 'Consolas', 'Bitstream Vera Sans Mono', monospace, 'Apple Color Emoji', 'Segoe UI Emoji';\n    }\n  `,e}(),n=function(){const e=document.createElement("style");return e.textContent="\n    :host {\n      --font-size-1: 12px;\n      --font-size-2: 14px;\n      --font-size-3: 16px;\n      --font-size-4: 18px;\n      --font-size-5: 20px;\n      --font-size-6: 24px;\n      --font-size-7: 28px;\n      --font-size-8: 35px;\n      --font-size-9: 60px;\n      --letter-spacing-1: 0em;\n      --letter-spacing-2: 0em;\n      --letter-spacing-3: 0em;\n      --letter-spacing-4: -0.0025em;\n      --letter-spacing-5: -0.005em;\n      --letter-spacing-6: -0.00625em;\n      --letter-spacing-7: -0.0075em;\n      --letter-spacing-8: -0.01em;\n      --letter-spacing-9: -0.025em;\n      --line-height-1: 16px;\n      --line-height-2: 20px;\n      --line-height-3: 24px;\n      --line-height-4: 26px;\n      --line-height-5: 28px;\n      --line-height-6: 30px;\n      --line-height-7: 36px;\n      --line-height-8: 40px;\n      --line-height-9: 60px;\n      --font-weight-light: 300;\n      --font-weight-regular: 400;\n      --font-weight-medium: 500;\n      --font-weight-bold: 700;\n    }\n  ",e}(),r=function(){const e=document.createElement("style");return e.textContent="\n::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n::-webkit-scrollbar-track {\n  background: var(--scrollbar-track);\n}\n::-webkit-scrollbar-corner {\n  background: transparent;\n}\n::-webkit-scrollbar-thumb {\n  background: var(--scrollbar-thumb);\n}\n::-webkit-scrollbar-thumb:hover {\n  background: var(--scrollbar-thumb-hover);\n}\n\n.scrollbar {\n  scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);\n  scrollbar-width: thin;\n}\n",e}(),o=function(){const e=document.createElement("style");return e.textContent="\n/* easylogic-colorpicker */\n.easylogic-colorpicker {\n  position: relative;\n  width: 224px;\n  z-index: 1000;\n  display: inline-block;\n  border: 1px solid var(--context-menu-border);\n  background-color: var(--context-menu-background);\n  border-radius: 3px;\n  -webkit-box-shadow: 0 0px 10px 2px rgba(0, 0, 0, 0.12);\n  box-shadow: 0 0px 10px 2px rgba(0, 0, 0, 0.12);\n  outline: none;\n  /* theme */\n}\n.easylogic-colorpicker > .arrow {\n  position: absolute;\n  top: -10px;\n  left: 7px;\n  width: 0;\n  height: 0;\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  display: none;\n  border-bottom: 10px solid rgba(0, 0, 0, 0.2);\n  pointer-events: none;\n}\n.easylogic-colorpicker > .arrow:after {\n  position: absolute;\n  content: '';\n  top: 1px;\n  left: -9px;\n  width: 0;\n  height: 0;\n  border-left: 9px solid transparent;\n  border-right: 9px solid transparent;\n  border-bottom: 9px solid white;\n}\n.easylogic-colorpicker .colorpicker-body .arrow-button {\n  position: relative;\n  width: 10px;\n  height: 12px;\n  padding: 0px;\n  background-color: transparent;\n}\n.easylogic-colorpicker .colorpicker-body .arrow-button:before {\n  content: '';\n  display: inline-block;\n  position: absolute;\n  left: 0px;\n  right: 0px;\n  top: 0px;\n  height: 50%;\n  width: 0;\n  height: 0;\n  border-left: 3px solid transparent;\n  border-right: 3px solid transparent;\n  border-bottom: 3px solid var(--active);\n  pointer-events: none;\n  margin: 2px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.easylogic-colorpicker .colorpicker-body .arrow-button:after {\n  content: '';\n  display: inline-block;\n  position: absolute;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  top: 50%;\n  width: 0;\n  height: 0;\n  border-left: 3px solid transparent;\n  border-right: 3px solid transparent;\n  border-top: 3px solid var(--active);\n  pointer-events: none;\n  margin: 2px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.easylogic-colorpicker .colorpicker-body .color {\n  position: relative;\n  height: 120px;\n  overflow: hidden;\n  cursor: pointer;\n}\n.easylogic-colorpicker .colorpicker-body .color > .saturation {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n.easylogic-colorpicker .colorpicker-body .color > .saturation > .value {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .color\n  > .saturation\n  > .value\n  > .drag-pointer {\n  position: absolute;\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n  transform: translateX(-50%) translateY(-50%);\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .color\n  > .saturation\n  > .value\n  > .drag-pointer\n  > div {\n  border: 1px solid #ececec;\n  -webkit-box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.05);\n  box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.05);\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  position: absolute;\n  width: 10px;\n  height: 4px;\n  background-color: white;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .color\n  > .saturation\n  > .value\n  > .drag-pointer\n  .left-saturation {\n  left: 0%;\n  top: 50%;\n  -webkit-transform: translateX(calc(-100% - 4px)) translateY(-50%);\n  transform: translateX(calc(-100% - 4px)) translateY(-50%);\n  cursor: col-resize;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .color\n  > .saturation\n  > .value\n  > .drag-pointer\n  .right-saturation {\n  left: 100%;\n  top: 50%;\n  -webkit-transform: translateX(4px) translateY(-50%);\n  transform: translateX(4px) translateY(-50%);\n  cursor: col-resize;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .color\n  > .saturation\n  > .value\n  > .drag-pointer\n  .top-value {\n  width: 4px;\n  height: 10px;\n  left: 50%;\n  top: 0%;\n  -webkit-transform: translateX(-50%) translateY(calc(-100% - 4px));\n  transform: translateX(-50%) translateY(calc(-100% - 4px));\n  cursor: row-resize;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .color\n  > .saturation\n  > .value\n  > .drag-pointer\n  .bottom-value {\n  width: 4px;\n  height: 10px;\n  left: 50%;\n  top: 100%;\n  -webkit-transform: translateX(-50%) translateY(4px);\n  transform: translateX(-50%) translateY(4px);\n  cursor: row-resize;\n}\n.easylogic-colorpicker .colorpicker-body .color > .saturation {\n  background-color: rgba(204, 154, 129, 0);\n  background-image: -webkit-gradient(\n    linear,\n    left top,\n    right top,\n    from(#fff),\n    to(rgba(204, 154, 129, 0))\n  );\n  background-image: linear-gradient(to right, #fff, rgba(204, 154, 129, 0));\n  background-repeat: repeat-x;\n}\n.easylogic-colorpicker .colorpicker-body .color > .saturation > .value {\n  background-image: -webkit-gradient(\n    linear,\n    left bottom,\n    left top,\n    from(#000000),\n    to(rgba(204, 154, 129, 0))\n  );\n  background-image: linear-gradient(to top, #000000, rgba(204, 154, 129, 0));\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .color\n  > .saturation\n  > .value\n  > .drag-pointer {\n  border: 1px solid #fff;\n  -webkit-box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.05);\n  box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.05);\n}\n.easylogic-colorpicker .colorpicker-body .control {\n  position: relative;\n  padding: 10px 0px 10px 0px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.easylogic-colorpicker .colorpicker-body .control > .color,\n.easylogic-colorpicker .colorpicker-body .control > .empty {\n  position: absolute;\n  left: 12px;\n  top: 14px;\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.easylogic-colorpicker .colorpicker-body .control > .color2,\n.easylogic-colorpicker .colorpicker-body .control > .empty2 {\n  position: absolute;\n  left: 12px;\n  top: 50px;\n  width: 30px;\n  height: 20px;\n  border-radius: 4px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.easylogic-colorpicker .colorpicker-body .control > .color {\n  border: 1px solid rgba(0, 0, 0, 0.1);\n}\n.easylogic-colorpicker .colorpicker-body .control > .hue {\n  position: relative;\n  padding: 3px 16px;\n  margin: 0px 0px 0px 42px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n.easylogic-colorpicker .colorpicker-body .control > .hue > .hue-container {\n  position: relative;\n  width: 100%;\n  height: 14px;\n  border-radius: 3px;\n}\n.easylogic-colorpicker .colorpicker-body .control > .hue-scale {\n  position: relative;\n  padding: 3px 16px;\n  margin: 0px 0px 0px 42px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .control\n  > .hue-scale\n  > .hue-scale-container {\n  position: relative;\n  width: 100%;\n  height: 14px;\n}\n.easylogic-colorpicker .colorpicker-body .control > .opacity {\n  position: relative;\n  padding: 3px 16px;\n  margin: 0px 0px 0px 42px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .control\n  > .opacity\n  > .opacity-container {\n  position: relative;\n  width: 100%;\n  height: 14px;\n  border-radius: 3px;\n}\n.easylogic-colorpicker .colorpicker-body .control .drag-bar,\n.easylogic-colorpicker .colorpicker-body .control .drag-bar2 {\n  position: absolute;\n  cursor: pointer;\n  top: 50%;\n  left: 0px;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n  transform: translateX(-50%) translateY(-50%);\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n}\n.easylogic-colorpicker .colorpicker-body .control > .hue > .hue-container {\n  background: -webkit-gradient(\n    linear,\n    left top,\n    right top,\n    from(#ff0000),\n    color-stop(17%, #ffff00),\n    color-stop(33%, #00ff00),\n    color-stop(50%, #00ffff),\n    color-stop(67%, #0000ff),\n    color-stop(83%, #ff00ff),\n    to(#ff0000)\n  );\n  background: linear-gradient(\n    to right,\n    #ff0000 0%,\n    #ffff00 17%,\n    #00ff00 33%,\n    #00ffff 50%,\n    #0000ff 67%,\n    #ff00ff 83%,\n    #ff0000 100%\n  );\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .control\n  > .opacity\n  > .opacity-container {\n  background-color: transparent;\n  background-image: linear-gradient(45deg, #ccc 25%, transparent 25%),\n    linear-gradient(-45deg, #ccc 25%, transparent 25%),\n    linear-gradient(45deg, transparent 75%, #ccc 75%),\n    linear-gradient(-45deg, transparent 75%, #ccc 75%);\n  background-size: 10px 10px;\n  background-position: 0 0, 0 5px, 5px -5px, -5px 0px;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .control\n  > .opacity\n  > .opacity-container\n  > .color-bar {\n  position: absolute;\n  display: block;\n  content: '';\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  top: 0px;\n}\n.easylogic-colorpicker .colorpicker-body .control > .empty,\n.easylogic-colorpicker .colorpicker-body .control > .empty2 {\n  background-color: transparent;\n  background-image: linear-gradient(45deg, #ccc 25%, transparent 25%),\n    linear-gradient(-45deg, #ccc 25%, transparent 25%),\n    linear-gradient(45deg, transparent 75%, #ccc 75%),\n    linear-gradient(-45deg, transparent 75%, #ccc 75%);\n  background-size: 10px 10px;\n  background-position: 0 0, 0 5px, 5px -5px, -5px 0px;\n}\n.easylogic-colorpicker .colorpicker-body .control .drag-bar,\n.easylogic-colorpicker .colorpicker-body .control .drag-bar2 {\n  border: 1px solid rgba(0, 0, 0, 0.05);\n  -webkit-box-shadow: 2px 2px 2px 0px rgba(0, 0, 0, 0.2);\n  box-shadow: 2px 2px 2px 0px rgba(0, 0, 0, 0.2);\n  background-color: #fefefe;\n}\n.easylogic-colorpicker .colorpicker-body .information {\n  /*border-top: 1px solid #e8e8e8;*/\n  position: relative;\n  -webkit-box-sizing: padding-box;\n  box-sizing: padding-box;\n}\n.easylogic-colorpicker .colorpicker-body .information > input {\n  position: absolute;\n  font-size: 10px;\n  height: 20px;\n  bottom: 20px;\n  padding: 0 0 0 2px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\n.easylogic-colorpicker .colorpicker-body .information > input[type='number'] {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .information\n  > input[type='number']::-webkit-inner-spin-button,\n.easylogic-colorpicker\n  .colorpicker-body\n  .information\n  > input[type='number']::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  appearance: none;\n  margin: 0;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .information.hex\n  > .information-item.hex {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .information.rgb\n  > .information-item.rgb {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .information.hsl\n  > .information-item.hsl {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.easylogic-colorpicker .colorpicker-body .information > .information-item {\n  display: none;\n  position: relative;\n  padding: 0px 5px;\n  padding-left: 9px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  margin-right: 40px;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .information\n  > .information-item\n  > .input-field {\n  display: block;\n  -webkit-box-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  padding: 3px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  position: relative;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .information\n  > .information-item\n  > .input-field\n  > .title {\n  text-align: center;\n  font-size: 12px;\n  color: #a9a9a9;\n  padding-top: 2px;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .information\n  > .information-item\n  > .input-field\n  input {\n  text-align: center;\n  width: 100%;\n  padding: 3px;\n  height: 21px;\n  font-size: 11px;\n  color: var(--foreground);\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n  border: 1px solid var(--context-menu-border);\n  border-radius: 2px;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .information\n  > .information-item\n  > .input-field\n  input[type='number'] {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .information\n  > .information-item\n  > .input-field\n  input[type='number']::-webkit-inner-spin-button,\n.easylogic-colorpicker\n  .colorpicker-body\n  .information\n  > .information-item\n  > .input-field\n  input[type='number']::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  appearance: none;\n  margin: 0;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .information\n  > .information-item\n  > .input-field.hsl-l\n  input[type='number'],\n.easylogic-colorpicker\n  .colorpicker-body\n  .information\n  > .information-item\n  > .input-field.hsl-s\n  input[type='number'] {\n  padding-left: 1px;\n  padding-right: 10px;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .information\n  > .information-item\n  > .input-field\n  .postfix {\n  display: inline-block;\n  position: absolute;\n  right: 3px;\n  top: 2px;\n  height: 21px;\n  line-height: 2;\n  padding: 2px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  text-align: center;\n  font-size: 11px;\n}\n.easylogic-colorpicker .colorpicker-body .information > .information-change {\n  position: absolute;\n  display: block;\n  width: 40px;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  text-align: center;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  padding-top: 5px;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .information\n  > .information-change\n  > .format-change-button {\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  background: transparent;\n  border: 0px;\n  cursor: pointer;\n  outline: none;\n}\n.easylogic-colorpicker .colorpicker-body .information > .title {\n  color: #a3a3a3;\n}\n.easylogic-colorpicker .colorpicker-body .information > .input {\n  color: var(--foreground);\n}\n.easylogic-colorpicker .colorpicker-body .colorsets {\n  border-top: 1px solid var(--context-menu-border);\n}\n.easylogic-colorpicker .colorpicker-body .colorsets > .menu {\n  float: right;\n  padding: 10px 5px;\n  padding-right: 15px;\n}\n.easylogic-colorpicker .colorpicker-body .colorsets > .menu button {\n  border: 0px;\n  font-size: 14px;\n  font-weight: 300;\n  font-family: serif, sans-serif;\n  outline: none;\n  cursor: pointer;\n}\n.easylogic-colorpicker .colorpicker-body .colorsets > .color-list {\n  margin-right: 30px;\n  display: block;\n  padding: 12px 0px 0px 12px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  line-height: 0;\n}\n.easylogic-colorpicker .colorpicker-body .colorsets > .color-list h6 {\n  margin-top: 0px;\n  margin-bottom: 8px;\n  display: none;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .colorsets\n  > .color-list\n  .color-item {\n  width: 13px;\n  height: 13px;\n  border-radius: 2px;\n  display: inline-block;\n  margin-right: 12px;\n  margin-bottom: 12px;\n  position: relative;\n  background-size: contain;\n  overflow: hidden;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  cursor: pointer;\n  vertical-align: middle;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .colorsets\n  > .color-list\n  .color-item:hover {\n  -webkit-transform: scale(1.2);\n  transform: scale(1.2);\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .colorsets\n  > .color-list\n  .color-item\n  .empty {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  background-color: transparent;\n  background-image: linear-gradient(45deg, #ccc 25%, transparent 25%),\n    linear-gradient(-45deg, #ccc 25%, transparent 25%),\n    linear-gradient(45deg, transparent 75%, #ccc 75%),\n    linear-gradient(-45deg, transparent 75%, #ccc 75%);\n  background-size: 10px 10px;\n  background-position: 0 0, 0 5px, 5px -5px, -5px 0px;\n  width: 100%;\n  height: 100%;\n  padding: 0px;\n  margin: 0px;\n  pointer-events: none;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .colorsets\n  > .color-list\n  .color-item\n  .color-view {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  width: 100%;\n  height: 100%;\n  padding: 0px;\n  margin: 0px;\n  pointer-events: none;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .colorsets\n  > .color-list\n  .add-color-item {\n  width: 13px;\n  height: 13px;\n  display: inline-block;\n  margin-right: 12px;\n  margin-bottom: 12px;\n  cursor: pointer;\n  line-height: 1;\n  text-align: center;\n  font-size: 16px;\n  font-weight: 400;\n  font-family: serif, sans-serif;\n  color: var(--foreground);\n  vertical-align: middle;\n}\n.easylogic-colorpicker .colorpicker-body .color-chooser {\n  position: absolute;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  top: 0px;\n  opacity: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  -webkit-transition: opacity 0.05s ease-out;\n  transition: opacity 0.05s ease-out;\n  pointer-events: none;\n}\n.easylogic-colorpicker .colorpicker-body .color-chooser.open {\n  opacity: 1;\n  pointer-events: all;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .color-chooser\n  .color-chooser-container {\n  position: absolute;\n  top: 120px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  background-color: var(--context-menu-background);\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .color-chooser\n  .color-chooser-container\n  .colorsets-item-header {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  height: 34px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 3px 0px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .color-chooser\n  .color-chooser-container\n  .colorsets-item-header\n  .title {\n  -webkit-box-flex: 2;\n  -ms-flex: 2;\n  flex: 2;\n  font-weight: bold;\n  font-size: 15px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  margin-right: 30px;\n  vertical-align: middle;\n  margin: 0px;\n  padding: 5px;\n  padding-left: 14px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  color: var(--active);\n  text-align: left;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .color-chooser\n  .color-chooser-container\n  .colorsets-item-header\n  .items {\n  -webkit-box-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  text-align: right;\n  padding-right: 10px;\n  display: block;\n  height: 100%;\n  line-height: 2;\n  cursor: pointer;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .color-chooser\n  .color-chooser-container\n  .colorsets-list {\n  position: absolute;\n  top: 34px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  overflow: auto;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .color-chooser\n  .color-chooser-container\n  .colorsets-list\n  .colorsets-item {\n  cursor: pointer;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 3px 0px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .color-chooser\n  .color-chooser-container\n  .colorsets-list\n  .colorsets-item:hover {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .color-chooser\n  .color-chooser-container\n  .colorsets-list\n  .colorsets-item\n  .title {\n  -webkit-box-flex: 2;\n  -ms-flex: 2;\n  flex: 2;\n  font-size: 14px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  margin-right: 30px;\n  vertical-align: middle;\n  pointer-events: none;\n  margin: 0px;\n  padding: 5px;\n  padding-left: 14px;\n  font-weight: normal;\n  font-size: 13px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  color: var(--active);\n  text-align: left;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .color-chooser\n  .color-chooser-container\n  .colorsets-list\n  .colorsets-item\n  .items {\n  -webkit-box-flex: 3;\n  -ms-flex: 3;\n  flex: 3;\n  display: block;\n  height: 100%;\n  line-height: 1.6;\n  cursor: pointer;\n  pointer-events: none;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .color-chooser\n  .color-chooser-container\n  .colorsets-list\n  .colorsets-item\n  .items\n  .color-item {\n  width: 13px;\n  height: 13px;\n  border-radius: 3px;\n  display: inline-block;\n  margin-right: 10px;\n  background-color: transparent;\n  background-image: linear-gradient(45deg, #ccc 25%, transparent 25%),\n    linear-gradient(-45deg, #ccc 25%, transparent 25%),\n    linear-gradient(45deg, transparent 75%, #ccc 75%),\n    linear-gradient(-45deg, transparent 75%, #ccc 75%);\n  background-size: 10px 10px;\n  background-position: 0 0, 0 5px, 5px -5px, -5px 0px;\n  background-size: contain;\n  border: 1px solid #dddddd;\n  overflow: hidden;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  cursor: pointer;\n  vertical-align: middle;\n}\n.easylogic-colorpicker\n  .colorpicker-body\n  .color-chooser\n  .color-chooser-container\n  .colorsets-list\n  .colorsets-item\n  .items\n  .color-item\n  .color-view {\n  width: 100%;\n  height: 100%;\n  padding: 0px;\n  margin: 0px;\n  pointer-events: none;\n}\n.easylogic-colorpicker .gradient-editor {\n  position: relative;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.easylogic-colorpicker .gradient-editor .tools {\n  padding: 4px 6px;\n}\n.easylogic-colorpicker .gradient-editor .unit {\n  display: grid;\n  grid-template-columns: 1fr 50px 50px;\n  grid-column-gap: 5px;\n  font-size: 11px;\n}\n.easylogic-colorpicker .gradient-editor .unit input,\n.easylogic-colorpicker .gradient-editor .unit select {\n  width: 100%;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.easylogic-colorpicker .gradient-editor [data-editor] {\n  display: none;\n  margin-top: 2px;\n}\n.easylogic-colorpicker .gradient-editor [data-editor] > label {\n  font-size: 11px;\n  vertical-align: middle;\n}\n.easylogic-colorpicker .gradient-editor [data-editor] > label > * {\n  vertical-align: middle;\n}\n.easylogic-colorpicker\n  .gradient-editor:not([data-selected-editor*='static-gradient'])\n  [data-editor='gradient'],\n.easylogic-colorpicker\n  .gradient-editor:not([data-selected-editor*='static-gradient'])\n  [data-editor='tools'] {\n  display: block;\n}\n.easylogic-colorpicker\n  .gradient-editor[data-selected-editor='linear-gradient']\n  [data-editor='angle'],\n.easylogic-colorpicker\n  .gradient-editor[data-selected-editor='repeating-linear-gradient']\n  [data-editor='angle'],\n.easylogic-colorpicker\n  .gradient-editor[data-selected-editor='conic-gradient']\n  [data-editor='angle'],\n.easylogic-colorpicker\n  .gradient-editor[data-selected-editor='repeating-conic-gradient']\n  [data-editor='angle'] {\n  display: block;\n}\n.easylogic-colorpicker\n  .gradient-editor[data-selected-editor='radial-gradient']\n  [data-editor='centerX'],\n.easylogic-colorpicker\n  .gradient-editor[data-selected-editor='radial-gradient']\n  [data-editor='centerY'],\n.easylogic-colorpicker\n  .gradient-editor[data-selected-editor='repeating-radial-gradient']\n  [data-editor='centerX'],\n.easylogic-colorpicker\n  .gradient-editor[data-selected-editor='repeating-radial-gradient']\n  [data-editor='centerY'],\n.easylogic-colorpicker\n  .gradient-editor[data-selected-editor='conic-gradient']\n  [data-editor='centerX'],\n.easylogic-colorpicker\n  .gradient-editor[data-selected-editor='conic-gradient']\n  [data-editor='centerY'],\n.easylogic-colorpicker\n  .gradient-editor[data-selected-editor='repeating-conic-gradient']\n  [data-editor='centerX'],\n.easylogic-colorpicker\n  .gradient-editor[data-selected-editor='repeating-conic-gradient']\n  [data-editor='centerY'] {\n  display: block;\n}\n.easylogic-colorpicker\n  .gradient-editor[data-selected-editor='radial-gradient']\n  [data-editor='radialType'],\n.easylogic-colorpicker\n  .gradient-editor[data-selected-editor='repeating-radial-gradient']\n  [data-editor='radialType'] {\n  margin-top: 5px;\n  display: grid;\n  grid-template-columns: 1fr 105px;\n  grid-column-gap: 2px;\n}\n.easylogic-colorpicker\n  .gradient-editor[data-selected-editor='radial-gradient']\n  [data-editor='radialType']\n  select,\n.easylogic-colorpicker\n  .gradient-editor[data-selected-editor='repeating-radial-gradient']\n  [data-editor='radialType']\n  select {\n  width: 100%;\n}\n.easylogic-colorpicker .gradient-editor .sub-editor {\n  padding: 0px 8px;\n}\n.easylogic-colorpicker .gradient-editor .gradient-steps {\n  position: relative;\n  height: 30px;\n}\n.easylogic-colorpicker .gradient-editor .hue-container,\n.easylogic-colorpicker .gradient-editor .hue {\n  position: absolute;\n  left: 10px;\n  right: 10px;\n  top: 4px;\n  height: 14px;\n  border-radius: 10px;\n  border: 1px solid #cccccc;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  background-color: transparent;\n  background-image: linear-gradient(45deg, #ccc 25%, transparent 25%),\n    linear-gradient(-45deg, #ccc 25%, transparent 25%),\n    linear-gradient(45deg, transparent 75%, #ccc 75%),\n    linear-gradient(-45deg, transparent 75%, #ccc 75%);\n  background-size: 10px 10px;\n  background-position: 0 0, 0 5px, 5px -5px, -5px 0px;\n  pointer-events: all;\n}\n.easylogic-colorpicker .gradient-editor .hue {\n  pointer-events: none;\n}\n.easylogic-colorpicker .gradient-editor .hue .step-list {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0px;\n  left: 0px;\n  border-radius: 10px;\n  pointer-events: none;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='0']\n  [data-index='0'] {\n  border: 0px;\n  -webkit-transform: translateX(-50%) translateY(calc(100%));\n  transform: translateX(-50%) translateY(calc(100%));\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='0']\n  [data-index='0']\n  .arrow {\n  display: block;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='1']\n  [data-index='1'] {\n  border: 0px;\n  -webkit-transform: translateX(-50%) translateY(calc(100%));\n  transform: translateX(-50%) translateY(calc(100%));\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='1']\n  [data-index='1']\n  .arrow {\n  display: block;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='2']\n  [data-index='2'] {\n  border: 0px;\n  -webkit-transform: translateX(-50%) translateY(calc(100%));\n  transform: translateX(-50%) translateY(calc(100%));\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='2']\n  [data-index='2']\n  .arrow {\n  display: block;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='3']\n  [data-index='3'] {\n  border: 0px;\n  -webkit-transform: translateX(-50%) translateY(calc(100%));\n  transform: translateX(-50%) translateY(calc(100%));\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='3']\n  [data-index='3']\n  .arrow {\n  display: block;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='4']\n  [data-index='4'] {\n  border: 0px;\n  -webkit-transform: translateX(-50%) translateY(calc(100%));\n  transform: translateX(-50%) translateY(calc(100%));\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='4']\n  [data-index='4']\n  .arrow {\n  display: block;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='5']\n  [data-index='5'] {\n  border: 0px;\n  -webkit-transform: translateX(-50%) translateY(calc(100%));\n  transform: translateX(-50%) translateY(calc(100%));\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='5']\n  [data-index='5']\n  .arrow {\n  display: block;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='6']\n  [data-index='6'] {\n  border: 0px;\n  -webkit-transform: translateX(-50%) translateY(calc(100%));\n  transform: translateX(-50%) translateY(calc(100%));\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='6']\n  [data-index='6']\n  .arrow {\n  display: block;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='7']\n  [data-index='7'] {\n  border: 0px;\n  -webkit-transform: translateX(-50%) translateY(calc(100%));\n  transform: translateX(-50%) translateY(calc(100%));\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='7']\n  [data-index='7']\n  .arrow {\n  display: block;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='8']\n  [data-index='8'] {\n  border: 0px;\n  -webkit-transform: translateX(-50%) translateY(calc(100%));\n  transform: translateX(-50%) translateY(calc(100%));\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='8']\n  [data-index='8']\n  .arrow {\n  display: block;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='9']\n  [data-index='9'] {\n  border: 0px;\n  -webkit-transform: translateX(-50%) translateY(calc(100%));\n  transform: translateX(-50%) translateY(calc(100%));\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='9']\n  [data-index='9']\n  .arrow {\n  display: block;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='10']\n  [data-index='10'] {\n  border: 0px;\n  -webkit-transform: translateX(-50%) translateY(calc(100%));\n  transform: translateX(-50%) translateY(calc(100%));\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='10']\n  [data-index='10']\n  .arrow {\n  display: block;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='11']\n  [data-index='11'] {\n  border: 0px;\n  -webkit-transform: translateX(-50%) translateY(calc(100%));\n  transform: translateX(-50%) translateY(calc(100%));\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='11']\n  [data-index='11']\n  .arrow {\n  display: block;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='12']\n  [data-index='12'] {\n  border: 0px;\n  -webkit-transform: translateX(-50%) translateY(calc(100%));\n  transform: translateX(-50%) translateY(calc(100%));\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='12']\n  [data-index='12']\n  .arrow {\n  display: block;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='13']\n  [data-index='13'] {\n  border: 0px;\n  -webkit-transform: translateX(-50%) translateY(calc(100%));\n  transform: translateX(-50%) translateY(calc(100%));\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='13']\n  [data-index='13']\n  .arrow {\n  display: block;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='14']\n  [data-index='14'] {\n  border: 0px;\n  -webkit-transform: translateX(-50%) translateY(calc(100%));\n  transform: translateX(-50%) translateY(calc(100%));\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='14']\n  [data-index='14']\n  .arrow {\n  display: block;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='15']\n  [data-index='15'] {\n  border: 0px;\n  -webkit-transform: translateX(-50%) translateY(calc(100%));\n  transform: translateX(-50%) translateY(calc(100%));\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='15']\n  [data-index='15']\n  .arrow {\n  display: block;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='16']\n  [data-index='16'] {\n  border: 0px;\n  -webkit-transform: translateX(-50%) translateY(calc(100%));\n  transform: translateX(-50%) translateY(calc(100%));\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='16']\n  [data-index='16']\n  .arrow {\n  display: block;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='17']\n  [data-index='17'] {\n  border: 0px;\n  -webkit-transform: translateX(-50%) translateY(calc(100%));\n  transform: translateX(-50%) translateY(calc(100%));\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='17']\n  [data-index='17']\n  .arrow {\n  display: block;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='18']\n  [data-index='18'] {\n  border: 0px;\n  -webkit-transform: translateX(-50%) translateY(calc(100%));\n  transform: translateX(-50%) translateY(calc(100%));\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='18']\n  [data-index='18']\n  .arrow {\n  display: block;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='19']\n  [data-index='19'] {\n  border: 0px;\n  -webkit-transform: translateX(-50%) translateY(calc(100%));\n  transform: translateX(-50%) translateY(calc(100%));\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list[data-selected-index='19']\n  [data-index='19']\n  .arrow {\n  display: block;\n}\n.easylogic-colorpicker .gradient-editor .hue .step-list .step {\n  pointer-events: all;\n  width: 10px;\n  height: 10px;\n  border: 1px solid white;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  position: absolute;\n  top: 50%;\n  border-radius: 100%;\n  -webkit-box-shadow: 0 0 2px 0px rgba(0, 0, 0, 0.5);\n  box-shadow: 0 0 2px 0px rgba(0, 0, 0, 0.5);\n  -webkit-transform: translateX(-50%) translateY(-50%);\n  transform: translateX(-50%) translateY(-50%);\n  background-color: transparent;\n  background-image: linear-gradient(45deg, #ccc 25%, transparent 25%),\n    linear-gradient(-45deg, #ccc 25%, transparent 25%),\n    linear-gradient(45deg, transparent 75%, #ccc 75%),\n    linear-gradient(-45deg, transparent 75%, #ccc 75%);\n  background-size: 10px 10px;\n  background-position: 0 0, 0 5px, 5px -5px, -5px 0px;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list\n  .step[data-cut='true'] {\n  border-radius: 0%;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  .hue\n  .step-list\n  .step[data-cut='true']\n  .color-view {\n  border-radius: 0%;\n}\n.easylogic-colorpicker .gradient-editor .hue .step-list .step .color-view {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  bottom: 0px;\n  right: 0px;\n  border-radius: 100%;\n  pointer-events: none;\n}\n.easylogic-colorpicker .gradient-editor .hue .step-list .step .arrow {\n  position: absolute;\n  left: 50%;\n  display: none;\n  top: 0%;\n  width: 5px;\n  height: 5px;\n  -webkit-transform: translateX(-50%) translateY(-120%);\n  transform: translateX(-50%) translateY(-120%);\n  pointer-events: none;\n  -webkit-clip-path: polygon(40% 0%, 60% 0%, 60% 100%, 40% 100%);\n  clip-path: polygon(40% 0%, 60% 0%, 60% 100%, 40% 100%);\n}\n.easylogic-colorpicker .gradient-editor input[type='range'] {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  width: 100%;\n  margin: 6.2px 0;\n  background-color: transparent;\n}\n.easylogic-colorpicker .gradient-editor input[type='range']:focus {\n  outline: none;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  input[type='range']::-webkit-slider-runnable-track {\n  width: 100%;\n  height: 1px;\n  cursor: pointer;\n  background: #556375;\n  border-radius: 0px;\n  border: 0px solid #010101;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  input[type='range']::-webkit-slider-thumb {\n  height: 10px;\n  width: 10px;\n  border-radius: 10px;\n  background: #556375;\n  cursor: pointer;\n  -webkit-appearance: none;\n  appearance: none;\n  margin-top: -5px;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  input[type='range']:focus::-webkit-slider-runnable-track {\n  background: #3174ad;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  input[type='range']::-moz-range-track {\n  width: 100%;\n  height: 1px;\n  cursor: pointer;\n  background: #556375;\n  border-radius: 0px;\n  border: 0px solid #010101;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  input[type='range']::-moz-range-thumb {\n  border: 1px solid #000000;\n  height: 10px;\n  width: 10px;\n  border-radius: 9px;\n  background: #556375;\n  cursor: pointer;\n}\n.easylogic-colorpicker .gradient-editor input[type='range']::-ms-track {\n  width: 100%;\n  height: 1px;\n  cursor: pointer;\n  background: transparent;\n  border-color: transparent;\n  color: transparent;\n}\n.easylogic-colorpicker .gradient-editor input[type='range']::-ms-fill-lower {\n  background: #556375;\n  border: 0px solid #010101;\n  border-radius: 0px;\n  box-shadow: 0px 0px 0px #000000, 0px 0px 0px #0d0d0d;\n}\n.easylogic-colorpicker .gradient-editor input[type='range']::-ms-fill-upper {\n  background: #556375;\n  border: 0px solid #010101;\n  border-radius: 0px;\n}\n.easylogic-colorpicker .gradient-editor input[type='range']::-ms-thumb {\n  height: 10px;\n  width: 10px;\n  border-radius: 9px;\n  background: #556375;\n  cursor: pointer;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  input[type='range']:focus::-ms-fill-lower {\n  background: #556375;\n}\n.easylogic-colorpicker\n  .gradient-editor\n  input[type='range']:focus::-ms-fill-upper {\n  background: #556375;\n}\n.easylogic-colorpicker .gradient-editor .right-menu {\n  display: inline-block;\n  float: right;\n}\n.easylogic-colorpicker .gradient-editor .right-menu button {\n  font-size: 11px;\n  background-color: transparent;\n  border: 0px;\n}\n.easylogic-colorpicker.gradient-picker {\n  width: 460px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.easylogic-colorpicker.gradient-picker .gradient-body {\n  display: grid;\n  grid-template-columns: 1fr 224px;\n}\n.easylogic-colorpicker.gradient-picker .gradient-body > div:first-child {\n  padding: 5px;\n  border-right: 1px solid #cccccc;\n}\n.easylogic-colorpicker.gradient-picker .popup-item {\n  margin-bottom: 5px;\n}\n.easylogic-colorpicker.gradient-picker .grid-2 {\n  display: grid;\n  grid-template-columns: 60px 1fr;\n}\n.easylogic-colorpicker.gradient-picker .grid-2 label {\n  font-size: 11px;\n  padding-right: 2px;\n  text-align: left;\n}\n.easylogic-colorpicker.gradient-picker label {\n  font-size: 11px;\n}\n.easylogic-colorpicker.gradient-picker .gradient-preview {\n  width: 100%;\n  height: 100px;\n  position: relative;\n  margin-bottom: 5px;\n  border: 1px solid #cccccc;\n  border-radius: 3px;\n  overflow: hidden;\n  background-color: transparent;\n  background-image: linear-gradient(45deg, #ccc 25%, transparent 25%),\n    linear-gradient(-45deg, #ccc 25%, transparent 25%),\n    linear-gradient(45deg, transparent 75%, #ccc 75%),\n    linear-gradient(-45deg, transparent 75%, #ccc 75%);\n  background-size: 10px 10px;\n  background-position: 0 0, 0 5px, 5px -5px, -5px 0px;\n}\n.easylogic-colorpicker.gradient-picker .gradient-preview .gradient-view {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n}\n.easylogic-colorpicker.gradient-picker .picker-tab {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.easylogic-colorpicker.gradient-picker .picker-tab .picker-tab-list {\n  text-align: center;\n  padding: 2px 5px;\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-tab-list[data-value='linear-gradient']\n  .picker-tab-item[data-selected-value='linear-gradient'] {\n  -webkit-box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.5);\n  box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.5);\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-tab-list[data-value='linear-gradient']\n  .picker-tab-item[data-selected-value='linear-gradient']\n  .icon\n  svg\n  path {\n  fill: rgba(0, 0, 255, 0.5);\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-tab-list[data-value='repeating-linear-gradient']\n  .picker-tab-item[data-selected-value='repeating-linear-gradient'] {\n  -webkit-box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.5);\n  box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.5);\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-tab-list[data-value='repeating-linear-gradient']\n  .picker-tab-item[data-selected-value='repeating-linear-gradient']\n  .icon\n  svg\n  path {\n  fill: rgba(0, 0, 255, 0.5);\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-tab-list[data-value='radial-gradient']\n  .picker-tab-item[data-selected-value='radial-gradient'] {\n  -webkit-box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.5);\n  box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.5);\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-tab-list[data-value='radial-gradient']\n  .picker-tab-item[data-selected-value='radial-gradient']\n  .icon\n  svg\n  path {\n  fill: rgba(0, 0, 255, 0.5);\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-tab-list[data-value='repeating-radial-gradient']\n  .picker-tab-item[data-selected-value='repeating-radial-gradient'] {\n  -webkit-box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.5);\n  box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.5);\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-tab-list[data-value='repeating-radial-gradient']\n  .picker-tab-item[data-selected-value='repeating-radial-gradient']\n  .icon\n  svg\n  path {\n  fill: rgba(0, 0, 255, 0.5);\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-tab-list[data-value='conic-gradient']\n  .picker-tab-item[data-selected-value='conic-gradient'] {\n  -webkit-box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.5);\n  box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.5);\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-tab-list[data-value='conic-gradient']\n  .picker-tab-item[data-selected-value='conic-gradient']\n  .icon\n  svg\n  path {\n  fill: rgba(0, 0, 255, 0.5);\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-tab-list[data-value='repeating-conic-gradient']\n  .picker-tab-item[data-selected-value='repeating-conic-gradient'] {\n  -webkit-box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.5);\n  box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.5);\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-tab-list[data-value='repeating-conic-gradient']\n  .picker-tab-item[data-selected-value='repeating-conic-gradient']\n  .icon\n  svg\n  path {\n  fill: rgba(0, 0, 255, 0.5);\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-tab-list\n  .picker-tab-item {\n  display: inline-block;\n  vertical-align: middle;\n  height: 20px;\n  width: 20px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  cursor: pointer;\n  position: relative;\n  border-radius: 20%;\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-tab-list\n  .picker-tab-item\n  .icon {\n  pointer-events: none;\n  border-radius: 100%;\n  display: inline-block;\n  width: 90%;\n  height: 90%;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n  transform: translateX(-50%) translateY(-50%);\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-tab-list\n  .picker-tab-item\n  .icon\n  svg {\n  width: 100%;\n  height: 100%;\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-tab-list\n  .picker-tab-item[data-selected-value='static-gradient']\n  .icon {\n  background-image: -webkit-gradient(\n    linear,\n    left top,\n    right top,\n    from(red),\n    to(red)\n  );\n  background-image: linear-gradient(to right, red, red);\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-tab-list\n  .picker-tab-item[data-selected-value='linear-gradient']\n  .icon {\n  background-image: -webkit-gradient(\n    linear,\n    left top,\n    right top,\n    from(black),\n    to(gray)\n  );\n  background-image: linear-gradient(to right, black, gray);\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-tab-list\n  .picker-tab-item[data-selected-value='radial-gradient']\n  .icon {\n  background-image: radial-gradient(closest-side, black, #ebf8e1, gray);\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-tab-list\n  .picker-tab-item[data-selected-value='conic-gradient']\n  .icon {\n  background-image: conic-gradient(black, #ebf8e1);\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-tab-list\n  .picker-tab-item[data-selected-value='repeating-linear-gradient']\n  .icon {\n  background-image: repeating-linear-gradient(\n    45deg,\n    #3f87a6,\n    #ebf8e1 15%,\n    #f69d3c 20%\n  );\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-tab-list\n  .picker-tab-item[data-selected-value='repeating-radial-gradient']\n  .icon {\n  background-image: repeating-radial-gradient(\n    circle,\n    #3f87a6,\n    #ebf8e1 15%,\n    #f69d3c 20%\n  );\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-tab-list\n  .picker-tab-item[data-selected-value='repeating-conic-gradient']\n  .icon {\n  background-image: repeating-conic-gradient(\n    #3f87a6,\n    #ebf8e1 5%,\n    #f69d3c 10%\n  );\n}\n.easylogic-colorpicker.gradient-picker .picker-tab .picker-gradient-selector {\n  padding: 2px 10px;\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-gradient-selector\n  .gradient-steps {\n  position: relative;\n  display: block;\n  height: 30px;\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-gradient-selector\n  .gradient-steps\n  .hue-container {\n  width: 100%;\n  height: 14px;\n  position: absolute;\n  z-index: 0;\n  background-color: transparent;\n  background-image: linear-gradient(45deg, #ccc 25%, transparent 25%),\n    linear-gradient(-45deg, #ccc 25%, transparent 25%),\n    linear-gradient(45deg, transparent 75%, #ccc 75%),\n    linear-gradient(-45deg, transparent 75%, #ccc 75%);\n  background-size: 10px 10px;\n  background-position: 0 0, 0 5px, 5px -5px, -5px 0px;\n  -webkit-box-shadow: 0 0 1px 0 rgba(0, 0, 0, 0.1);\n  box-shadow: 0 0 1px 0 rgba(0, 0, 0, 0.1);\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-gradient-selector\n  .gradient-steps\n  .hue {\n  position: relative;\n  padding: 0px;\n  margin: 0px;\n  cursor: pointer;\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-gradient-selector\n  .gradient-steps\n  .hue\n  > .step-list {\n  position: relative;\n  width: 100%;\n  cursor: copy;\n  height: 14px;\n  z-index: 1;\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-gradient-selector\n  .gradient-steps\n  .hue\n  > .step-list.mode-drag {\n  cursor: pointer;\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-gradient-selector\n  .gradient-steps\n  .hue\n  .drag-bar {\n  border: 0px;\n  background-color: transparent;\n  border: 2px solid white;\n  -webkit-box-shadow: 0 0 2px 0px rgba(0, 0, 0, 0.6);\n  box-shadow: 0 0 2px 0px rgba(0, 0, 0, 0.6);\n  width: 10px;\n  height: 10px;\n  -webkit-transform: none;\n  transform: none;\n  border-radius: 50%;\n  display: inline-block;\n  left: 0px;\n  top: 17px;\n  -webkit-transform: translateX(-50%);\n  transform: translateX(-50%);\n  position: absolute;\n  background-color: rgba(255, 255, 255, 0.8);\n  cursor: pointer;\n  -webkit-transition: top 0.3s ease-out;\n  transition: top 0.3s ease-out;\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-gradient-selector\n  .gradient-steps\n  .hue\n  .drag-bar\n  .guide-line {\n  pointer-events: none;\n  position: absolute;\n  width: 1px;\n  height: 0px;\n  bottom: 8px;\n  left: 3px;\n  -webkit-transform: translateX(-1px);\n  transform: translateX(-1px);\n  -webkit-transition: all 0.3s ease-out;\n  transition: all 0.3s ease-out;\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-gradient-selector\n  .gradient-steps\n  .hue\n  .drag-bar.selected {\n  z-index: 1;\n  top: 30px;\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-gradient-selector\n  .gradient-steps\n  .hue\n  .drag-bar.selected\n  .guide-line {\n  height: 17px;\n}\n.easylogic-colorpicker.gradient-picker\n  .picker-tab\n  .picker-gradient-selector\n  .gradient-steps\n  .hue\n  .drag-bar.selected\n  .guide-change {\n  opacity: 1;\n}\n.easylogic-colorpicker.gradient-picker .easylogic-colorpicker {\n  width: 223px;\n  border-radius: 0px;\n  border-top-right-radius: 3px;\n  border-bottom-right-radius: 3px;\n  border: 0px;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\n.easylogic-colorpicker.sketch {\n  border-radius: 5px;\n}\n.easylogic-colorpicker.sketch > .colorpicker-body > .color {\n  margin: 10px 10px 2px 10px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  height: 150px;\n}\n.easylogic-colorpicker.sketch > .colorpicker-body > .control {\n  padding: 0px;\n}\n.easylogic-colorpicker.sketch > .colorpicker-body > .control > .color,\n.easylogic-colorpicker.sketch > .colorpicker-body > .control > .empty {\n  position: absolute;\n  right: 10px;\n  left: auto;\n  top: 2px;\n  width: 40px;\n  height: 44px;\n  border-radius: 2px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.easylogic-colorpicker.sketch > .colorpicker-body > .control > .color2,\n.easylogic-colorpicker.sketch > .colorpicker-body > .control > .empty2 {\n  position: absolute;\n  right: 10px;\n  left: auto;\n  top: 50px;\n  width: 40px;\n  height: 20px;\n  border-radius: 2px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.easylogic-colorpicker.sketch > .colorpicker-body > .control > .color {\n  -webkit-box-shadow: inset 0px 0px 1px 0px rgba(0, 0, 0, 0.5);\n  box-shadow: inset 0px 0px 1px 0px rgba(0, 0, 0, 0.5);\n}\n.easylogic-colorpicker.sketch > .colorpicker-body > .control > .hue {\n  position: relative;\n  padding: 2px 2px 2px 10px;\n  margin: 0px 50px 0px 0px;\n}\n.easylogic-colorpicker.sketch\n  > .colorpicker-body\n  > .control\n  > .hue\n  > .hue-container {\n  border-radius: 0px;\n  height: 20px;\n}\n.easylogic-colorpicker.sketch > .colorpicker-body > .control > .hue-scale {\n  position: relative;\n  padding: 2px 2px 2px 10px;\n  margin: 0px 50px 0px 0px;\n}\n.easylogic-colorpicker.sketch\n  > .colorpicker-body\n  > .control\n  > .hue-scale\n  > .hue-scale-container {\n  border-radius: 0px;\n  height: 20px;\n}\n.easylogic-colorpicker.sketch > .colorpicker-body > .control > .opacity {\n  position: relative;\n  padding: 2px 2px 2px 10px;\n  margin: 0px 50px 0px 0px;\n}\n.easylogic-colorpicker.sketch\n  > .colorpicker-body\n  > .control\n  > .opacity\n  > .opacity-container {\n  border-radius: 0px;\n  height: 20px;\n}\n.easylogic-colorpicker.sketch > .colorpicker-body > .control .drag-bar,\n.easylogic-colorpicker.sketch > .colorpicker-body > .control .drag-bar2 {\n  border-radius: 0px;\n  top: 50%;\n  left: 0px;\n  width: 5px;\n  height: 80%;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n  transform: translateX(-50%) translateY(-50%);\n  border-radius: 1px;\n  bottom: 1px !important;\n}\n.easylogic-colorpicker.sketch > .colorpicker-body > .control .drag-bar.first,\n.easylogic-colorpicker.sketch\n  > .colorpicker-body\n  > .control\n  .drag-bar2.first {\n  left: 0px;\n  -webkit-transform: translateX(50%) translateY(-50%) !important;\n  transform: translateX(50%) translateY(-50%) !important;\n}\n.easylogic-colorpicker.sketch > .colorpicker-body > .control .drag-bar.last,\n.easylogic-colorpicker.sketch > .colorpicker-body > .control .drag-bar2.last {\n  -webkit-transform: translateX(-110%) translateY(-50%) !important;\n  transform: translateX(-110%) translateY(-50%) !important;\n}\n.easylogic-colorpicker.sketch\n  > .colorpicker-body\n  > .information\n  .information-change {\n  display: none;\n}\n.easylogic-colorpicker.sketch\n  > .colorpicker-body\n  > .information.rgb\n  .information-item.rgb {\n  display: inherit;\n}\n.easylogic-colorpicker.sketch\n  > .colorpicker-body\n  > .information.rgb\n  .information-item.hsl {\n  display: none !important;\n}\n.easylogic-colorpicker.sketch\n  > .colorpicker-body\n  > .information.hex\n  .information-item.hex {\n  display: inherit;\n}\n.easylogic-colorpicker.sketch\n  > .colorpicker-body\n  > .information.hex\n  .information-item.hsl {\n  display: none !important;\n}\n.easylogic-colorpicker.sketch\n  > .colorpicker-body\n  > .information.hsl\n  .information-item.rgb {\n  display: none !important;\n}\n.easylogic-colorpicker.sketch\n  > .colorpicker-body\n  > .information.hsl\n  .information-item.hsl {\n  display: inherit;\n}\n.easylogic-colorpicker.sketch\n  > .colorpicker-body\n  > .information\n  .information-item {\n  display: -webkit-inline-box !important;\n  display: -ms-inline-flexbox !important;\n  display: inline-flex !important;\n  margin-right: 0px;\n}\n.easylogic-colorpicker.sketch\n  > .colorpicker-body\n  > .information\n  .information-item\n  > .input-field {\n  padding-left: 0px;\n}\n.easylogic-colorpicker.sketch\n  > .colorpicker-body\n  > .information\n  .information-item\n  > .input-field:last-child {\n  padding-right: 0px;\n}\n.easylogic-colorpicker.sketch\n  > .colorpicker-body\n  > .information\n  .information-item\n  > .input-field\n  > .title {\n  color: var(--active);\n  font-size: 11px;\n  cursor: pointer;\n}\n.easylogic-colorpicker.sketch\n  > .colorpicker-body\n  > .information\n  .information-item\n  > .input-field:last-child:not(:first-child) {\n  padding-right: 0px;\n}\n.easylogic-colorpicker.sketch\n  > .colorpicker-body\n  > .information\n  .information-item.hex {\n  width: 74px;\n  padding-right: 0px;\n  padding-left: 5px;\n}\n.easylogic-colorpicker.sketch\n  > .colorpicker-body\n  > .information\n  .information-item.rgb {\n  width: 140px;\n  padding-left: 0px;\n  padding-right: 0px;\n}\n.easylogic-colorpicker.sketch\n  > .colorpicker-body\n  > .information\n  .information-item.hsl {\n  display: none;\n  width: 140px;\n  padding-left: 0px;\n  padding-right: 0px;\n}\n.easylogic-colorpicker.sketch > .colorpicker-body > .colorsets > .color-list {\n  margin-right: 0px;\n  padding-right: 12px;\n}\n.easylogic-colorpicker.sketch\n  > .colorpicker-body\n  > .colorsets\n  > .color-list\n  h6 {\n  margin-top: 0px;\n  margin-bottom: 8px;\n  display: none;\n}\n.easylogic-colorpicker.sketch\n  > .colorpicker-body\n  > .colorsets\n  > .color-list\n  .color-item {\n  width: 16px;\n  height: 16px;\n  border-radius: 3px;\n  margin-right: 9px;\n  margin-bottom: 10px;\n}\n.easylogic-colorpicker.palette {\n  border-radius: 3px;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\n.easylogic-colorpicker.palette > .colorpicker-body > .color {\n  display: none;\n}\n.easylogic-colorpicker.palette > .colorpicker-body > .control {\n  display: none;\n}\n.easylogic-colorpicker.palette > .colorpicker-body > .information {\n  display: none;\n}\n.easylogic-colorpicker.palette > .colorpicker-body > .colorsets {\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  border-top: 0px;\n}\n.easylogic-colorpicker.palette\n  > .colorpicker-body\n  > .colorsets\n  > .color-list\n  h6 {\n  margin-top: 0px;\n  margin-bottom: 8px;\n  display: none;\n}\n.easylogic-colorpicker.palette\n  > .colorpicker-body\n  > .colorsets\n  > .color-list\n  .color-item {\n  width: 15px;\n  height: 15px;\n  margin-right: 10px;\n  margin-bottom: 10px;\n}\n.easylogic-colorpicker.palette > .colorpicker-body > .color-chooser {\n  display: none;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.easylogic-colorpicker.palette > .colorpicker-body > .color-chooser.open {\n  display: block;\n  top: -1px;\n  left: -1px;\n  right: -1px;\n  bottom: auto;\n  border-radius: 3px;\n  border: 1px solid #d8d8d8;\n  -webkit-box-shadow: 0 0px 10px 2px rgba(0, 0, 0, 0.12);\n  box-shadow: 0 0px 10px 2px rgba(0, 0, 0, 0.12);\n}\n.easylogic-colorpicker.palette\n  > .colorpicker-body\n  > .color-chooser.open\n  .color-chooser-container {\n  position: relative;\n  top: auto;\n  left: auto;\n  right: auto;\n  bottom: auto;\n  background-color: var(--context-menu-background);\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  border-radius: 2px;\n}\n.easylogic-colorpicker.palette\n  > .colorpicker-body\n  > .color-chooser.open\n  .color-chooser-container\n  .colorsets-item-header {\n  position: relative;\n  left: auto;\n  top: auto;\n  right: auto;\n  bottom: auto;\n  border-top-left-radius: 3px;\n  border-top-right-radius: 3px;\n}\n.easylogic-colorpicker.palette\n  > .colorpicker-body\n  > .color-chooser.open\n  .color-chooser-container\n  .colorsets-list {\n  position: relative;\n  top: auto;\n  left: auto;\n  right: auto;\n  bottom: auto;\n  overflow: auto;\n}\n.easylogic-colorpicker.palette\n  > .colorpicker-body\n  > .color-chooser.open\n  .color-chooser-container\n  .colorsets-list\n  .colorsets-item:last-child {\n  border-bottom-left-radius: 3px;\n  border-bottom-right-radius: 3px;\n}\n.easylogic-colorpicker.macos .colorpicker-body .wheel {\n  width: 224px;\n  height: 224px;\n  position: relative;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.easylogic-colorpicker.macos .colorpicker-body .wheel .wheel-canvas {\n  width: 214px;\n  height: 214px;\n  border-radius: 50%;\n  position: absolute;\n  left: 5px;\n  top: 5px;\n}\n.easylogic-colorpicker.macos .colorpicker-body .wheel .drag-pointer {\n  display: inline-block;\n  position: absolute;\n  width: 10px;\n  height: 10px;\n  left: 50%;\n  top: 50%;\n  border: 1px solid white;\n  border-radius: 50%;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n  transform: translateX(-50%) translateY(-50%);\n  z-index: 2;\n}\n.easylogic-colorpicker.macos .control {\n  padding-top: 0px;\n}\n.easylogic-colorpicker.macos .control > .color,\n.easylogic-colorpicker.macos .control > .empty {\n  top: 4px;\n}\n.easylogic-colorpicker.macos .value {\n  position: relative;\n  padding: 6px 16px;\n  margin: 0px 0px 0px 42px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n.easylogic-colorpicker.macos .value > .value-container {\n  position: relative;\n  width: 100%;\n  height: 10px;\n  border-radius: 3px;\n  background-image: -webkit-gradient(\n    linear,\n    left top,\n    right top,\n    from(#000000),\n    to(rgba(255, 255, 255, 0))\n  );\n  background-image: linear-gradient(\n    to right,\n    #000000 0%,\n    rgba(255, 255, 255, 0) 100%\n  );\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.easylogic-colorpicker.macos .value > .value-container .drag-bar {\n  position: absolute;\n  cursor: pointer;\n  top: 50%;\n  left: 0px;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n  transform: translateX(-50%) translateY(-50%);\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n}\n.easylogic-colorpicker.mini {\n  width: 180px;\n  display: inline-block;\n}\n.easylogic-colorpicker.mini .control {\n  padding: 0px;\n}\n.easylogic-colorpicker.mini .control .hue,\n.easylogic-colorpicker.mini .control .opacity {\n  margin: 0px;\n  padding: 0px;\n}\n.easylogic-colorpicker.mini .control .hue > .hue-container {\n  border-radius: 0px;\n  overflow: hidden;\n  height: 20px;\n}\n.easylogic-colorpicker.mini .control .opacity > .opacity-container {\n  border-radius: 0px;\n  overflow: hidden;\n  height: 20px;\n}\n.easylogic-colorpicker.mini .control .drag-bar,\n.easylogic-colorpicker.mini .control .drag-bar2 {\n  border: 0px;\n  background-color: transparent;\n  height: 100%;\n  width: 5px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\n.easylogic-colorpicker.mini .control .drag-bar.last:before,\n.easylogic-colorpicker.mini .control .drag-bar.lastafter,\n.easylogic-colorpicker.mini .control .drag-bar2.last:before,\n.easylogic-colorpicker.mini .control .drag-bar2.lastafter {\n  left: 1px;\n}\n.easylogic-colorpicker.mini .control .drag-bar.first:before,\n.easylogic-colorpicker.mini .control .drag-bar.first:after,\n.easylogic-colorpicker.mini .control .drag-bar2.first:before,\n.easylogic-colorpicker.mini .control .drag-bar2.first:after {\n  left: 3px;\n}\n.easylogic-colorpicker.mini .control .drag-bar:before,\n.easylogic-colorpicker.mini .control .drag-bar2:before {\n  content: '';\n  position: absolute;\n  left: 2px;\n  top: 0px;\n  width: 0;\n  height: 0;\n  -webkit-transform: translateX(-50%);\n  transform: translateX(-50%);\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  border-top: 4px solid black;\n}\n.easylogic-colorpicker.mini .control .drag-bar:after,\n.easylogic-colorpicker.mini .control .drag-bar2:after {\n  content: '';\n  position: absolute;\n  left: 2px;\n  bottom: 0px;\n  width: 0;\n  height: 0;\n  -webkit-transform: translateX(-50%);\n  transform: translateX(-50%);\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  border-bottom: 4px solid black;\n}\n.easylogic-colorpicker.mini-vertical {\n  width: 180px;\n  display: inline-block;\n}\n.easylogic-colorpicker.mini-vertical .color {\n  display: inline-block;\n  width: 140px;\n  height: 160px;\n  vertical-align: middle;\n}\n.easylogic-colorpicker.mini-vertical .control {\n  height: 160px;\n  padding: 0px;\n  vertical-align: middle;\n  display: inline-block;\n}\n.easylogic-colorpicker.mini-vertical .control .hue,\n.easylogic-colorpicker.mini-vertical .control .opacity {\n  margin: 0px;\n  padding: 0px;\n  width: 20px;\n  display: inline-block;\n  vertical-align: middle;\n  height: 100%;\n  position: relative;\n}\n.easylogic-colorpicker.mini-vertical .control .hue > .hue-container {\n  border-radius: 0px;\n  overflow: hidden;\n  height: 100%;\n  background: -webkit-gradient(\n    linear,\n    left bottom,\n    left top,\n    from(#ff0000),\n    color-stop(17%, #ffff00),\n    color-stop(33%, #00ff00),\n    color-stop(50%, #00ffff),\n    color-stop(67%, #0000ff),\n    color-stop(83%, #ff00ff),\n    to(#ff0000)\n  );\n  background: linear-gradient(\n    to top,\n    #ff0000 0%,\n    #ffff00 17%,\n    #00ff00 33%,\n    #00ffff 50%,\n    #0000ff 67%,\n    #ff00ff 83%,\n    #ff0000 100%\n  );\n}\n.easylogic-colorpicker.mini-vertical .control .opacity > .opacity-container {\n  border-radius: 0px;\n  overflow: hidden;\n  height: 100%;\n  width: 20px;\n}\n.easylogic-colorpicker.mini-vertical .control .drag-bar,\n.easylogic-colorpicker.mini-vertical .control .drag-bar2 {\n  border: 0px;\n  background-color: transparent;\n  height: 2px;\n  width: 100%;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  -webkit-transform: none;\n  transform: none;\n}\n.easylogic-colorpicker.mini-vertical .control .drag-bar.last:before,\n.easylogic-colorpicker.mini-vertical .control .drag-bar.last:after,\n.easylogic-colorpicker.mini-vertical .control .drag-bar2.last:before,\n.easylogic-colorpicker.mini-vertical .control .drag-bar2.last:after {\n  top: 2px;\n}\n.easylogic-colorpicker.mini-vertical .control .drag-bar.first:before,\n.easylogic-colorpicker.mini-vertical .control .drag-bar.first:after,\n.easylogic-colorpicker.mini-vertical .control .drag-bar2.first:before,\n.easylogic-colorpicker.mini-vertical .control .drag-bar2.first:after {\n  top: -1px;\n}\n.easylogic-colorpicker.mini-vertical .control .drag-bar:before,\n.easylogic-colorpicker.mini-vertical .control .drag-bar2:before {\n  content: '';\n  position: absolute;\n  left: 0px;\n  top: 2px;\n  width: 0;\n  height: 0;\n  -webkit-transform: translateY(-50%);\n  transform: translateY(-50%);\n  border-top: 4px solid transparent;\n  border-bottom: 4px solid transparent;\n  border-left: 4px solid black;\n}\n.easylogic-colorpicker.mini-vertical .control .drag-bar:after,\n.easylogic-colorpicker.mini-vertical .control .drag-bar2:after {\n  content: '';\n  position: absolute;\n  top: 2px;\n  right: 0px;\n  width: 0;\n  height: 0;\n  -webkit-transform: translateY(-50%);\n  transform: translateY(-50%);\n  border-top: 4px solid transparent;\n  border-bottom: 4px solid transparent;\n  border-right: 4px solid black;\n}\n.easylogic-colorpicker.ring .colorpicker-body > .color {\n  position: absolute;\n  width: 120px;\n  height: 120px;\n  left: 52px;\n  top: 52px;\n}\n.easylogic-colorpicker.ring .colorpicker-body .wheel {\n  width: 224px;\n  height: 224px;\n  position: relative;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.easylogic-colorpicker.ring .colorpicker-body .wheel .wheel-canvas {\n  width: 214px;\n  height: 214px;\n  border-radius: 50%;\n  position: absolute;\n  left: 5px;\n  top: 5px;\n}\n.easylogic-colorpicker.ring .colorpicker-body .wheel .drag-pointer {\n  display: inline-block;\n  position: absolute;\n  width: 10px;\n  height: 10px;\n  left: 50%;\n  top: 50%;\n  border: 1px solid white;\n  border-radius: 50%;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n  transform: translateX(-50%) translateY(-50%);\n  z-index: 2;\n}\n.easylogic-colorpicker.ring .control {\n  padding-top: 0px;\n}\n.easylogic-colorpicker.ring .control .value {\n  display: none;\n}\n.easylogic-colorpicker.ring .control > .color,\n.easylogic-colorpicker.ring .control > .empty {\n  top: -17px;\n  width: 30px;\n  height: 30px;\n  border-radius: 2px;\n}\n.easylogic-colorpicker.xd {\n  display: inline-block;\n  padding-top: 12px;\n  width: 245px;\n}\n.easylogic-colorpicker.xd .color {\n  display: inline-block;\n  margin-left: 12px;\n  margin-bottom: 12px;\n  width: 170px;\n  height: 170px;\n  vertical-align: middle;\n  border-radius: 3px;\n  overflow: hidden;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #cecece;\n}\n.easylogic-colorpicker.xd .color > .saturation > .value > .drag-pointer {\n  border: 2px solid white;\n  width: 7px;\n  height: 7px;\n  -webkit-box-shadow: 0 0 1px 0px black, inset 0 0 1px 0px black;\n  box-shadow: 0 0 1px 0px black, inset 0 0 1px 0px black;\n}\n.easylogic-colorpicker.xd .control {\n  height: 170px;\n  padding: 0px;\n  vertical-align: middle;\n  display: inline-block;\n  margin-right: 12px;\n  margin-bottom: 12px;\n}\n.easylogic-colorpicker.xd .control .hue,\n.easylogic-colorpicker.xd .control .opacity {\n  margin: 0px;\n  padding: 0px;\n  width: 13px;\n  display: inline-block;\n  vertical-align: middle;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n  border-radius: 3px;\n  margin-left: 8px;\n}\n.easylogic-colorpicker.xd .control .hue > .hue-container {\n  border-radius: 0px;\n  overflow: hidden;\n  height: 100%;\n  background: -webkit-gradient(\n    linear,\n    left bottom,\n    left top,\n    from(#ff0000),\n    color-stop(17%, #ffff00),\n    color-stop(33%, #00ff00),\n    color-stop(50%, #00ffff),\n    color-stop(67%, #0000ff),\n    color-stop(83%, #ff00ff),\n    to(#ff0000)\n  );\n  background: linear-gradient(\n    to top,\n    #ff0000 0%,\n    #ffff00 17%,\n    #00ff00 33%,\n    #00ffff 50%,\n    #0000ff 67%,\n    #ff00ff 83%,\n    #ff0000 100%\n  );\n}\n.easylogic-colorpicker.xd .control .opacity > .opacity-container {\n  border-radius: 0px;\n  overflow: hidden;\n  height: 100%;\n}\n.easylogic-colorpicker.xd .control .drag-bar,\n.easylogic-colorpicker.xd .control .drag-bar2 {\n  border: 0px;\n  background-color: transparent;\n  border: 2px solid white;\n  -webkit-box-shadow: 0 0 1px 0px black, inset 0 0 1px 0px black;\n  box-shadow: 0 0 1px 0px black, inset 0 0 1px 0px black;\n  width: 10px;\n  height: 10px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-transform: none;\n  transform: none;\n  overflow: hidden;\n  left: 50%;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n  transform: translateX(-50%) translateY(-50%);\n}\n.easylogic-colorpicker.xd .information {\n  margin-top: 5px;\n}\n.easylogic-colorpicker.vscode {\n  width: 336px;\n  display: inline-block;\n  background-color: #333;\n  border: 1px solid #ececec;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  border-radius: 0px;\n}\n.easylogic-colorpicker.vscode .colorpicker-body {\n  border-radius: 0px;\n  display: inline-block;\n}\n.easylogic-colorpicker.vscode .colorpicker-body .color-view {\n  height: 34px;\n  background-color: transparent;\n  background-image: linear-gradient(45deg, #ccc 25%, transparent 25%),\n    linear-gradient(-45deg, #ccc 25%, transparent 25%),\n    linear-gradient(45deg, transparent 75%, #ccc 75%),\n    linear-gradient(-45deg, transparent 75%, #ccc 75%);\n  background-size: 10px 10px;\n  background-position: 0 0, 0 5px, 5px -5px, -5px 0px;\n}\n.easylogic-colorpicker.vscode\n  .colorpicker-body\n  .color-view\n  .color-view-container {\n  line-height: 34px;\n  font-size: 14px;\n  text-align: center;\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  text-shadow: 0 0 3px #535353;\n}\n.easylogic-colorpicker.vscode .colorpicker-body .color-tool {\n  padding: 8px;\n}\n.easylogic-colorpicker.vscode .color {\n  display: inline-block;\n  width: 240px;\n  height: 160px;\n  vertical-align: middle;\n}\n.easylogic-colorpicker.vscode .control {\n  height: 160px;\n  vertical-align: middle;\n  display: inline-block;\n  padding: 0px 0px 0px 4px;\n}\n.easylogic-colorpicker.vscode .control .hue,\n.easylogic-colorpicker.vscode .control .opacity {\n  margin: 0px;\n  padding: 0px;\n  width: 30px;\n  display: inline-block;\n  vertical-align: middle;\n  height: 100%;\n  position: relative;\n}\n.easylogic-colorpicker.vscode .control .hue {\n  padding-left: 5px;\n  width: 35px;\n}\n.easylogic-colorpicker.vscode .control .hue > .hue-container {\n  border-radius: 0px;\n  height: 100%;\n  background: -webkit-gradient(\n    linear,\n    left bottom,\n    left top,\n    from(#ff0000),\n    color-stop(17%, #ffff00),\n    color-stop(33%, #00ff00),\n    color-stop(50%, #00ffff),\n    color-stop(67%, #0000ff),\n    color-stop(83%, #ff00ff),\n    to(#ff0000)\n  );\n  background: linear-gradient(\n    to top,\n    #ff0000 0%,\n    #ffff00 17%,\n    #00ff00 33%,\n    #00ffff 50%,\n    #0000ff 67%,\n    #ff00ff 83%,\n    #ff0000 100%\n  );\n}\n.easylogic-colorpicker.vscode .control .opacity > .opacity-container {\n  border-radius: 0px;\n  height: 100%;\n  width: 30px;\n}\n.easylogic-colorpicker.vscode .control .drag-bar,\n.easylogic-colorpicker.vscode .control .drag-bar2 {\n  background-color: transparent;\n  height: 5px;\n  width: 33px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  -webkit-transform: translateY(-50%) translateX(-2px);\n  transform: translateY(-50%) translateX(-2px);\n  border: 1px solid rgba(255, 255, 255, 0);\n  border-radius: 0px;\n  -webkit-box-shadow: 0 0 2px 0 black, inset 0 0 0 0 black;\n  box-shadow: 0 0 2px 0 black, inset 0 0 0 0 black;\n}\n.easylogic-colorpicker.hide-colorsets .colorsets {\n  display: none !important;\n}\n\n.colorsets-contextmenu {\n  position: fixed;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  border-radius: 6px;\n  background-color: #ececec;\n  border: 1px solid #cccccc;\n  display: none;\n  list-style: none;\n  font-size: 13px;\n  padding-left: 0px;\n  padding-right: 0px;\n}\n.colorsets-contextmenu.show {\n  display: inline-block;\n}\n.colorsets-contextmenu .menu-item {\n  padding: 2px 20px;\n  cursor: default;\n}\n.colorsets-contextmenu .menu-item:hover {\n  background-color: #5ea3fb;\n  color: white;\n}\n.colorsets-contextmenu.small .menu-item.small-hide {\n  display: none;\n}\n",e}();return()=>Fh`${e}${t}${n}${r}${o}`};function $P(e){let{store:t}=e;const{settings:n,doc:{tableIds:r},collections:o}=t.state;return n.canvasType!==Gm.ERD?[]:aa(o).collection("tableEntities").selectByIds(r).sort(Vz).map((e=>({name:_o(e.name.trim())?"unnamed":e.name,keywords:"Table",perform:t=>{let{store:n}=t;const{settings:{width:r,height:o,zoomLevel:i}}=n.state,{x:a,y:s}=Op({x:e.ui.x-200,y:e.ui.y-100},r,o,i);n.dispatch(Xv({scrollLeft:-1*a,scrollTop:-1*s}),Sw(e.id,!1))}})))}const CP=[{name:"Tab",next:[{icon:Fh`<${lN} name="diagram-project" size=${16} />`,name:"Entity Relationship Diagram",perform:e=>{let{store:t}=e;t.dispatch(tb({value:Gm.ERD}))},filter:e=>{let{store:t}=e;return t.state.settings.canvasType!==Gm.ERD}},{icon:Fh`<${lN}
          prefix="mdi"
          name="chart-scatter-plot"
          size=${16}
        />`,name:"Visualization",perform:e=>{let{store:t}=e;t.dispatch(tb({value:Gm.visualization}))},filter:e=>{let{store:t}=e;return t.state.settings.canvasType!==Gm.visualization}},{icon:Fh`<${lN} prefix="mdi" name="database-export" size=${16} />`,name:"Schema SQL",perform:e=>{let{store:t}=e;t.dispatch(tb({value:Gm.schemaSQL}))},filter:e=>{let{store:t}=e;return t.state.settings.canvasType!==Gm.schemaSQL}},{icon:Fh`<${lN} name="file-code" size=${16} />`,name:"Generator Code",perform:e=>{let{store:t}=e;t.dispatch(tb({value:Gm.generatorCode}))},filter:e=>{let{store:t}=e;return t.state.settings.canvasType!==Gm.generatorCode}},{icon:Fh`<${lN} name="gear" size=${16} />`,name:"Settings",perform:e=>{let{store:t}=e;t.dispatch(tb({value:Gm.settings}))},filter:e=>{let{store:t}=e;return t.state.settings.canvasType!==Gm.settings}}]}],TP=ff`
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: start;
  justify-content: center;
  padding: 60px 16px 16px;
  z-index: 2147483647;

  &::after {
    content: '';
    position: absolute;
    inset: 0;
    background-color: rgba(0, 0, 0, 0.4);
  }
`,AP=ff`
  display: flex;
  flex-direction: column;
  width: 100%;
  max-width: 600px;
  position: relative;
  z-index: 1;
  background-color: var(--context-menu-background);
  border: 1px solid var(--context-menu-border);
  border-radius: 6px;
  overflow: hidden;
`,OP=ff`
  height: 50px;
  min-height: 50px;
  padding: 12px 16px;
  ${sE};
`,SP=ff`
  display: flex;
  flex-direction: column;
  width: 100%;
  max-height: 400px;
  overflow: auto;
`,EP=ff`
  display: flex;
  padding: 12px 16px;
  align-items: center;
  white-space: nowrap;
  overflow: hidden;
  cursor: pointer;
  min-height: 45px;
  height: 45px;

  &:hover {
    background-color: var(--column-hover);
  }

  &.selected {
    background-color: var(--column-select);
  }
`,NP=ff`
  display: flex;
  align-items: center;
  min-width: 14px;
  margin-right: 8px;
`,MP=ff`
  overflow: hidden;
  text-overflow: ellipsis;
  ${fE};
`,DP=ff`
  overflow: hidden;
  text-overflow: ellipsis;
  color: var(--placeholder);
  ${mE};
`,LP=ff`
  width: 8px;
  height: 100%;
`,jP=ff`
  display: flex;
  align-items: center;
  margin-left: auto;
  padding-left: 24px;
`,_P=Qo(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter"]),zP=(e,t)=>{const n=HS(t),{addUnsubscribe:r}=tE(),o=dd(),i=il({keyword:"",prevActions:[],actions:[],index:-1}),a=()=>i.actions.filter((e=>!e.filter||e.filter(n.value))),s=()=>{i.keyword="",i.index=-1},l=()=>{vs((()=>{var e,t;null==(t=null==(e=o.value)?void 0:e.querySelector(".selected"))||t.scrollIntoView({block:"nearest"})}))},c=()=>{vs((()=>{t.host.dispatchEvent(CE())}))},u=()=>{const{store:e}=n.value;e.dispatch(dy({[fD]:!1})),c()},d=e=>{var t;const r=a()[e];if(r)if(r.perform)r.perform(n.value),u();else if(r.next){i.prevActions=r.next,i.actions=r.next;const e=null==(t=o.value)?void 0:t.querySelector("input");e&&aM(e),s()}else u()},h={ArrowUp:e=>{const t=a();if(!t.length)return;e.preventDefault();const n=i.index-1;i.index=n<0?t.length-1:n,l()},ArrowDown:e=>{const t=a();if(!t.length)return;e.preventDefault();const n=i.index+1;i.index=n>t.length-1?0:n,l()},ArrowLeft:()=>{i.index=-1},ArrowRight:()=>{i.index=-1},Enter:e=>{-1!==i.index&&(e.stopPropagation(),d(i.index))}},f=e=>{var t;_P(e.key)&&(null==(t=h[e.key])||t.call(h,e))},m=e=>{const t=e.target;t&&((e=>{const t=e.trim();i.index=-1,i.actions=_o(t)?i.prevActions:function(e,t){return new iM(e,{keys:["name","keywords"]}).search(t).map((e=>e.item))}(a(),t)})(t.value),i.keyword=t.value)},p=()=>{const{store:e}=n.value,{editor:{focusTable:t,openMap:r}}=e.state;if(!t||!t.edit){const t=!r[fD];if(e.dispatch(dy({[fD]:t})),t){const t=function(e){var t,n;const{store:r,keyBindingMap:o}=e,{settings:i}=r.state;return[...CP,{icon:Fh`<${lN} prefix="mdi" name="database" size=${16} />`,name:"Database",next:bR.map((e=>({icon:e.value===i.database?Fh`<${lN} name="check" size=${16} />`:null,name:e.name,perform:t=>{let{store:n}=t;n.dispatch(eb({value:e.value}))}}))),filter:e=>{let{store:t}=e;return t.state.settings.canvasType===Gm.ERD||t.state.settings.canvasType===Gm.schemaSQL}},{icon:Fh`<${lN} name="file-import" size=${16} />`,name:"Import",next:[{icon:Fh`<${lN} prefix="mdi" name="code-json" size=${16} />`,name:"json",perform:e=>{yR(e)}},{icon:Fh`<${lN}
            prefix="mdi"
            name="database-import"
            size=${16}
          />`,name:"Schema SQL",perform:e=>{vR(e)}}],filter:e=>{let{store:t}=e;return t.state.settings.canvasType===Gm.ERD}},{icon:Fh`<${lN} name="file-export" size=${16} />`,name:"Export",next:[{icon:Fh`<${lN} prefix="mdi" name="code-json" size=${16} />`,name:"json",perform:e=>{let{store:t}=e;oV(_a(t.state),t.state.settings.databaseName)}},{icon:Fh`<${lN}
            prefix="mdi"
            name="database-export"
            size=${16}
          />`,name:"Schema SQL",perform:e=>{let{store:t}=e;iV(vV(t.state),t.state.settings.databaseName)}}],filter:e=>{let{store:t}=e;return t.state.settings.canvasType===Gm.ERD}},{icon:Fh`<${lN} name="table" size=${16} />`,name:"New Table",shortcut:null==(t=o.addTable[0])?void 0:t.shortcut,perform:e=>{let{store:t}=e;t.dispatch(Aw())},filter:e=>{let{store:t}=e;return t.state.settings.canvasType===Gm.ERD}},{icon:Fh`<${lN} name="note-sticky" size=${16} />`,name:"New Memo",shortcut:null==(n=o.addMemo[0])?void 0:n.shortcut,perform:e=>{let{store:t}=e;t.dispatch(ww())},filter:e=>{let{store:t}=e;return t.state.settings.canvasType===Gm.ERD}},...xR.map((e=>{var t;return{icon:Fh`<${lN} prefix="base64" name=${e.iconName} size=${16} />`,name:e.name,keywords:"Relationship",shortcut:null==(t=o[e.keyBindingName][0])?void 0:t.shortcut,perform:t=>{let{store:n}=t;n.dispatch(hk(e.relationshipType))},filter:e=>{let{store:t}=e;return t.state.settings.canvasType===Gm.ERD}}})),{icon:Fh`<${lN} prefix="mdi" name="atom" size=${16} />`,name:"Automatic Table Placement",perform:e=>{let{store:t}=e;t.dispatch(dy({[dD]:!0}))},filter:e=>{let{store:t}=e;return t.state.settings.canvasType===Gm.ERD}},{icon:Fh`<${lN} prefix="mdi" name="code-brackets" size=${16} />`,name:"Bracket",next:zB.map((e=>({icon:e.value===i.bracketType?Fh`<${lN} name="check" size=${16} />`:null,name:e.name,perform:t=>{let{store:n}=t;n.dispatch(ib({value:e.value}))}}))),filter:e=>{let{store:t}=e;return t.state.settings.canvasType===Gm.schemaSQL}},{icon:Fh`<${lN} name="code" size=${16} />`,name:"Language",next:rB.map((e=>({icon:e.value===i.language?Fh`<${lN} name="check" size=${16} />`:null,name:e.name,perform:t=>{let{store:n}=t;n.dispatch(nb({value:e.value}))}}))),filter:e=>{let{store:t}=e;return t.state.settings.canvasType===Gm.generatorCode}},{icon:Fh`
        <${lN} prefix="mdi" name="format-letter-case" size=${16} />
      `,name:"Table Name Case",next:oB.map((e=>({icon:e.value===i.tableNameCase?Fh`<${lN} name="check" size=${16} />`:null,name:e.name,perform:t=>{let{store:n}=t;n.dispatch(rb({value:e.value}))}}))),filter:e=>{let{store:t}=e;return t.state.settings.canvasType===Gm.generatorCode}},{icon:Fh`
        <${lN} prefix="mdi" name="format-letter-case" size=${16} />
      `,name:"Column Name Case",next:nB.map((e=>({icon:e.value===i.columnNameCase?Fh`<${lN} name="check" size=${16} />`:null,name:e.name,perform:t=>{let{store:n}=t;n.dispatch(ob({value:e.value}))}}))),filter:e=>{let{store:t}=e;return t.state.settings.canvasType===Gm.generatorCode}},...$P(e)]}(n.value);i.prevActions=t,i.actions=t,s(),e.dispatch(dy({[hD]:!1,[mD]:!1}))}else c()}},g=e=>{const t=e.target;t&&!t.closest(".quick-search")&&u()};return Ws((()=>{const{shortcut$:e,emitter:t}=n.value;r(e.pipe(gm((e=>{let{type:t}=e;return t===DS.stop}))).subscribe(u),e.pipe(gm((e=>{let{type:t}=e;return t===DS.search}))).subscribe(p),t.on({toggleSearch:p}))})),()=>{const{store:e}=n.value,{editor:{openMap:t}}=e.state;return t[fD]?Fh`
      <div class=${TP} @click=${g}>
        <div class=${["quick-search",AP]} ${hd(o)}>
          <${jV}
            class=${OP}
            placeholder="Search"
            autofocus=${!0}
            value=${i.keyword}
            .onInput=${m}
            .onKeydown=${f}
          />
          <div class=${["scrollbar",SP]}>
            ${a().map(((e,t)=>Fh`
                <div
                  class=${[EP,{selected:t===i.index}]}
                  @click=${e=>{e.stopPropagation(),d(t)}}
                >
                  ${e.icon?Fh`<div class=${NP}>${e.icon}</div>`:null}
                  <span class=${MP}>
                    <${gM}
                      searchWords=${[i.keyword]}
                      textToHighlight=${e.name}
                    />
                  </span>
                  ${e.keywords?Fh`
                        <div class=${LP}></div>
                        <span class=${DP}>
                          <${gM}
                            searchWords=${[i.keyword]}
                            textToHighlight=${e.keywords}
                          />
                        </span>
                      `:null}
                  ${e.shortcut?Fh`
                        <div class=${jP}>
                          <${wM} shortcut=${e.shortcut} />
                        </div>
                      `:null}
                </div>
              `))}
          </div>
        </div>
      </div>
    `:null}},RP=ff`
  background-color: var(--gray-color-6);
`,VP=ff`
  width: 100%;
  height: 1px;
`,BP=(e,t)=>()=>Fh`
    <div
      style=${{"padding-left":`${e.padding??0}px`,"padding-right":`${e.padding??0}px`}}
    >
      <div
        class=${[RP,VP]}
        style=${{"margin-top":`${e.space??0}px`,"margin-bottom":`${e.space??0}px`}}
      ></div>
    </div>
  `,PP=ff`
  position: relative;
  display: inline-flex;
  align-items: center;
  cursor: pointer;
  outline: none;
  border-radius: 9999px;

  &::before {
    content: '';
    position: absolute;
    inset: 0;
    pointer-events: none;
    border-radius: inherit;
    transition: background-position, background-color, box-shadow, filter;
    transition-timing-function: linear, ease-in-out, ease-in-out, ease-in-out;
    background-repeat: no-repeat;
    background-color: var(--gray-color-3);
    background-image: linear-gradient(
      to right,
      var(--accent-color-9) 40%,
      transparent 60%
    );
    box-shadow: inset 0 0 0 1px var(--gray-color-6);
  }

  &[data-checked='true']::before {
    transition-duration: 0.16s, 0.14s, 0.14s, 0.14s;
    background-position: 0;
  }

  &[data-checked='false']::before {
    transition-duration: 0.12s, 0.14s, 0.14s, 0.14s;
    background-position-x: 100%;
  }
`,UP=ff`
  width: 28px;
  height: 16px;

  &::before {
    background-size: calc(28px * 2 + 16px) 100%;
  }

  & > span {
    width: 14px;
    height: 14px;
  }

  & > span[data-checked] {
    transform: translateX(calc(28px - 14px - 1px));
  }
`,WP=ff`
  width: 35px;
  height: 20px;

  &::before {
    background-size: calc(35px * 2 + 20px) 100%;
  }

  & > span {
    width: 18px;
    height: 18px;
  }

  & > span[data-checked] {
    transform: translateX(calc(35px - 18px - 1px));
  }
`,FP=ff`
  width: 42px;
  height: 24px;

  &::before {
    background-size: calc(42px * 2 + 24px) 100%;
  }

  & > span {
    width: 22px;
    height: 22px;
  }

  & > span[data-checked] {
    transform: translateX(calc(42px - 22px - 1px));
  }
`,ZP=ff`
  background-color: #fff;
  position: relative;
  border-radius: 9999px;
  transition:
    transform 0.14s cubic-bezier(0.45, 0.05, 0.55, 0.95),
    box-shadow 0.14s ease-in-out;
  transform: translateX(1px);
`,YP=Object.freeze(Object.defineProperty({__proto__:null,size1:UP,size2:WP,size3:FP,switchButton:PP,switchThumb:ZP},Symbol.toStringTag,{value:"Module"})),HP=(e,t)=>{const n=()=>{e.onChange(!e.value)};return()=>Fh`
    <button
      class=${[PP,Reflect.get(YP,`size${e.size??"2"}`)]}
      type="button"
      data-checked=${e.value}
      @click=${n}
    >
      <span class=${ZP} ?data-checked=${e.value}></span>
    </button>
  `},qP=ff`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  overflow: hidden;
`,GP=ff`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  overflow-x: hidden;
  overflow-y: auto;
`,QP=ff`
  display: flex;
  align-items: center;
  padding: 0 12px;
  height: 32px;
  border-radius: 4px;
  cursor: default;

  &:hover {
    background-color: var(--context-menu-hover);
    color: var(--active);
    fill: var(--active);
  }

  &.selected {
    background-color: var(--context-menu-select);
    color: var(--active);
    fill: var(--active);
  }
`,XP={preferences:"Preferences",shortcuts:"Shortcuts"},JP=Object.values(XP),KP=(e,t)=>()=>Fh`
    <div class=${qP}>
      <div class=${cE}>Settings</div>
      <${BP} space=${12} />
      <div class=${["scrollbar",GP]}>
        ${JP.map((t=>Fh`
            <div
              class=${[QP,{selected:t===e.value}]}
              @click=${()=>e.onChange(t)}
            >
              ${t}
            </div>
          `))}
      </div>
    </div>
  `,eU=ff`
  padding: 12px;
  height: 44px;
  box-shadow: inset 0 -1px var(--gray-color-5);
`,tU=ff`
  width: 100%;
  text-align: left;
  vertical-align: top;
  border-collapse: collapse;
  border-radius: calc(var(--table-border-radius) - 1px);
  border-spacing: 0;
  box-sizing: border-box;
  height: 0;

  th {
    font-weight: var(--font-weight-bold);
    ${eU};
  }

  td {
    ${eU};
  }
`,nU=ff`
  margin-bottom: 12px;

  &:last-child {
    margin-bottom: 0;
  }
`,rU=(e,t)=>{const n=HS(t);return()=>Fh`
      <table class=${tU}>
        <thead>
          <tr>
            <th>Command</th>
            <th>Keybinding</th>
          </tr>
        </thead>
        <tbody>
          ${(()=>{const{keyBindingMap:e}=n.value;return[{command:"Editing",shortcuts:e.edit},{command:"Stop",shortcuts:e.stop},{command:"Search",shortcuts:e.search},{command:"Undo",shortcuts:e.undo},{command:"Redo",shortcuts:e.redo},{command:"Add Table",shortcuts:e.addTable},{command:"Add Column",shortcuts:e.addColumn},{command:"Add Memo",shortcuts:e.addMemo},{command:"Remove Table, Memo",shortcuts:e.removeTable},{command:"Remove Column",shortcuts:e.removeColumn},{command:"Primary Key",shortcuts:e.primaryKey},{command:"Select All Table, Memo",shortcuts:e.selectAllTable},{command:"Select All Column",shortcuts:e.selectAllColumn},{command:"Relationship Zero One",shortcuts:e.relationshipZeroOne},{command:"Relationship Zero N",shortcuts:e.relationshipZeroN},{command:"Relationship One Only",shortcuts:e.relationshipOneOnly},{command:"Relationship One N",shortcuts:e.relationshipOneN},{command:"Table Properties",shortcuts:e.tableProperties},{command:"Zoom In",shortcuts:e.zoomIn},{command:"Zoom Out",shortcuts:e.zoomOut}]})().map((e=>{let{command:t,shortcuts:n}=e;return Fh`
              <tr>
                <td>${t}</td>
                <td>
                  ${n.map((e=>{let{shortcut:t}=e;return Fh`
                      <div class=${nU}>
                        <${wM} shortcut=${t} />
                      </div>
                    `}))}
                </td>
              </tr>
            `}))}
        </tbody>
      </table>
    `},oU=ff`
  display: flex;
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
  padding: 32px;
  background-color: var(--context-menu-background);

  .column-order-move {
    transition: transform 0.3s;
  }
`,iU=ff`
  display: flex;
  width: 200px;
  height: 100%;
  overflow: hidden;
`,aU=ff`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  overflow: hidden;
  padding-left: 16px;
`,sU=ff`
  display: flex;
  width: 100%;
  height: 100%;
  overflow: auto;
  flex-flow: wrap;
`,lU=ff`
  margin: 0 32px 32px 0;
  min-width: 300px;
`,cU=ff`
  display: flex;
  white-space: nowrap;
  height: 24px;
  align-items: center;
  margin-bottom: 16px;
`,uU=e=>ff`
  width: ${e}px;
  height: 100%;
`,dU=ff`
  display: flex;
  flex-direction: column;
  margin-bottom: 16px;
`,hU=ff`
  display: flex;
  flex-direction: column;
`,fU=ff`
  display: flex;
  align-items: center;
  padding: 0 12px;
  height: 32px;
  cursor: move;
  border-radius: 4px;

  &:hover {
    background-color: var(--context-menu-hover);
    color: var(--active);
    fill: var(--active);
  }

  &.none-hover {
    background-color: transparent;
    color: var(--foreground);
    fill: var(--foreground);
  }

  &.dragging {
    opacity: 0.5;
  }
`,mU=(e,t)=>{const n=HS(t),r=dd(),o=new _M(r,`.${fU}`,"column-order-move"),i=il({lnb:XP.preferences}),a=e=>{const{store:t}=n.value;t.dispatch(ab({value:e}))},s=()=>{const{store:e,emitter:t,toWidth:r}=n.value;Ob(e.state,{toWidth:r,clock:e.context.clock}),JI(e.state),t.emit(KO({close:LI(2e3),message:Fh`<${uD} title="Recalculated table width" />`}))},l=e=>{var t;const i=r.value,a=e.target;if(!i||!a)return;const s=null==(t=a.dataset)?void 0:t.id;if(!s)return;const l=Number(s),c=Array.from(i.querySelectorAll(`.${fU}`));c.forEach((e=>e.classList.add("none-hover"))),a.classList.add("dragging"),zM(c,(e=>e.dataset.id)).subscribe({next:e=>{((e,t)=>{const{store:r}=n.value;e!==t&&(o.snapshot(),r.dispatch(lb({value:e,target:t})))})(l,Number(e))},complete:()=>{a.classList.remove("dragging"),c.forEach((e=>e.classList.remove("none-hover")))}})};Ys((()=>o.play()));const c=e=>{i.lnb=e},u=e=>{const{store:t}=n.value;t.dispatch(cb({value:e?_p:-1}))},d=e=>{const t=e.target;if(!t)return;const r=Gp(Number(Yp(t.value))),{store:o}=n.value;t.value=Jp(r),o.dispatch(cb({value:r}))},h=e=>{const{store:t}=n.value;t.dispatch(ub({saveSettingType:mp.scroll,value:!e}))},f=e=>{const{store:t}=n.value;t.dispatch(ub({saveSettingType:mp.zoomLevel,value:!e}))};return()=>{const{store:e}=n.value,{settings:t}=e.state,o=-1===t.maxWidthComment;return Fh`
      <div class=${oU} ${hd(r)}>
        <div class=${iU}>
          <${KP} value=${i.lnb} .onChange=${c} />
        </div>
        <div class=${aU}>
          <div class=${cE}>${i.lnb}</div>
          <${BP} space=${12} />
          <div class=${["scrollbar",sU]}>
            ${i.lnb===XP.preferences?Fh`
                  <div class=${lU}>
                    <div class=${cU}>
                      <div>Relationship DataType Sync</div>
                      <div class=${uU(16)}></div>
                      <${HP}
                        value=${t.relationshipDataTypeSync}
                        .onChange=${a}
                      />
                    </div>

                    <div class=${cU}>
                      <div>Save Scroll Information</div>
                      <div class=${uU(16)}></div>
                      <${HP}
                        value=${!Cp(t.ignoreSaveSettings,mp.scroll)}
                        .onChange=${h}
                      />
                    </div>

                    <div class=${cU}>
                      <div>Save Zoom Information</div>
                      <div class=${uU(16)}></div>
                      <${HP}
                        value=${!Cp(t.ignoreSaveSettings,mp.zoomLevel)}
                        .onChange=${f}
                      />
                    </div>

                    <div class=${cU}>
                      <div>Maximum comment width</div>
                      <div class=${uU(16)}></div>
                      <${HP}
                        value=${!o}
                        .onChange=${u}
                      />
                      <div class=${uU(8)}></div>
                      <${jV}
                        title="Maximum comment width"
                        placeholder="Maximum comment width"
                        width=${45}
                        value=${Jp(o?_p:t.maxWidthComment)}
                        disabled=${o}
                        numberOnly=${!0}
                        .onChange=${d}
                      />
                    </div>

                    <div class=${cU}>
                      <div>Recalculation table width</div>
                      <div class=${uU(16)}></div>
                      <${oD}
                        variant="soft"
                        size="1"
                        text=${Fh`
                          <${lN} size=${14} name="rotate" />
                          <div class=${uU(8)}></div>
                          <span>Sync</span>
                        `}
                        .onClick=${s}
                      />
                    </div>
                    <div class=${dU}>
                      <div>Column Order</div>
                      <${BP} space=${12} />
                      <div
                        class=${hU}
                        @dragenter=${xE}
                        @dragover=${xE}
                      >
                        ${gd(t.columnOrder,(e=>e),(e=>Fh`
                            <div
                              class=${fU}
                              draggable="true"
                              data-id=${e}
                              @dragstart=${l}
                            >
                              <${uR}
                                icon=${Fh`<${lN} name="bars" size=${14} />`}
                                name=${wp[e]}
                              />
                            </div>
                          `))}
                      </div>
                    </div>
                  </div>
                `:i.lnb===XP.shortcuts?Fh`<${rU} />`:null}
          </div>
        </div>
      </div>
    `}},pU=["grayColor1","grayColor2","grayColor3","grayColor4","grayColor5","grayColor6","grayColor7","grayColor8","grayColor9","grayColor10","grayColor11","grayColor12","accentColor1","accentColor2","accentColor3","accentColor4","accentColor5","accentColor6","accentColor7","accentColor8","accentColor9","accentColor10","accentColor11","accentColor12","canvasBackground","canvasBoundaryBackground","tableBackground","tableSelect","tableBorder","memoBackground","memoSelect","memoBorder","columnSelect","columnHover","relationshipHover","toolbarBackground","contextMenuBackground","contextMenuSelect","contextMenuHover","contextMenuBorder","minimapBorder","minimapShadow","minimapViewportBorder","minimapViewportBorderHover","toastBackground","toastBorder","dargSelectBackground","dargSelectBorder","scrollbarTrack","scrollbarThumb","scrollbarThumbHover","foreground","active","placeholder","focus","inputActive","keyPK","keyFK","keyPFK","diffInsertBackground","diffDeleteBackground","diffCrossBackground","diffInsertForeground","diffDeleteForeground","diffCrossForeground"],gU=e=>()=>Fh`
    <style>
      :host {
        ${(e=>Object.keys(e).map((t=>{const n=kO(t);return`--${n}: var(--erd-editor-${n}, ${Reflect.get(e,t)});`})).join("\n"))(e.theme)}
      }
    </style>
  `,yU={grayColor1:"gray-1",grayColor2:"gray-2",grayColor3:"gray-3",grayColor4:"gray-4",grayColor5:"gray-5",grayColor6:"gray-6",grayColor7:"gray-7",grayColor8:"gray-8",grayColor9:"gray-9",grayColor10:"gray-10",grayColor11:"gray-11",grayColor12:"gray-12",accentColor1:"accent-1",accentColor2:"accent-2",accentColor3:"accent-3",accentColor4:"accent-4",accentColor5:"accent-5",accentColor6:"accent-6",accentColor7:"accent-7",accentColor8:"accent-8",accentColor9:"accent-9",accentColor10:"accent-10",accentColor11:"accent-11",accentColor12:"accent-12",canvasBackground:"gray-3",canvasBoundaryBackground:"gray-1",tableBackground:"gray-2",tableSelect:"accent-8",tableBorder:"gray-6",memoBackground:"gray-2",memoSelect:"accent-8",memoBorder:"gray-6",columnSelect:"gray-5",columnHover:"gray-4",relationshipHover:"accent-8",toolbarBackground:"gray-1",contextMenuBackground:"gray-2",contextMenuSelect:"gray-4",contextMenuHover:"accent-7",contextMenuBorder:"gray-6",minimapBorder:"override-black",minimapShadow:"override-black",minimapViewportBorder:"accent-7",minimapViewportBorderHover:"accent-8",toastBackground:"gray-2",toastBorder:"gray-6",dargSelectBackground:"accent-5",dargSelectBorder:"accent-8",scrollbarTrack:"grayA-3",scrollbarThumb:"gray-9",scrollbarThumbHover:"gray-10",foreground:"gray-11",active:"gray-12",placeholder:"grayA-10",focus:"accent-8",inputActive:"accent-10",keyPK:"custom-amber--9",keyFK:"custom-ruby--9",keyPFK:"custom-cyan--9",diffInsertBackground:"custom-green--4",diffDeleteBackground:"custom-red--4",diffCrossBackground:"custom-blue--4",diffInsertForeground:"custom-green--11",diffDeleteForeground:"custom-red--11",diffCrossForeground:"custom-blue--11"},vU={amber:{amber1:"#fefdfb",amber2:"#fefbe9",amber3:"#fff7c2",amber4:"#ffee9c",amber5:"#fbe577",amber6:"#f3d673",amber7:"#e9c162",amber8:"#e2a336",amber9:"#ffc53d",amber10:"#ffba18",amber11:"#ab6400",amber12:"#4f3422"},amberA:{amberA1:"#c0800004",amberA2:"#f4d10016",amberA3:"#ffde003d",amberA4:"#ffd40063",amberA5:"#f8cf0088",amberA6:"#eab5008c",amberA7:"#dc9b009d",amberA8:"#da8a00c9",amberA9:"#ffb300c2",amberA10:"#ffb300e7",amberA11:"#ab6400",amberA12:"#341500dd"},amberDark:{amber1:"#16120c",amber2:"#1d180f",amber3:"#302008",amber4:"#3f2700",amber5:"#4d3000",amber6:"#5c3d05",amber7:"#714f19",amber8:"#8f6424",amber9:"#ffc53d",amber10:"#ffd60a",amber11:"#ffca16",amber12:"#ffe7b3"},amberDarkA:{amberA1:"#e63c0006",amberA2:"#fd9b000d",amberA3:"#fa820022",amberA4:"#fc820032",amberA5:"#fd8b0041",amberA6:"#fd9b0051",amberA7:"#ffab2567",amberA8:"#ffae3587",amberA9:"#ffc53d",amberA10:"#ffd60a",amberA11:"#ffca16",amberA12:"#ffe7b3"},blue:{blue1:"#fbfdff",blue2:"#f4faff",blue3:"#e6f4fe",blue4:"#d5efff",blue5:"#c2e5ff",blue6:"#acd8fc",blue7:"#8ec8f6",blue8:"#5eb1ef",blue9:"#0090ff",blue10:"#0588f0",blue11:"#0d74ce",blue12:"#113264"},blueA:{blueA1:"#0080ff04",blueA2:"#008cff0b",blueA3:"#008ff519",blueA4:"#009eff2a",blueA5:"#0093ff3d",blueA6:"#0088f653",blueA7:"#0083eb71",blueA8:"#0084e6a1",blueA9:"#0090ff",blueA10:"#0086f0fa",blueA11:"#006dcbf2",blueA12:"#002359ee"},blueDark:{blue1:"#0d1520",blue2:"#111927",blue3:"#0d2847",blue4:"#003362",blue5:"#004074",blue6:"#104d87",blue7:"#205d9e",blue8:"#2870bd",blue9:"#0090ff",blue10:"#3b9eff",blue11:"#70b8ff",blue12:"#c2e6ff"},blueDarkA:{blueA1:"#004df211",blueA2:"#1166fb18",blueA3:"#0077ff3a",blueA4:"#0075ff57",blueA5:"#0081fd6b",blueA6:"#0f89fd7f",blueA7:"#2a91fe98",blueA8:"#3094feb9",blueA9:"#0090ff",blueA10:"#3b9eff",blueA11:"#70b8ff",blueA12:"#c2e6ff"},bronze:{bronze1:"#fdfcfc",bronze2:"#fdf7f5",bronze3:"#f6edea",bronze4:"#efe4df",bronze5:"#e7d9d3",bronze6:"#dfcdc5",bronze7:"#d3bcb3",bronze8:"#c2a499",bronze9:"#a18072",bronze10:"#957468",bronze11:"#7d5e54",bronze12:"#43302b"},bronzeA:{bronzeA1:"#55000003",bronzeA2:"#cc33000a",bronzeA3:"#92250015",bronzeA4:"#80280020",bronzeA5:"#7423002c",bronzeA6:"#7324003a",bronzeA7:"#6c1f004c",bronzeA8:"#671c0066",bronzeA9:"#551a008d",bronzeA10:"#4c150097",bronzeA11:"#3d0f00ab",bronzeA12:"#1d0600d4"},bronzeDark:{bronze1:"#141110",bronze2:"#1c1917",bronze3:"#262220",bronze4:"#302a27",bronze5:"#3b3330",bronze6:"#493e3a",bronze7:"#5a4c47",bronze8:"#6f5f58",bronze9:"#a18072",bronze10:"#ae8c7e",bronze11:"#d4b3a5",bronze12:"#ede0d9"},bronzeDarkA:{bronzeA1:"#d1110004",bronzeA2:"#fbbc910c",bronzeA3:"#faceb817",bronzeA4:"#facdb622",bronzeA5:"#ffd2c12d",bronzeA6:"#ffd1c03c",bronzeA7:"#fdd0c04f",bronzeA8:"#ffd6c565",bronzeA9:"#fec7b09b",bronzeA10:"#fecab5a9",bronzeA11:"#ffd7c6d1",bronzeA12:"#fff1e9ec"},brown:{brown1:"#fefdfc",brown2:"#fcf9f6",brown3:"#f6eee7",brown4:"#f0e4d9",brown5:"#ebdaca",brown6:"#e4cdb7",brown7:"#dcbc9f",brown8:"#cea37e",brown9:"#ad7f58",brown10:"#a07553",brown11:"#815e46",brown12:"#3e332e"},brownA:{brownA1:"#aa550003",brownA2:"#aa550009",brownA3:"#a04b0018",brownA4:"#9b4a0026",brownA5:"#9f4d0035",brownA6:"#a04e0048",brownA7:"#a34e0060",brownA8:"#9f4a0081",brownA9:"#823c00a7",brownA10:"#723300ac",brownA11:"#522100b9",brownA12:"#140600d1"},brownDark:{brown1:"#12110f",brown2:"#1c1816",brown3:"#28211d",brown4:"#322922",brown5:"#3e3128",brown6:"#4d3c2f",brown7:"#614a39",brown8:"#7c5f46",brown9:"#ad7f58",brown10:"#b88c67",brown11:"#dbb594",brown12:"#f2e1ca"},brownDarkA:{brownA1:"#91110002",brownA2:"#fba67c0c",brownA3:"#fcb58c19",brownA4:"#fbbb8a24",brownA5:"#fcb88931",brownA6:"#fdba8741",brownA7:"#ffbb8856",brownA8:"#ffbe8773",brownA9:"#feb87da8",brownA10:"#ffc18cb3",brownA11:"#fed1aad9",brownA12:"#feecd4f2"},crimson:{crimson1:"#fffcfd",crimson2:"#fef7f9",crimson3:"#ffe9f0",crimson4:"#fedce7",crimson5:"#facedd",crimson6:"#f3bed1",crimson7:"#eaacc3",crimson8:"#e093b2",crimson9:"#e93d82",crimson10:"#df3478",crimson11:"#cb1d63",crimson12:"#621639"},crimsonA:{crimsonA1:"#ff005503",crimsonA2:"#e0004008",crimsonA3:"#ff005216",crimsonA4:"#f8005123",crimsonA5:"#e5004f31",crimsonA6:"#d0004b41",crimsonA7:"#bf004753",crimsonA8:"#b6004a6c",crimsonA9:"#e2005bc2",crimsonA10:"#d70056cb",crimsonA11:"#c4004fe2",crimsonA12:"#530026e9"},crimsonDark:{crimson1:"#191114",crimson2:"#201318",crimson3:"#381525",crimson4:"#4d122f",crimson5:"#5c1839",crimson6:"#6d2545",crimson7:"#873356",crimson8:"#b0436e",crimson9:"#e93d82",crimson10:"#ee518a",crimson11:"#ff92ad",crimson12:"#fdd3e8"},crimsonDarkA:{crimsonA1:"#f4126709",crimsonA2:"#f22f7a11",crimsonA3:"#fe2a8b2a",crimsonA4:"#fd158741",crimsonA5:"#fd278f51",crimsonA6:"#fe459763",crimsonA7:"#fd559b7f",crimsonA8:"#fe5b9bab",crimsonA9:"#fe418de8",crimsonA10:"#ff5693ed",crimsonA11:"#ff92ad",crimsonA12:"#ffd5eafd"},cyan:{cyan1:"#fafdfe",cyan2:"#f2fafb",cyan3:"#def7f9",cyan4:"#caf1f6",cyan5:"#b5e9f0",cyan6:"#9ddde7",cyan7:"#7dcedc",cyan8:"#3db9cf",cyan9:"#00a2c7",cyan10:"#0797b9",cyan11:"#107d98",cyan12:"#0d3c48"},cyanA:{cyanA1:"#0099cc05",cyanA2:"#009db10d",cyanA3:"#00c2d121",cyanA4:"#00bcd435",cyanA5:"#01b4cc4a",cyanA6:"#00a7c162",cyanA7:"#009fbb82",cyanA8:"#00a3c0c2",cyanA9:"#00a2c7",cyanA10:"#0094b7f8",cyanA11:"#007491ef",cyanA12:"#00323ef2"},cyanDark:{cyan1:"#0b161a",cyan2:"#101b20",cyan3:"#082c36",cyan4:"#003848",cyan5:"#004558",cyan6:"#045468",cyan7:"#12677e",cyan8:"#11809c",cyan9:"#00a2c7",cyan10:"#23afd0",cyan11:"#4ccce6",cyan12:"#b6ecf7"},cyanDarkA:{cyanA1:"#0091f70a",cyanA2:"#02a7f211",cyanA3:"#00befd28",cyanA4:"#00baff3b",cyanA5:"#00befd4d",cyanA6:"#00c7fd5e",cyanA7:"#14cdff75",cyanA8:"#11cfff95",cyanA9:"#00cfffc3",cyanA10:"#28d6ffcd",cyanA11:"#52e1fee5",cyanA12:"#bbf3fef7"},gold:{gold1:"#fdfdfc",gold2:"#faf9f2",gold3:"#f2f0e7",gold4:"#eae6db",gold5:"#e1dccf",gold6:"#d8d0bf",gold7:"#cbc0aa",gold8:"#b9a88d",gold9:"#978365",gold10:"#8c7a5e",gold11:"#71624b",gold12:"#3b352b"},goldA:{goldA1:"#55550003",goldA2:"#9d8a000d",goldA3:"#75600018",goldA4:"#6b4e0024",goldA5:"#60460030",goldA6:"#64440040",goldA7:"#63420055",goldA8:"#633d0072",goldA9:"#5332009a",goldA10:"#492d00a1",goldA11:"#362100b4",goldA12:"#130c00d4"},goldDark:{gold1:"#121211",gold2:"#1b1a17",gold3:"#24231f",gold4:"#2d2b26",gold5:"#38352e",gold6:"#444039",gold7:"#544f46",gold8:"#696256",gold9:"#978365",gold10:"#a39073",gold11:"#cbb99f",gold12:"#e8e2d9"},goldDarkA:{goldA1:"#91911102",goldA2:"#f9e29d0b",goldA3:"#f8ecbb15",goldA4:"#ffeec41e",goldA5:"#feecc22a",goldA6:"#feebcb37",goldA7:"#ffedcd48",goldA8:"#fdeaca5f",goldA9:"#ffdba690",goldA10:"#fedfb09d",goldA11:"#fee7c6c8",goldA12:"#fef7ede7"},grass:{grass1:"#fbfefb",grass2:"#f5fbf5",grass3:"#e9f6e9",grass4:"#daf1db",grass5:"#c9e8ca",grass6:"#b2ddb5",grass7:"#94ce9a",grass8:"#65ba74",grass9:"#46a758",grass10:"#3e9b4f",grass11:"#2a7e3b",grass12:"#203c25"},grassA:{grassA1:"#00c00004",grassA2:"#0099000a",grassA3:"#00970016",grassA4:"#009f0725",grassA5:"#00930536",grassA6:"#008f0a4d",grassA7:"#018b0f6b",grassA8:"#008d199a",grassA9:"#008619b9",grassA10:"#007b17c1",grassA11:"#006514d5",grassA12:"#002006df"},grassDark:{grass1:"#0e1511",grass2:"#141a15",grass3:"#1b2a1e",grass4:"#1d3a24",grass5:"#25482d",grass6:"#2d5736",grass7:"#366740",grass8:"#3e7949",grass9:"#46a758",grass10:"#53b365",grass11:"#71d083",grass12:"#c2f0c2"},grassDarkA:{grassA1:"#00de1205",grassA2:"#5ef7780a",grassA3:"#70fe8c1b",grassA4:"#57ff802c",grassA5:"#68ff8b3b",grassA6:"#71ff8f4b",grassA7:"#77fd925d",grassA8:"#77fd9070",grassA9:"#65ff82a1",grassA10:"#72ff8dae",grassA11:"#89ff9fcd",grassA12:"#ceffceef"},gray:{gray1:"#fcfcfc",gray2:"#f9f9f9",gray3:"#f0f0f0",gray4:"#e8e8e8",gray5:"#e0e0e0",gray6:"#d9d9d9",gray7:"#cecece",gray8:"#bbbbbb",gray9:"#8d8d8d",gray10:"#838383",gray11:"#646464",gray12:"#202020"},grayA:{grayA1:"#00000003",grayA2:"#00000006",grayA3:"#0000000f",grayA4:"#00000017",grayA5:"#0000001f",grayA6:"#00000026",grayA7:"#00000031",grayA8:"#00000044",grayA9:"#00000072",grayA10:"#0000007c",grayA11:"#0000009b",grayA12:"#000000df"},grayDark:{gray1:"#111111",gray2:"#191919",gray3:"#222222",gray4:"#2a2a2a",gray5:"#313131",gray6:"#3a3a3a",gray7:"#484848",gray8:"#606060",gray9:"#6e6e6e",gray10:"#7b7b7b",gray11:"#b4b4b4",gray12:"#eeeeee"},grayDarkA:{grayA1:"#00000000",grayA2:"#ffffff09",grayA3:"#ffffff12",grayA4:"#ffffff1b",grayA5:"#ffffff22",grayA6:"#ffffff2c",grayA7:"#ffffff3b",grayA8:"#ffffff55",grayA9:"#ffffff64",grayA10:"#ffffff72",grayA11:"#ffffffaf",grayA12:"#ffffffed"},green:{green1:"#fbfefc",green2:"#f4fbf6",green3:"#e6f6eb",green4:"#d6f1df",green5:"#c4e8d1",green6:"#adddc0",green7:"#8eceaa",green8:"#5bb98b",green9:"#30a46c",green10:"#2b9a66",green11:"#218358",green12:"#193b2d"},greenA:{greenA1:"#00c04004",greenA2:"#00a32f0b",greenA3:"#00a43319",greenA4:"#00a83829",greenA5:"#019c393b",greenA6:"#00963c52",greenA7:"#00914071",greenA8:"#00924ba4",greenA9:"#008f4acf",greenA10:"#008647d4",greenA11:"#00713fde",greenA12:"#002616e6"},greenDark:{green1:"#0e1512",green2:"#121b17",green3:"#132d21",green4:"#113b29",green5:"#174933",green6:"#20573e",green7:"#28684a",green8:"#2f7c57",green9:"#30a46c",green10:"#33b074",green11:"#3dd68c",green12:"#b1f1cb"},greenDarkA:{greenA1:"#00de4505",greenA2:"#29f99d0b",greenA3:"#22ff991e",greenA4:"#11ff992d",greenA5:"#2bffa23c",greenA6:"#44ffaa4b",greenA7:"#50fdac5e",greenA8:"#54ffad73",greenA9:"#44ffa49e",greenA10:"#43fea4ab",greenA11:"#46fea5d4",greenA12:"#bbffd7f0"},indigo:{indigo1:"#fdfdfe",indigo2:"#f7f9ff",indigo3:"#edf2fe",indigo4:"#e1e9ff",indigo5:"#d2deff",indigo6:"#c1d0ff",indigo7:"#abbdf9",indigo8:"#8da4ef",indigo9:"#3e63dd",indigo10:"#3358d4",indigo11:"#3a5bc7",indigo12:"#1f2d5c"},indigoA:{indigoA1:"#00008002",indigoA2:"#0040ff08",indigoA3:"#0047f112",indigoA4:"#0044ff1e",indigoA5:"#0044ff2d",indigoA6:"#003eff3e",indigoA7:"#0037ed54",indigoA8:"#0034dc72",indigoA9:"#0031d2c1",indigoA10:"#002ec9cc",indigoA11:"#002bb7c5",indigoA12:"#001046e0"},indigoDark:{indigo1:"#11131f",indigo2:"#141726",indigo3:"#182449",indigo4:"#1d2e62",indigo5:"#253974",indigo6:"#304384",indigo7:"#3a4f97",indigo8:"#435db1",indigo9:"#3e63dd",indigo10:"#5472e4",indigo11:"#9eb1ff",indigo12:"#d6e1ff"},indigoDarkA:{indigoA1:"#1133ff0f",indigoA2:"#3354fa17",indigoA3:"#2f62ff3c",indigoA4:"#3566ff57",indigoA5:"#4171fd6b",indigoA6:"#5178fd7c",indigoA7:"#5a7fff90",indigoA8:"#5b81feac",indigoA9:"#4671ffdb",indigoA10:"#5c7efee3",indigoA11:"#9eb1ff",indigoA12:"#d6e1ff"},iris:{iris1:"#fdfdff",iris2:"#f8f8ff",iris3:"#f0f1fe",iris4:"#e6e7ff",iris5:"#dadcff",iris6:"#cbcdff",iris7:"#b8baf8",iris8:"#9b9ef0",iris9:"#5b5bd6",iris10:"#5151cd",iris11:"#5753c6",iris12:"#272962"},irisA:{irisA1:"#0000ff02",irisA2:"#0000ff07",irisA3:"#0011ee0f",irisA4:"#000bff19",irisA5:"#000eff25",irisA6:"#000aff34",irisA7:"#0008e647",irisA8:"#0008d964",irisA9:"#0000c0a4",irisA10:"#0000b6ae",irisA11:"#0600abac",irisA12:"#000246d8"},irisDark:{iris1:"#13131e",iris2:"#171625",iris3:"#202248",iris4:"#262a65",iris5:"#303374",iris6:"#3d3e82",iris7:"#4a4a95",iris8:"#5958b1",iris9:"#5b5bd6",iris10:"#6e6ade",iris11:"#b1a9ff",iris12:"#e0dffe"},irisDarkA:{irisA1:"#3636fe0e",irisA2:"#564bf916",irisA3:"#525bff3b",irisA4:"#4d58ff5a",irisA5:"#5b62fd6b",irisA6:"#6d6ffd7a",irisA7:"#7777fe8e",irisA8:"#7b7afeac",irisA9:"#6a6afed4",irisA10:"#7d79ffdc",irisA11:"#b1a9ff",irisA12:"#e1e0fffe"},jade:{jade1:"#fbfefd",jade2:"#f4fbf7",jade3:"#e6f7ed",jade4:"#d6f1e3",jade5:"#c3e9d7",jade6:"#acdec8",jade7:"#8bceb6",jade8:"#56ba9f",jade9:"#29a383",jade10:"#26997b",jade11:"#208368",jade12:"#1d3b31"},jadeA:{jadeA1:"#00c08004",jadeA2:"#00a3460b",jadeA3:"#00ae4819",jadeA4:"#00a85129",jadeA5:"#00a2553c",jadeA6:"#009a5753",jadeA7:"#00945f74",jadeA8:"#00976ea9",jadeA9:"#00916bd6",jadeA10:"#008764d9",jadeA11:"#007152df",jadeA12:"#002217e2"},jadeDark:{jade1:"#0d1512",jade2:"#121c18",jade3:"#0f2e22",jade4:"#0b3b2c",jade5:"#114837",jade6:"#1b5745",jade7:"#246854",jade8:"#2a7e68",jade9:"#29a383",jade10:"#27b08b",jade11:"#1fd8a4",jade12:"#adf0d4"},jadeDarkA:{jadeA1:"#00de4505",jadeA2:"#27fba60c",jadeA3:"#02f99920",jadeA4:"#00ffaa2d",jadeA5:"#11ffb63b",jadeA6:"#34ffc24b",jadeA7:"#45fdc75e",jadeA8:"#48ffcf75",jadeA9:"#38feca9d",jadeA10:"#31fec7ab",jadeA11:"#21fec0d6",jadeA12:"#b8ffe1ef"},lime:{lime1:"#fcfdfa",lime2:"#f8faf3",lime3:"#eef6d6",lime4:"#e2f0bd",lime5:"#d3e7a6",lime6:"#c2da91",lime7:"#abc978",lime8:"#8db654",lime9:"#bdee63",lime10:"#b0e64c",lime11:"#5c7c2f",lime12:"#37401c"},limeA:{limeA1:"#66990005",limeA2:"#6b95000c",limeA3:"#96c80029",limeA4:"#8fc60042",limeA5:"#81bb0059",limeA6:"#72aa006e",limeA7:"#61990087",limeA8:"#559200ab",limeA9:"#93e4009c",limeA10:"#8fdc00b3",limeA11:"#375f00d0",limeA12:"#1e2900e3"},limeDark:{lime1:"#11130c",lime2:"#151a10",lime3:"#1f2917",lime4:"#29371d",lime5:"#334423",lime6:"#3d522a",lime7:"#496231",lime8:"#577538",lime9:"#bdee63",lime10:"#d4ff70",lime11:"#bde56c",lime12:"#e3f7ba"},limeDarkA:{limeA1:"#11bb0003",limeA2:"#78f7000a",limeA3:"#9bfd4c1a",limeA4:"#a7fe5c29",limeA5:"#affe6537",limeA6:"#b2fe6d46",limeA7:"#b6ff6f57",limeA8:"#b6fd6d6c",limeA9:"#caff69ed",limeA10:"#d4ff70",limeA11:"#d1fe77e4",limeA12:"#e9febff7"},mauve:{mauve1:"#fdfcfd",mauve2:"#faf9fb",mauve3:"#f2eff3",mauve4:"#eae7ec",mauve5:"#e3dfe6",mauve6:"#dbd8e0",mauve7:"#d0cdd7",mauve8:"#bcbac7",mauve9:"#8e8c99",mauve10:"#84828e",mauve11:"#65636d",mauve12:"#211f26"},mauveA:{mauveA1:"#55005503",mauveA2:"#2b005506",mauveA3:"#30004010",mauveA4:"#20003618",mauveA5:"#20003820",mauveA6:"#14003527",mauveA7:"#10003332",mauveA8:"#08003145",mauveA9:"#05001d73",mauveA10:"#0500197d",mauveA11:"#0400119c",mauveA12:"#020008e0"},mauveDark:{mauve1:"#121113",mauve2:"#1a191b",mauve3:"#232225",mauve4:"#2b292d",mauve5:"#323035",mauve6:"#3c393f",mauve7:"#49474e",mauve8:"#625f69",mauve9:"#6f6d78",mauve10:"#7c7a85",mauve11:"#b5b2bc",mauve12:"#eeeef0"},mauveDarkA:{mauveA1:"#00000000",mauveA2:"#f5f4f609",mauveA3:"#ebeaf814",mauveA4:"#eee5f81d",mauveA5:"#efe6fe25",mauveA6:"#f1e6fd30",mauveA7:"#eee9ff40",mauveA8:"#eee7ff5d",mauveA9:"#eae6fd6e",mauveA10:"#ece9fd7c",mauveA11:"#f5f1ffb7",mauveA12:"#fdfdffef"},mint:{mint1:"#f9fefd",mint2:"#f2fbf9",mint3:"#ddf9f2",mint4:"#c8f4e9",mint5:"#b3ecde",mint6:"#9ce0d0",mint7:"#7ecfbd",mint8:"#4cbba5",mint9:"#86ead4",mint10:"#7de0cb",mint11:"#027864",mint12:"#16433c"},mintA:{mintA1:"#00d5aa06",mintA2:"#00b18a0d",mintA3:"#00d29e22",mintA4:"#00cc9937",mintA5:"#00c0914c",mintA6:"#00b08663",mintA7:"#00a17d81",mintA8:"#009e7fb3",mintA9:"#00d3a579",mintA10:"#00c39982",mintA11:"#007763fd",mintA12:"#00312ae9"},mintDark:{mint1:"#0e1515",mint2:"#0f1b1b",mint3:"#092c2b",mint4:"#003a38",mint5:"#004744",mint6:"#105650",mint7:"#1e685f",mint8:"#277f70",mint9:"#86ead4",mint10:"#a8f5e5",mint11:"#58d5ba",mint12:"#c4f5e1"},mintDarkA:{mintA1:"#00dede05",mintA2:"#00f9f90b",mintA3:"#00fff61d",mintA4:"#00fff42c",mintA5:"#00fff23a",mintA6:"#0effeb4a",mintA7:"#34fde55e",mintA8:"#41ffdf76",mintA9:"#92ffe7e9",mintA10:"#aefeedf5",mintA11:"#67ffded2",mintA12:"#cbfee9f5"},olive:{olive1:"#fcfdfc",olive2:"#f8faf8",olive3:"#eff1ef",olive4:"#e7e9e7",olive5:"#dfe2df",olive6:"#d7dad7",olive7:"#cccfcc",olive8:"#b9bcb8",olive9:"#898e87",olive10:"#7f847d",olive11:"#60655f",olive12:"#1d211c"},oliveA:{oliveA1:"#00550003",oliveA2:"#00490007",oliveA3:"#00200010",oliveA4:"#00160018",oliveA5:"#00180020",oliveA6:"#00140028",oliveA7:"#000f0033",oliveA8:"#040f0047",oliveA9:"#050f0078",oliveA10:"#040e0082",oliveA11:"#020a00a0",oliveA12:"#010600e3"},oliveDark:{olive1:"#111210",olive2:"#181917",olive3:"#212220",olive4:"#282a27",olive5:"#2f312e",olive6:"#383a36",olive7:"#454843",olive8:"#5c625b",olive9:"#687066",olive10:"#767d74",olive11:"#afb5ad",olive12:"#eceeec"},oliveDarkA:{oliveA1:"#00000000",oliveA2:"#f1f2f008",oliveA3:"#f4f5f312",oliveA4:"#f3fef21a",oliveA5:"#f2fbf122",oliveA6:"#f4faed2c",oliveA7:"#f2fced3b",oliveA8:"#edfdeb57",oliveA9:"#ebfde766",oliveA10:"#f0fdec74",oliveA11:"#f6fef4b0",oliveA12:"#fdfffded"},orange:{orange1:"#fefcfb",orange2:"#fff7ed",orange3:"#ffefd6",orange4:"#ffdfb5",orange5:"#ffd19a",orange6:"#ffc182",orange7:"#f5ae73",orange8:"#ec9455",orange9:"#f76b15",orange10:"#ef5f00",orange11:"#cc4e00",orange12:"#582d1d"},orangeA:{orangeA1:"#c0400004",orangeA2:"#ff8e0012",orangeA3:"#ff9c0029",orangeA4:"#ff91014a",orangeA5:"#ff8b0065",orangeA6:"#ff81007d",orangeA7:"#ed6c008c",orangeA8:"#e35f00aa",orangeA9:"#f65e00ea",orangeA10:"#ef5f00",orangeA11:"#cc4e00",orangeA12:"#431200e2"},orangeDark:{orange1:"#17120e",orange2:"#1e160f",orange3:"#331e0b",orange4:"#462100",orange5:"#562800",orange6:"#66350c",orange7:"#7e451d",orange8:"#a35829",orange9:"#f76b15",orange10:"#ff801f",orange11:"#ffa057",orange12:"#ffe0c2"},orangeDarkA:{orangeA1:"#ec360007",orangeA2:"#fe6d000e",orangeA3:"#fb6a0025",orangeA4:"#ff590039",orangeA5:"#ff61004a",orangeA6:"#fd75045c",orangeA7:"#ff832c75",orangeA8:"#fe84389d",orangeA9:"#fe6d15f7",orangeA10:"#ff801f",orangeA11:"#ffa057",orangeA12:"#ffe0c2"},pink:{pink1:"#fffcfe",pink2:"#fef7fb",pink3:"#fee9f5",pink4:"#fbdcef",pink5:"#f6cee7",pink6:"#efbfdd",pink7:"#e7acd0",pink8:"#dd93c2",pink9:"#d6409f",pink10:"#cf3897",pink11:"#c2298a",pink12:"#651249"},pinkA:{pinkA1:"#ff00aa03",pinkA2:"#e0008008",pinkA3:"#f4008c16",pinkA4:"#e2008b23",pinkA5:"#d1008331",pinkA6:"#c0007840",pinkA7:"#b6006f53",pinkA8:"#af006f6c",pinkA9:"#c8007fbf",pinkA10:"#c2007ac7",pinkA11:"#b60074d6",pinkA12:"#59003bed"},pinkDark:{pink1:"#191117",pink2:"#21121d",pink3:"#37172f",pink4:"#4b143d",pink5:"#591c47",pink6:"#692955",pink7:"#833869",pink8:"#a84885",pink9:"#d6409f",pink10:"#de51a8",pink11:"#ff8dcc",pink12:"#fdd1ea"},pinkDarkA:{pinkA1:"#f412bc09",pinkA2:"#f420bb12",pinkA3:"#fe37cc29",pinkA4:"#fc1ec43f",pinkA5:"#fd35c24e",pinkA6:"#fd51c75f",pinkA7:"#fd62c87b",pinkA8:"#ff68c8a2",pinkA9:"#fe49bcd4",pinkA10:"#ff5cc0dc",pinkA11:"#ff8dcc",pinkA12:"#ffd3ecfd"},plum:{plum1:"#fefcff",plum2:"#fdf7fd",plum3:"#fbebfb",plum4:"#f7def8",plum5:"#f2d1f3",plum6:"#e9c2ec",plum7:"#deade3",plum8:"#cf91d8",plum9:"#ab4aba",plum10:"#a144af",plum11:"#953ea3",plum12:"#53195d"},plumA:{plumA1:"#aa00ff03",plumA2:"#c000c008",plumA3:"#cc00cc14",plumA4:"#c200c921",plumA5:"#b700bd2e",plumA6:"#a400b03d",plumA7:"#9900a852",plumA8:"#9000a56e",plumA9:"#89009eb5",plumA10:"#7f0092bb",plumA11:"#730086c1",plumA12:"#40004be6"},plumDark:{plum1:"#181118",plum2:"#201320",plum3:"#351a35",plum4:"#451d47",plum5:"#512454",plum6:"#5e3061",plum7:"#734079",plum8:"#92549c",plum9:"#ab4aba",plum10:"#b658c4",plum11:"#e796f3",plum12:"#f4d4f4"},plumDarkA:{plumA1:"#f112f108",plumA2:"#f22ff211",plumA3:"#fd4cfd27",plumA4:"#f646ff3a",plumA5:"#f455ff48",plumA6:"#f66dff56",plumA7:"#f07cfd70",plumA8:"#ee84ff95",plumA9:"#e961feb6",plumA10:"#ed70ffc0",plumA11:"#f19cfef3",plumA12:"#feddfef4"},purple:{purple1:"#fefcfe",purple2:"#fbf7fe",purple3:"#f7edfe",purple4:"#f2e2fc",purple5:"#ead5f9",purple6:"#e0c4f4",purple7:"#d1afec",purple8:"#be93e4",purple9:"#8e4ec6",purple10:"#8347b9",purple11:"#8145b5",purple12:"#402060"},purpleA:{purpleA1:"#aa00aa03",purpleA2:"#8000e008",purpleA3:"#8e00f112",purpleA4:"#8d00e51d",purpleA5:"#8000db2a",purpleA6:"#7a01d03b",purpleA7:"#6d00c350",purpleA8:"#6600c06c",purpleA9:"#5c00adb1",purpleA10:"#53009eb8",purpleA11:"#52009aba",purpleA12:"#250049df"},purpleDark:{purple1:"#18111b",purple2:"#1e1523",purple3:"#301c3b",purple4:"#3d224e",purple5:"#48295c",purple6:"#54346b",purple7:"#664282",purple8:"#8457aa",purple9:"#8e4ec6",purple10:"#9a5cd0",purple11:"#d19dff",purple12:"#ecd9fa"},purpleDarkA:{purpleA1:"#b412f90b",purpleA2:"#b744f714",purpleA3:"#c150ff2d",purpleA4:"#bb53fd42",purpleA5:"#be5cfd51",purpleA6:"#c16dfd61",purpleA7:"#c378fd7a",purpleA8:"#c47effa4",purpleA9:"#b661ffc2",purpleA10:"#bc6fffcd",purpleA11:"#d19dff",purpleA12:"#f1ddfffa"},red:{red1:"#fffcfc",red2:"#fff7f7",red3:"#feebec",red4:"#ffdbdc",red5:"#ffcdce",red6:"#fdbdbe",red7:"#f4a9aa",red8:"#eb8e90",red9:"#e5484d",red10:"#dc3e42",red11:"#ce2c31",red12:"#641723"},redA:{redA1:"#ff000003",redA2:"#ff000008",redA3:"#f3000d14",redA4:"#ff000824",redA5:"#ff000632",redA6:"#f8000442",redA7:"#df000356",redA8:"#d2000571",redA9:"#db0007b7",redA10:"#d10005c1",redA11:"#c40006d3",redA12:"#55000de8"},redDark:{red1:"#191111",red2:"#201314",red3:"#3b1219",red4:"#500f1c",red5:"#611623",red6:"#72232d",red7:"#8c333a",red8:"#b54548",red9:"#e5484d",red10:"#ec5d5e",red11:"#ff9592",red12:"#ffd1d9"},redDarkA:{redA1:"#f4121209",redA2:"#f22f3e11",redA3:"#ff173f2d",redA4:"#fe0a3b44",redA5:"#ff204756",redA6:"#ff3e5668",redA7:"#ff536184",redA8:"#ff5d61b0",redA9:"#fe4e54e4",redA10:"#ff6465eb",redA11:"#ff9592",redA12:"#ffd1d9"},ruby:{ruby1:"#fffcfd",ruby2:"#fff7f8",ruby3:"#feeaed",ruby4:"#ffdce1",ruby5:"#ffced6",ruby6:"#f8bfc8",ruby7:"#efacb8",ruby8:"#e592a3",ruby9:"#e54666",ruby10:"#dc3b5d",ruby11:"#ca244d",ruby12:"#64172b"},rubyA:{rubyA1:"#ff005503",rubyA2:"#ff002008",rubyA3:"#f3002515",rubyA4:"#ff002523",rubyA5:"#ff002a31",rubyA6:"#e4002440",rubyA7:"#ce002553",rubyA8:"#c300286d",rubyA9:"#db002cb9",rubyA10:"#d2002cc4",rubyA11:"#c10030db",rubyA12:"#550016e8"},rubyDark:{ruby1:"#191113",ruby2:"#1e1517",ruby3:"#3a141e",ruby4:"#4e1325",ruby5:"#5e1a2e",ruby6:"#6f2539",ruby7:"#883447",ruby8:"#b3445a",ruby9:"#e54666",ruby10:"#ec5a72",ruby11:"#ff949d",ruby12:"#fed2e1"},rubyDarkA:{rubyA1:"#f4124a09",rubyA2:"#fe5a7f0e",rubyA3:"#ff235d2c",rubyA4:"#fd195e42",rubyA5:"#fe2d6b53",rubyA6:"#ff447665",rubyA7:"#ff577d80",rubyA8:"#ff5c7cae",rubyA9:"#fe4c70e4",rubyA10:"#ff617beb",rubyA11:"#ff949d",rubyA12:"#ffd3e2fe"},sage:{sage1:"#fbfdfc",sage2:"#f7f9f8",sage3:"#eef1f0",sage4:"#e6e9e8",sage5:"#dfe2e0",sage6:"#d7dad9",sage7:"#cbcfcd",sage8:"#b8bcba",sage9:"#868e8b",sage10:"#7c8481",sage11:"#5f6563",sage12:"#1a211e"},sageA:{sageA1:"#00804004",sageA2:"#00402008",sageA3:"#002d1e11",sageA4:"#001f1519",sageA5:"#00180820",sageA6:"#00140d28",sageA7:"#00140a34",sageA8:"#000f0847",sageA9:"#00110b79",sageA10:"#00100a83",sageA11:"#000a07a0",sageA12:"#000805e5"},sageDark:{sage1:"#101211",sage2:"#171918",sage3:"#202221",sage4:"#272a29",sage5:"#2e3130",sage6:"#373b39",sage7:"#444947",sage8:"#5b625f",sage9:"#63706b",sage10:"#717d79",sage11:"#adb5b2",sage12:"#eceeed"},sageDarkA:{sageA1:"#00000000",sageA2:"#f0f2f108",sageA3:"#f3f5f412",sageA4:"#f2fefd1a",sageA5:"#f1fbfa22",sageA6:"#edfbf42d",sageA7:"#edfcf73c",sageA8:"#ebfdf657",sageA9:"#dffdf266",sageA10:"#e5fdf674",sageA11:"#f4fefbb0",sageA12:"#fdfffeed"},sand:{sand1:"#fdfdfc",sand2:"#f9f9f8",sand3:"#f1f0ef",sand4:"#e9e8e6",sand5:"#e2e1de",sand6:"#dad9d6",sand7:"#cfceca",sand8:"#bcbbb5",sand9:"#8d8d86",sand10:"#82827c",sand11:"#63635e",sand12:"#21201c"},sandA:{sandA1:"#55550003",sandA2:"#25250007",sandA3:"#20100010",sandA4:"#1f150019",sandA5:"#1f180021",sandA6:"#19130029",sandA7:"#19140035",sandA8:"#1915014a",sandA9:"#0f0f0079",sandA10:"#0c0c0083",sandA11:"#080800a1",sandA12:"#060500e3"},sandDark:{sand1:"#111110",sand2:"#191918",sand3:"#222221",sand4:"#2a2a28",sand5:"#31312e",sand6:"#3b3a37",sand7:"#494844",sand8:"#62605b",sand9:"#6f6d66",sand10:"#7c7b74",sand11:"#b5b3ad",sand12:"#eeeeec"},sandDarkA:{sandA1:"#00000000",sandA2:"#f4f4f309",sandA3:"#f6f6f513",sandA4:"#fefef31b",sandA5:"#fbfbeb23",sandA6:"#fffaed2d",sandA7:"#fffbed3c",sandA8:"#fff9eb57",sandA9:"#fffae965",sandA10:"#fffdee73",sandA11:"#fffcf4b0",sandA12:"#fffffded"},sky:{sky1:"#f9feff",sky2:"#f1fafd",sky3:"#e1f6fd",sky4:"#d1f0fa",sky5:"#bee7f5",sky6:"#a9daed",sky7:"#8dcae3",sky8:"#60b3d7",sky9:"#7ce2fe",sky10:"#74daf8",sky11:"#00749e",sky12:"#1d3e56"},skyA:{skyA1:"#00d5ff06",skyA2:"#00a4db0e",skyA3:"#00b3ee1e",skyA4:"#00ace42e",skyA5:"#00a1d841",skyA6:"#0092ca56",skyA7:"#0089c172",skyA8:"#0085bf9f",skyA9:"#00c7fe83",skyA10:"#00bcf38b",skyA11:"#00749e",skyA12:"#002540e2"},skyDark:{sky1:"#0d141f",sky2:"#111a27",sky3:"#112840",sky4:"#113555",sky5:"#154467",sky6:"#1b537b",sky7:"#1f6692",sky8:"#197cae",sky9:"#7ce2fe",sky10:"#a8eeff",sky11:"#75c7f0",sky12:"#c2f3ff"},skyDarkA:{skyA1:"#0044ff0f",skyA2:"#1171fb18",skyA3:"#1184fc33",skyA4:"#128fff49",skyA5:"#1c9dfd5d",skyA6:"#28a5ff72",skyA7:"#2badfe8b",skyA8:"#1db2fea9",skyA9:"#7ce3fffe",skyA10:"#a8eeff",skyA11:"#7cd3ffef",skyA12:"#c2f3ff"},slate:{slate1:"#fcfcfd",slate2:"#f9f9fb",slate3:"#f0f0f3",slate4:"#e8e8ec",slate5:"#e0e1e6",slate6:"#d9d9e0",slate7:"#cdced6",slate8:"#b9bbc6",slate9:"#8b8d98",slate10:"#80838d",slate11:"#60646c",slate12:"#1c2024"},slateA:{slateA1:"#00005503",slateA2:"#00005506",slateA3:"#0000330f",slateA4:"#00002d17",slateA5:"#0009321f",slateA6:"#00002f26",slateA7:"#00062e32",slateA8:"#00083046",slateA9:"#00051d74",slateA10:"#00071b7f",slateA11:"#0007149f",slateA12:"#000509e3"},slateDark:{slate1:"#111113",slate2:"#18191b",slate3:"#212225",slate4:"#272a2d",slate5:"#2e3135",slate6:"#363a3f",slate7:"#43484e",slate8:"#5a6169",slate9:"#696e77",slate10:"#777b84",slate11:"#b0b4ba",slate12:"#edeef0"},slateDarkA:{slateA1:"#00000000",slateA2:"#d8f4f609",slateA3:"#ddeaf814",slateA4:"#d3edf81d",slateA5:"#d9edfe25",slateA6:"#d6ebfd30",slateA7:"#d9edff40",slateA8:"#d9edff5d",slateA9:"#dfebfd6d",slateA10:"#e5edfd7b",slateA11:"#f1f7feb5",slateA12:"#fcfdffef"},teal:{teal1:"#fafefd",teal2:"#f3fbf9",teal3:"#e0f8f3",teal4:"#ccf3ea",teal5:"#b8eae0",teal6:"#a1ded2",teal7:"#83cdc1",teal8:"#53b9ab",teal9:"#12a594",teal10:"#0d9b8a",teal11:"#008573",teal12:"#0d3d38"},tealA:{tealA1:"#00cc9905",tealA2:"#00aa800c",tealA3:"#00c69d1f",tealA4:"#00c39633",tealA5:"#00b49047",tealA6:"#00a6855e",tealA7:"#0099807c",tealA8:"#009783ac",tealA9:"#009e8ced",tealA10:"#009684f2",tealA11:"#008573",tealA12:"#00332df2"},tealDark:{teal1:"#0d1514",teal2:"#111c1b",teal3:"#0d2d2a",teal4:"#023b37",teal5:"#084843",teal6:"#145750",teal7:"#1c6961",teal8:"#207e73",teal9:"#12a594",teal10:"#0eb39e",teal11:"#0bd8b6",teal12:"#adf0dd"},tealDarkA:{tealA1:"#00deab05",tealA2:"#12fbe60c",tealA3:"#00ffe61e",tealA4:"#00ffe92d",tealA5:"#00ffea3b",tealA6:"#1cffe84b",tealA7:"#2efde85f",tealA8:"#32ffe775",tealA9:"#13ffe49f",tealA10:"#0dffe0ae",tealA11:"#0afed5d6",tealA12:"#b8ffebef"},tomato:{tomato1:"#fffcfc",tomato2:"#fff8f7",tomato3:"#feebe7",tomato4:"#ffdcd3",tomato5:"#ffcdc2",tomato6:"#fdbdaf",tomato7:"#f5a898",tomato8:"#ec8e7b",tomato9:"#e54d2e",tomato10:"#dd4425",tomato11:"#d13415",tomato12:"#5c271f"},tomatoA:{tomatoA1:"#ff000003",tomatoA2:"#ff200008",tomatoA3:"#f52b0018",tomatoA4:"#ff35002c",tomatoA5:"#ff2e003d",tomatoA6:"#f92d0050",tomatoA7:"#e7280067",tomatoA8:"#db250084",tomatoA9:"#df2600d1",tomatoA10:"#d72400da",tomatoA11:"#cd2200ea",tomatoA12:"#460900e0"},tomatoDark:{tomato1:"#181111",tomato2:"#1f1513",tomato3:"#391714",tomato4:"#4e1511",tomato5:"#5e1c16",tomato6:"#6e2920",tomato7:"#853a2d",tomato8:"#ac4d39",tomato9:"#e54d2e",tomato10:"#ec6142",tomato11:"#ff977d",tomato12:"#fbd3cb"},tomatoDarkA:{tomatoA1:"#f1121208",tomatoA2:"#ff55330f",tomatoA3:"#ff35232b",tomatoA4:"#fd201142",tomatoA5:"#fe332153",tomatoA6:"#ff4f3864",tomatoA7:"#fd644a7d",tomatoA8:"#fe6d4ea7",tomatoA9:"#fe5431e4",tomatoA10:"#ff6847eb",tomatoA11:"#ff977d",tomatoA12:"#ffd6cefb"},violet:{violet1:"#fdfcfe",violet2:"#faf8ff",violet3:"#f4f0fe",violet4:"#ebe4ff",violet5:"#e1d9ff",violet6:"#d4cafe",violet7:"#c2b5f5",violet8:"#aa99ec",violet9:"#6e56cf",violet10:"#654dc4",violet11:"#6550b9",violet12:"#2f265f"},violetA:{violetA1:"#5500aa03",violetA2:"#4900ff07",violetA3:"#4400ee0f",violetA4:"#4300ff1b",violetA5:"#3600ff26",violetA6:"#3100fb35",violetA7:"#2d01dd4a",violetA8:"#2b00d066",violetA9:"#2400b7a9",violetA10:"#2300abb2",violetA11:"#1f0099af",violetA12:"#0b0043d9"},violetDark:{violet1:"#14121f",violet2:"#1b1525",violet3:"#291f43",violet4:"#33255b",violet5:"#3c2e69",violet6:"#473876",violet7:"#56468b",violet8:"#6958ad",violet9:"#6e56cf",violet10:"#7d66d9",violet11:"#baa7ff",violet12:"#e2ddfe"},violetDarkA:{violetA1:"#4422ff0f",violetA2:"#853ff916",violetA3:"#8354fe36",violetA4:"#7d51fd50",violetA5:"#845ffd5f",violetA6:"#8f6cfd6d",violetA7:"#9879ff83",violetA8:"#977dfea8",violetA9:"#8668ffcc",violetA10:"#9176fed7",violetA11:"#baa7ff",violetA12:"#e3defffe"},yellow:{yellow1:"#fdfdf9",yellow2:"#fefce9",yellow3:"#fffab8",yellow4:"#fff394",yellow5:"#ffe770",yellow6:"#f3d768",yellow7:"#e4c767",yellow8:"#d5ae39",yellow9:"#ffe629",yellow10:"#ffdc00",yellow11:"#9e6c00",yellow12:"#473b1f"},yellowA:{yellowA1:"#aaaa0006",yellowA2:"#f4dd0016",yellowA3:"#ffee0047",yellowA4:"#ffe3016b",yellowA5:"#ffd5008f",yellowA6:"#ebbc0097",yellowA7:"#d2a10098",yellowA8:"#c99700c6",yellowA9:"#ffe100d6",yellowA10:"#ffdc00",yellowA11:"#9e6c00",yellowA12:"#2e2000e0"},yellowDark:{yellow1:"#14120b",yellow2:"#1b180f",yellow3:"#2d2305",yellow4:"#362b00",yellow5:"#433500",yellow6:"#524202",yellow7:"#665417",yellow8:"#836a21",yellow9:"#ffe629",yellow10:"#ffff57",yellow11:"#f5e147",yellow12:"#f6eeb4"},yellowDarkA:{yellowA1:"#d1510004",yellowA2:"#f9b4000b",yellowA3:"#ffaa001e",yellowA4:"#fdb70028",yellowA5:"#febb0036",yellowA6:"#fec40046",yellowA7:"#fdcb225c",yellowA8:"#fdca327b",yellowA9:"#ffe629",yellowA10:"#ffff57",yellowA11:"#fee949f5",yellowA12:"#fef6baf6"}},bU={dark:"dark",light:"light"},wU=Object.values(bU),xU={gray:"gray",mauve:"mauve",slate:"slate",sage:"sage",olive:"olive",sand:"sand"},kU=Object.values(xU),IU={gray:"gray",gold:"gold",bronze:"bronze",brown:"brown",yellow:"yellow",amber:"amber",orange:"orange",tomato:"tomato",red:"red",ruby:"ruby",crimson:"crimson",pink:"pink",plum:"plum",purple:"purple",violet:"violet",iris:"iris",indigo:"indigo",blue:"blue",cyan:"cyan",teal:"teal",jade:"jade",green:"green",grass:"grass",lime:"lime",mint:"mint",sky:"sky"},$U=Object.values(IU),CU=Object.keys(yU),TU=e=>{let{grayColor:t,accentColor:n,appearance:r}=e;return function(e,t){return CU.reduce(((n,r)=>{const o=bt(yU,r),[i,a,s,l]=o.split("-");return"override"===i?(IO(n,r,a),n):"custom"===i?(IO(n,r,bt(vU,`${a}${t===bU.dark?"Dark":""}${s}.${a}${s}${l}`)),n):i.startsWith("gray")||i.startsWith("accent")?(IO(n,r,bt(e,i,_)(a)),n):n}),{})}(function(e){let{appearance:t,grayColor:n,accentColor:r}=e;const o=t===bU.dark?"Dark":"",i=vU[`${n}${o}`],a=vU[`${r}${o}`],s=vU[`${n}${o}A`],l=vU[`${r}${o}A`];return{gray:e=>bt(i,`${n}${e}`)??"",grayA:e=>bt(s,`${n}A${e}`)??"",accent:e=>bt(a,`${r}${e}`)??"",accentA:e=>bt(l,`${r}A${e}`)??""}}({appearance:r,grayColor:t,accentColor:n}),r)},AU=ff`
  position: absolute;
  top: 46px;
  left: 16px;
  padding: 24px;
  background-color: var(--context-menu-background);
  border: 1px solid var(--context-menu-border);
  border-radius: 6px;
  width: 360px;
`,OU=ff`
  color: var(--active);
  ${lE};
  margin-bottom: 24px;
`,SU=ff`
  margin-top: 24px;
  color: var(--active);
  ${fE};
`,EU=ff`
  margin-top: 12px;
  display: grid;
  grid-template-columns: repeat(10, minmax(0, 1fr));
  gap: 8px;
`,NU=ff`
  border-radius: 9999px;
  width: 24px;
  height: 24px;
  cursor: pointer;
  border: 1px solid transparent;

  &.selected {
    outline: solid 2px var(--gray-color-12);
  }
`,MU=ff`
  margin-top: 12px;
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 8px;
`,DU=ff`
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  border: 1px solid var(--context-menu-border);
  border-radius: 6px;
  height: 32px;
  ${mE};

  &:hover {
    background-color: var(--column-hover);
  }

  &.selected {
    border-color: var(--gray-color-12);
  }
`,LU=ff`
  width: 4px;
  height: 100%;
`,jU=(e,t)=>{const n=HS(t),{addUnsubscribe:r}=tE(),o=()=>{const{store:e}=n.value;e.dispatch(dy({[mD]:!1}))},i=()=>{const{store:e}=n.value,{editor:{openMap:t}}=e.state,r=!t[mD];e.dispatch(dy({[mD]:r})),r&&e.dispatch(dy({[hD]:!1}))},a=e=>{const{emitter:t}=n.value;t.emit(lS({appearance:e}))};return Ws((()=>{const{shortcut$:e,emitter:t}=n.value;r(e.pipe(gm((e=>{let{type:t}=e;return t===DS.stop}))).subscribe(o),t.on({openThemeBuilder:i}))})),()=>{const{store:t}=n.value,{editor:{openMap:r}}=t.state;if(!r[mD])return null;const{theme:o}=e;return Fh`
      <div class=${["theme-builder",AU]}>
        <div class=${OU}>Theme</div>
        <div class=${SU}>Accent color</div>
        <div class=${EU}>
          ${$U.map((e=>Fh`
              <span
                class=${[NU,{selected:e===o.accentColor}]}
                style=${{"background-color":bt(vU,[e,`${e}9`])}}
                title=${e}
                @click=${()=>(e=>{const{emitter:t}=n.value;t.emit(lS({accentColor:e}))})(e)}
              ></span>
            `))}
        </div>
        <div class=${SU}>Gray color</div>
        <div class=${EU}>
          ${kU.map((e=>Fh`
              <span
                class=${[NU,{selected:e===o.grayColor}]}
                style=${{"background-color":bt(vU,[e,`${e}9`])}}
                title=${e}
                @click=${()=>(e=>{const{emitter:t}=n.value;t.emit(lS({grayColor:e}))})(e)}
              ></span>
            `))}
        </div>
        <div class=${SU}>Appearance</div>
        <div class=${MU}>
          <div
            class=${[DU,{selected:o.appearance===bU.light}]}
            @click=${()=>a(bU.light)}
          >
            <${lN} prefix="mdi" name="white-balance-sunny" />
            <span class=${LU}></span>
            <span>Light</span>
          </div>
          <div
            class=${[DU,,{selected:o.appearance===bU.dark}]}
            @click=${()=>a(bU.dark)}
          >
            <${lN} prefix="mdi" name="weather-might" />
            <span class=${LU}></span>
            <span>Dark</span>
          </div>
        </div>
      </div>
    `}},_U=ff`
  position: absolute;
  z-index: 2147483647;
  bottom: 0;
  right: 0;
  display: flex;
  flex-direction: column;
  max-width: 390px;
  margin: 25px;

  &[data-pointer-none] {
    pointer-events: none;
  }

  .toast-move {
    transition: transform 0.3s;
  }

  .toast-container {
    display: flex;
    margin-top: 10px;
    justify-content: flex-end;
    animation: toastShowMove 0.3s ease;

    &[data-animation-one] {
      animation: none;
    }
  }

  .toast-container:first-child {
    margin-top: 0;
  }

  @keyframes toastShowMove {
    0% {
      transform: translateY(30px);
      opacity: 0;
    }
    100% {
      transform: translateY(0);
      opacity: 1;
    }
  }
`,zU=(e,t)=>{const n=HS(t),r=dd(),{addUnsubscribe:o}=tE(),i=il([]),a=new Set;return function(e,t,n){const r=new _M(e,".toast-container","toast-move");Zs((()=>r.snapshot())),Ys((()=>r.play()))}(r),Ws((()=>{const{emitter:e}=n.value;o(e.on({openToast:e=>{let{payload:t}=e;const n=Object.assign({close:LI(5e3)},t,{id:di()});i.push(n),n.close.finally((()=>(e=>{const t=i.findIndex((t=>t.id===e));-1!==t&&(a.delete(e),i.splice(t,1))})(n.id)))}}))})),()=>Fh`
    <div
      class=${_U}
      ${hd(r)}
      ?data-pointer-none=${0===i.length}
    >
      ${gd(i,(e=>e.id),(e=>Fh`
          <div
            class="toast-container"
            ?data-animation-one=${a.has(e.id)}
            @animationend=${()=>(e=>{a.add(e)})(e.id)}
          >
            ${e.message}
          </div>
        `))}
    </div>
  `},RU=ff`
  display: flex;
  width: 100%;
  height: ${30}px;
  min-height: ${30}px;
  padding: 0 15px;
  align-items: center;
  white-space: nowrap;
  overflow: hidden;
  background-color: var(--toolbar-background);

  & > input {
    margin-right: 15px;
  }
`,VU=ff`
  width: 10px;
  height: 100%;
`,BU=ff`
  cursor: pointer;
  padding: 0 5px;
  display: flex;
  align-items: center;
  height: 100%;

  &.active {
    fill: var(--active);
  }
  &:hover {
    fill: var(--active);
  }

  &.undo-redo {
    cursor: not-allowed;
    fill: var(--foreground);
  }

  &.undo-redo.active {
    cursor: pointer;
    fill: var(--active);
  }
`,PU=ff`
  display: flex;
  align-self: center;
  margin-left: auto;
  white-space: nowrap;
  ${mE};
`,UU=(e,t)=>{const n=HS(t),r=e=>{const t=e.target;if(!t)return;const{store:r}=n.value;r.dispatch(Hv({value:t.value}))},o=e=>{const t=e.target;if(!t)return;const r=Qp(t.value),{store:o}=n.value;t.value=r.toString(),o.dispatch(qv({width:r,height:r}))},i=e=>{const t=e.target;if(!t)return;const r=Xp(Number(Yp(t.value))/100),{store:o}=n.value;t.value=Kp(r),o.dispatch(Ek(r))},a=e=>{const{store:t}=n.value;t.dispatch(tb({value:e}))},s=()=>{const{store:e}=n.value;e.undo()},l=()=>{const{store:e}=n.value;e.redo()},c=()=>{const{store:e}=n.value;e.dispatch(uk())},u=()=>{const{emitter:e}=n.value;e.emit(aS())},d=()=>{const{emitter:e}=n.value;e.emit(sS())},h=()=>{const{store:e}=n.value,{editor:t}=e.state;(t.hasUndo||t.hasRedo)&&e.dispatch(dy({[gD]:!0}))};return()=>{const{store:t}=n.value,{settings:f,editor:m,doc:p}=t.state,g=m.openMap[dD],y=m.openMap[hD],v=m.openMap[gD],b=m.openMap[pD],w=!(f.canvasType!==Gm.ERD||g||y||b||v||e.readonly);return Fh`
      <div
        class=${["toolbar",RU]}
        @mousedown=${c}
        @touchstart=${c}
      >
        <${jV}
          title="database name"
          placeholder="database name"
          width=${150}
          value=${f.databaseName}
          .onInput=${r}
        />
        <${jV}
          title="canvas size"
          placeholder="canvas size"
          width=${45}
          value=${f.width.toString()}
          numberOnly=${!0}
          .onChange=${o}
        />
        <${jV}
          title="zoom level"
          placeholder="zoom level"
          width=${45}
          value=${Kp(f.zoomLevel)}
          numberOnly=${!0}
          .onChange=${i}
        />
        <div class=${VU}></div>
        <div
          class=${[BU,{active:f.canvasType===Gm.ERD}]}
          title="Entity Relationship Diagram"
          @click=${()=>a(Gm.ERD)}
        >
          <${lN} name="diagram-project" size=${16} />
        </div>
        <div
          class=${[BU,{active:f.canvasType===Gm.visualization}]}
          title="Visualization"
          @click=${()=>a(Gm.visualization)}
        >
          <${lN} prefix="mdi" name="chart-scatter-plot" size=${16} />
        </div>
        <div
          class=${[BU,{active:f.canvasType===Gm.schemaSQL}]}
          title="Schema SQL"
          @click=${()=>a(Gm.schemaSQL)}
        >
          <${lN} prefix="mdi" name="database-export" size=${16} />
        </div>
        <div
          class=${[BU,{active:f.canvasType===Gm.generatorCode}]}
          title="Code Generator"
          @click=${()=>a(Gm.generatorCode)}
        >
          <${lN} name="file-code" size=${16} />
        </div>
        <div
          class=${[BU,{active:f.canvasType===Gm.settings}]}
          title="Settings"
          @click=${()=>a(Gm.settings)}
        >
          <${lN} name="gear" size=${16} />
        </div>
        <div class=${VU}></div>
        <div class=${BU} title="Search" @click=${u}>
          <${lN} name="magnifying-glass" size=${16} />
        </div>
        ${e.enableThemeBuilder?Fh`
              <div class=${BU} title="Theme" @click=${d}>
                <${lN} name="circle-half-stroke" size=${16} />
              </div>
            `:null}
        <div class=${VU}></div>
        ${w?Fh`
              <div
                class=${["undo-redo",BU,{active:m.hasUndo}]}
                title="Undo"
                @click=${s}
              >
                <${lN} name="rotate-left" size=${16} />
              </div>
              <div
                class=${["undo-redo",BU,{active:m.hasRedo}]}
                title="Redo"
                @click=${l}
              >
                <${lN} name="rotate-right" size=${16} />
              </div>
              <div
                class=${["undo-redo",BU,{active:m.hasUndo||m.hasRedo}]}
                title="Time Travel"
                style=${{"max-width":"26px"}}
                @click=${h}
              >
                <${lN} prefix="mdi" name="av-timer" size=${20} />
              </div>
            `:null}
        <div class=${PU}>Table: ${p.tableIds.length}</div>
      </div>
    `}},WU=(e,t)=>{const n=HS(t);return()=>{const{column:t,selected:r}=e;return Fh`
      <div
        class=${["column-row",DM]}
        data-id=${t.id}
        ?data-selected=${r}
      >
        <${OM} keys=${t.ui.keys} />
        ${gd((()=>{const{store:t}=n.value,{settings:r}=t.state,{column:o,widthName:i,widthDataType:a,widthDefault:s,widthComment:l}=e;return r.columnOrder.map((e=>{let t=null;switch(e){case Jm.columnName:t=Fh`
              <div class="column-col">
                <${dM}
                  placeholder="column"
                  width=${i}
                  value=${o.name}
                />
              </div>
            `;break;case Jm.columnDefault:t=Cp(r.show,Xm.columnDefault)?Fh`
                  <div class="column-col">
                    <${dM}
                      placeholder="default"
                      width=${s}
                      value=${o.default}
                    />
                  </div>
                `:null;break;case Jm.columnComment:t=Cp(r.show,Xm.columnComment)?Fh`
                  <div class="column-col">
                    <${dM}
                      placeholder="comment"
                      width=${l}
                      value=${o.comment}
                    />
                  </div>
                `:null;break;case Jm.columnDataType:t=Cp(r.show,Xm.columnDataType)?Fh`
                  <div class="column-col">
                    <${TM}
                      tableId=${o.tableId}
                      columnId=${o.id}
                      width=${a}
                      value=${o.dataType}
                    />
                  </div>
                `:null;break;case Jm.columnNotNull:t=Cp(r.show,Xm.columnNotNull)?Fh`
                  <div class="column-col">
                    <${EM} options=${o.options} />
                  </div>
                `:null;break;case Jm.columnUnique:t=Cp(r.show,Xm.columnUnique)?Fh`
                  <div class="column-col">
                    <${MM}
                      checked=${Cp(o.options,dp.unique)}
                      width=${Rp}
                      text="UQ"
                      title="Unique"
                    />
                  </div>
                `:null;break;case Jm.columnAutoIncrement:t=Cp(r.show,Xm.columnAutoIncrement)?Fh`
                  <div class="column-col">
                    <${MM}
                      checked=${Cp(o.options,dp.autoIncrement)}
                      width=${Vp}
                      text="AI"
                      title="Auto Increment"
                    />
                  </div>
                `:null}return{columnType:e,template:t}})).filter((e=>{let{template:t}=e;return!!t}))})(),(e=>{let{columnType:t}=e;return t}),(e=>{let{template:t}=e;return t}))}
      </div>
    `}},FU=(e,t)=>{const n=HS(t);return()=>{const{store:t}=n.value,{settings:r,collections:o}=t.state,{table:i,columnId:a,x:s,y:l}=e,c=Cb(i,t.state),u=Ab(i),d=aa(o).collection("tableColumnEntities").selectByIds(i.columnIds);return Fh`
      <div
        class=${["table",pE]}
        style=${{top:`${l}px`,left:`${s}px`,width:`${c.width}px`,height:`${u}px`,position:"fixed"}}
        data-id=${i.id}
      >
        <div class=${gE}>
          <div
            class=${["table-header-color",yE]}
            style=${{"background-color":i.ui.color}}
          ></div>
          <div class=${vE}></div>
          <div class=${bE}>
            <div class="input-padding">
              <${dM}
                placeholder="table"
                width=${i.ui.widthName}
                value=${i.name}
              />
            </div>
            ${Cp(r.show,Xm.tableComment)?Fh`
                  <div class="input-padding">
                    <${dM}
                      placeholder="comment"
                      width=${i.ui.widthComment}
                      value=${i.comment}
                    />
                  </div>
                `:null}
          </div>
        </div>
        <div>
          ${gd(d,(e=>e.id),(e=>Fh`
              <${WU}
                column=${e}
                selected=${e.id===a}
                widthName=${c.name}
                widthDataType=${c.dataType}
                widthDefault=${c.default}
                widthComment=${c.comment}
              />
            `))}
        </div>
      </div>
    `}},ZU="table",YU="column",HU=function e(){var t=new wD,n=[],r=[],o=pz;function i(e){let i=t.get(e);if(void 0===i){if(o!==pz)return o;t.set(e,i=n.push(e)-1)}return r[i%r.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new wD;for(const r of e)t.has(r)||t.set(r,n.push(r)-1);return i},i.range=function(e){return arguments.length?(r=Array.from(e),i):r.slice()},i.unknown=function(e){return arguments.length?(o=e,i):o},i.copy=function(){return e(n,r).unknown(o)},mz.apply(i,arguments),i}(gz);function qU(e,t){const n=function(e){let{doc:{tableIds:t,relationshipIds:n},collections:r}=e;const o=aa(r).collection("tableEntities").selectByIds(t),i=aa(r).collection("relationshipEntities").selectByIds(n),a={nodes:[],links:[]},s=new Set;return o.forEach((e=>{a.nodes.push({id:e.id,name:e.name,group:ZU}),aa(r).collection("tableColumnEntities").selectByIds(e.columnIds).forEach((t=>{a.nodes.push({id:t.id,name:t.name,group:YU,tableId:e.id}),a.links.push({source:e.id,target:t.id})}))})),i.forEach((e=>{const{start:t,end:n}=e,r=`${t.tableId}-${n.tableId}`;t.tableId!==n.tableId&&!s.has(r)&&(a.links.push({source:t.tableId,target:n.tableId}),s.add(r))})),a}(e),r=n.links.map((e=>Object.create(e))),o=n.nodes.map((e=>Object.create(e))),i=uz(o).force("link",nz(r).id((e=>e.id))).force("charge",dz()).force("x",hz()).force("y",fz()),a=VL(DD("svg").call(document.documentElement)),s=a.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(r).join("line").attr("stroke-width",Math.sqrt(2)),l=a.append("g").attr("stroke","#fff").attr("stroke-width",1.5).selectAll("circle").data(o).join("circle").attr("r",5).attr("fill",(e=>HU(e.group))).call(function(e,t){return function(){var e,t,n,r,o=HL,i=qL,a=GL,s=QL,l={},c=$D("start","drag","end"),u=0,d=0;function h(e){e.on("mousedown.drag",f).filter(s).on("touchstart.drag",g).on("touchmove.drag",y,PL).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(a,s){if(!r&&o.call(this,a,s)){var l=b(this,i.call(this,a,s),a,s,"mouse");l&&(VL(a.view).on("mousemove.drag",m,UL).on("mouseup.drag",p,UL),function(e){var t=e.document.documentElement,n=VL(e).on("dragstart.drag",FL,UL);"onselectstart"in t?n.on("selectstart.drag",FL,UL):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}(a.view),WL(a),n=!1,e=a.clientX,t=a.clientY,l("start",a))}}function m(r){if(FL(r),!n){var o=r.clientX-e,i=r.clientY-t;n=o*o+i*i>d}l.mouse("drag",r)}function p(e){VL(e.view).on("mousemove.drag mouseup.drag",null),function(e,t){var n=e.document.documentElement,r=VL(e).on("dragstart.drag",null);t&&(r.on("click.drag",FL,UL),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(e.view,n),FL(e),l.mouse("end",e)}function g(e,t){if(o.call(this,e,t)){var n,r,a=e.changedTouches,s=i.call(this,e,t),l=a.length;for(n=0;n<l;++n)(r=b(this,s,e,t,a[n].identifier,a[n]))&&(WL(e),r("start",e,a[n]))}}function y(e){var t,n,r=e.changedTouches,o=r.length;for(t=0;t<o;++t)(n=l[r[t].identifier])&&(FL(e),n("drag",e,r[t]))}function v(e){var t,n,o=e.changedTouches,i=o.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(n=l[o[t].identifier])&&(WL(e),n("end",e,o[t]))}function b(e,t,n,r,o,i){var s,d,f,m=c.copy(),p=BL(i||n,t);if(null!=(f=a.call(e,new YL("beforestart",{sourceEvent:n,target:h,identifier:o,active:u,x:p[0],y:p[1],dx:0,dy:0,dispatch:m}),r)))return s=f.x-p[0]||0,d=f.y-p[1]||0,function n(i,a,c){var g,y=p;switch(i){case"start":l[o]=n,g=u++;break;case"end":delete l[o],--u;case"drag":p=BL(c||a,t),g=u}m.call(i,e,new YL(i,{sourceEvent:a,subject:f,target:h,identifier:o,active:g,x:p[0]+s,y:p[1]+d,dx:p[0]-y[0],dy:p[1]-y[1],dispatch:m}),r)}}return h.filter=function(e){return arguments.length?(o="function"==typeof e?e:ZL(!!e),h):o},h.container=function(e){return arguments.length?(i="function"==typeof e?e:ZL(e),h):i},h.subject=function(e){return arguments.length?(a="function"==typeof e?e:ZL(e),h):a},h.touchable=function(e){return arguments.length?(s="function"==typeof e?e:ZL(!!e),h):s},h.on=function(){var e=c.on.apply(c,arguments);return e===c?h:e},h.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,h):Math.sqrt(d)},h}().on("start",((n,r)=>{n.active||e.alphaTarget(.3).restart(),r.fx=r.x,r.fy=r.y,t.onDragStart()})).on("drag",((e,t)=>{t.fx=e.x,t.fy=e.y})).on("end",((n,r)=>{n.active||e.alphaTarget(0),r.fx=null,r.fy=null,t.onDragEnd()}))}(i,t));return l.on("mouseenter",((e,r)=>{const o=n.nodes[r.index];let i=null,a=null;o.group===ZU?i=o.id:o.group===YU&&o.tableId&&(i=o.tableId,a=o.id),t.onStartPreview(e,i,a)})),l.on("mouseleave",(()=>{t.onEndPreview()})),i.on("tick",(()=>{s.attr("x1",(e=>e.source.x)).attr("y1",(e=>e.source.y)).attr("x2",(e=>e.target.x)).attr("y2",(e=>e.target.y)),l.attr("cx",(e=>e.x)).attr("cy",(e=>e.y))})),a}const GU=ff`
  position: relative;
  height: 100%;
  overflow: auto;
  background-color: var(--canvas-background);
`,QU=(e,t)=>{const n=HS(t),{addUnsubscribe:r}=tE(),o=il({preview:!1,drag:!1,table:null,columnId:null,x:0,y:0});let i=null;const a=()=>{const{store:e}=n.value,{editor:{viewport:t}}=e.state;null==i||i.attr("viewBox",[-t.width/2,-600,t.width,1200])};return Us((()=>{const{store:e}=n.value,{editor:t}=e.state;i=qU(e.state,{onDragStart:()=>{o.drag=!0},onDragEnd:()=>{o.drag=!1},onStartPreview:(e,t,r)=>{if(!t)return;const{store:i}=n.value,{collections:a}=i.state,s=aa(a).collection("tableEntities").selectById(t);s&&(o.columnId=r,o.table=s,o.x=e.clientX,o.y=e.clientY,o.preview=!0)},onEndPreview:()=>{o.preview=!1}}),a(),r(al(t.viewport).subscribe((e=>{"width"===e&&a()})),(()=>{null==i||i.remove(),i=null}))})),()=>{const e=o.table&&!o.drag&&o.preview;return Fh`
      <div class=${["scrollbar",GU]}>
        ${null==i?void 0:i.node()}
        ${e?Fh`
              <${FU}
                table=${o.table}
                columnId=${o.columnId}
                x=${o.x+20}
                y=${o.y}
              />
            `:null}
      </div>
    `}};var XU=["Shift","Meta","Alt","Control"],JU="object"==typeof navigator?navigator.platform:"",KU=/Mac|iPod|iPhone|iPad/.test(JU),eW=KU?"Meta":"Control",tW="Win32"===JU?["Control","Alt"]:KU?["Alt"]:[];function nW(e,t){return"function"==typeof e.getModifierState&&(e.getModifierState(t)||tW.includes(t)&&e.getModifierState("AltGraph"))}function rW(e){return e.trim().split(" ").map((function(e){var t=e.split(/\b\+/),n=t.pop();return[t=t.map((function(e){return"$mod"===e?eW:e})),n]}))}const oW=Symbol("Comlink.proxy"),iW=Symbol("Comlink.endpoint"),aW=Symbol("Comlink.releaseProxy"),sW=Symbol("Comlink.finalizer"),lW=Symbol("Comlink.thrown"),cW=e=>"object"==typeof e&&null!==e||"function"==typeof e,uW={canHandle:e=>cW(e)&&e[oW],serialize(e){const{port1:t,port2:n}=new MessageChannel;return fW(e,t),[n,[n]]},deserialize:e=>(e.start(),pW(e))},dW={canHandle:e=>cW(e)&&lW in e,serialize(e){let t,{value:n}=e;return t=n instanceof Error?{isError:!0,value:{message:n.message,name:n.name,stack:n.stack}}:{isError:!1,value:n},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},hW=new Map([["proxy",uW],["throw",dW]]);function fW(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["*"];t.addEventListener("message",(function r(o){if(!o||!o.data)return;if(!function(e,t){for(const n of e)if(t===n||"*"===n||n instanceof RegExp&&n.test(t))return!0;return!1}(n,o.origin))return void console.warn(`Invalid origin '${o.origin}' for comlink proxy`);const{id:i,type:a,path:s}=Object.assign({path:[]},o.data),l=(o.data.argumentList||[]).map(CW);let c;try{const t=s.slice(0,-1).reduce(((e,t)=>e[t]),e),n=s.reduce(((e,t)=>e[t]),e);switch(a){case"GET":c=n;break;case"SET":t[s.slice(-1)[0]]=CW(o.data.value),c=!0;break;case"APPLY":c=n.apply(t,l);break;case"CONSTRUCT":c=function(e){return Object.assign(e,{[oW]:!0})}(new n(...l));break;case"ENDPOINT":{const{port1:t,port2:n}=new MessageChannel;fW(e,n),c=function(e,t){return IW.set(e,t),e}(t,[t])}break;case"RELEASE":c=void 0;break;default:return}}catch(e){c={value:e,[lW]:0}}Promise.resolve(c).catch((e=>({value:e,[lW]:0}))).then((n=>{const[o,s]=$W(n);t.postMessage(Object.assign(Object.assign({},o),{id:i}),s),"RELEASE"===a&&(t.removeEventListener("message",r),mW(t),sW in e&&"function"==typeof e[sW]&&e[sW]())})).catch((e=>{const[n,r]=$W({value:new TypeError("Unserializable return value"),[lW]:0});t.postMessage(Object.assign(Object.assign({},n),{id:i}),r)}))})),t.start&&t.start()}function mW(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function pW(e,t){return wW(e,[],t)}function gW(e){if(e)throw new Error("Proxy has been released and is not useable")}function yW(e){return TW(e,{type:"RELEASE"}).then((()=>{mW(e)}))}const vW=new WeakMap,bW="FinalizationRegistry"in globalThis&&new FinalizationRegistry((e=>{const t=(vW.get(e)||0)-1;vW.set(e,t),0===t&&yW(e)}));function wW(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!1;const r=new Proxy(arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},{get(o,i){if(gW(n),i===aW)return()=>{(function(e){bW&&bW.unregister(e)})(r),yW(e),n=!0};if("then"===i){if(0===t.length)return{then:()=>r};const n=TW(e,{type:"GET",path:t.map((e=>e.toString()))}).then(CW);return n.then.bind(n)}return wW(e,[...t,i])},set(r,o,i){gW(n);const[a,s]=$W(i);return TW(e,{type:"SET",path:[...t,o].map((e=>e.toString())),value:a},s).then(CW)},apply(r,o,i){gW(n);const a=t[t.length-1];if(a===iW)return TW(e,{type:"ENDPOINT"}).then(CW);if("bind"===a)return wW(e,t.slice(0,-1));const[s,l]=kW(i);return TW(e,{type:"APPLY",path:t.map((e=>e.toString())),argumentList:s},l).then(CW)},construct(r,o){gW(n);const[i,a]=kW(o);return TW(e,{type:"CONSTRUCT",path:t.map((e=>e.toString())),argumentList:i},a).then(CW)}});return function(e,t){const n=(vW.get(t)||0)+1;vW.set(t,n),bW&&bW.register(e,t,e)}(r,e),r}function xW(e){return Array.prototype.concat.apply([],e)}function kW(e){const t=e.map($W);return[t.map((e=>e[0])),xW(t.map((e=>e[1])))]}const IW=new WeakMap;function $W(e){for(const[t,n]of hW)if(n.canHandle(e)){const[r,o]=n.serialize(e);return[{type:"HANDLER",name:t,value:r},o]}return[{type:"RAW",value:e},IW.get(e)||[]]}function CW(e){switch(e.type){case"HANDLER":return hW.get(e.name).deserialize(e.value);case"RAW":return e.value}}function TW(e,t,n){return new Promise((r=>{const o=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");e.addEventListener("message",(function t(n){!n.data||!n.data.id||n.data.id!==o||(e.removeEventListener("message",t),r(n.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:o},t),n)}))}function AW(e){return new SharedWorker("data:text/javascript;charset=utf-8,"+encodeURIComponent('(function(){"use strict";/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */const en=Symbol("Comlink.proxy"),as=Symbol("Comlink.endpoint"),os=Symbol("Comlink.releaseProxy"),Tt=Symbol("Comlink.finalizer"),je=Symbol("Comlink.thrown"),tn=t=>typeof t=="object"&&t!==null||typeof t=="function",us={canHandle:t=>tn(t)&&t[en],serialize(t){const{port1:e,port2:n}=new MessageChannel;return St(t,e),[n,[n]]},deserialize(t){return t.start(),ds(t)}},ls={canHandle:t=>tn(t)&&je in t,serialize({value:t}){let e;return t instanceof Error?e={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:e={isError:!1,value:t},[e,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},nn=new Map([["proxy",us],["throw",ls]]);function cs(t,e){for(const n of t)if(e===n||n==="*"||n instanceof RegExp&&n.test(e))return!0;return!1}function St(t,e=globalThis,n=["*"]){e.addEventListener("message",function r(s){if(!s||!s.data)return;if(!cs(n,s.origin)){console.warn(`Invalid origin \'${s.origin}\' for comlink proxy`);return}const{id:i,type:a,path:o}=Object.assign({path:[]},s.data),u=(s.data.argumentList||[]).map(ee);let l;try{const c=o.slice(0,-1).reduce((g,d)=>g[d],t),h=o.reduce((g,d)=>g[d],t);switch(a){case"GET":l=h;break;case"SET":c[o.slice(-1)[0]]=ee(s.data.value),l=!0;break;case"APPLY":l=h.apply(c,u);break;case"CONSTRUCT":{const g=new h(...u);l=ps(g)}break;case"ENDPOINT":{const{port1:g,port2:d}=new MessageChannel;St(t,d),l=gs(g,[g])}break;case"RELEASE":l=void 0;break;default:return}}catch(c){l={value:c,[je]:0}}Promise.resolve(l).catch(c=>({value:c,[je]:0})).then(c=>{const[h,g]=Be(c);e.postMessage(Object.assign(Object.assign({},h),{id:i}),g),a==="RELEASE"&&(e.removeEventListener("message",r),rn(e),Tt in t&&typeof t[Tt]=="function"&&t[Tt]())}).catch(c=>{const[h,g]=Be({value:new TypeError("Unserializable return value"),[je]:0});e.postMessage(Object.assign(Object.assign({},h),{id:i}),g)})}),e.start&&e.start()}function fs(t){return t.constructor.name==="MessagePort"}function rn(t){fs(t)&&t.close()}function ds(t,e){return Ot(t,[],e)}function Ye(t){if(t)throw new Error("Proxy has been released and is not useable")}function sn(t){return he(t,{type:"RELEASE"}).then(()=>{rn(t)})}const Ge=new WeakMap,Je="FinalizationRegistry"in globalThis&&new FinalizationRegistry(t=>{const e=(Ge.get(t)||0)-1;Ge.set(t,e),e===0&&sn(t)});function hs(t,e){const n=(Ge.get(e)||0)+1;Ge.set(e,n),Je&&Je.register(t,e,t)}function ms(t){Je&&Je.unregister(t)}function Ot(t,e=[],n=function(){}){let r=!1;const s=new Proxy(n,{get(i,a){if(Ye(r),a===os)return()=>{ms(s),sn(t),r=!0};if(a==="then"){if(e.length===0)return{then:()=>s};const o=he(t,{type:"GET",path:e.map(u=>u.toString())}).then(ee);return o.then.bind(o)}return Ot(t,[...e,a])},set(i,a,o){Ye(r);const[u,l]=Be(o);return he(t,{type:"SET",path:[...e,a].map(c=>c.toString()),value:u},l).then(ee)},apply(i,a,o){Ye(r);const u=e[e.length-1];if(u===as)return he(t,{type:"ENDPOINT"}).then(ee);if(u==="bind")return Ot(t,e.slice(0,-1));const[l,c]=an(o);return he(t,{type:"APPLY",path:e.map(h=>h.toString()),argumentList:l},c).then(ee)},construct(i,a){Ye(r);const[o,u]=an(a);return he(t,{type:"CONSTRUCT",path:e.map(l=>l.toString()),argumentList:o},u).then(ee)}});return hs(s,t),s}function ys(t){return Array.prototype.concat.apply([],t)}function an(t){const e=t.map(Be);return[e.map(n=>n[0]),ys(e.map(n=>n[1]))]}const on=new WeakMap;function gs(t,e){return on.set(t,e),t}function ps(t){return Object.assign(t,{[en]:!0})}function Be(t){for(const[e,n]of nn)if(n.canHandle(t)){const[r,s]=n.serialize(t);return[{type:"HANDLER",name:e,value:r},s]}return[{type:"RAW",value:t},on.get(t)||[]]}function ee(t){switch(t.type){case"HANDLER":return nn.get(t.name).deserialize(t.value);case"RAW":return t.value}}function he(t,e,n){return new Promise(r=>{const s=ws();t.addEventListener("message",function i(a){!a.data||!a.data.id||a.data.id!==s||(t.removeEventListener("message",i),r(a.data))}),t.start&&t.start(),t.postMessage(Object.assign({id:s},e),n)})}function ws(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var Ts=typeof global=="object"&&global&&global.Object===Object&&global,Ss=typeof self=="object"&&self&&self.Object===Object&&self,kt=Ts||Ss||Function("return this")(),me=kt.Symbol,un=Object.prototype,Os=un.hasOwnProperty,ks=un.toString,Ve=me?me.toStringTag:void 0;function vs(t){var e=Os.call(t,Ve),n=t[Ve];try{t[Ve]=void 0;var r=!0}catch{}var s=ks.call(t);return r&&(e?t[Ve]=n:delete t[Ve]),s}var bs=Object.prototype,Is=bs.toString;function Es(t){return Is.call(t)}var Ns="[object Null]",Ms="[object Undefined]",ln=me?me.toStringTag:void 0;function cn(t){return t==null?t===void 0?Ms:Ns:ln&&ln in Object(t)?vs(t):Es(t)}function vt(t){return t!=null&&typeof t=="object"}var xs=Array.isArray;function fn(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function dn(t){return t}var Ds="[object AsyncFunction]",Cs="[object Function]",Fs="[object GeneratorFunction]",Vs="[object Proxy]";function hn(t){if(!fn(t))return!1;var e=cn(t);return e==Cs||e==Fs||e==Ds||e==Vs}var bt=kt["__core-js_shared__"],mn=function(){var t=/[^.]+$/.exec(bt&&bt.keys&&bt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function As(t){return!!mn&&mn in t}var Ws=Function.prototype,Ls=Ws.toString;function $s(t){if(t!=null){try{return Ls.call(t)}catch{}try{return t+""}catch{}}return""}var _s=/[\\\\^$.*+?()[\\]{}|]/g,zs=/^\\[object .+?Constructor\\]$/,Rs=Function.prototype,Zs=Object.prototype,Ps=Rs.toString,Us=Zs.hasOwnProperty,Hs=RegExp("^"+Ps.call(Us).replace(_s,"\\\\$&").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,"$1.*?")+"$");function qs(t){if(!fn(t)||As(t))return!1;var e=hn(t)?Hs:zs;return e.test($s(t))}function js(t,e){return t==null?void 0:t[e]}function It(t,e){var n=js(t,e);return qs(n)?n:void 0}function Ys(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Gs=800,Js=16,Bs=Date.now;function Qs(t){var e=0,n=0;return function(){var r=Bs(),s=Js-(r-n);if(n=r,s>0){if(++e>=Gs)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Ks(t){return function(){return t}}var yn=function(){try{var t=It(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Xs=yn?function(t,e){return yn(t,"toString",{configurable:!0,enumerable:!1,value:Ks(e),writable:!0})}:dn,ei=Qs(Xs);function ti(t,e,n,r){for(var s=t.length,i=n+-1;++i<s;)if(e(t[i],i,t))return i;return-1}function ni(t){return t!==t}function ri(t,e,n){for(var r=n-1,s=t.length;++r<s;)if(t[r]===e)return r;return-1}function si(t,e,n){return e===e?ri(t,e,n):ti(t,ni,n)}function ii(t,e){var n=t==null?0:t.length;return!!n&&si(t,e,0)>-1}function ai(t,e){return t===e||t!==t&&e!==e}var gn=Math.max;function oi(t,e,n){return e=gn(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,i=gn(r.length-e,0),a=Array(i);++s<i;)a[s]=r[e+s];s=-1;for(var o=Array(e+1);++s<e;)o[s]=r[s];return o[e]=n(a),Ys(t,this,o)}}function ui(t,e){return ei(oi(t,e,dn),t+"")}var li=9007199254740991;function ci(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=li}function fi(t){return t!=null&&ci(t.length)&&!hn(t)}var di="[object Arguments]";function pn(t){return vt(t)&&cn(t)==di}var wn=Object.prototype,hi=wn.hasOwnProperty,mi=wn.propertyIsEnumerable,yi=pn(function(){return arguments}())?pn:function(t){return vt(t)&&hi.call(t,"callee")&&!mi.call(t,"callee")},Ae=It(Object,"create");function gi(){this.__data__=Ae?Ae(null):{},this.size=0}function pi(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var wi="__lodash_hash_undefined__",Ti=Object.prototype,Si=Ti.hasOwnProperty;function Oi(t){var e=this.__data__;if(Ae){var n=e[t];return n===wi?void 0:n}return Si.call(e,t)?e[t]:void 0}var ki=Object.prototype,vi=ki.hasOwnProperty;function bi(t){var e=this.__data__;return Ae?e[t]!==void 0:vi.call(e,t)}var Ii="__lodash_hash_undefined__";function Ei(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ae&&e===void 0?Ii:e,this}function te(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}te.prototype.clear=gi,te.prototype.delete=pi,te.prototype.get=Oi,te.prototype.has=bi,te.prototype.set=Ei;function Ni(){this.__data__=[],this.size=0}function Qe(t,e){for(var n=t.length;n--;)if(ai(t[n][0],e))return n;return-1}var Mi=Array.prototype,xi=Mi.splice;function Di(t){var e=this.__data__,n=Qe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():xi.call(e,n,1),--this.size,!0}function Ci(t){var e=this.__data__,n=Qe(e,t);return n<0?void 0:e[n][1]}function Fi(t){return Qe(this.__data__,t)>-1}function Vi(t,e){var n=this.__data__,r=Qe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function ye(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ye.prototype.clear=Ni,ye.prototype.delete=Di,ye.prototype.get=Ci,ye.prototype.has=Fi,ye.prototype.set=Vi;var Ai=It(kt,"Map");function Wi(){this.size=0,this.__data__={hash:new te,map:new(Ai||ye),string:new te}}function Li(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Ke(t,e){var n=t.__data__;return Li(e)?n[typeof e=="string"?"string":"hash"]:n.map}function $i(t){var e=Ke(this,t).delete(t);return this.size-=e?1:0,e}function _i(t){return Ke(this,t).get(t)}function zi(t){return Ke(this,t).has(t)}function Ri(t,e){var n=Ke(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ge(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ge.prototype.clear=Wi,ge.prototype.delete=$i,ge.prototype.get=_i,ge.prototype.has=zi,ge.prototype.set=Ri;function Zi(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var Tn=me?me.isConcatSpreadable:void 0;function Pi(t){return xs(t)||yi(t)||!!(Tn&&t&&t[Tn])}function Ui(t,e,n,r,s){var i=-1,a=t.length;for(n||(n=Pi),s||(s=[]);++i<a;){var o=t[i];n(o)&&Zi(s,o)}return s}var Hi="__lodash_hash_undefined__";function qi(t){return this.__data__.set(t,Hi),this}function ji(t){return this.__data__.has(t)}function Xe(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ge;++e<n;)this.add(t[e])}Xe.prototype.add=Xe.prototype.push=qi,Xe.prototype.has=ji;function Yi(t,e){return t.has(e)}function Sn(t){return vt(t)&&fi(t)}var Gi=200;function Ji(t,e,n,r){var s=-1,i=ii,a=!0,o=t.length,u=[],l=e.length;if(!o)return u;e.length>=Gi&&(i=Yi,a=!1,e=new Xe(e));e:for(;++s<o;){var c=t[s],h=c;if(c=c!==0?c:0,a&&h===h){for(var g=l;g--;)if(e[g]===h)continue e;u.push(c)}else i(e,h,r)||u.push(c)}return u}var Bi=ui(function(t,e){return Sn(t)?Ji(t,Ui(e,1,Sn)):[]});function pe(t){const e=new Set(t);return n=>e.has(n)}const We=t=>e=>typeof e===t,Qi=We("object"),Et=We("boolean"),D=We("number"),L=We("string"),Ki=We("undefined"),On=t=>t===null,q=t=>On(t)||Ki(t),{isArray:ne}=Array,j=t=>Qi(t)&&!On(t)&&!ne(t),Nt=(t,e)=>n=>Math.min(Math.max(n,t),e);/*!\n * @dineug/erd-editor-schema\n * @version 0.1.0 | Wed May 07 2025\n * @author SeungHwan-Lee <dineug2@gmail.com>\n * @license MIT\n */function p(t,e,n){return r=>{if(!n)return;const s=n[r];t(s)&&(e[r]=s)}}function P(t){return e=>D(e)&&t.includes(e)}function we(){const t=Date.now();return{updateAt:t,createAt:t}}function Te(t,e){const n=p(D,t,e);n("updateAt"),n("createAt")}const Xi=()=>({tableIds:[],relationshipIds:[],indexIds:[],memoIds:[]});function ea(t){const e=Xi();if(!j(t)||q(t))return e;const n=p(ne,e,t);return n("tableIds"),n("relationshipIds"),n("indexIds"),n("memoIds"),e}const ta=()=>({id:"",name:"",tableId:"",indexColumnIds:[],seqIndexColumnIds:[],unique:!1,meta:we()});function na(t){const e={};if(!j(t)||q(t))return e;for(const n of Object.values(t)){if(!n)continue;const r=ta(),s=p(L,r,n),i=p(Et,r,n),a=p(ne,r,n);s("id"),s("name"),s("tableId"),i("unique"),a("indexColumnIds"),a("seqIndexColumnIds"),Te(r.meta,n.meta),r.id&&(e[r.id]=r)}return e}const kn={ASC:1,DESC:2},ra=Object.values(kn),sa=()=>({id:"",indexId:"",columnId:"",orderType:kn.ASC,meta:we()});function ia(t){const e={};if(!j(t)||q(t))return e;for(const n of Object.values(t)){if(!n)continue;const r=sa(),s=p(L,r,n);s("id"),s("indexId"),s("columnId"),p(P(ra),r,n)("orderType"),Te(r.meta,n.meta),r.id&&(e[r.id]=r)}return e}const aa=()=>({id:"",value:"",ui:{x:200,y:100,zIndex:2,width:116,height:100,color:""},meta:we()});function oa(t){const e={};if(!j(t)||q(t))return e;for(const n of Object.values(t)){if(!n)continue;const r=aa(),s=p(L,r,n),i=p(D,r.ui,n.ui),a=p(L,r.ui,n.ui);s("id"),s("value"),a("color"),i("x"),i("y"),i("zIndex"),i("width"),i("height"),Te(r.meta,n.meta),r.id&&(e[r.id]=r)}return e}const vn={ZeroOne:2,ZeroN:4,OneOnly:8,OneN:16},ua=Object.values(vn),bn={ring:1,dash:2},la=Object.values(bn),Mt={left:1,right:2,top:4,bottom:8},In=Object.values(Mt),ca=()=>({id:"",identification:!1,relationshipType:vn.ZeroN,startRelationshipType:bn.dash,start:{tableId:"",columnIds:[],x:0,y:0,direction:Mt.bottom},end:{tableId:"",columnIds:[],x:0,y:0,direction:Mt.bottom},meta:we()});function fa(t){const e={};if(!j(t)||q(t))return e;for(const n of Object.values(t)){if(!n)continue;const r=ca(),s=p(L,r,n),i=p(Et,r,n),a=p(D,r.start,n.start),o=p(L,r.start,n.start),u=p(D,r.end,n.end),l=p(L,r.end,n.end);s("id"),i("identification"),p(P(ua),r,n)("relationshipType"),p(P(la),r,n)("startRelationshipType"),o("tableId"),a("x"),a("y"),p(P(In),r.start,n.start)("direction"),p(ne,r.start,n.start)("columnIds"),l("tableId"),u("x"),u("y"),p(P(In),r.end,n.end)("direction"),p(ne,r.end,n.end)("columnIds"),Te(r.meta,n.meta),r.id&&(e[r.id]=r)}return e}const da={ERD:"ERD"},re={tableComment:1,columnComment:2,columnDataType:4,columnDefault:8,columnPrimaryKey:32,columnNotNull:128,relationship:256},Y={columnName:1,columnDataType:2,columnNotNull:4,columnUnique:8,columnAutoIncrement:16,columnDefault:32,columnComment:64},En=Object.values(Y),Nn={MariaDB:1,MSSQL:2,MySQL:4,Oracle:8,PostgreSQL:16,SQLite:32},ha=Object.values(Nn),Mn={GraphQL:1,csharp:2,Java:4,Kotlin:8,TypeScript:16,JPA:32,Scala:64},ma=Object.values(Mn),xt={none:1,camelCase:2,pascalCase:4,snakeCase:8},xn=Object.values(xt),Dn={none:1,doubleQuote:2,singleQuote:4,backtick:8},ya=Object.values(Dn),ga=.1,pa=1,wa=2e3,Ta=2e4,Sa=re.tableComment|re.columnComment|re.columnDataType|re.columnDefault|re.columnPrimaryKey|re.columnNotNull|re.relationship,Oa=()=>({width:2e3,height:2e3,scrollTop:0,scrollLeft:0,zoomLevel:1,show:Sa,database:Nn.MySQL,databaseName:"",canvasType:da.ERD,language:Mn.GraphQL,tableNameCase:xt.pascalCase,columnNameCase:xt.camelCase,bracketType:Dn.none,relationshipDataTypeSync:!0,relationshipOptimization:!1,columnOrder:[Y.columnName,Y.columnDataType,Y.columnNotNull,Y.columnUnique,Y.columnAutoIncrement,Y.columnDefault,Y.columnComment],maxWidthComment:-1,ignoreSaveSettings:0}),Cn=Nt(wa,Ta),ka=Nt(ga,pa),va=Nt(60,200);function ba(t){const e=Oa();if(!j(t)||q(t))return e;const n=p(D,e,t),r=p(L,e,t),s=p(Et,e,t);return D(t.width)&&(e.width=Cn(t.width)),D(t.height)&&(e.height=Cn(t.height)),D(t.zoomLevel)&&(e.zoomLevel=ka(t.zoomLevel)),D(t.maxWidthComment)&&t.maxWidthComment!==-1&&(e.maxWidthComment=va(t.maxWidthComment)),n("scrollTop"),n("scrollLeft"),n("show"),n("ignoreSaveSettings"),r("databaseName"),r("canvasType"),s("relationshipDataTypeSync"),s("relationshipOptimization"),p(P(ha),e,t)("database"),p(P(ma),e,t)("language"),p(P(xn),e,t)("tableNameCase"),p(P(xn),e,t)("columnNameCase"),p(P(ya),e,t)("bracketType"),ne(t.columnOrder)&&En.length===t.columnOrder.length&&Bi(En,t.columnOrder).length===0&&(e.columnOrder=t.columnOrder),e}const Ia=()=>({id:"",name:"",comment:"",columnIds:[],seqColumnIds:[],ui:{x:200,y:100,zIndex:2,widthName:60,widthComment:60,color:""},meta:we()});function Ea(t){const e={};if(!j(t)||q(t))return e;for(const n of Object.values(t)){if(!n)continue;const r=Ia(),s=p(L,r,n),i=p(ne,r,n),a=p(D,r.ui,n.ui),o=p(L,r.ui,n.ui);s("id"),s("name"),s("comment"),i("columnIds"),i("seqColumnIds"),o("color"),a("x"),a("y"),a("zIndex"),a("widthName"),a("widthComment"),Te(r.meta,n.meta),r.id&&(e[r.id]=r)}return e}const Na=()=>({id:"",tableId:"",name:"",comment:"",dataType:"",default:"",options:0,ui:{keys:0,widthName:60,widthComment:60,widthDataType:60,widthDefault:60},meta:we()});function Ma(t){const e={};if(!j(t)||q(t))return e;for(const n of Object.values(t)){if(!n)continue;const r=Na(),s=p(L,r,n),i=p(D,r,n),a=p(D,r.ui,n.ui);s("id"),s("tableId"),s("name"),s("comment"),s("dataType"),s("default"),i("options"),a("keys"),a("widthName"),a("widthComment"),a("widthDataType"),a("widthDefault"),Te(r.meta,n.meta),r.id&&(e[r.id]=r)}return e}function xa(t){var e,n,r,s,i,a;const o=t,u=ba(o.settings),l=ea(o.doc),c=Ea((e=o.collections)==null?void 0:e.tableEntities),h=Ma((n=o.collections)==null?void 0:n.tableColumnEntities),g=fa((r=o.collections)==null?void 0:r.relationshipEntities),d=na((s=o.collections)==null?void 0:s.indexEntities),k=ia((i=o.collections)==null?void 0:i.indexColumnEntities),Z=oa((a=o.collections)==null?void 0:a.memoEntities);return{$schema:"https://raw.githubusercontent.com/dineug/erd-editor/main/json-schema/schema.json",version:"3.0.0",settings:u,doc:l,collections:{tableEntities:c,tableColumnEntities:h,relationshipEntities:g,indexEntities:d,indexColumnEntities:k,memoEntities:Z}}}function Da(t){return[t,-1,-1,{}]}function Dt(t,e,n){return t[e]||(t[e]=Da(n),t[e])}function Ca(t,e,n,r,s){const i=Dt(t,n,r),a=i[1],o=i[2];a<e&&(i[1]=e),o<e&&s()}function Fa(t,e,n,r,s){const i=Dt(t,n,r),a=i[2],o=i[1];a<e&&(i[2]=e),o<=e&&s()}function Va(t,e,n,r,s,i){const a=Dt(t,n,r);(a[3][s]??-1)<=e&&(a[3][s]=e,i())}class Aa{constructor(e){this.collections=e}collection(e){return new Wa(this.collections[e],e)}}class Wa{constructor(e,n){this.collection=e,this.collectionKey=n}selectById(e){return this.collection[e]}selectByIds(e){return e.length,e.map(n=>this.selectById(n)).filter(Boolean)}selectEntities(){return this.collection}selectAll(){return Object.values(this.collection)}setOne(e){return this.collection[e.id]=e,this}setMany(e){return e.forEach(n=>this.setOne(n)),this}setAll(e){return this.removeAll(),this.setMany(e),this}addOne(e){return this.selectById(e.id)?this:(this.setOne(e),this)}addMany(e){return e.forEach(n=>this.addOne(n)),this}removeOne(e){return this.selectById(e)&&Reflect.deleteProperty(this.collection,e),this}removeMany(e){return e.forEach(n=>this.removeOne(n)),this}removeAll(){return this.collection={},this}updateOne(e,n){const r=this.selectById(e);return r&&(n(r),r.meta.updateAt=Date.now()),this}updateMany(e,n){return e.forEach(r=>this.updateOne(r,n)),this}getOrCreate(e,n){const r=this.selectById(e);if(r)return r;const s=n(e);return this.setOne(s),this.selectById(e)}addOperator(e,n,r,s){return Ca(e,n,r,this.collectionKey,s),this}removeOperator(e,n,r,s){return Fa(e,n,r,this.collectionKey,s),this}replaceOperator(e,n,r,s,i){return Va(e,n,r,this.collectionKey,s,i),this}}const F=t=>new Aa(t);class se extends Error{}class La extends se{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class $a extends se{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class _a extends se{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Se extends se{}class Fn extends se{constructor(e){super(`Invalid unit ${e}`)}}class M extends se{}class G extends se{constructor(){super("Zone is an abstract class")}}const f="numeric",$="short",C="long",et={year:f,month:f,day:f},Vn={year:f,month:$,day:f},za={year:f,month:$,day:f,weekday:$},An={year:f,month:C,day:f},Wn={year:f,month:C,day:f,weekday:C},Ln={hour:f,minute:f},$n={hour:f,minute:f,second:f},_n={hour:f,minute:f,second:f,timeZoneName:$},zn={hour:f,minute:f,second:f,timeZoneName:C},Rn={hour:f,minute:f,hourCycle:"h23"},Zn={hour:f,minute:f,second:f,hourCycle:"h23"},Pn={hour:f,minute:f,second:f,hourCycle:"h23",timeZoneName:$},Un={hour:f,minute:f,second:f,hourCycle:"h23",timeZoneName:C},Hn={year:f,month:f,day:f,hour:f,minute:f},qn={year:f,month:f,day:f,hour:f,minute:f,second:f},jn={year:f,month:$,day:f,hour:f,minute:f},Yn={year:f,month:$,day:f,hour:f,minute:f,second:f},Ra={year:f,month:$,day:f,weekday:$,hour:f,minute:f},Gn={year:f,month:C,day:f,hour:f,minute:f,timeZoneName:$},Jn={year:f,month:C,day:f,hour:f,minute:f,second:f,timeZoneName:$},Bn={year:f,month:C,day:f,weekday:C,hour:f,minute:f,timeZoneName:C},Qn={year:f,month:C,day:f,weekday:C,hour:f,minute:f,second:f,timeZoneName:C};class Le{get type(){throw new G}get name(){throw new G}get ianaName(){return this.name}get isUniversal(){throw new G}offsetName(e,n){throw new G}formatOffset(e,n){throw new G}offset(e){throw new G}equals(e){throw new G}get isValid(){throw new G}}let Ct=null;class tt extends Le{static get instance(){return Ct===null&&(Ct=new tt),Ct}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return Or(e,n,r)}formatOffset(e,n){return Re(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let nt={};function Za(t){return nt[t]||(nt[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),nt[t]}const Pa={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Ua(t,e){const n=t.format(e).replace(/\\u200E/g,""),r=/(\\d+)\\/(\\d+)\\/(\\d+) (AD|BC),? (\\d+):(\\d+):(\\d+)/.exec(n),[,s,i,a,o,u,l,c]=r;return[a,s,i,o,u,l,c]}function Ha(t,e){const n=t.formatToParts(e),r=[];for(let s=0;s<n.length;s++){const{type:i,value:a}=n[s],o=Pa[i];i==="era"?r[o]=a:m(o)||(r[o]=parseInt(a,10))}return r}let rt={};class U extends Le{static create(e){return rt[e]||(rt[e]=new U(e)),rt[e]}static resetCache(){rt={},nt={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=U.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return Or(e,n,r,this.name)}formatOffset(e,n){return Re(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=Za(this.name);let[s,i,a,o,u,l,c]=r.formatToParts?Ha(r,n):Ua(r,n);o==="BC"&&(s=-Math.abs(s)+1);const g=ut({year:s,month:i,day:a,hour:u===24?0:u,minute:l,second:c,millisecond:0});let d=+n;const k=d%1e3;return d-=k>=0?k:1e3+k,(g-d)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let Kn={};function qa(t,e={}){const n=JSON.stringify([t,e]);let r=Kn[n];return r||(r=new Intl.ListFormat(t,e),Kn[n]=r),r}let Ft={};function Vt(t,e={}){const n=JSON.stringify([t,e]);let r=Ft[n];return r||(r=new Intl.DateTimeFormat(t,e),Ft[n]=r),r}let At={};function ja(t,e={}){const n=JSON.stringify([t,e]);let r=At[n];return r||(r=new Intl.NumberFormat(t,e),At[n]=r),r}let Wt={};function Ya(t,e={}){const{base:n,...r}=e,s=JSON.stringify([t,r]);let i=Wt[s];return i||(i=new Intl.RelativeTimeFormat(t,e),Wt[s]=i),i}let $e=null;function Ga(){return $e||($e=new Intl.DateTimeFormat().resolvedOptions().locale,$e)}let Xn={};function Ja(t){let e=Xn[t];if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,Xn[t]=e}return e}function Ba(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let r,s;try{r=Vt(t).resolvedOptions(),s=t}catch{const u=t.substring(0,n);r=Vt(u).resolvedOptions(),s=u}const{numberingSystem:i,calendar:a}=r;return[s,i,a]}}function Qa(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function Ka(t){const e=[];for(let n=1;n<=12;n++){const r=y.utc(2009,n,1);e.push(t(r))}return e}function Xa(t){const e=[];for(let n=1;n<=7;n++){const r=y.utc(2016,11,13+n);e.push(t(r))}return e}function st(t,e,n,r){const s=t.listingMode();return s==="error"?null:s==="en"?n(e):r(e)}function eo(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class to{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:s,floor:i,...a}=r;if(!n||Object.keys(a).length>0){const o={useGrouping:!1,...r};r.padTo>0&&(o.minimumIntegerDigits=r.padTo),this.inf=ja(e,o)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):Pt(e,3);return I(n,this.padTo)}}}class no{constructor(e,n,r){this.opts=r,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const a=-1*(e.offset/60),o=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;e.offset!==0&&U.create(o).valid?(s=o,this.dt=e):(s="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,s=e.zone.name):(s="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const i={...this.opts};i.timeZone=i.timeZone||s,this.dtf=Vt(n,i)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:r}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class ro{constructor(e,n,r){this.opts={style:"long",...r},!n&&pr()&&(this.rtf=Ya(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):bo(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}const so={firstDay:1,minimalDays:4,weekend:[6,7]};class O{static fromOpts(e){return O.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,r,s,i=!1){const a=e||b.defaultLocale,o=a||(i?"en-US":Ga()),u=n||b.defaultNumberingSystem,l=r||b.defaultOutputCalendar,c=Rt(s)||b.defaultWeekSettings;return new O(o,u,l,c,a)}static resetCache(){$e=null,Ft={},At={},Wt={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r,weekSettings:s}={}){return O.create(e,n,r,s)}constructor(e,n,r,s,i){const[a,o,u]=Ba(e);this.locale=a,this.numberingSystem=n||o||null,this.outputCalendar=r||u||null,this.weekSettings=s,this.intl=Qa(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=eo(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:O.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Rt(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return st(this,e,br,()=>{const r=n?{month:e,day:"numeric"}:{month:e},s=n?"format":"standalone";return this.monthsCache[s][e]||(this.monthsCache[s][e]=Ka(i=>this.extract(i,r,"month"))),this.monthsCache[s][e]})}weekdays(e,n=!1){return st(this,e,Nr,()=>{const r=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=n?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=Xa(i=>this.extract(i,r,"weekday"))),this.weekdaysCache[s][e]})}meridiems(){return st(this,void 0,()=>Mr,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[y.utc(2016,11,13,9),y.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return st(this,e,xr,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[y.utc(-40,1,1),y.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[e]})}extract(e,n,r){const s=this.dtFormatter(e,n),i=s.formatToParts(),a=i.find(o=>o.type.toLowerCase()===r);return a?a.value:null}numberFormatter(e={}){return new to(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new no(e,this.intl,n)}relFormatter(e={}){return new ro(this.intl,this.isEnglish(),e)}listFormatter(e={}){return qa(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:wr()?Ja(this.locale):so}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let Lt=null;class N extends Le{static get utcInstance(){return Lt===null&&(Lt=new N(0)),Lt}static instance(e){return e===0?N.utcInstance:new N(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\\d{1,2})(?::(\\d{2}))?)?$/i);if(n)return new N(lt(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Re(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Re(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return Re(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class io extends Le{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function J(t,e){if(m(t)||t===null)return e;if(t instanceof Le)return t;if(uo(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?tt.instance:n==="utc"||n==="gmt"?N.utcInstance:N.parseSpecifier(n)||U.create(t)}else return ie(t)?N.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new io(t)}let er=()=>Date.now(),tr="system",nr=null,rr=null,sr=null,ir=60,ar,or=null;class b{static get now(){return er}static set now(e){er=e}static set defaultZone(e){tr=e}static get defaultZone(){return J(tr,tt.instance)}static get defaultLocale(){return nr}static set defaultLocale(e){nr=e}static get defaultNumberingSystem(){return rr}static set defaultNumberingSystem(e){rr=e}static get defaultOutputCalendar(){return sr}static set defaultOutputCalendar(e){sr=e}static get defaultWeekSettings(){return or}static set defaultWeekSettings(e){or=Rt(e)}static get twoDigitCutoffYear(){return ir}static set twoDigitCutoffYear(e){ir=e%100}static get throwOnInvalid(){return ar}static set throwOnInvalid(e){ar=e}static resetCaches(){O.resetCache(),U.resetCache()}}class _{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const ur=[0,31,59,90,120,151,181,212,243,273,304,334],lr=[0,31,60,91,121,152,182,213,244,274,305,335];function V(t,e){return new _("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function $t(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const s=r.getUTCDay();return s===0?7:s}function cr(t,e,n){return n+(_e(t)?lr:ur)[e-1]}function fr(t,e){const n=_e(t)?lr:ur,r=n.findIndex(i=>i<e),s=e-n[r];return{month:r+1,day:s}}function _t(t,e){return(t-e+7)%7+1}function it(t,e=4,n=1){const{year:r,month:s,day:i}=t,a=cr(r,s,i),o=_t($t(r,s,i),n);let u=Math.floor((a-o+14-e)/7),l;return u<1?(l=r-1,u=ze(l,e,n)):u>ze(r,e,n)?(l=r+1,u=1):l=r,{weekYear:l,weekNumber:u,weekday:o,...ft(t)}}function dr(t,e=4,n=1){const{weekYear:r,weekNumber:s,weekday:i}=t,a=_t($t(r,1,e),n),o=ke(r);let u=s*7+i-a-7+e,l;u<1?(l=r-1,u+=ke(l)):u>o?(l=r+1,u-=ke(r)):l=r;const{month:c,day:h}=fr(l,u);return{year:l,month:c,day:h,...ft(t)}}function zt(t){const{year:e,month:n,day:r}=t,s=cr(e,n,r);return{year:e,ordinal:s,...ft(t)}}function hr(t){const{year:e,ordinal:n}=t,{month:r,day:s}=fr(e,n);return{year:e,month:r,day:s,...ft(t)}}function mr(t,e){if(!m(t.localWeekday)||!m(t.localWeekNumber)||!m(t.localWeekYear)){if(!m(t.weekday)||!m(t.weekNumber)||!m(t.weekYear))throw new Se("Cannot mix locale-based week fields with ISO-based week fields");return m(t.localWeekday)||(t.weekday=t.localWeekday),m(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),m(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function ao(t,e=4,n=1){const r=at(t.weekYear),s=A(t.weekNumber,1,ze(t.weekYear,e,n)),i=A(t.weekday,1,7);return r?s?i?!1:V("weekday",t.weekday):V("week",t.weekNumber):V("weekYear",t.weekYear)}function oo(t){const e=at(t.year),n=A(t.ordinal,1,ke(t.year));return e?n?!1:V("ordinal",t.ordinal):V("year",t.year)}function yr(t){const e=at(t.year),n=A(t.month,1,12),r=A(t.day,1,ot(t.year,t.month));return e?n?r?!1:V("day",t.day):V("month",t.month):V("year",t.year)}function gr(t){const{hour:e,minute:n,second:r,millisecond:s}=t,i=A(e,0,23)||e===24&&n===0&&r===0&&s===0,a=A(n,0,59),o=A(r,0,59),u=A(s,0,999);return i?a?o?u?!1:V("millisecond",s):V("second",r):V("minute",n):V("hour",e)}function m(t){return typeof t>"u"}function ie(t){return typeof t=="number"}function at(t){return typeof t=="number"&&t%1===0}function uo(t){return typeof t=="string"}function lo(t){return Object.prototype.toString.call(t)==="[object Date]"}function pr(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function wr(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function co(t){return Array.isArray(t)?t:[t]}function Tr(t,e,n){if(t.length!==0)return t.reduce((r,s)=>{const i=[e(s),s];return r&&n(r[0],i[0])===r[0]?r:i},null)[1]}function fo(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Oe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Rt(t){if(t==null)return null;if(typeof t!="object")throw new M("Week settings must be an object");if(!A(t.firstDay,1,7)||!A(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!A(e,1,7)))throw new M("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function A(t,e,n){return at(t)&&t>=e&&t<=n}function ho(t,e){return t-e*Math.floor(t/e)}function I(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function B(t){if(!(m(t)||t===null||t===""))return parseInt(t,10)}function ae(t){if(!(m(t)||t===null||t===""))return parseFloat(t)}function Zt(t){if(!(m(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Pt(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function _e(t){return t%4===0&&(t%100!==0||t%400===0)}function ke(t){return _e(t)?366:365}function ot(t,e){const n=ho(e-1,12)+1,r=t+(e-n)/12;return n===2?_e(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function ut(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function Sr(t,e,n){return-_t($t(t,1,e),n)+e-1}function ze(t,e=4,n=1){const r=Sr(t,e,n),s=Sr(t+1,e,n);return(ke(t)-r+s)/7}function Ut(t){return t>99?t:t>b.twoDigitCutoffYear?1900+t:2e3+t}function Or(t,e,n,r=null){const s=new Date(t),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(i.timeZone=r);const a={timeZoneName:e,...i},o=new Intl.DateTimeFormat(n,a).formatToParts(s).find(u=>u.type.toLowerCase()==="timezonename");return o?o.value:null}function lt(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,s=n<0||Object.is(n,-0)?-r:r;return n*60+s}function kr(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new M(`Invalid unit value ${t}`);return e}function ct(t,e){const n={};for(const r in t)if(Oe(t,r)){const s=t[r];if(s==null)continue;n[e(r)]=kr(s)}return n}function Re(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),s=t>=0?"+":"-";switch(e){case"short":return`${s}${I(n,2)}:${I(r,2)}`;case"narrow":return`${s}${n}${r>0?`:${r}`:""}`;case"techie":return`${s}${I(n,2)}${I(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function ft(t){return fo(t,["hour","minute","second","millisecond"])}const mo=["January","February","March","April","May","June","July","August","September","October","November","December"],vr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],yo=["J","F","M","A","M","J","J","A","S","O","N","D"];function br(t){switch(t){case"narrow":return[...yo];case"short":return[...vr];case"long":return[...mo];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Ir=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Er=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],go=["M","T","W","T","F","S","S"];function Nr(t){switch(t){case"narrow":return[...go];case"short":return[...Er];case"long":return[...Ir];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Mr=["AM","PM"],po=["Before Christ","Anno Domini"],wo=["BC","AD"],To=["B","A"];function xr(t){switch(t){case"narrow":return[...To];case"short":return[...wo];case"long":return[...po];default:return null}}function So(t){return Mr[t.hour<12?0:1]}function Oo(t,e){return Nr(e)[t.weekday-1]}function ko(t,e){return br(e)[t.month-1]}function vo(t,e){return xr(e)[t.year<0?0:1]}function bo(t,e,n="always",r=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&i){const h=t==="days";switch(e){case 1:return h?"tomorrow":`next ${s[t][0]}`;case-1:return h?"yesterday":`last ${s[t][0]}`;case 0:return h?"today":`this ${s[t][0]}`}}const a=Object.is(e,-0)||e<0,o=Math.abs(e),u=o===1,l=s[t],c=r?u?l[1]:l[2]||l[1]:u?s[t][0]:t;return a?`${o} ${c} ago`:`in ${o} ${c}`}function Dr(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const Io={D:et,DD:Vn,DDD:An,DDDD:Wn,t:Ln,tt:$n,ttt:_n,tttt:zn,T:Rn,TT:Zn,TTT:Pn,TTTT:Un,f:Hn,ff:jn,fff:Gn,ffff:Bn,F:qn,FF:Yn,FFF:Jn,FFFF:Qn};class E{static create(e,n={}){return new E(e,n)}static parseFormat(e){let n=null,r="",s=!1;const i=[];for(let a=0;a<e.length;a++){const o=e.charAt(a);o==="\'"?(r.length>0&&i.push({literal:s||/^\\s+$/.test(r),val:r}),n=null,r="",s=!s):s||o===n?r+=o:(r.length>0&&i.push({literal:/^\\s+$/.test(r),val:r}),r=o,n=o)}return r.length>0&&i.push({literal:s||/^\\s+$/.test(r),val:r}),i}static macroTokenToFormatOpts(e){return Io[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return I(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",i=(d,k)=>this.loc.extract(e,d,k),a=d=>e.isOffsetFixed&&e.offset===0&&d.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,d.format):"",o=()=>r?So(e):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),u=(d,k)=>r?ko(e,d):i(k?{month:d}:{month:d,day:"numeric"},"month"),l=(d,k)=>r?Oo(e,d):i(k?{weekday:d}:{weekday:d,month:"long",day:"numeric"},"weekday"),c=d=>{const k=E.macroTokenToFormatOpts(d);return k?this.formatWithSystemDefault(e,k):d},h=d=>r?vo(e,d):i({era:d},"era"),g=d=>{switch(d){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return s?i({day:"numeric"},"day"):this.num(e.day);case"dd":return s?i({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return s?i({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return s?i({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return s?i({month:"numeric"},"month"):this.num(e.month);case"MM":return s?i({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return s?i({year:"numeric"},"year"):this.num(e.year);case"yy":return s?i({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return s?i({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return s?i({year:"numeric"},"year"):this.num(e.year,6);case"G":return h("short");case"GG":return h("long");case"GGGGG":return h("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(d)}};return Dr(E.parseFormat(n),g)}formatDurationFromString(e,n){const r=u=>{switch(u[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=u=>l=>{const c=r(l);return c?this.num(u.get(c),l.length):l},i=E.parseFormat(n),a=i.reduce((u,{literal:l,val:c})=>l?u:u.concat(c),[]),o=e.shiftTo(...a.map(r).filter(u=>u));return Dr(i,s(o))}}const Cr=/[A-Za-z_+-]{1,256}(?::?\\/[A-Za-z0-9_+-]{1,256}(?:\\/[A-Za-z0-9_+-]{1,256})?)?/;function ve(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function be(...t){return e=>t.reduce(([n,r,s],i)=>{const[a,o,u]=i(e,s);return[{...n,...a},o||r,u]},[{},null,1]).slice(0,2)}function Ie(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const s=n.exec(t);if(s)return r(s)}return[null,null]}function Fr(...t){return(e,n)=>{const r={};let s;for(s=0;s<t.length;s++)r[t[s]]=B(e[n+s]);return[r,null,n+s]}}const Vr=/(?:(Z)|([+-]\\d\\d)(?::?(\\d\\d))?)/,Eo=`(?:${Vr.source}?(?:\\\\[(${Cr.source})\\\\])?)?`,Ht=/(\\d\\d)(?::?(\\d\\d)(?::?(\\d\\d)(?:[.,](\\d{1,30}))?)?)?/,Ar=RegExp(`${Ht.source}${Eo}`),qt=RegExp(`(?:T${Ar.source})?`),No=/([+-]\\d{6}|\\d{4})(?:-?(\\d\\d)(?:-?(\\d\\d))?)?/,Mo=/(\\d{4})-?W(\\d\\d)(?:-?(\\d))?/,xo=/(\\d{4})-?(\\d{3})/,Do=Fr("weekYear","weekNumber","weekDay"),Co=Fr("year","ordinal"),Fo=/(\\d{4})-(\\d\\d)-(\\d\\d)/,Wr=RegExp(`${Ht.source} ?(?:${Vr.source}|(${Cr.source}))?`),Vo=RegExp(`(?: ${Wr.source})?`);function Ee(t,e,n){const r=t[e];return m(r)?n:B(r)}function Ao(t,e){return[{year:Ee(t,e),month:Ee(t,e+1,1),day:Ee(t,e+2,1)},null,e+3]}function Ne(t,e){return[{hours:Ee(t,e,0),minutes:Ee(t,e+1,0),seconds:Ee(t,e+2,0),milliseconds:Zt(t[e+3])},null,e+4]}function Ze(t,e){const n=!t[e]&&!t[e+1],r=lt(t[e+1],t[e+2]),s=n?null:N.instance(r);return[{},s,e+3]}function Pe(t,e){const n=t[e]?U.create(t[e]):null;return[{},n,e+1]}const Wo=RegExp(`^T?${Ht.source}$`),Lo=/^-?P(?:(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)Y)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)M)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)W)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)D)?(?:T(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)H)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)M)?(?:(-?\\d{1,20})(?:[.,](-?\\d{1,20}))?S)?)?)$/;function $o(t){const[e,n,r,s,i,a,o,u,l]=t,c=e[0]==="-",h=u&&u[0]==="-",g=(d,k=!1)=>d!==void 0&&(k||d&&c)?-d:d;return[{years:g(ae(n)),months:g(ae(r)),weeks:g(ae(s)),days:g(ae(i)),hours:g(ae(a)),minutes:g(ae(o)),seconds:g(ae(u),u==="-0"),milliseconds:g(Zt(l),h)}]}const _o={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function jt(t,e,n,r,s,i,a){const o={year:e.length===2?Ut(B(e)):B(e),month:vr.indexOf(n)+1,day:B(r),hour:B(s),minute:B(i)};return a&&(o.second=B(a)),t&&(o.weekday=t.length>3?Ir.indexOf(t)+1:Er.indexOf(t)+1),o}const zo=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\\d\\d)(\\d\\d)))$/;function Ro(t){const[,e,n,r,s,i,a,o,u,l,c,h]=t,g=jt(e,s,r,n,i,a,o);let d;return u?d=_o[u]:l?d=0:d=lt(c,h),[g,new N(d)]}function Zo(t){return t.replace(/\\([^()]*\\)|[\\n\\t]/g," ").replace(/(\\s\\s+)/g," ").trim()}const Po=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\\d\\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\\d{4}) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,Uo=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\\d\\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,Ho=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \\d|\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) (\\d{4})$/;function Lr(t){const[,e,n,r,s,i,a,o]=t;return[jt(e,s,r,n,i,a,o),N.utcInstance]}function qo(t){const[,e,n,r,s,i,a,o]=t;return[jt(e,o,n,r,s,i,a),N.utcInstance]}const jo=ve(No,qt),Yo=ve(Mo,qt),Go=ve(xo,qt),Jo=ve(Ar),$r=be(Ao,Ne,Ze,Pe),Bo=be(Do,Ne,Ze,Pe),Qo=be(Co,Ne,Ze,Pe),Ko=be(Ne,Ze,Pe);function Xo(t){return Ie(t,[jo,$r],[Yo,Bo],[Go,Qo],[Jo,Ko])}function eu(t){return Ie(Zo(t),[zo,Ro])}function tu(t){return Ie(t,[Po,Lr],[Uo,Lr],[Ho,qo])}function nu(t){return Ie(t,[Lo,$o])}const ru=be(Ne);function su(t){return Ie(t,[Wo,ru])}const iu=ve(Fo,Vo),au=ve(Wr),ou=be(Ne,Ze,Pe);function uu(t){return Ie(t,[iu,$r],[au,ou])}const _r="Invalid Duration",zr={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},lu={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...zr},W=146097/400,Me=146097/4800,cu={years:{quarters:4,months:12,weeks:W/7,days:W,hours:W*24,minutes:W*24*60,seconds:W*24*60*60,milliseconds:W*24*60*60*1e3},quarters:{months:3,weeks:W/28,days:W/4,hours:W*24/4,minutes:W*24*60/4,seconds:W*24*60*60/4,milliseconds:W*24*60*60*1e3/4},months:{weeks:Me/7,days:Me,hours:Me*24,minutes:Me*24*60,seconds:Me*24*60*60,milliseconds:Me*24*60*60*1e3},...zr},oe=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],fu=oe.slice(0).reverse();function Q(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new T(r)}function Rr(t,e){let n=e.milliseconds??0;for(const r of fu.slice(1))e[r]&&(n+=e[r]*t[r].milliseconds);return n}function Zr(t,e){const n=Rr(t,e)<0?-1:1;oe.reduceRight((r,s)=>{if(m(e[s]))return r;if(r){const i=e[r]*n,a=t[s][r],o=Math.floor(i/a);e[s]+=o*n,e[r]-=o*a*n}return s},null),oe.reduce((r,s)=>{if(m(e[s]))return r;if(r){const i=e[r]%1;e[r]-=i,e[s]+=i*t[r][s]}return s},null)}function du(t){const e={};for(const[n,r]of Object.entries(t))r!==0&&(e[n]=r);return e}class T{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?cu:lu;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||O.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return T.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new M(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new T({values:ct(e,T.normalizeUnit),loc:O.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(ie(e))return T.fromMillis(e);if(T.isDuration(e))return e;if(typeof e=="object")return T.fromObject(e);throw new M(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=nu(e);return r?T.fromObject(r,n):T.invalid("unparsable",`the input "${e}" can\'t be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=su(e);return r?T.fromObject(r,n):T.invalid("unparsable",`the input "${e}" can\'t be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new M("need to specify a reason the Duration is invalid");const r=e instanceof _?e:new _(e,n);if(b.throwOnInvalid)throw new _a(r);return new T({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new Fn(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?E.create(this.loc,r).formatDurationFromString(this,e):_r}toHuman(e={}){if(!this.isValid)return _r;const n=oe.map(r=>{const s=this.values[r];return m(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(s)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Pt(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},y.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Rr(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=T.fromDurationLike(e),r={};for(const s of oe)(Oe(n.values,s)||Oe(this.values,s))&&(r[s]=n.get(s)+this.get(s));return Q(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=T.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=kr(e(this.values[r],r));return Q(this,{values:n},!0)}get(e){return this[T.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...ct(e,T.normalizeUnit)};return Q(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:s}={}){const a={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:s,conversionAccuracy:r};return Q(this,a)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return Zr(this.matrix,e),Q(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=du(this.normalize().shiftToAll().toObject());return Q(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>T.normalizeUnit(a));const n={},r={},s=this.toObject();let i;for(const a of oe)if(e.indexOf(a)>=0){i=a;let o=0;for(const l in r)o+=this.matrix[l][a]*r[l],r[l]=0;ie(s[a])&&(o+=s[a]);const u=Math.trunc(o);n[a]=u,r[a]=(o*1e3-u*1e3)/1e3}else ie(s[a])&&(r[a]=s[a]);for(const a in r)r[a]!==0&&(n[i]+=a===i?r[a]:r[a]/this.matrix[i][a]);return Zr(this.matrix,n),Q(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return Q(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,s){return r===void 0||r===0?s===void 0||s===0:r===s}for(const r of oe)if(!n(this.values[r],e.values[r]))return!1;return!0}}const xe="Invalid Interval";function hu(t,e){return!t||!t.isValid?v.invalid("missing or invalid start"):!e||!e.isValid?v.invalid("missing or invalid end"):e<t?v.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class v{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new M("need to specify a reason the Interval is invalid");const r=e instanceof _?e:new _(e,n);if(b.throwOnInvalid)throw new $a(r);return new v({invalid:r})}static fromDateTimes(e,n){const r=He(e),s=He(n),i=hu(r,s);return i??new v({start:r,end:s})}static after(e,n){const r=T.fromDurationLike(n),s=He(e);return v.fromDateTimes(s,s.plus(r))}static before(e,n){const r=T.fromDurationLike(n),s=He(e);return v.fromDateTimes(s.minus(r),s)}static fromISO(e,n){const[r,s]=(e||"").split("/",2);if(r&&s){let i,a;try{i=y.fromISO(r,n),a=i.isValid}catch{a=!1}let o,u;try{o=y.fromISO(s,n),u=o.isValid}catch{u=!1}if(a&&u)return v.fromDateTimes(i,o);if(a){const l=T.fromISO(s,n);if(l.isValid)return v.after(i,l)}else if(u){const l=T.fromISO(r,n);if(l.isValid)return v.before(o,l)}}return v.invalid("unparsable",`the input "${e}" can\'t be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;const r=this.start.startOf(e,n);let s;return n!=null&&n.useLocaleWeeks?s=this.end.reconfigure({locale:r.locale}):s=this.end,s=s.startOf(e,n),Math.floor(s.diff(r,e).get(e))+(s.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?v.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(He).filter(a=>this.contains(a)).sort((a,o)=>a.toMillis()-o.toMillis()),r=[];let{s}=this,i=0;for(;s<this.e;){const a=n[i]||this.e,o=+a>+this.e?this.e:a;r.push(v.fromDateTimes(s,o)),s=o,i+=1}return r}splitBy(e){const n=T.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,s=1,i;const a=[];for(;r<this.e;){const o=this.start.plus(n.mapUnits(u=>u*s));i=+o>+this.e?this.e:o,a.push(v.fromDateTimes(r,i)),r=i,s+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:v.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return v.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((s,i)=>s.s-i.s).reduce(([s,i],a)=>i?i.overlaps(a)||i.abutsStart(a)?[s,i.union(a)]:[s.concat([i]),a]:[s,a],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const s=[],i=e.map(u=>[{time:u.s,type:"s"},{time:u.e,type:"e"}]),a=Array.prototype.concat(...i),o=a.sort((u,l)=>u.time-l.time);for(const u of o)r+=u.type==="s"?1:-1,r===1?n=u.time:(n&&+n!=+u.time&&s.push(v.fromDateTimes(n,u.time)),n=null);return v.merge(s)}difference(...e){return v.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:xe}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=et,n={}){return this.isValid?E.create(this.s.loc.clone(n),e).formatInterval(this):xe}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:xe}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:xe}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:xe}toFormat(e,{separator:n=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:xe}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):T.invalid(this.invalidReason)}mapEndpoints(e){return v.fromDateTimes(e(this.s),e(this.e))}}class dt{static hasDST(e=b.defaultZone){const n=y.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return U.isValidZone(e)}static normalizeZone(e){return J(e,b.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||O.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||O.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||O.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:s=null,outputCalendar:i="gregory"}={}){return(s||O.create(n,r,i)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:s=null,outputCalendar:i="gregory"}={}){return(s||O.create(n,r,i)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:s=null}={}){return(s||O.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:s=null}={}){return(s||O.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return O.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return O.create(n,null,"gregory").eras(e)}static features(){return{relative:pr(),localeWeek:wr()}}}function Pr(t,e){const n=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(T.fromMillis(r).as("days"))}function mu(t,e,n){const r=[["years",(u,l)=>l.year-u.year],["quarters",(u,l)=>l.quarter-u.quarter+(l.year-u.year)*4],["months",(u,l)=>l.month-u.month+(l.year-u.year)*12],["weeks",(u,l)=>{const c=Pr(u,l);return(c-c%7)/7}],["days",Pr]],s={},i=t;let a,o;for(const[u,l]of r)n.indexOf(u)>=0&&(a=u,s[u]=l(t,e),o=i.plus(s),o>e?(s[u]--,t=i.plus(s),t>e&&(o=t,s[u]--,t=i.plus(s))):t=o);return[t,s,o,a]}function yu(t,e,n,r){let[s,i,a,o]=mu(t,e,n);const u=e-s,l=n.filter(h=>["hours","minutes","seconds","milliseconds"].indexOf(h)>=0);l.length===0&&(a<e&&(a=s.plus({[o]:1})),a!==s&&(i[o]=(i[o]||0)+u/(a-s)));const c=T.fromObject(i,r);return l.length>0?T.fromMillis(u,r).shiftTo(...l).plus(c):c}const Yt={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\\\d"},Ur={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},gu=Yt.hanidec.replace(/[\\[|\\]]/g,"").split("");function pu(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search(Yt.hanidec)!==-1)e+=gu.indexOf(t[n]);else for(const s in Ur){const[i,a]=Ur[s];r>=i&&r<=a&&(e+=r-i)}}return parseInt(e,10)}else return e}function z({numberingSystem:t},e=""){return new RegExp(`${Yt[t||"latn"]}${e}`)}const wu="missing Intl.DateTimeFormat.formatToParts support";function S(t,e=n=>n){return{regex:t,deser:([n])=>e(pu(n))}}const Hr="[  ]",qr=new RegExp(Hr,"g");function Tu(t){return t.replace(/\\./g,"\\\\.?").replace(qr,Hr)}function jr(t){return t.replace(/\\./g,"").replace(qr," ").toLowerCase()}function R(t,e){return t===null?null:{regex:RegExp(t.map(Tu).join("|")),deser:([n])=>t.findIndex(r=>jr(n)===jr(r))+e}}function Yr(t,e){return{regex:t,deser:([,n,r])=>lt(n,r),groups:e}}function ht(t){return{regex:t,deser:([e])=>e}}function Su(t){return t.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,"\\\\$&")}function Ou(t,e){const n=z(e),r=z(e,"{2}"),s=z(e,"{3}"),i=z(e,"{4}"),a=z(e,"{6}"),o=z(e,"{1,2}"),u=z(e,"{1,3}"),l=z(e,"{1,6}"),c=z(e,"{1,9}"),h=z(e,"{2,4}"),g=z(e,"{4,6}"),d=x=>({regex:RegExp(Su(x.val)),deser:([H])=>H,literal:!0}),Z=(x=>{if(t.literal)return d(x);switch(x.val){case"G":return R(e.eras("short"),0);case"GG":return R(e.eras("long"),0);case"y":return S(l);case"yy":return S(h,Ut);case"yyyy":return S(i);case"yyyyy":return S(g);case"yyyyyy":return S(a);case"M":return S(o);case"MM":return S(r);case"MMM":return R(e.months("short",!0),1);case"MMMM":return R(e.months("long",!0),1);case"L":return S(o);case"LL":return S(r);case"LLL":return R(e.months("short",!1),1);case"LLLL":return R(e.months("long",!1),1);case"d":return S(o);case"dd":return S(r);case"o":return S(u);case"ooo":return S(s);case"HH":return S(r);case"H":return S(o);case"hh":return S(r);case"h":return S(o);case"mm":return S(r);case"m":return S(o);case"q":return S(o);case"qq":return S(r);case"s":return S(o);case"ss":return S(r);case"S":return S(u);case"SSS":return S(s);case"u":return ht(c);case"uu":return ht(o);case"uuu":return S(n);case"a":return R(e.meridiems(),0);case"kkkk":return S(i);case"kk":return S(h,Ut);case"W":return S(o);case"WW":return S(r);case"E":case"c":return S(n);case"EEE":return R(e.weekdays("short",!1),1);case"EEEE":return R(e.weekdays("long",!1),1);case"ccc":return R(e.weekdays("short",!0),1);case"cccc":return R(e.weekdays("long",!0),1);case"Z":case"ZZ":return Yr(new RegExp(`([+-]${o.source})(?::(${r.source}))?`),2);case"ZZZ":return Yr(new RegExp(`([+-]${o.source})(${r.source})?`),2);case"z":return ht(/[a-z_+-/]{1,256}?/i);case" ":return ht(/[^\\S\\n\\r]/);default:return d(x)}})(t)||{invalidReason:wu};return Z.token=t,Z}const ku={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function vu(t,e,n){const{type:r,value:s}=t;if(r==="literal"){const u=/^\\s+$/.test(s);return{literal:!u,val:u?" ":s}}const i=e[r];let a=r;r==="hour"&&(e.hour12!=null?a=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?a="hour12":a="hour24":a=n.hour12?"hour12":"hour24");let o=ku[a];if(typeof o=="object"&&(o=o[i]),o)return{literal:!1,val:o}}function bu(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function Iu(t,e,n){const r=t.match(e);if(r){const s={};let i=1;for(const a in n)if(Oe(n,a)){const o=n[a],u=o.groups?o.groups+1:1;!o.literal&&o.token&&(s[o.token.val[0]]=o.deser(r.slice(i,i+u))),i+=u}return[r,s]}else return[r,{}]}function Eu(t){const e=i=>{switch(i){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return m(t.z)||(n=U.create(t.z)),m(t.Z)||(n||(n=new N(t.Z)),r=t.Z),m(t.q)||(t.M=(t.q-1)*3+1),m(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),m(t.u)||(t.S=Zt(t.u)),[Object.keys(t).reduce((i,a)=>{const o=e(a);return o&&(i[o]=t[a]),i},{}),n,r]}let Gt=null;function Nu(){return Gt||(Gt=y.fromMillis(1555555555555)),Gt}function Mu(t,e){if(t.literal)return t;const n=E.macroTokenToFormatOpts(t.val),r=Br(n,e);return r==null||r.includes(void 0)?t:r}function Gr(t,e){return Array.prototype.concat(...t.map(n=>Mu(n,e)))}function Jr(t,e,n){const r=Gr(E.parseFormat(n),t),s=r.map(a=>Ou(a,t)),i=s.find(a=>a.invalidReason);if(i)return{input:e,tokens:r,invalidReason:i.invalidReason};{const[a,o]=bu(s),u=RegExp(a,"i"),[l,c]=Iu(e,u,o),[h,g,d]=c?Eu(c):[null,null,void 0];if(Oe(c,"a")&&Oe(c,"H"))throw new Se("Can\'t include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:u,rawMatches:l,matches:c,result:h,zone:g,specificOffset:d}}}function xu(t,e,n){const{result:r,zone:s,specificOffset:i,invalidReason:a}=Jr(t,e,n);return[r,s,i,a]}function Br(t,e){if(!t)return null;const r=E.create(e,t).dtFormatter(Nu()),s=r.formatToParts(),i=r.resolvedOptions();return s.map(a=>vu(a,t,i))}const Jt="Invalid DateTime",Du=864e13;function mt(t){return new _("unsupported zone",`the zone "${t.name}" is not supported`)}function Bt(t){return t.weekData===null&&(t.weekData=it(t.c)),t.weekData}function Qt(t){return t.localWeekData===null&&(t.localWeekData=it(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function ue(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new y({...n,...e,old:n})}function Qr(t,e,n){let r=t-e*60*1e3;const s=n.offset(r);if(e===s)return[r,e];r-=(s-e)*60*1e3;const i=n.offset(r);return s===i?[r,s]:[t-Math.min(s,i)*60*1e3,Math.max(s,i)]}function yt(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function gt(t,e,n){return Qr(ut(t),e,n)}function Kr(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),s=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,i={...t.c,year:r,month:s,day:Math.min(t.c.day,ot(r,s))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},a=T.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=ut(i);let[u,l]=Qr(o,n,t.zone);return a!==0&&(u+=a,l=t.zone.offset(u)),{ts:u,o:l}}function Ue(t,e,n,r,s,i){const{setZone:a,zone:o}=n;if(t&&Object.keys(t).length!==0||e){const u=e||o,l=y.fromObject(t,{...n,zone:u,specificOffset:i});return a?l:l.setZone(o)}else return y.invalid(new _("unparsable",`the input "${s}" can\'t be parsed as ${r}`))}function pt(t,e,n=!0){return t.isValid?E.create(O.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Kt(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=I(t.c.year,n?6:4),e?(r+="-",r+=I(t.c.month),r+="-",r+=I(t.c.day)):(r+=I(t.c.month),r+=I(t.c.day)),r}function Xr(t,e,n,r,s,i){let a=I(t.c.hour);return e?(a+=":",a+=I(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(a+=":")):a+=I(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(a+=I(t.c.second),(t.c.millisecond!==0||!r)&&(a+=".",a+=I(t.c.millisecond,3))),s&&(t.isOffsetFixed&&t.offset===0&&!i?a+="Z":t.o<0?(a+="-",a+=I(Math.trunc(-t.o/60)),a+=":",a+=I(Math.trunc(-t.o%60))):(a+="+",a+=I(Math.trunc(t.o/60)),a+=":",a+=I(Math.trunc(t.o%60)))),i&&(a+="["+t.zone.ianaName+"]"),a}const es={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Cu={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Fu={ordinal:1,hour:0,minute:0,second:0,millisecond:0},ts=["year","month","day","hour","minute","second","millisecond"],Vu=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Au=["year","ordinal","hour","minute","second","millisecond"];function Wu(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new Fn(t);return e}function ns(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Wu(t)}}function rs(t,e){const n=J(e.zone,b.defaultZone),r=O.fromObject(e),s=b.now();let i,a;if(m(t.year))i=s;else{for(const l of ts)m(t[l])&&(t[l]=es[l]);const o=yr(t)||gr(t);if(o)return y.invalid(o);const u=n.offset(s);[i,a]=gt(t,u,n)}return new y({ts:i,zone:n,loc:r,o:a})}function ss(t,e,n){const r=m(n.round)?!0:n.round,s=(a,o)=>(a=Pt(a,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(a,o)),i=a=>n.calendary?e.hasSame(t,a)?0:e.startOf(a).diff(t.startOf(a),a).get(a):e.diff(t,a).get(a);if(n.unit)return s(i(n.unit),n.unit);for(const a of n.units){const o=i(a);if(Math.abs(o)>=1)return s(o,a)}return s(t>e?-0:0,n.units[n.units.length-1])}function is(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}class y{constructor(e){const n=e.zone||b.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new _("invalid input"):null)||(n.isValid?null:mt(n));this.ts=m(e.ts)?b.now():e.ts;let s=null,i=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[s,i]=[e.old.c,e.old.o];else{const o=n.offset(this.ts);s=yt(this.ts,o),r=Number.isNaN(s.year)?new _("invalid input"):null,s=r?null:s,i=r?null:o}this._zone=n,this.loc=e.loc||O.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=s,this.o=i,this.isLuxonDateTime=!0}static now(){return new y({})}static local(){const[e,n]=is(arguments),[r,s,i,a,o,u,l]=n;return rs({year:r,month:s,day:i,hour:a,minute:o,second:u,millisecond:l},e)}static utc(){const[e,n]=is(arguments),[r,s,i,a,o,u,l]=n;return e.zone=N.utcInstance,rs({year:r,month:s,day:i,hour:a,minute:o,second:u,millisecond:l},e)}static fromJSDate(e,n={}){const r=lo(e)?e.valueOf():NaN;if(Number.isNaN(r))return y.invalid("invalid input");const s=J(n.zone,b.defaultZone);return s.isValid?new y({ts:r,zone:s,loc:O.fromObject(n)}):y.invalid(mt(s))}static fromMillis(e,n={}){if(ie(e))return e<-864e13||e>Du?y.invalid("Timestamp out of range"):new y({ts:e,zone:J(n.zone,b.defaultZone),loc:O.fromObject(n)});throw new M(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(ie(e))return new y({ts:e*1e3,zone:J(n.zone,b.defaultZone),loc:O.fromObject(n)});throw new M("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=J(n.zone,b.defaultZone);if(!r.isValid)return y.invalid(mt(r));const s=O.fromObject(n),i=ct(e,ns),{minDaysInFirstWeek:a,startOfWeek:o}=mr(i,s),u=b.now(),l=m(n.specificOffset)?r.offset(u):n.specificOffset,c=!m(i.ordinal),h=!m(i.year),g=!m(i.month)||!m(i.day),d=h||g,k=i.weekYear||i.weekNumber;if((d||c)&&k)throw new Se("Can\'t mix weekYear/weekNumber units with year/month/day or ordinals");if(g&&c)throw new Se("Can\'t mix ordinal dates with month/day");const Z=k||i.weekday&&!d;let x,H,K=yt(u,l);Z?(x=Vu,H=Cu,K=it(K,a,o)):c?(x=Au,H=Fu,K=zt(K)):(x=ts,H=es);let wt=!1;for(const fe of x){const Xt=i[fe];m(Xt)?wt?i[fe]=H[fe]:i[fe]=K[fe]:wt=!0}const X=Z?ao(i,a,o):c?oo(i):yr(i),le=X||gr(i);if(le)return y.invalid(le);const De=Z?dr(i,a,o):c?hr(i):i,[ce,Ce]=gt(De,l,r),Fe=new y({ts:ce,zone:r,o:Ce,loc:s});return i.weekday&&d&&e.weekday!==Fe.weekday?y.invalid("mismatched weekday",`you can\'t specify both a weekday of ${i.weekday} and a date of ${Fe.toISO()}`):Fe}static fromISO(e,n={}){const[r,s]=Xo(e);return Ue(r,s,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,s]=eu(e);return Ue(r,s,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,s]=tu(e);return Ue(r,s,n,"HTTP",n)}static fromFormat(e,n,r={}){if(m(e)||m(n))throw new M("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:i=null}=r,a=O.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0}),[o,u,l,c]=xu(a,e,n);return c?y.invalid(c):Ue(o,u,r,`format ${n}`,e,l)}static fromString(e,n,r={}){return y.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,s]=uu(e);return Ue(r,s,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new M("need to specify a reason the DateTime is invalid");const r=e instanceof _?e:new _(e,n);if(b.throwOnInvalid)throw new La(r);return new y({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=Br(e,O.fromObject(n));return r?r.map(s=>s?s.val:null).join(""):null}static expandFormat(e,n={}){return Gr(E.parseFormat(e),O.fromObject(n)).map(s=>s.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Bt(this).weekYear:NaN}get weekNumber(){return this.isValid?Bt(this).weekNumber:NaN}get weekday(){return this.isValid?Bt(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Qt(this).weekday:NaN}get localWeekNumber(){return this.isValid?Qt(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Qt(this).weekYear:NaN}get ordinal(){return this.isValid?zt(this.c).ordinal:NaN}get monthShort(){return this.isValid?dt.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?dt.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?dt.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?dt.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,r=ut(this.c),s=this.zone.offset(r-e),i=this.zone.offset(r+e),a=this.zone.offset(r-s*n),o=this.zone.offset(r-i*n);if(a===o)return[this];const u=r-a*n,l=r-o*n,c=yt(u,a),h=yt(l,o);return c.hour===h.hour&&c.minute===h.minute&&c.second===h.second&&c.millisecond===h.millisecond?[ue(this,{ts:u}),ue(this,{ts:l})]:[this]}get isInLeapYear(){return _e(this.year)}get daysInMonth(){return ot(this.year,this.month)}get daysInYear(){return this.isValid?ke(this.year):NaN}get weeksInWeekYear(){return this.isValid?ze(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?ze(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:s}=E.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:s}}toUTC(e=0,n={}){return this.setZone(N.instance(e),n)}toLocal(){return this.setZone(b.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=J(e,b.defaultZone),e.equals(this.zone))return this;if(e.isValid){let s=this.ts;if(n||r){const i=e.offset(this.ts),a=this.toObject();[s]=gt(a,i,e)}return ue(this,{ts:s,zone:e})}else return y.invalid(mt(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const s=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return ue(this,{loc:s})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=ct(e,ns),{minDaysInFirstWeek:r,startOfWeek:s}=mr(n,this.loc),i=!m(n.weekYear)||!m(n.weekNumber)||!m(n.weekday),a=!m(n.ordinal),o=!m(n.year),u=!m(n.month)||!m(n.day),l=o||u,c=n.weekYear||n.weekNumber;if((l||a)&&c)throw new Se("Can\'t mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&a)throw new Se("Can\'t mix ordinal dates with month/day");let h;i?h=dr({...it(this.c,r,s),...n},r,s):m(n.ordinal)?(h={...this.toObject(),...n},m(n.day)&&(h.day=Math.min(ot(h.year,h.month),h.day))):h=hr({...zt(this.c),...n});const[g,d]=gt(h,this.o,this.zone);return ue(this,{ts:g,o:d})}plus(e){if(!this.isValid)return this;const n=T.fromDurationLike(e);return ue(this,Kr(this,n))}minus(e){if(!this.isValid)return this;const n=T.fromDurationLike(e).negate();return ue(this,Kr(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const r={},s=T.normalizeUnit(e);switch(s){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(s==="weeks")if(n){const i=this.loc.getStartOfWeek(),{weekday:a}=this;a<i&&(r.weekNumber=this.weekNumber-1),r.weekday=i}else r.weekday=1;if(s==="quarters"){const i=Math.ceil(this.month/3);r.month=(i-1)*3+1}return this.set(r)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?E.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):Jt}toLocaleString(e=et,n={}){return this.isValid?E.create(this.loc.clone(n),e).formatDateTime(this):Jt}toLocaleParts(e={}){return this.isValid?E.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:s=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;const a=e==="extended";let o=Kt(this,a);return o+="T",o+=Xr(this,a,n,r,s,i),o}toISODate({format:e="extended"}={}){return this.isValid?Kt(this,e==="extended"):null}toISOWeekDate(){return pt(this,"kkkk-\'W\'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:s=!1,extendedZone:i=!1,format:a="extended"}={}){return this.isValid?(s?"T":"")+Xr(this,a==="extended",n,e,r,i):null}toRFC2822(){return pt(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return pt(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss \'GMT\'")}toSQLDate(){return this.isValid?Kt(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let s="HH:mm:ss.SSS";return(n||e)&&(r&&(s+=" "),n?s+="z":e&&(s+="ZZ")),pt(this,s,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Jt}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return T.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...r},i=co(n).map(T.normalizeUnit),a=e.valueOf()>this.valueOf(),o=a?this:e,u=a?e:this,l=yu(o,u,i,s);return a?l.negate():l}diffNow(e="milliseconds",n={}){return this.diff(y.now(),e,n)}until(e){return this.isValid?v.fromDateTimes(this,e):this}hasSame(e,n,r){if(!this.isValid)return!1;const s=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(n,r)<=s&&s<=i.endOf(n,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||y.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let s=["years","months","days","hours","minutes","seconds"],i=e.unit;return Array.isArray(e.unit)&&(s=e.unit,i=void 0),ss(n,this.plus(r),{...e,numeric:"always",units:s,unit:i})}toRelativeCalendar(e={}){return this.isValid?ss(e.base||y.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(y.isDateTime))throw new M("min requires all arguments be DateTimes");return Tr(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(y.isDateTime))throw new M("max requires all arguments be DateTimes");return Tr(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:s=null,numberingSystem:i=null}=r,a=O.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0});return Jr(a,e,n)}static fromStringExplain(e,n,r={}){return y.fromFormatExplain(e,n,r)}static get DATE_SHORT(){return et}static get DATE_MED(){return Vn}static get DATE_MED_WITH_WEEKDAY(){return za}static get DATE_FULL(){return An}static get DATE_HUGE(){return Wn}static get TIME_SIMPLE(){return Ln}static get TIME_WITH_SECONDS(){return $n}static get TIME_WITH_SHORT_OFFSET(){return _n}static get TIME_WITH_LONG_OFFSET(){return zn}static get TIME_24_SIMPLE(){return Rn}static get TIME_24_WITH_SECONDS(){return Zn}static get TIME_24_WITH_SHORT_OFFSET(){return Pn}static get TIME_24_WITH_LONG_OFFSET(){return Un}static get DATETIME_SHORT(){return Hn}static get DATETIME_SHORT_WITH_SECONDS(){return qn}static get DATETIME_MED(){return jn}static get DATETIME_MED_WITH_SECONDS(){return Yn}static get DATETIME_MED_WITH_WEEKDAY(){return Ra}static get DATETIME_FULL(){return Gn}static get DATETIME_FULL_WITH_SECONDS(){return Jn}static get DATETIME_HUGE(){return Bn}static get DATETIME_HUGE_WITH_SECONDS(){return Qn}}function He(t){if(y.isDateTime(t))return t;if(t&&t.valueOf&&ie(t.valueOf()))return y.fromJSDate(t);if(t&&typeof t=="object")return y.fromObject(t);throw new M(`Unknown datetime argument: ${t}, of type ${typeof t}`)}function Lu({collections:t},{tableIds:e,tableColumnIds:n,relationshipIds:r,indexIds:s,indexColumnIds:i,memoIds:a}){F(t).collection("tableEntities").removeMany(e),F(t).collection("tableColumnEntities").removeMany(n),F(t).collection("relationshipEntities").removeMany(r),F(t).collection("indexEntities").removeMany(s),F(t).collection("indexColumnEntities").removeMany(i),F(t).collection("memoEntities").removeMany(a)}const $u=3;class _u{async run(e){const n=JSON.parse(e),r=xa(n),{doc:{tableIds:s,memoIds:i,indexIds:a,relationshipIds:o},collections:u}=r,l=pe(s),c=pe(i),h=pe(a),g=pe(o),d=zu(y.now()),k=F(u).collection("tableEntities"),Z=F(u).collection("tableColumnEntities"),x=F(u).collection("indexEntities"),H=F(u).collection("indexColumnEntities"),K=F(u).collection("relationshipEntities"),wt=F(u).collection("memoEntities"),X=new Set(k.selectAll().filter(d(l)).map(({id:w})=>w)),le=new Set,De=new Set(K.selectAll().filter(d(g)).map(({id:w})=>w)),ce=new Set(x.selectAll().filter(d(h)).map(({id:w})=>w)),Ce=new Set,Fe=new Set(wt.selectAll().filter(d(c)).map(({id:w})=>w));Z.selectAll().filter(({tableId:w})=>X.has(w)).forEach(({id:w})=>le.add(w)),K.selectAll().filter(({id:w,start:de,end:qe})=>!De.has(w)&&(X.has(de.tableId)||X.has(qe.tableId))).forEach(({id:w})=>De.add(w)),x.selectAll().filter(({id:w,tableId:de})=>!ce.has(w)&&X.has(de)).forEach(({id:w})=>ce.add(w)),H.selectAll().filter(({indexId:w})=>ce.has(w)).forEach(({id:w})=>Ce.add(w)),Lu(r,{tableIds:[...X],tableColumnIds:[...le],relationshipIds:[...De],indexIds:[...ce],indexColumnIds:[...Ce],memoIds:[...Fe]});const fe=pe(k.selectAll().map(({id:w})=>w)),Xt=pe(x.selectAll().map(({id:w})=>w));return Z.selectAll().filter(({tableId:w,id:de,meta:qe})=>!fe(w)&&d(()=>!1)({id:de,meta:qe})).forEach(({id:w})=>le.add(w)),H.selectAll().filter(({indexId:w,id:de,meta:qe})=>!Xt(w)&&d(()=>!1)({id:de,meta:qe})).forEach(({id:w})=>Ce.add(w)),{tableIds:[...X],tableColumnIds:[...le],relationshipIds:[...De],indexIds:[...ce],indexColumnIds:[...Ce],memoIds:[...Fe]}}}const zu=t=>e=>({id:n,meta:r})=>{if(e(n))return!1;const s=Math.floor(t.diff(y.fromMillis(r.updateAt),"days").toObject().days??0);return $u<s},Ru=new _u;self.onconnect=t=>{const e=t.ports[0];St(Ru,e)}})();\n'),{name:null==e?void 0:e.name})}const OW='(function(){"use strict";/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */const en=Symbol("Comlink.proxy"),as=Symbol("Comlink.endpoint"),os=Symbol("Comlink.releaseProxy"),Tt=Symbol("Comlink.finalizer"),je=Symbol("Comlink.thrown"),tn=t=>typeof t=="object"&&t!==null||typeof t=="function",us={canHandle:t=>tn(t)&&t[en],serialize(t){const{port1:e,port2:n}=new MessageChannel;return St(t,e),[n,[n]]},deserialize(t){return t.start(),ds(t)}},ls={canHandle:t=>tn(t)&&je in t,serialize({value:t}){let e;return t instanceof Error?e={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:e={isError:!1,value:t},[e,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},nn=new Map([["proxy",us],["throw",ls]]);function cs(t,e){for(const n of t)if(e===n||n==="*"||n instanceof RegExp&&n.test(e))return!0;return!1}function St(t,e=globalThis,n=["*"]){e.addEventListener("message",function r(s){if(!s||!s.data)return;if(!cs(n,s.origin)){console.warn(`Invalid origin \'${s.origin}\' for comlink proxy`);return}const{id:i,type:a,path:o}=Object.assign({path:[]},s.data),u=(s.data.argumentList||[]).map(ee);let l;try{const c=o.slice(0,-1).reduce((g,d)=>g[d],t),h=o.reduce((g,d)=>g[d],t);switch(a){case"GET":l=h;break;case"SET":c[o.slice(-1)[0]]=ee(s.data.value),l=!0;break;case"APPLY":l=h.apply(c,u);break;case"CONSTRUCT":{const g=new h(...u);l=ps(g)}break;case"ENDPOINT":{const{port1:g,port2:d}=new MessageChannel;St(t,d),l=gs(g,[g])}break;case"RELEASE":l=void 0;break;default:return}}catch(c){l={value:c,[je]:0}}Promise.resolve(l).catch(c=>({value:c,[je]:0})).then(c=>{const[h,g]=Be(c);e.postMessage(Object.assign(Object.assign({},h),{id:i}),g),a==="RELEASE"&&(e.removeEventListener("message",r),rn(e),Tt in t&&typeof t[Tt]=="function"&&t[Tt]())}).catch(c=>{const[h,g]=Be({value:new TypeError("Unserializable return value"),[je]:0});e.postMessage(Object.assign(Object.assign({},h),{id:i}),g)})}),e.start&&e.start()}function fs(t){return t.constructor.name==="MessagePort"}function rn(t){fs(t)&&t.close()}function ds(t,e){return Ot(t,[],e)}function Ye(t){if(t)throw new Error("Proxy has been released and is not useable")}function sn(t){return he(t,{type:"RELEASE"}).then(()=>{rn(t)})}const Ge=new WeakMap,Je="FinalizationRegistry"in globalThis&&new FinalizationRegistry(t=>{const e=(Ge.get(t)||0)-1;Ge.set(t,e),e===0&&sn(t)});function hs(t,e){const n=(Ge.get(e)||0)+1;Ge.set(e,n),Je&&Je.register(t,e,t)}function ms(t){Je&&Je.unregister(t)}function Ot(t,e=[],n=function(){}){let r=!1;const s=new Proxy(n,{get(i,a){if(Ye(r),a===os)return()=>{ms(s),sn(t),r=!0};if(a==="then"){if(e.length===0)return{then:()=>s};const o=he(t,{type:"GET",path:e.map(u=>u.toString())}).then(ee);return o.then.bind(o)}return Ot(t,[...e,a])},set(i,a,o){Ye(r);const[u,l]=Be(o);return he(t,{type:"SET",path:[...e,a].map(c=>c.toString()),value:u},l).then(ee)},apply(i,a,o){Ye(r);const u=e[e.length-1];if(u===as)return he(t,{type:"ENDPOINT"}).then(ee);if(u==="bind")return Ot(t,e.slice(0,-1));const[l,c]=an(o);return he(t,{type:"APPLY",path:e.map(h=>h.toString()),argumentList:l},c).then(ee)},construct(i,a){Ye(r);const[o,u]=an(a);return he(t,{type:"CONSTRUCT",path:e.map(l=>l.toString()),argumentList:o},u).then(ee)}});return hs(s,t),s}function ys(t){return Array.prototype.concat.apply([],t)}function an(t){const e=t.map(Be);return[e.map(n=>n[0]),ys(e.map(n=>n[1]))]}const on=new WeakMap;function gs(t,e){return on.set(t,e),t}function ps(t){return Object.assign(t,{[en]:!0})}function Be(t){for(const[e,n]of nn)if(n.canHandle(t)){const[r,s]=n.serialize(t);return[{type:"HANDLER",name:e,value:r},s]}return[{type:"RAW",value:t},on.get(t)||[]]}function ee(t){switch(t.type){case"HANDLER":return nn.get(t.name).deserialize(t.value);case"RAW":return t.value}}function he(t,e,n){return new Promise(r=>{const s=ws();t.addEventListener("message",function i(a){!a.data||!a.data.id||a.data.id!==s||(t.removeEventListener("message",i),r(a.data))}),t.start&&t.start(),t.postMessage(Object.assign({id:s},e),n)})}function ws(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var Ts=typeof global=="object"&&global&&global.Object===Object&&global,Ss=typeof self=="object"&&self&&self.Object===Object&&self,kt=Ts||Ss||Function("return this")(),me=kt.Symbol,un=Object.prototype,Os=un.hasOwnProperty,ks=un.toString,Ve=me?me.toStringTag:void 0;function vs(t){var e=Os.call(t,Ve),n=t[Ve];try{t[Ve]=void 0;var r=!0}catch{}var s=ks.call(t);return r&&(e?t[Ve]=n:delete t[Ve]),s}var bs=Object.prototype,Is=bs.toString;function Es(t){return Is.call(t)}var Ns="[object Null]",Ms="[object Undefined]",ln=me?me.toStringTag:void 0;function cn(t){return t==null?t===void 0?Ms:Ns:ln&&ln in Object(t)?vs(t):Es(t)}function vt(t){return t!=null&&typeof t=="object"}var xs=Array.isArray;function fn(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function dn(t){return t}var Ds="[object AsyncFunction]",Cs="[object Function]",Fs="[object GeneratorFunction]",Vs="[object Proxy]";function hn(t){if(!fn(t))return!1;var e=cn(t);return e==Cs||e==Fs||e==Ds||e==Vs}var bt=kt["__core-js_shared__"],mn=function(){var t=/[^.]+$/.exec(bt&&bt.keys&&bt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function As(t){return!!mn&&mn in t}var Ws=Function.prototype,Ls=Ws.toString;function $s(t){if(t!=null){try{return Ls.call(t)}catch{}try{return t+""}catch{}}return""}var _s=/[\\\\^$.*+?()[\\]{}|]/g,zs=/^\\[object .+?Constructor\\]$/,Rs=Function.prototype,Zs=Object.prototype,Ps=Rs.toString,Us=Zs.hasOwnProperty,Hs=RegExp("^"+Ps.call(Us).replace(_s,"\\\\$&").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,"$1.*?")+"$");function qs(t){if(!fn(t)||As(t))return!1;var e=hn(t)?Hs:zs;return e.test($s(t))}function js(t,e){return t==null?void 0:t[e]}function It(t,e){var n=js(t,e);return qs(n)?n:void 0}function Ys(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Gs=800,Js=16,Bs=Date.now;function Qs(t){var e=0,n=0;return function(){var r=Bs(),s=Js-(r-n);if(n=r,s>0){if(++e>=Gs)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Ks(t){return function(){return t}}var yn=function(){try{var t=It(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Xs=yn?function(t,e){return yn(t,"toString",{configurable:!0,enumerable:!1,value:Ks(e),writable:!0})}:dn,ei=Qs(Xs);function ti(t,e,n,r){for(var s=t.length,i=n+-1;++i<s;)if(e(t[i],i,t))return i;return-1}function ni(t){return t!==t}function ri(t,e,n){for(var r=n-1,s=t.length;++r<s;)if(t[r]===e)return r;return-1}function si(t,e,n){return e===e?ri(t,e,n):ti(t,ni,n)}function ii(t,e){var n=t==null?0:t.length;return!!n&&si(t,e,0)>-1}function ai(t,e){return t===e||t!==t&&e!==e}var gn=Math.max;function oi(t,e,n){return e=gn(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,i=gn(r.length-e,0),a=Array(i);++s<i;)a[s]=r[e+s];s=-1;for(var o=Array(e+1);++s<e;)o[s]=r[s];return o[e]=n(a),Ys(t,this,o)}}function ui(t,e){return ei(oi(t,e,dn),t+"")}var li=9007199254740991;function ci(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=li}function fi(t){return t!=null&&ci(t.length)&&!hn(t)}var di="[object Arguments]";function pn(t){return vt(t)&&cn(t)==di}var wn=Object.prototype,hi=wn.hasOwnProperty,mi=wn.propertyIsEnumerable,yi=pn(function(){return arguments}())?pn:function(t){return vt(t)&&hi.call(t,"callee")&&!mi.call(t,"callee")},Ae=It(Object,"create");function gi(){this.__data__=Ae?Ae(null):{},this.size=0}function pi(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var wi="__lodash_hash_undefined__",Ti=Object.prototype,Si=Ti.hasOwnProperty;function Oi(t){var e=this.__data__;if(Ae){var n=e[t];return n===wi?void 0:n}return Si.call(e,t)?e[t]:void 0}var ki=Object.prototype,vi=ki.hasOwnProperty;function bi(t){var e=this.__data__;return Ae?e[t]!==void 0:vi.call(e,t)}var Ii="__lodash_hash_undefined__";function Ei(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ae&&e===void 0?Ii:e,this}function te(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}te.prototype.clear=gi,te.prototype.delete=pi,te.prototype.get=Oi,te.prototype.has=bi,te.prototype.set=Ei;function Ni(){this.__data__=[],this.size=0}function Qe(t,e){for(var n=t.length;n--;)if(ai(t[n][0],e))return n;return-1}var Mi=Array.prototype,xi=Mi.splice;function Di(t){var e=this.__data__,n=Qe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():xi.call(e,n,1),--this.size,!0}function Ci(t){var e=this.__data__,n=Qe(e,t);return n<0?void 0:e[n][1]}function Fi(t){return Qe(this.__data__,t)>-1}function Vi(t,e){var n=this.__data__,r=Qe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function ye(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ye.prototype.clear=Ni,ye.prototype.delete=Di,ye.prototype.get=Ci,ye.prototype.has=Fi,ye.prototype.set=Vi;var Ai=It(kt,"Map");function Wi(){this.size=0,this.__data__={hash:new te,map:new(Ai||ye),string:new te}}function Li(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Ke(t,e){var n=t.__data__;return Li(e)?n[typeof e=="string"?"string":"hash"]:n.map}function $i(t){var e=Ke(this,t).delete(t);return this.size-=e?1:0,e}function _i(t){return Ke(this,t).get(t)}function zi(t){return Ke(this,t).has(t)}function Ri(t,e){var n=Ke(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ge(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ge.prototype.clear=Wi,ge.prototype.delete=$i,ge.prototype.get=_i,ge.prototype.has=zi,ge.prototype.set=Ri;function Zi(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var Tn=me?me.isConcatSpreadable:void 0;function Pi(t){return xs(t)||yi(t)||!!(Tn&&t&&t[Tn])}function Ui(t,e,n,r,s){var i=-1,a=t.length;for(n||(n=Pi),s||(s=[]);++i<a;){var o=t[i];n(o)&&Zi(s,o)}return s}var Hi="__lodash_hash_undefined__";function qi(t){return this.__data__.set(t,Hi),this}function ji(t){return this.__data__.has(t)}function Xe(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ge;++e<n;)this.add(t[e])}Xe.prototype.add=Xe.prototype.push=qi,Xe.prototype.has=ji;function Yi(t,e){return t.has(e)}function Sn(t){return vt(t)&&fi(t)}var Gi=200;function Ji(t,e,n,r){var s=-1,i=ii,a=!0,o=t.length,u=[],l=e.length;if(!o)return u;e.length>=Gi&&(i=Yi,a=!1,e=new Xe(e));e:for(;++s<o;){var c=t[s],h=c;if(c=c!==0?c:0,a&&h===h){for(var g=l;g--;)if(e[g]===h)continue e;u.push(c)}else i(e,h,r)||u.push(c)}return u}var Bi=ui(function(t,e){return Sn(t)?Ji(t,Ui(e,1,Sn)):[]});function pe(t){const e=new Set(t);return n=>e.has(n)}const We=t=>e=>typeof e===t,Qi=We("object"),Et=We("boolean"),D=We("number"),L=We("string"),Ki=We("undefined"),On=t=>t===null,q=t=>On(t)||Ki(t),{isArray:ne}=Array,j=t=>Qi(t)&&!On(t)&&!ne(t),Nt=(t,e)=>n=>Math.min(Math.max(n,t),e);/*!\n * @dineug/erd-editor-schema\n * @version 0.1.0 | Wed May 07 2025\n * @author SeungHwan-Lee <dineug2@gmail.com>\n * @license MIT\n */function p(t,e,n){return r=>{if(!n)return;const s=n[r];t(s)&&(e[r]=s)}}function P(t){return e=>D(e)&&t.includes(e)}function we(){const t=Date.now();return{updateAt:t,createAt:t}}function Te(t,e){const n=p(D,t,e);n("updateAt"),n("createAt")}const Xi=()=>({tableIds:[],relationshipIds:[],indexIds:[],memoIds:[]});function ea(t){const e=Xi();if(!j(t)||q(t))return e;const n=p(ne,e,t);return n("tableIds"),n("relationshipIds"),n("indexIds"),n("memoIds"),e}const ta=()=>({id:"",name:"",tableId:"",indexColumnIds:[],seqIndexColumnIds:[],unique:!1,meta:we()});function na(t){const e={};if(!j(t)||q(t))return e;for(const n of Object.values(t)){if(!n)continue;const r=ta(),s=p(L,r,n),i=p(Et,r,n),a=p(ne,r,n);s("id"),s("name"),s("tableId"),i("unique"),a("indexColumnIds"),a("seqIndexColumnIds"),Te(r.meta,n.meta),r.id&&(e[r.id]=r)}return e}const kn={ASC:1,DESC:2},ra=Object.values(kn),sa=()=>({id:"",indexId:"",columnId:"",orderType:kn.ASC,meta:we()});function ia(t){const e={};if(!j(t)||q(t))return e;for(const n of Object.values(t)){if(!n)continue;const r=sa(),s=p(L,r,n);s("id"),s("indexId"),s("columnId"),p(P(ra),r,n)("orderType"),Te(r.meta,n.meta),r.id&&(e[r.id]=r)}return e}const aa=()=>({id:"",value:"",ui:{x:200,y:100,zIndex:2,width:116,height:100,color:""},meta:we()});function oa(t){const e={};if(!j(t)||q(t))return e;for(const n of Object.values(t)){if(!n)continue;const r=aa(),s=p(L,r,n),i=p(D,r.ui,n.ui),a=p(L,r.ui,n.ui);s("id"),s("value"),a("color"),i("x"),i("y"),i("zIndex"),i("width"),i("height"),Te(r.meta,n.meta),r.id&&(e[r.id]=r)}return e}const vn={ZeroOne:2,ZeroN:4,OneOnly:8,OneN:16},ua=Object.values(vn),bn={ring:1,dash:2},la=Object.values(bn),Mt={left:1,right:2,top:4,bottom:8},In=Object.values(Mt),ca=()=>({id:"",identification:!1,relationshipType:vn.ZeroN,startRelationshipType:bn.dash,start:{tableId:"",columnIds:[],x:0,y:0,direction:Mt.bottom},end:{tableId:"",columnIds:[],x:0,y:0,direction:Mt.bottom},meta:we()});function fa(t){const e={};if(!j(t)||q(t))return e;for(const n of Object.values(t)){if(!n)continue;const r=ca(),s=p(L,r,n),i=p(Et,r,n),a=p(D,r.start,n.start),o=p(L,r.start,n.start),u=p(D,r.end,n.end),l=p(L,r.end,n.end);s("id"),i("identification"),p(P(ua),r,n)("relationshipType"),p(P(la),r,n)("startRelationshipType"),o("tableId"),a("x"),a("y"),p(P(In),r.start,n.start)("direction"),p(ne,r.start,n.start)("columnIds"),l("tableId"),u("x"),u("y"),p(P(In),r.end,n.end)("direction"),p(ne,r.end,n.end)("columnIds"),Te(r.meta,n.meta),r.id&&(e[r.id]=r)}return e}const da={ERD:"ERD"},re={tableComment:1,columnComment:2,columnDataType:4,columnDefault:8,columnPrimaryKey:32,columnNotNull:128,relationship:256},Y={columnName:1,columnDataType:2,columnNotNull:4,columnUnique:8,columnAutoIncrement:16,columnDefault:32,columnComment:64},En=Object.values(Y),Nn={MariaDB:1,MSSQL:2,MySQL:4,Oracle:8,PostgreSQL:16,SQLite:32},ha=Object.values(Nn),Mn={GraphQL:1,csharp:2,Java:4,Kotlin:8,TypeScript:16,JPA:32,Scala:64},ma=Object.values(Mn),xt={none:1,camelCase:2,pascalCase:4,snakeCase:8},xn=Object.values(xt),Dn={none:1,doubleQuote:2,singleQuote:4,backtick:8},ya=Object.values(Dn),ga=.1,pa=1,wa=2e3,Ta=2e4,Sa=re.tableComment|re.columnComment|re.columnDataType|re.columnDefault|re.columnPrimaryKey|re.columnNotNull|re.relationship,Oa=()=>({width:2e3,height:2e3,scrollTop:0,scrollLeft:0,zoomLevel:1,show:Sa,database:Nn.MySQL,databaseName:"",canvasType:da.ERD,language:Mn.GraphQL,tableNameCase:xt.pascalCase,columnNameCase:xt.camelCase,bracketType:Dn.none,relationshipDataTypeSync:!0,relationshipOptimization:!1,columnOrder:[Y.columnName,Y.columnDataType,Y.columnNotNull,Y.columnUnique,Y.columnAutoIncrement,Y.columnDefault,Y.columnComment],maxWidthComment:-1,ignoreSaveSettings:0}),Cn=Nt(wa,Ta),ka=Nt(ga,pa),va=Nt(60,200);function ba(t){const e=Oa();if(!j(t)||q(t))return e;const n=p(D,e,t),r=p(L,e,t),s=p(Et,e,t);return D(t.width)&&(e.width=Cn(t.width)),D(t.height)&&(e.height=Cn(t.height)),D(t.zoomLevel)&&(e.zoomLevel=ka(t.zoomLevel)),D(t.maxWidthComment)&&t.maxWidthComment!==-1&&(e.maxWidthComment=va(t.maxWidthComment)),n("scrollTop"),n("scrollLeft"),n("show"),n("ignoreSaveSettings"),r("databaseName"),r("canvasType"),s("relationshipDataTypeSync"),s("relationshipOptimization"),p(P(ha),e,t)("database"),p(P(ma),e,t)("language"),p(P(xn),e,t)("tableNameCase"),p(P(xn),e,t)("columnNameCase"),p(P(ya),e,t)("bracketType"),ne(t.columnOrder)&&En.length===t.columnOrder.length&&Bi(En,t.columnOrder).length===0&&(e.columnOrder=t.columnOrder),e}const Ia=()=>({id:"",name:"",comment:"",columnIds:[],seqColumnIds:[],ui:{x:200,y:100,zIndex:2,widthName:60,widthComment:60,color:""},meta:we()});function Ea(t){const e={};if(!j(t)||q(t))return e;for(const n of Object.values(t)){if(!n)continue;const r=Ia(),s=p(L,r,n),i=p(ne,r,n),a=p(D,r.ui,n.ui),o=p(L,r.ui,n.ui);s("id"),s("name"),s("comment"),i("columnIds"),i("seqColumnIds"),o("color"),a("x"),a("y"),a("zIndex"),a("widthName"),a("widthComment"),Te(r.meta,n.meta),r.id&&(e[r.id]=r)}return e}const Na=()=>({id:"",tableId:"",name:"",comment:"",dataType:"",default:"",options:0,ui:{keys:0,widthName:60,widthComment:60,widthDataType:60,widthDefault:60},meta:we()});function Ma(t){const e={};if(!j(t)||q(t))return e;for(const n of Object.values(t)){if(!n)continue;const r=Na(),s=p(L,r,n),i=p(D,r,n),a=p(D,r.ui,n.ui);s("id"),s("tableId"),s("name"),s("comment"),s("dataType"),s("default"),i("options"),a("keys"),a("widthName"),a("widthComment"),a("widthDataType"),a("widthDefault"),Te(r.meta,n.meta),r.id&&(e[r.id]=r)}return e}function xa(t){var e,n,r,s,i,a;const o=t,u=ba(o.settings),l=ea(o.doc),c=Ea((e=o.collections)==null?void 0:e.tableEntities),h=Ma((n=o.collections)==null?void 0:n.tableColumnEntities),g=fa((r=o.collections)==null?void 0:r.relationshipEntities),d=na((s=o.collections)==null?void 0:s.indexEntities),k=ia((i=o.collections)==null?void 0:i.indexColumnEntities),Z=oa((a=o.collections)==null?void 0:a.memoEntities);return{$schema:"https://raw.githubusercontent.com/dineug/erd-editor/main/json-schema/schema.json",version:"3.0.0",settings:u,doc:l,collections:{tableEntities:c,tableColumnEntities:h,relationshipEntities:g,indexEntities:d,indexColumnEntities:k,memoEntities:Z}}}function Da(t){return[t,-1,-1,{}]}function Dt(t,e,n){return t[e]||(t[e]=Da(n),t[e])}function Ca(t,e,n,r,s){const i=Dt(t,n,r),a=i[1],o=i[2];a<e&&(i[1]=e),o<e&&s()}function Fa(t,e,n,r,s){const i=Dt(t,n,r),a=i[2],o=i[1];a<e&&(i[2]=e),o<=e&&s()}function Va(t,e,n,r,s,i){const a=Dt(t,n,r);(a[3][s]??-1)<=e&&(a[3][s]=e,i())}class Aa{constructor(e){this.collections=e}collection(e){return new Wa(this.collections[e],e)}}class Wa{constructor(e,n){this.collection=e,this.collectionKey=n}selectById(e){return this.collection[e]}selectByIds(e){return e.length,e.map(n=>this.selectById(n)).filter(Boolean)}selectEntities(){return this.collection}selectAll(){return Object.values(this.collection)}setOne(e){return this.collection[e.id]=e,this}setMany(e){return e.forEach(n=>this.setOne(n)),this}setAll(e){return this.removeAll(),this.setMany(e),this}addOne(e){return this.selectById(e.id)?this:(this.setOne(e),this)}addMany(e){return e.forEach(n=>this.addOne(n)),this}removeOne(e){return this.selectById(e)&&Reflect.deleteProperty(this.collection,e),this}removeMany(e){return e.forEach(n=>this.removeOne(n)),this}removeAll(){return this.collection={},this}updateOne(e,n){const r=this.selectById(e);return r&&(n(r),r.meta.updateAt=Date.now()),this}updateMany(e,n){return e.forEach(r=>this.updateOne(r,n)),this}getOrCreate(e,n){const r=this.selectById(e);if(r)return r;const s=n(e);return this.setOne(s),this.selectById(e)}addOperator(e,n,r,s){return Ca(e,n,r,this.collectionKey,s),this}removeOperator(e,n,r,s){return Fa(e,n,r,this.collectionKey,s),this}replaceOperator(e,n,r,s,i){return Va(e,n,r,this.collectionKey,s,i),this}}const F=t=>new Aa(t);class se extends Error{}class La extends se{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class $a extends se{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class _a extends se{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Se extends se{}class Fn extends se{constructor(e){super(`Invalid unit ${e}`)}}class M extends se{}class G extends se{constructor(){super("Zone is an abstract class")}}const f="numeric",$="short",C="long",et={year:f,month:f,day:f},Vn={year:f,month:$,day:f},za={year:f,month:$,day:f,weekday:$},An={year:f,month:C,day:f},Wn={year:f,month:C,day:f,weekday:C},Ln={hour:f,minute:f},$n={hour:f,minute:f,second:f},_n={hour:f,minute:f,second:f,timeZoneName:$},zn={hour:f,minute:f,second:f,timeZoneName:C},Rn={hour:f,minute:f,hourCycle:"h23"},Zn={hour:f,minute:f,second:f,hourCycle:"h23"},Pn={hour:f,minute:f,second:f,hourCycle:"h23",timeZoneName:$},Un={hour:f,minute:f,second:f,hourCycle:"h23",timeZoneName:C},Hn={year:f,month:f,day:f,hour:f,minute:f},qn={year:f,month:f,day:f,hour:f,minute:f,second:f},jn={year:f,month:$,day:f,hour:f,minute:f},Yn={year:f,month:$,day:f,hour:f,minute:f,second:f},Ra={year:f,month:$,day:f,weekday:$,hour:f,minute:f},Gn={year:f,month:C,day:f,hour:f,minute:f,timeZoneName:$},Jn={year:f,month:C,day:f,hour:f,minute:f,second:f,timeZoneName:$},Bn={year:f,month:C,day:f,weekday:C,hour:f,minute:f,timeZoneName:C},Qn={year:f,month:C,day:f,weekday:C,hour:f,minute:f,second:f,timeZoneName:C};class Le{get type(){throw new G}get name(){throw new G}get ianaName(){return this.name}get isUniversal(){throw new G}offsetName(e,n){throw new G}formatOffset(e,n){throw new G}offset(e){throw new G}equals(e){throw new G}get isValid(){throw new G}}let Ct=null;class tt extends Le{static get instance(){return Ct===null&&(Ct=new tt),Ct}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return Or(e,n,r)}formatOffset(e,n){return Re(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let nt={};function Za(t){return nt[t]||(nt[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),nt[t]}const Pa={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Ua(t,e){const n=t.format(e).replace(/\\u200E/g,""),r=/(\\d+)\\/(\\d+)\\/(\\d+) (AD|BC),? (\\d+):(\\d+):(\\d+)/.exec(n),[,s,i,a,o,u,l,c]=r;return[a,s,i,o,u,l,c]}function Ha(t,e){const n=t.formatToParts(e),r=[];for(let s=0;s<n.length;s++){const{type:i,value:a}=n[s],o=Pa[i];i==="era"?r[o]=a:m(o)||(r[o]=parseInt(a,10))}return r}let rt={};class U extends Le{static create(e){return rt[e]||(rt[e]=new U(e)),rt[e]}static resetCache(){rt={},nt={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=U.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return Or(e,n,r,this.name)}formatOffset(e,n){return Re(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=Za(this.name);let[s,i,a,o,u,l,c]=r.formatToParts?Ha(r,n):Ua(r,n);o==="BC"&&(s=-Math.abs(s)+1);const g=ut({year:s,month:i,day:a,hour:u===24?0:u,minute:l,second:c,millisecond:0});let d=+n;const k=d%1e3;return d-=k>=0?k:1e3+k,(g-d)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let Kn={};function qa(t,e={}){const n=JSON.stringify([t,e]);let r=Kn[n];return r||(r=new Intl.ListFormat(t,e),Kn[n]=r),r}let Ft={};function Vt(t,e={}){const n=JSON.stringify([t,e]);let r=Ft[n];return r||(r=new Intl.DateTimeFormat(t,e),Ft[n]=r),r}let At={};function ja(t,e={}){const n=JSON.stringify([t,e]);let r=At[n];return r||(r=new Intl.NumberFormat(t,e),At[n]=r),r}let Wt={};function Ya(t,e={}){const{base:n,...r}=e,s=JSON.stringify([t,r]);let i=Wt[s];return i||(i=new Intl.RelativeTimeFormat(t,e),Wt[s]=i),i}let $e=null;function Ga(){return $e||($e=new Intl.DateTimeFormat().resolvedOptions().locale,$e)}let Xn={};function Ja(t){let e=Xn[t];if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,Xn[t]=e}return e}function Ba(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let r,s;try{r=Vt(t).resolvedOptions(),s=t}catch{const u=t.substring(0,n);r=Vt(u).resolvedOptions(),s=u}const{numberingSystem:i,calendar:a}=r;return[s,i,a]}}function Qa(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function Ka(t){const e=[];for(let n=1;n<=12;n++){const r=y.utc(2009,n,1);e.push(t(r))}return e}function Xa(t){const e=[];for(let n=1;n<=7;n++){const r=y.utc(2016,11,13+n);e.push(t(r))}return e}function st(t,e,n,r){const s=t.listingMode();return s==="error"?null:s==="en"?n(e):r(e)}function eo(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class to{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:s,floor:i,...a}=r;if(!n||Object.keys(a).length>0){const o={useGrouping:!1,...r};r.padTo>0&&(o.minimumIntegerDigits=r.padTo),this.inf=ja(e,o)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):Pt(e,3);return I(n,this.padTo)}}}class no{constructor(e,n,r){this.opts=r,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const a=-1*(e.offset/60),o=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;e.offset!==0&&U.create(o).valid?(s=o,this.dt=e):(s="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,s=e.zone.name):(s="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const i={...this.opts};i.timeZone=i.timeZone||s,this.dtf=Vt(n,i)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:r}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class ro{constructor(e,n,r){this.opts={style:"long",...r},!n&&pr()&&(this.rtf=Ya(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):bo(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}const so={firstDay:1,minimalDays:4,weekend:[6,7]};class O{static fromOpts(e){return O.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,r,s,i=!1){const a=e||b.defaultLocale,o=a||(i?"en-US":Ga()),u=n||b.defaultNumberingSystem,l=r||b.defaultOutputCalendar,c=Rt(s)||b.defaultWeekSettings;return new O(o,u,l,c,a)}static resetCache(){$e=null,Ft={},At={},Wt={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r,weekSettings:s}={}){return O.create(e,n,r,s)}constructor(e,n,r,s,i){const[a,o,u]=Ba(e);this.locale=a,this.numberingSystem=n||o||null,this.outputCalendar=r||u||null,this.weekSettings=s,this.intl=Qa(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=eo(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:O.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Rt(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return st(this,e,br,()=>{const r=n?{month:e,day:"numeric"}:{month:e},s=n?"format":"standalone";return this.monthsCache[s][e]||(this.monthsCache[s][e]=Ka(i=>this.extract(i,r,"month"))),this.monthsCache[s][e]})}weekdays(e,n=!1){return st(this,e,Nr,()=>{const r=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=n?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=Xa(i=>this.extract(i,r,"weekday"))),this.weekdaysCache[s][e]})}meridiems(){return st(this,void 0,()=>Mr,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[y.utc(2016,11,13,9),y.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return st(this,e,xr,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[y.utc(-40,1,1),y.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[e]})}extract(e,n,r){const s=this.dtFormatter(e,n),i=s.formatToParts(),a=i.find(o=>o.type.toLowerCase()===r);return a?a.value:null}numberFormatter(e={}){return new to(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new no(e,this.intl,n)}relFormatter(e={}){return new ro(this.intl,this.isEnglish(),e)}listFormatter(e={}){return qa(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:wr()?Ja(this.locale):so}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let Lt=null;class N extends Le{static get utcInstance(){return Lt===null&&(Lt=new N(0)),Lt}static instance(e){return e===0?N.utcInstance:new N(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\\d{1,2})(?::(\\d{2}))?)?$/i);if(n)return new N(lt(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Re(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Re(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return Re(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class io extends Le{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function J(t,e){if(m(t)||t===null)return e;if(t instanceof Le)return t;if(uo(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?tt.instance:n==="utc"||n==="gmt"?N.utcInstance:N.parseSpecifier(n)||U.create(t)}else return ie(t)?N.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new io(t)}let er=()=>Date.now(),tr="system",nr=null,rr=null,sr=null,ir=60,ar,or=null;class b{static get now(){return er}static set now(e){er=e}static set defaultZone(e){tr=e}static get defaultZone(){return J(tr,tt.instance)}static get defaultLocale(){return nr}static set defaultLocale(e){nr=e}static get defaultNumberingSystem(){return rr}static set defaultNumberingSystem(e){rr=e}static get defaultOutputCalendar(){return sr}static set defaultOutputCalendar(e){sr=e}static get defaultWeekSettings(){return or}static set defaultWeekSettings(e){or=Rt(e)}static get twoDigitCutoffYear(){return ir}static set twoDigitCutoffYear(e){ir=e%100}static get throwOnInvalid(){return ar}static set throwOnInvalid(e){ar=e}static resetCaches(){O.resetCache(),U.resetCache()}}class _{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const ur=[0,31,59,90,120,151,181,212,243,273,304,334],lr=[0,31,60,91,121,152,182,213,244,274,305,335];function V(t,e){return new _("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function $t(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const s=r.getUTCDay();return s===0?7:s}function cr(t,e,n){return n+(_e(t)?lr:ur)[e-1]}function fr(t,e){const n=_e(t)?lr:ur,r=n.findIndex(i=>i<e),s=e-n[r];return{month:r+1,day:s}}function _t(t,e){return(t-e+7)%7+1}function it(t,e=4,n=1){const{year:r,month:s,day:i}=t,a=cr(r,s,i),o=_t($t(r,s,i),n);let u=Math.floor((a-o+14-e)/7),l;return u<1?(l=r-1,u=ze(l,e,n)):u>ze(r,e,n)?(l=r+1,u=1):l=r,{weekYear:l,weekNumber:u,weekday:o,...ft(t)}}function dr(t,e=4,n=1){const{weekYear:r,weekNumber:s,weekday:i}=t,a=_t($t(r,1,e),n),o=ke(r);let u=s*7+i-a-7+e,l;u<1?(l=r-1,u+=ke(l)):u>o?(l=r+1,u-=ke(r)):l=r;const{month:c,day:h}=fr(l,u);return{year:l,month:c,day:h,...ft(t)}}function zt(t){const{year:e,month:n,day:r}=t,s=cr(e,n,r);return{year:e,ordinal:s,...ft(t)}}function hr(t){const{year:e,ordinal:n}=t,{month:r,day:s}=fr(e,n);return{year:e,month:r,day:s,...ft(t)}}function mr(t,e){if(!m(t.localWeekday)||!m(t.localWeekNumber)||!m(t.localWeekYear)){if(!m(t.weekday)||!m(t.weekNumber)||!m(t.weekYear))throw new Se("Cannot mix locale-based week fields with ISO-based week fields");return m(t.localWeekday)||(t.weekday=t.localWeekday),m(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),m(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function ao(t,e=4,n=1){const r=at(t.weekYear),s=A(t.weekNumber,1,ze(t.weekYear,e,n)),i=A(t.weekday,1,7);return r?s?i?!1:V("weekday",t.weekday):V("week",t.weekNumber):V("weekYear",t.weekYear)}function oo(t){const e=at(t.year),n=A(t.ordinal,1,ke(t.year));return e?n?!1:V("ordinal",t.ordinal):V("year",t.year)}function yr(t){const e=at(t.year),n=A(t.month,1,12),r=A(t.day,1,ot(t.year,t.month));return e?n?r?!1:V("day",t.day):V("month",t.month):V("year",t.year)}function gr(t){const{hour:e,minute:n,second:r,millisecond:s}=t,i=A(e,0,23)||e===24&&n===0&&r===0&&s===0,a=A(n,0,59),o=A(r,0,59),u=A(s,0,999);return i?a?o?u?!1:V("millisecond",s):V("second",r):V("minute",n):V("hour",e)}function m(t){return typeof t>"u"}function ie(t){return typeof t=="number"}function at(t){return typeof t=="number"&&t%1===0}function uo(t){return typeof t=="string"}function lo(t){return Object.prototype.toString.call(t)==="[object Date]"}function pr(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function wr(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function co(t){return Array.isArray(t)?t:[t]}function Tr(t,e,n){if(t.length!==0)return t.reduce((r,s)=>{const i=[e(s),s];return r&&n(r[0],i[0])===r[0]?r:i},null)[1]}function fo(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Oe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Rt(t){if(t==null)return null;if(typeof t!="object")throw new M("Week settings must be an object");if(!A(t.firstDay,1,7)||!A(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!A(e,1,7)))throw new M("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function A(t,e,n){return at(t)&&t>=e&&t<=n}function ho(t,e){return t-e*Math.floor(t/e)}function I(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function B(t){if(!(m(t)||t===null||t===""))return parseInt(t,10)}function ae(t){if(!(m(t)||t===null||t===""))return parseFloat(t)}function Zt(t){if(!(m(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Pt(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function _e(t){return t%4===0&&(t%100!==0||t%400===0)}function ke(t){return _e(t)?366:365}function ot(t,e){const n=ho(e-1,12)+1,r=t+(e-n)/12;return n===2?_e(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function ut(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function Sr(t,e,n){return-_t($t(t,1,e),n)+e-1}function ze(t,e=4,n=1){const r=Sr(t,e,n),s=Sr(t+1,e,n);return(ke(t)-r+s)/7}function Ut(t){return t>99?t:t>b.twoDigitCutoffYear?1900+t:2e3+t}function Or(t,e,n,r=null){const s=new Date(t),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(i.timeZone=r);const a={timeZoneName:e,...i},o=new Intl.DateTimeFormat(n,a).formatToParts(s).find(u=>u.type.toLowerCase()==="timezonename");return o?o.value:null}function lt(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,s=n<0||Object.is(n,-0)?-r:r;return n*60+s}function kr(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new M(`Invalid unit value ${t}`);return e}function ct(t,e){const n={};for(const r in t)if(Oe(t,r)){const s=t[r];if(s==null)continue;n[e(r)]=kr(s)}return n}function Re(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),s=t>=0?"+":"-";switch(e){case"short":return`${s}${I(n,2)}:${I(r,2)}`;case"narrow":return`${s}${n}${r>0?`:${r}`:""}`;case"techie":return`${s}${I(n,2)}${I(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function ft(t){return fo(t,["hour","minute","second","millisecond"])}const mo=["January","February","March","April","May","June","July","August","September","October","November","December"],vr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],yo=["J","F","M","A","M","J","J","A","S","O","N","D"];function br(t){switch(t){case"narrow":return[...yo];case"short":return[...vr];case"long":return[...mo];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Ir=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Er=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],go=["M","T","W","T","F","S","S"];function Nr(t){switch(t){case"narrow":return[...go];case"short":return[...Er];case"long":return[...Ir];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Mr=["AM","PM"],po=["Before Christ","Anno Domini"],wo=["BC","AD"],To=["B","A"];function xr(t){switch(t){case"narrow":return[...To];case"short":return[...wo];case"long":return[...po];default:return null}}function So(t){return Mr[t.hour<12?0:1]}function Oo(t,e){return Nr(e)[t.weekday-1]}function ko(t,e){return br(e)[t.month-1]}function vo(t,e){return xr(e)[t.year<0?0:1]}function bo(t,e,n="always",r=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&i){const h=t==="days";switch(e){case 1:return h?"tomorrow":`next ${s[t][0]}`;case-1:return h?"yesterday":`last ${s[t][0]}`;case 0:return h?"today":`this ${s[t][0]}`}}const a=Object.is(e,-0)||e<0,o=Math.abs(e),u=o===1,l=s[t],c=r?u?l[1]:l[2]||l[1]:u?s[t][0]:t;return a?`${o} ${c} ago`:`in ${o} ${c}`}function Dr(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const Io={D:et,DD:Vn,DDD:An,DDDD:Wn,t:Ln,tt:$n,ttt:_n,tttt:zn,T:Rn,TT:Zn,TTT:Pn,TTTT:Un,f:Hn,ff:jn,fff:Gn,ffff:Bn,F:qn,FF:Yn,FFF:Jn,FFFF:Qn};class E{static create(e,n={}){return new E(e,n)}static parseFormat(e){let n=null,r="",s=!1;const i=[];for(let a=0;a<e.length;a++){const o=e.charAt(a);o==="\'"?(r.length>0&&i.push({literal:s||/^\\s+$/.test(r),val:r}),n=null,r="",s=!s):s||o===n?r+=o:(r.length>0&&i.push({literal:/^\\s+$/.test(r),val:r}),r=o,n=o)}return r.length>0&&i.push({literal:s||/^\\s+$/.test(r),val:r}),i}static macroTokenToFormatOpts(e){return Io[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return I(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",i=(d,k)=>this.loc.extract(e,d,k),a=d=>e.isOffsetFixed&&e.offset===0&&d.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,d.format):"",o=()=>r?So(e):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),u=(d,k)=>r?ko(e,d):i(k?{month:d}:{month:d,day:"numeric"},"month"),l=(d,k)=>r?Oo(e,d):i(k?{weekday:d}:{weekday:d,month:"long",day:"numeric"},"weekday"),c=d=>{const k=E.macroTokenToFormatOpts(d);return k?this.formatWithSystemDefault(e,k):d},h=d=>r?vo(e,d):i({era:d},"era"),g=d=>{switch(d){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return s?i({day:"numeric"},"day"):this.num(e.day);case"dd":return s?i({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return s?i({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return s?i({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return s?i({month:"numeric"},"month"):this.num(e.month);case"MM":return s?i({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return s?i({year:"numeric"},"year"):this.num(e.year);case"yy":return s?i({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return s?i({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return s?i({year:"numeric"},"year"):this.num(e.year,6);case"G":return h("short");case"GG":return h("long");case"GGGGG":return h("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(d)}};return Dr(E.parseFormat(n),g)}formatDurationFromString(e,n){const r=u=>{switch(u[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=u=>l=>{const c=r(l);return c?this.num(u.get(c),l.length):l},i=E.parseFormat(n),a=i.reduce((u,{literal:l,val:c})=>l?u:u.concat(c),[]),o=e.shiftTo(...a.map(r).filter(u=>u));return Dr(i,s(o))}}const Cr=/[A-Za-z_+-]{1,256}(?::?\\/[A-Za-z0-9_+-]{1,256}(?:\\/[A-Za-z0-9_+-]{1,256})?)?/;function ve(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function be(...t){return e=>t.reduce(([n,r,s],i)=>{const[a,o,u]=i(e,s);return[{...n,...a},o||r,u]},[{},null,1]).slice(0,2)}function Ie(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const s=n.exec(t);if(s)return r(s)}return[null,null]}function Fr(...t){return(e,n)=>{const r={};let s;for(s=0;s<t.length;s++)r[t[s]]=B(e[n+s]);return[r,null,n+s]}}const Vr=/(?:(Z)|([+-]\\d\\d)(?::?(\\d\\d))?)/,Eo=`(?:${Vr.source}?(?:\\\\[(${Cr.source})\\\\])?)?`,Ht=/(\\d\\d)(?::?(\\d\\d)(?::?(\\d\\d)(?:[.,](\\d{1,30}))?)?)?/,Ar=RegExp(`${Ht.source}${Eo}`),qt=RegExp(`(?:T${Ar.source})?`),No=/([+-]\\d{6}|\\d{4})(?:-?(\\d\\d)(?:-?(\\d\\d))?)?/,Mo=/(\\d{4})-?W(\\d\\d)(?:-?(\\d))?/,xo=/(\\d{4})-?(\\d{3})/,Do=Fr("weekYear","weekNumber","weekDay"),Co=Fr("year","ordinal"),Fo=/(\\d{4})-(\\d\\d)-(\\d\\d)/,Wr=RegExp(`${Ht.source} ?(?:${Vr.source}|(${Cr.source}))?`),Vo=RegExp(`(?: ${Wr.source})?`);function Ee(t,e,n){const r=t[e];return m(r)?n:B(r)}function Ao(t,e){return[{year:Ee(t,e),month:Ee(t,e+1,1),day:Ee(t,e+2,1)},null,e+3]}function Ne(t,e){return[{hours:Ee(t,e,0),minutes:Ee(t,e+1,0),seconds:Ee(t,e+2,0),milliseconds:Zt(t[e+3])},null,e+4]}function Ze(t,e){const n=!t[e]&&!t[e+1],r=lt(t[e+1],t[e+2]),s=n?null:N.instance(r);return[{},s,e+3]}function Pe(t,e){const n=t[e]?U.create(t[e]):null;return[{},n,e+1]}const Wo=RegExp(`^T?${Ht.source}$`),Lo=/^-?P(?:(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)Y)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)M)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)W)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)D)?(?:T(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)H)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)M)?(?:(-?\\d{1,20})(?:[.,](-?\\d{1,20}))?S)?)?)$/;function $o(t){const[e,n,r,s,i,a,o,u,l]=t,c=e[0]==="-",h=u&&u[0]==="-",g=(d,k=!1)=>d!==void 0&&(k||d&&c)?-d:d;return[{years:g(ae(n)),months:g(ae(r)),weeks:g(ae(s)),days:g(ae(i)),hours:g(ae(a)),minutes:g(ae(o)),seconds:g(ae(u),u==="-0"),milliseconds:g(Zt(l),h)}]}const _o={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function jt(t,e,n,r,s,i,a){const o={year:e.length===2?Ut(B(e)):B(e),month:vr.indexOf(n)+1,day:B(r),hour:B(s),minute:B(i)};return a&&(o.second=B(a)),t&&(o.weekday=t.length>3?Ir.indexOf(t)+1:Er.indexOf(t)+1),o}const zo=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\\d\\d)(\\d\\d)))$/;function Ro(t){const[,e,n,r,s,i,a,o,u,l,c,h]=t,g=jt(e,s,r,n,i,a,o);let d;return u?d=_o[u]:l?d=0:d=lt(c,h),[g,new N(d)]}function Zo(t){return t.replace(/\\([^()]*\\)|[\\n\\t]/g," ").replace(/(\\s\\s+)/g," ").trim()}const Po=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\\d\\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\\d{4}) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,Uo=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\\d\\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,Ho=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \\d|\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) (\\d{4})$/;function Lr(t){const[,e,n,r,s,i,a,o]=t;return[jt(e,s,r,n,i,a,o),N.utcInstance]}function qo(t){const[,e,n,r,s,i,a,o]=t;return[jt(e,o,n,r,s,i,a),N.utcInstance]}const jo=ve(No,qt),Yo=ve(Mo,qt),Go=ve(xo,qt),Jo=ve(Ar),$r=be(Ao,Ne,Ze,Pe),Bo=be(Do,Ne,Ze,Pe),Qo=be(Co,Ne,Ze,Pe),Ko=be(Ne,Ze,Pe);function Xo(t){return Ie(t,[jo,$r],[Yo,Bo],[Go,Qo],[Jo,Ko])}function eu(t){return Ie(Zo(t),[zo,Ro])}function tu(t){return Ie(t,[Po,Lr],[Uo,Lr],[Ho,qo])}function nu(t){return Ie(t,[Lo,$o])}const ru=be(Ne);function su(t){return Ie(t,[Wo,ru])}const iu=ve(Fo,Vo),au=ve(Wr),ou=be(Ne,Ze,Pe);function uu(t){return Ie(t,[iu,$r],[au,ou])}const _r="Invalid Duration",zr={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},lu={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...zr},W=146097/400,Me=146097/4800,cu={years:{quarters:4,months:12,weeks:W/7,days:W,hours:W*24,minutes:W*24*60,seconds:W*24*60*60,milliseconds:W*24*60*60*1e3},quarters:{months:3,weeks:W/28,days:W/4,hours:W*24/4,minutes:W*24*60/4,seconds:W*24*60*60/4,milliseconds:W*24*60*60*1e3/4},months:{weeks:Me/7,days:Me,hours:Me*24,minutes:Me*24*60,seconds:Me*24*60*60,milliseconds:Me*24*60*60*1e3},...zr},oe=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],fu=oe.slice(0).reverse();function Q(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new T(r)}function Rr(t,e){let n=e.milliseconds??0;for(const r of fu.slice(1))e[r]&&(n+=e[r]*t[r].milliseconds);return n}function Zr(t,e){const n=Rr(t,e)<0?-1:1;oe.reduceRight((r,s)=>{if(m(e[s]))return r;if(r){const i=e[r]*n,a=t[s][r],o=Math.floor(i/a);e[s]+=o*n,e[r]-=o*a*n}return s},null),oe.reduce((r,s)=>{if(m(e[s]))return r;if(r){const i=e[r]%1;e[r]-=i,e[s]+=i*t[r][s]}return s},null)}function du(t){const e={};for(const[n,r]of Object.entries(t))r!==0&&(e[n]=r);return e}class T{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?cu:lu;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||O.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return T.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new M(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new T({values:ct(e,T.normalizeUnit),loc:O.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(ie(e))return T.fromMillis(e);if(T.isDuration(e))return e;if(typeof e=="object")return T.fromObject(e);throw new M(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=nu(e);return r?T.fromObject(r,n):T.invalid("unparsable",`the input "${e}" can\'t be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=su(e);return r?T.fromObject(r,n):T.invalid("unparsable",`the input "${e}" can\'t be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new M("need to specify a reason the Duration is invalid");const r=e instanceof _?e:new _(e,n);if(b.throwOnInvalid)throw new _a(r);return new T({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new Fn(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?E.create(this.loc,r).formatDurationFromString(this,e):_r}toHuman(e={}){if(!this.isValid)return _r;const n=oe.map(r=>{const s=this.values[r];return m(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(s)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Pt(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},y.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Rr(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=T.fromDurationLike(e),r={};for(const s of oe)(Oe(n.values,s)||Oe(this.values,s))&&(r[s]=n.get(s)+this.get(s));return Q(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=T.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=kr(e(this.values[r],r));return Q(this,{values:n},!0)}get(e){return this[T.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...ct(e,T.normalizeUnit)};return Q(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:s}={}){const a={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:s,conversionAccuracy:r};return Q(this,a)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return Zr(this.matrix,e),Q(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=du(this.normalize().shiftToAll().toObject());return Q(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>T.normalizeUnit(a));const n={},r={},s=this.toObject();let i;for(const a of oe)if(e.indexOf(a)>=0){i=a;let o=0;for(const l in r)o+=this.matrix[l][a]*r[l],r[l]=0;ie(s[a])&&(o+=s[a]);const u=Math.trunc(o);n[a]=u,r[a]=(o*1e3-u*1e3)/1e3}else ie(s[a])&&(r[a]=s[a]);for(const a in r)r[a]!==0&&(n[i]+=a===i?r[a]:r[a]/this.matrix[i][a]);return Zr(this.matrix,n),Q(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return Q(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,s){return r===void 0||r===0?s===void 0||s===0:r===s}for(const r of oe)if(!n(this.values[r],e.values[r]))return!1;return!0}}const xe="Invalid Interval";function hu(t,e){return!t||!t.isValid?v.invalid("missing or invalid start"):!e||!e.isValid?v.invalid("missing or invalid end"):e<t?v.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class v{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new M("need to specify a reason the Interval is invalid");const r=e instanceof _?e:new _(e,n);if(b.throwOnInvalid)throw new $a(r);return new v({invalid:r})}static fromDateTimes(e,n){const r=He(e),s=He(n),i=hu(r,s);return i??new v({start:r,end:s})}static after(e,n){const r=T.fromDurationLike(n),s=He(e);return v.fromDateTimes(s,s.plus(r))}static before(e,n){const r=T.fromDurationLike(n),s=He(e);return v.fromDateTimes(s.minus(r),s)}static fromISO(e,n){const[r,s]=(e||"").split("/",2);if(r&&s){let i,a;try{i=y.fromISO(r,n),a=i.isValid}catch{a=!1}let o,u;try{o=y.fromISO(s,n),u=o.isValid}catch{u=!1}if(a&&u)return v.fromDateTimes(i,o);if(a){const l=T.fromISO(s,n);if(l.isValid)return v.after(i,l)}else if(u){const l=T.fromISO(r,n);if(l.isValid)return v.before(o,l)}}return v.invalid("unparsable",`the input "${e}" can\'t be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;const r=this.start.startOf(e,n);let s;return n!=null&&n.useLocaleWeeks?s=this.end.reconfigure({locale:r.locale}):s=this.end,s=s.startOf(e,n),Math.floor(s.diff(r,e).get(e))+(s.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?v.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(He).filter(a=>this.contains(a)).sort((a,o)=>a.toMillis()-o.toMillis()),r=[];let{s}=this,i=0;for(;s<this.e;){const a=n[i]||this.e,o=+a>+this.e?this.e:a;r.push(v.fromDateTimes(s,o)),s=o,i+=1}return r}splitBy(e){const n=T.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,s=1,i;const a=[];for(;r<this.e;){const o=this.start.plus(n.mapUnits(u=>u*s));i=+o>+this.e?this.e:o,a.push(v.fromDateTimes(r,i)),r=i,s+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:v.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return v.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((s,i)=>s.s-i.s).reduce(([s,i],a)=>i?i.overlaps(a)||i.abutsStart(a)?[s,i.union(a)]:[s.concat([i]),a]:[s,a],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const s=[],i=e.map(u=>[{time:u.s,type:"s"},{time:u.e,type:"e"}]),a=Array.prototype.concat(...i),o=a.sort((u,l)=>u.time-l.time);for(const u of o)r+=u.type==="s"?1:-1,r===1?n=u.time:(n&&+n!=+u.time&&s.push(v.fromDateTimes(n,u.time)),n=null);return v.merge(s)}difference(...e){return v.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:xe}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=et,n={}){return this.isValid?E.create(this.s.loc.clone(n),e).formatInterval(this):xe}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:xe}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:xe}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:xe}toFormat(e,{separator:n=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:xe}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):T.invalid(this.invalidReason)}mapEndpoints(e){return v.fromDateTimes(e(this.s),e(this.e))}}class dt{static hasDST(e=b.defaultZone){const n=y.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return U.isValidZone(e)}static normalizeZone(e){return J(e,b.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||O.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||O.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||O.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:s=null,outputCalendar:i="gregory"}={}){return(s||O.create(n,r,i)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:s=null,outputCalendar:i="gregory"}={}){return(s||O.create(n,r,i)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:s=null}={}){return(s||O.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:s=null}={}){return(s||O.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return O.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return O.create(n,null,"gregory").eras(e)}static features(){return{relative:pr(),localeWeek:wr()}}}function Pr(t,e){const n=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(T.fromMillis(r).as("days"))}function mu(t,e,n){const r=[["years",(u,l)=>l.year-u.year],["quarters",(u,l)=>l.quarter-u.quarter+(l.year-u.year)*4],["months",(u,l)=>l.month-u.month+(l.year-u.year)*12],["weeks",(u,l)=>{const c=Pr(u,l);return(c-c%7)/7}],["days",Pr]],s={},i=t;let a,o;for(const[u,l]of r)n.indexOf(u)>=0&&(a=u,s[u]=l(t,e),o=i.plus(s),o>e?(s[u]--,t=i.plus(s),t>e&&(o=t,s[u]--,t=i.plus(s))):t=o);return[t,s,o,a]}function yu(t,e,n,r){let[s,i,a,o]=mu(t,e,n);const u=e-s,l=n.filter(h=>["hours","minutes","seconds","milliseconds"].indexOf(h)>=0);l.length===0&&(a<e&&(a=s.plus({[o]:1})),a!==s&&(i[o]=(i[o]||0)+u/(a-s)));const c=T.fromObject(i,r);return l.length>0?T.fromMillis(u,r).shiftTo(...l).plus(c):c}const Yt={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\\\d"},Ur={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},gu=Yt.hanidec.replace(/[\\[|\\]]/g,"").split("");function pu(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search(Yt.hanidec)!==-1)e+=gu.indexOf(t[n]);else for(const s in Ur){const[i,a]=Ur[s];r>=i&&r<=a&&(e+=r-i)}}return parseInt(e,10)}else return e}function z({numberingSystem:t},e=""){return new RegExp(`${Yt[t||"latn"]}${e}`)}const wu="missing Intl.DateTimeFormat.formatToParts support";function S(t,e=n=>n){return{regex:t,deser:([n])=>e(pu(n))}}const Hr="[  ]",qr=new RegExp(Hr,"g");function Tu(t){return t.replace(/\\./g,"\\\\.?").replace(qr,Hr)}function jr(t){return t.replace(/\\./g,"").replace(qr," ").toLowerCase()}function R(t,e){return t===null?null:{regex:RegExp(t.map(Tu).join("|")),deser:([n])=>t.findIndex(r=>jr(n)===jr(r))+e}}function Yr(t,e){return{regex:t,deser:([,n,r])=>lt(n,r),groups:e}}function ht(t){return{regex:t,deser:([e])=>e}}function Su(t){return t.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,"\\\\$&")}function Ou(t,e){const n=z(e),r=z(e,"{2}"),s=z(e,"{3}"),i=z(e,"{4}"),a=z(e,"{6}"),o=z(e,"{1,2}"),u=z(e,"{1,3}"),l=z(e,"{1,6}"),c=z(e,"{1,9}"),h=z(e,"{2,4}"),g=z(e,"{4,6}"),d=x=>({regex:RegExp(Su(x.val)),deser:([H])=>H,literal:!0}),Z=(x=>{if(t.literal)return d(x);switch(x.val){case"G":return R(e.eras("short"),0);case"GG":return R(e.eras("long"),0);case"y":return S(l);case"yy":return S(h,Ut);case"yyyy":return S(i);case"yyyyy":return S(g);case"yyyyyy":return S(a);case"M":return S(o);case"MM":return S(r);case"MMM":return R(e.months("short",!0),1);case"MMMM":return R(e.months("long",!0),1);case"L":return S(o);case"LL":return S(r);case"LLL":return R(e.months("short",!1),1);case"LLLL":return R(e.months("long",!1),1);case"d":return S(o);case"dd":return S(r);case"o":return S(u);case"ooo":return S(s);case"HH":return S(r);case"H":return S(o);case"hh":return S(r);case"h":return S(o);case"mm":return S(r);case"m":return S(o);case"q":return S(o);case"qq":return S(r);case"s":return S(o);case"ss":return S(r);case"S":return S(u);case"SSS":return S(s);case"u":return ht(c);case"uu":return ht(o);case"uuu":return S(n);case"a":return R(e.meridiems(),0);case"kkkk":return S(i);case"kk":return S(h,Ut);case"W":return S(o);case"WW":return S(r);case"E":case"c":return S(n);case"EEE":return R(e.weekdays("short",!1),1);case"EEEE":return R(e.weekdays("long",!1),1);case"ccc":return R(e.weekdays("short",!0),1);case"cccc":return R(e.weekdays("long",!0),1);case"Z":case"ZZ":return Yr(new RegExp(`([+-]${o.source})(?::(${r.source}))?`),2);case"ZZZ":return Yr(new RegExp(`([+-]${o.source})(${r.source})?`),2);case"z":return ht(/[a-z_+-/]{1,256}?/i);case" ":return ht(/[^\\S\\n\\r]/);default:return d(x)}})(t)||{invalidReason:wu};return Z.token=t,Z}const ku={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function vu(t,e,n){const{type:r,value:s}=t;if(r==="literal"){const u=/^\\s+$/.test(s);return{literal:!u,val:u?" ":s}}const i=e[r];let a=r;r==="hour"&&(e.hour12!=null?a=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?a="hour12":a="hour24":a=n.hour12?"hour12":"hour24");let o=ku[a];if(typeof o=="object"&&(o=o[i]),o)return{literal:!1,val:o}}function bu(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function Iu(t,e,n){const r=t.match(e);if(r){const s={};let i=1;for(const a in n)if(Oe(n,a)){const o=n[a],u=o.groups?o.groups+1:1;!o.literal&&o.token&&(s[o.token.val[0]]=o.deser(r.slice(i,i+u))),i+=u}return[r,s]}else return[r,{}]}function Eu(t){const e=i=>{switch(i){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return m(t.z)||(n=U.create(t.z)),m(t.Z)||(n||(n=new N(t.Z)),r=t.Z),m(t.q)||(t.M=(t.q-1)*3+1),m(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),m(t.u)||(t.S=Zt(t.u)),[Object.keys(t).reduce((i,a)=>{const o=e(a);return o&&(i[o]=t[a]),i},{}),n,r]}let Gt=null;function Nu(){return Gt||(Gt=y.fromMillis(1555555555555)),Gt}function Mu(t,e){if(t.literal)return t;const n=E.macroTokenToFormatOpts(t.val),r=Br(n,e);return r==null||r.includes(void 0)?t:r}function Gr(t,e){return Array.prototype.concat(...t.map(n=>Mu(n,e)))}function Jr(t,e,n){const r=Gr(E.parseFormat(n),t),s=r.map(a=>Ou(a,t)),i=s.find(a=>a.invalidReason);if(i)return{input:e,tokens:r,invalidReason:i.invalidReason};{const[a,o]=bu(s),u=RegExp(a,"i"),[l,c]=Iu(e,u,o),[h,g,d]=c?Eu(c):[null,null,void 0];if(Oe(c,"a")&&Oe(c,"H"))throw new Se("Can\'t include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:u,rawMatches:l,matches:c,result:h,zone:g,specificOffset:d}}}function xu(t,e,n){const{result:r,zone:s,specificOffset:i,invalidReason:a}=Jr(t,e,n);return[r,s,i,a]}function Br(t,e){if(!t)return null;const r=E.create(e,t).dtFormatter(Nu()),s=r.formatToParts(),i=r.resolvedOptions();return s.map(a=>vu(a,t,i))}const Jt="Invalid DateTime",Du=864e13;function mt(t){return new _("unsupported zone",`the zone "${t.name}" is not supported`)}function Bt(t){return t.weekData===null&&(t.weekData=it(t.c)),t.weekData}function Qt(t){return t.localWeekData===null&&(t.localWeekData=it(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function ue(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new y({...n,...e,old:n})}function Qr(t,e,n){let r=t-e*60*1e3;const s=n.offset(r);if(e===s)return[r,e];r-=(s-e)*60*1e3;const i=n.offset(r);return s===i?[r,s]:[t-Math.min(s,i)*60*1e3,Math.max(s,i)]}function yt(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function gt(t,e,n){return Qr(ut(t),e,n)}function Kr(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),s=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,i={...t.c,year:r,month:s,day:Math.min(t.c.day,ot(r,s))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},a=T.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=ut(i);let[u,l]=Qr(o,n,t.zone);return a!==0&&(u+=a,l=t.zone.offset(u)),{ts:u,o:l}}function Ue(t,e,n,r,s,i){const{setZone:a,zone:o}=n;if(t&&Object.keys(t).length!==0||e){const u=e||o,l=y.fromObject(t,{...n,zone:u,specificOffset:i});return a?l:l.setZone(o)}else return y.invalid(new _("unparsable",`the input "${s}" can\'t be parsed as ${r}`))}function pt(t,e,n=!0){return t.isValid?E.create(O.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Kt(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=I(t.c.year,n?6:4),e?(r+="-",r+=I(t.c.month),r+="-",r+=I(t.c.day)):(r+=I(t.c.month),r+=I(t.c.day)),r}function Xr(t,e,n,r,s,i){let a=I(t.c.hour);return e?(a+=":",a+=I(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(a+=":")):a+=I(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(a+=I(t.c.second),(t.c.millisecond!==0||!r)&&(a+=".",a+=I(t.c.millisecond,3))),s&&(t.isOffsetFixed&&t.offset===0&&!i?a+="Z":t.o<0?(a+="-",a+=I(Math.trunc(-t.o/60)),a+=":",a+=I(Math.trunc(-t.o%60))):(a+="+",a+=I(Math.trunc(t.o/60)),a+=":",a+=I(Math.trunc(t.o%60)))),i&&(a+="["+t.zone.ianaName+"]"),a}const es={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Cu={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Fu={ordinal:1,hour:0,minute:0,second:0,millisecond:0},ts=["year","month","day","hour","minute","second","millisecond"],Vu=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Au=["year","ordinal","hour","minute","second","millisecond"];function Wu(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new Fn(t);return e}function ns(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Wu(t)}}function rs(t,e){const n=J(e.zone,b.defaultZone),r=O.fromObject(e),s=b.now();let i,a;if(m(t.year))i=s;else{for(const l of ts)m(t[l])&&(t[l]=es[l]);const o=yr(t)||gr(t);if(o)return y.invalid(o);const u=n.offset(s);[i,a]=gt(t,u,n)}return new y({ts:i,zone:n,loc:r,o:a})}function ss(t,e,n){const r=m(n.round)?!0:n.round,s=(a,o)=>(a=Pt(a,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(a,o)),i=a=>n.calendary?e.hasSame(t,a)?0:e.startOf(a).diff(t.startOf(a),a).get(a):e.diff(t,a).get(a);if(n.unit)return s(i(n.unit),n.unit);for(const a of n.units){const o=i(a);if(Math.abs(o)>=1)return s(o,a)}return s(t>e?-0:0,n.units[n.units.length-1])}function is(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}class y{constructor(e){const n=e.zone||b.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new _("invalid input"):null)||(n.isValid?null:mt(n));this.ts=m(e.ts)?b.now():e.ts;let s=null,i=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[s,i]=[e.old.c,e.old.o];else{const o=n.offset(this.ts);s=yt(this.ts,o),r=Number.isNaN(s.year)?new _("invalid input"):null,s=r?null:s,i=r?null:o}this._zone=n,this.loc=e.loc||O.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=s,this.o=i,this.isLuxonDateTime=!0}static now(){return new y({})}static local(){const[e,n]=is(arguments),[r,s,i,a,o,u,l]=n;return rs({year:r,month:s,day:i,hour:a,minute:o,second:u,millisecond:l},e)}static utc(){const[e,n]=is(arguments),[r,s,i,a,o,u,l]=n;return e.zone=N.utcInstance,rs({year:r,month:s,day:i,hour:a,minute:o,second:u,millisecond:l},e)}static fromJSDate(e,n={}){const r=lo(e)?e.valueOf():NaN;if(Number.isNaN(r))return y.invalid("invalid input");const s=J(n.zone,b.defaultZone);return s.isValid?new y({ts:r,zone:s,loc:O.fromObject(n)}):y.invalid(mt(s))}static fromMillis(e,n={}){if(ie(e))return e<-864e13||e>Du?y.invalid("Timestamp out of range"):new y({ts:e,zone:J(n.zone,b.defaultZone),loc:O.fromObject(n)});throw new M(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(ie(e))return new y({ts:e*1e3,zone:J(n.zone,b.defaultZone),loc:O.fromObject(n)});throw new M("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=J(n.zone,b.defaultZone);if(!r.isValid)return y.invalid(mt(r));const s=O.fromObject(n),i=ct(e,ns),{minDaysInFirstWeek:a,startOfWeek:o}=mr(i,s),u=b.now(),l=m(n.specificOffset)?r.offset(u):n.specificOffset,c=!m(i.ordinal),h=!m(i.year),g=!m(i.month)||!m(i.day),d=h||g,k=i.weekYear||i.weekNumber;if((d||c)&&k)throw new Se("Can\'t mix weekYear/weekNumber units with year/month/day or ordinals");if(g&&c)throw new Se("Can\'t mix ordinal dates with month/day");const Z=k||i.weekday&&!d;let x,H,K=yt(u,l);Z?(x=Vu,H=Cu,K=it(K,a,o)):c?(x=Au,H=Fu,K=zt(K)):(x=ts,H=es);let wt=!1;for(const fe of x){const Xt=i[fe];m(Xt)?wt?i[fe]=H[fe]:i[fe]=K[fe]:wt=!0}const X=Z?ao(i,a,o):c?oo(i):yr(i),le=X||gr(i);if(le)return y.invalid(le);const De=Z?dr(i,a,o):c?hr(i):i,[ce,Ce]=gt(De,l,r),Fe=new y({ts:ce,zone:r,o:Ce,loc:s});return i.weekday&&d&&e.weekday!==Fe.weekday?y.invalid("mismatched weekday",`you can\'t specify both a weekday of ${i.weekday} and a date of ${Fe.toISO()}`):Fe}static fromISO(e,n={}){const[r,s]=Xo(e);return Ue(r,s,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,s]=eu(e);return Ue(r,s,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,s]=tu(e);return Ue(r,s,n,"HTTP",n)}static fromFormat(e,n,r={}){if(m(e)||m(n))throw new M("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:i=null}=r,a=O.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0}),[o,u,l,c]=xu(a,e,n);return c?y.invalid(c):Ue(o,u,r,`format ${n}`,e,l)}static fromString(e,n,r={}){return y.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,s]=uu(e);return Ue(r,s,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new M("need to specify a reason the DateTime is invalid");const r=e instanceof _?e:new _(e,n);if(b.throwOnInvalid)throw new La(r);return new y({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=Br(e,O.fromObject(n));return r?r.map(s=>s?s.val:null).join(""):null}static expandFormat(e,n={}){return Gr(E.parseFormat(e),O.fromObject(n)).map(s=>s.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Bt(this).weekYear:NaN}get weekNumber(){return this.isValid?Bt(this).weekNumber:NaN}get weekday(){return this.isValid?Bt(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Qt(this).weekday:NaN}get localWeekNumber(){return this.isValid?Qt(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Qt(this).weekYear:NaN}get ordinal(){return this.isValid?zt(this.c).ordinal:NaN}get monthShort(){return this.isValid?dt.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?dt.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?dt.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?dt.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,r=ut(this.c),s=this.zone.offset(r-e),i=this.zone.offset(r+e),a=this.zone.offset(r-s*n),o=this.zone.offset(r-i*n);if(a===o)return[this];const u=r-a*n,l=r-o*n,c=yt(u,a),h=yt(l,o);return c.hour===h.hour&&c.minute===h.minute&&c.second===h.second&&c.millisecond===h.millisecond?[ue(this,{ts:u}),ue(this,{ts:l})]:[this]}get isInLeapYear(){return _e(this.year)}get daysInMonth(){return ot(this.year,this.month)}get daysInYear(){return this.isValid?ke(this.year):NaN}get weeksInWeekYear(){return this.isValid?ze(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?ze(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:s}=E.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:s}}toUTC(e=0,n={}){return this.setZone(N.instance(e),n)}toLocal(){return this.setZone(b.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=J(e,b.defaultZone),e.equals(this.zone))return this;if(e.isValid){let s=this.ts;if(n||r){const i=e.offset(this.ts),a=this.toObject();[s]=gt(a,i,e)}return ue(this,{ts:s,zone:e})}else return y.invalid(mt(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const s=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return ue(this,{loc:s})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=ct(e,ns),{minDaysInFirstWeek:r,startOfWeek:s}=mr(n,this.loc),i=!m(n.weekYear)||!m(n.weekNumber)||!m(n.weekday),a=!m(n.ordinal),o=!m(n.year),u=!m(n.month)||!m(n.day),l=o||u,c=n.weekYear||n.weekNumber;if((l||a)&&c)throw new Se("Can\'t mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&a)throw new Se("Can\'t mix ordinal dates with month/day");let h;i?h=dr({...it(this.c,r,s),...n},r,s):m(n.ordinal)?(h={...this.toObject(),...n},m(n.day)&&(h.day=Math.min(ot(h.year,h.month),h.day))):h=hr({...zt(this.c),...n});const[g,d]=gt(h,this.o,this.zone);return ue(this,{ts:g,o:d})}plus(e){if(!this.isValid)return this;const n=T.fromDurationLike(e);return ue(this,Kr(this,n))}minus(e){if(!this.isValid)return this;const n=T.fromDurationLike(e).negate();return ue(this,Kr(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const r={},s=T.normalizeUnit(e);switch(s){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(s==="weeks")if(n){const i=this.loc.getStartOfWeek(),{weekday:a}=this;a<i&&(r.weekNumber=this.weekNumber-1),r.weekday=i}else r.weekday=1;if(s==="quarters"){const i=Math.ceil(this.month/3);r.month=(i-1)*3+1}return this.set(r)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?E.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):Jt}toLocaleString(e=et,n={}){return this.isValid?E.create(this.loc.clone(n),e).formatDateTime(this):Jt}toLocaleParts(e={}){return this.isValid?E.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:s=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;const a=e==="extended";let o=Kt(this,a);return o+="T",o+=Xr(this,a,n,r,s,i),o}toISODate({format:e="extended"}={}){return this.isValid?Kt(this,e==="extended"):null}toISOWeekDate(){return pt(this,"kkkk-\'W\'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:s=!1,extendedZone:i=!1,format:a="extended"}={}){return this.isValid?(s?"T":"")+Xr(this,a==="extended",n,e,r,i):null}toRFC2822(){return pt(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return pt(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss \'GMT\'")}toSQLDate(){return this.isValid?Kt(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let s="HH:mm:ss.SSS";return(n||e)&&(r&&(s+=" "),n?s+="z":e&&(s+="ZZ")),pt(this,s,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Jt}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return T.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...r},i=co(n).map(T.normalizeUnit),a=e.valueOf()>this.valueOf(),o=a?this:e,u=a?e:this,l=yu(o,u,i,s);return a?l.negate():l}diffNow(e="milliseconds",n={}){return this.diff(y.now(),e,n)}until(e){return this.isValid?v.fromDateTimes(this,e):this}hasSame(e,n,r){if(!this.isValid)return!1;const s=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(n,r)<=s&&s<=i.endOf(n,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||y.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let s=["years","months","days","hours","minutes","seconds"],i=e.unit;return Array.isArray(e.unit)&&(s=e.unit,i=void 0),ss(n,this.plus(r),{...e,numeric:"always",units:s,unit:i})}toRelativeCalendar(e={}){return this.isValid?ss(e.base||y.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(y.isDateTime))throw new M("min requires all arguments be DateTimes");return Tr(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(y.isDateTime))throw new M("max requires all arguments be DateTimes");return Tr(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:s=null,numberingSystem:i=null}=r,a=O.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0});return Jr(a,e,n)}static fromStringExplain(e,n,r={}){return y.fromFormatExplain(e,n,r)}static get DATE_SHORT(){return et}static get DATE_MED(){return Vn}static get DATE_MED_WITH_WEEKDAY(){return za}static get DATE_FULL(){return An}static get DATE_HUGE(){return Wn}static get TIME_SIMPLE(){return Ln}static get TIME_WITH_SECONDS(){return $n}static get TIME_WITH_SHORT_OFFSET(){return _n}static get TIME_WITH_LONG_OFFSET(){return zn}static get TIME_24_SIMPLE(){return Rn}static get TIME_24_WITH_SECONDS(){return Zn}static get TIME_24_WITH_SHORT_OFFSET(){return Pn}static get TIME_24_WITH_LONG_OFFSET(){return Un}static get DATETIME_SHORT(){return Hn}static get DATETIME_SHORT_WITH_SECONDS(){return qn}static get DATETIME_MED(){return jn}static get DATETIME_MED_WITH_SECONDS(){return Yn}static get DATETIME_MED_WITH_WEEKDAY(){return Ra}static get DATETIME_FULL(){return Gn}static get DATETIME_FULL_WITH_SECONDS(){return Jn}static get DATETIME_HUGE(){return Bn}static get DATETIME_HUGE_WITH_SECONDS(){return Qn}}function He(t){if(y.isDateTime(t))return t;if(t&&t.valueOf&&ie(t.valueOf()))return y.fromJSDate(t);if(t&&typeof t=="object")return y.fromObject(t);throw new M(`Unknown datetime argument: ${t}, of type ${typeof t}`)}function Lu({collections:t},{tableIds:e,tableColumnIds:n,relationshipIds:r,indexIds:s,indexColumnIds:i,memoIds:a}){F(t).collection("tableEntities").removeMany(e),F(t).collection("tableColumnEntities").removeMany(n),F(t).collection("relationshipEntities").removeMany(r),F(t).collection("indexEntities").removeMany(s),F(t).collection("indexColumnEntities").removeMany(i),F(t).collection("memoEntities").removeMany(a)}const $u=3;class _u{async run(e){const n=JSON.parse(e),r=xa(n),{doc:{tableIds:s,memoIds:i,indexIds:a,relationshipIds:o},collections:u}=r,l=pe(s),c=pe(i),h=pe(a),g=pe(o),d=zu(y.now()),k=F(u).collection("tableEntities"),Z=F(u).collection("tableColumnEntities"),x=F(u).collection("indexEntities"),H=F(u).collection("indexColumnEntities"),K=F(u).collection("relationshipEntities"),wt=F(u).collection("memoEntities"),X=new Set(k.selectAll().filter(d(l)).map(({id:w})=>w)),le=new Set,De=new Set(K.selectAll().filter(d(g)).map(({id:w})=>w)),ce=new Set(x.selectAll().filter(d(h)).map(({id:w})=>w)),Ce=new Set,Fe=new Set(wt.selectAll().filter(d(c)).map(({id:w})=>w));Z.selectAll().filter(({tableId:w})=>X.has(w)).forEach(({id:w})=>le.add(w)),K.selectAll().filter(({id:w,start:de,end:qe})=>!De.has(w)&&(X.has(de.tableId)||X.has(qe.tableId))).forEach(({id:w})=>De.add(w)),x.selectAll().filter(({id:w,tableId:de})=>!ce.has(w)&&X.has(de)).forEach(({id:w})=>ce.add(w)),H.selectAll().filter(({indexId:w})=>ce.has(w)).forEach(({id:w})=>Ce.add(w)),Lu(r,{tableIds:[...X],tableColumnIds:[...le],relationshipIds:[...De],indexIds:[...ce],indexColumnIds:[...Ce],memoIds:[...Fe]});const fe=pe(k.selectAll().map(({id:w})=>w)),Xt=pe(x.selectAll().map(({id:w})=>w));return Z.selectAll().filter(({tableId:w,id:de,meta:qe})=>!fe(w)&&d(()=>!1)({id:de,meta:qe})).forEach(({id:w})=>le.add(w)),H.selectAll().filter(({indexId:w,id:de,meta:qe})=>!Xt(w)&&d(()=>!1)({id:de,meta:qe})).forEach(({id:w})=>Ce.add(w)),{tableIds:[...X],tableColumnIds:[...le],relationshipIds:[...De],indexIds:[...ce],indexColumnIds:[...Ce],memoIds:[...Fe]}}}const zu=t=>e=>({id:n,meta:r})=>{if(e(n))return!1;const s=Math.floor(t.diff(y.fromMillis(r.updateAt),"days").toObject().days??0);return $u<s},Ru=new _u;St(Ru)})();\n',SW=typeof self<"u"&&self.Blob&&new Blob([OW],{type:"text/javascript;charset=utf-8"});function EW(e){let t;try{if(t=SW&&(self.URL||self.webkitURL).createObjectURL(SW),!t)throw"";const n=new Worker(t,{name:null==e?void 0:e.name});return n.addEventListener("error",(()=>{(self.URL||self.webkitURL).revokeObjectURL(t)})),n}catch{return new Worker("data:text/javascript;charset=utf-8,"+encodeURIComponent(OW),{name:null==e?void 0:e.name})}finally{t&&(self.URL||self.webkitURL).revokeObjectURL(t)}}const NW="@dineug/erd-editor-schema-gc-worker?v3.3.0";let MW,DW=null,LW=null;const jW=ff`
  visibility: hidden;
  position: fixed;
  top: -100px;
  white-space: nowrap;
  font-family: var(--text-font-family);
  ${mE};
`;const _W=ff`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  overflow: hidden;
  position: relative;
`,zW=ff`
  ${_W};
  background-color: var(--canvas-boundary-background);
  outline: none;

  &.none-focus {
    div[data-focus-border] {
      border-color: var(--placeholder) !important;
    }

    div[data-focus-border-bottom] {
      border-bottom-color: var(--placeholder) !important;
    }

    input[data-focus-border-bottom] {
      border-bottom-color: var(--placeholder) !important;
    }
  }
`,RW=ff`
  ${_W};
`,VW=Qo(["settings.changeZoomLevel","settings.streamZoomLevel","settings.scrollTo","settings.streamScrollTo","settings.changeCanvasType"]),BW=Qo([DS.edit,DS.stop,DS.search,DS.undo,DS.redo,DS.zoomIn,DS.zoomOut]),PW=LS.filter((e=>!BW(e))),UW={grayColor:xU.slate,accentColor:IU.indigo,appearance:bU.dark},WW=Qo(kU),FW=Qo($U),ZW=Qo(wU);function YW(e){let{props:t,ctx:n,app:r,root:o}=e;const{store:i,keyBindingMap:a,emitter:s,shortcut$:l,keydown$:c}=r,u=il({options:{...UW},preset:TU(UW),custom:{}}),d=il({...u.preset,...u.custom},{shallow:!0}),h=function(){const e=globalThis.matchMedia("(prefers-color-scheme: dark)"),t=il({isDark:e.matches},{shallow:!0}),{addUnsubscribe:n}=tE(),r=e=>{t.isDark=e.matches};return Ws((()=>{e.addEventListener("change",r),n((()=>{e.removeEventListener("change",r)}))})),{state:t}}(),{addUnsubscribe:f}=tE(),m=new Set,p=()=>{t.readonly||n.dispatchEvent(new CustomEvent("change"))},g=new Set([al(t).subscribe((e=>{"systemDarkMode"!==e||!t.systemDarkMode||(u.options.appearance=h.state.isDark?bU.dark:bU.light)})),al(h.state).subscribe((e=>{"isDark"!==e||!t.systemDarkMode||(u.options.appearance=h.state.isDark?bU.dark:bU.light)})),al(u.options).subscribe((()=>{Object.assign(u.preset,TU(u.options))})),al(u.preset).subscribe((()=>{Object.assign(d,u.preset,u.custom)})),al(u).subscribe((e=>{"custom"===e&&Object.assign(d,u.preset,u.custom)}))]);return Ws((()=>{f(i.change$.subscribe(p),s.on({setThemeOptions:e=>{let{payload:t}=e;n.setPresetTheme(t),n.dispatchEvent(new CustomEvent("changePresetTheme",{detail:Rr(u.options)}))}}))})),n.focus=()=>{var e;null==(e=o.value)||e.focus()},n.blur=()=>{var e;n.focus(),null==(e=o.value)||e.blur()},n.clear=()=>{i.dispatchSync(qg())},n.destroy=()=>{qS(r),Array.from(g).forEach((e=>e())),Array.from(m).forEach((e=>e.destroy())),g.clear(),m.clear()},n.setInitialValue=e=>{const t=lg(e);i.dispatchSync(ak(_o(t)?"{}":t)),s.emit(iS())},n.setPresetTheme=e=>{oi(e.grayColor)&&WW(e.grayColor)&&(u.options.grayColor=e.grayColor),oi(e.accentColor)&&FW(e.accentColor)&&(u.options.accentColor=e.accentColor),oi(e.appearance)&&ZW(e.appearance)&&(u.options.appearance=e.appearance)},n.setTheme=e=>{const t={};pU.forEach((n=>{const r=bt(e,n);oi(r)&&Reflect.set(t,n,r)})),u.custom=t},n.setKeyBindingMap=e=>{PW.forEach((t=>{const n=bt(e,t);li(n)&&Reflect.set(a,t,n)}))},n.setSchemaSQL=e=>{const t=lg(e);_o(t)||i.dispatchSync(pk(t))},n.getSchemaSQL=e=>{const t=ig(e??"")?bt(Fp,e??""):void 0;return vV(i.state,t)},n.getSharedStore=e=>{const t=(null==e?void 0:e.mouseTracker)??!0,n=function(e,t){const n={editorId:e.state.editor.id},r=new Set,o=new Set,i=new Yf,a=new Yf,s=new Yf,l=new Yf;let c=!0,u=!0;r.add(PO(new Bf((t=>e.subscribe((e=>t.next(e))))),a).pipe(Hk(Rk),ZO([xp.shared]),Jk,((e,t)=>n=>n.pipe(ym(new Bf((r=>{let o=!1;const i=n.subscribe((()=>{o&&r.next()}));return i.add(e.subscribe((()=>{o||(o=!0,r.next())}))),i.add(t.subscribe((()=>{o=!1}))),i}))),mm((e=>e.flat())),Yk))(s,l),Jk,mm((e=>Ip(xp.shared,e.map((e=>{var r;const o={...e,meta:Object.assign({},e.meta??{},{...n,nickname:null==(r=null==t?void 0:t.getNickname)?void 0:r.call(t)})};return VW(e.type)?kp(xp.following,o):o})))))).subscribe((e=>i.next(e))));const d=()=>{const e=0<o.size;c&&e?s.next():l.next()},h=t=>{const n=(li(t)?t:[t]).some((e=>e.type===gy.type)),r=e.state.lww;n&&!_o(r)&&a.next([{...vy({lww:r}),version:e.context.clock.getNextVersion()}])};return Object.freeze({connection:()=>{c=!0,d()},disconnect:()=>{c=!1,d()},dispatch:t=>{e.dispatch(t),h(t)},dispatchSync:t=>{e.dispatchSync(t),h(t)},subscribe:t=>{const n=i.subscribe((e=>t(e)));return o.add(n),d(),u&&(a.next([{...gy(),version:e.context.clock.getNextVersion()}]),u=!1),()=>{n.unsubscribe(),o.delete(n),d()}},destroy:()=>{Array.from(r).forEach((e=>e.unsubscribe())),Array.from(o).forEach((e=>e.unsubscribe())),r.clear(),o.clear(),e.destroy(),i.complete(),s.complete(),l.complete()}})}(i,e);return m.add(n),t&&s.emit(cS()),Object.freeze({...n,destroy:()=>{n.destroy(),m.delete(n),0===m.size&&s.emit(uS())}})},n.setDiffValue=e=>{const t=lg(e);s.emit(dS({value:_o(t)?"{}":t}))},Object.defineProperty(n,"value",{get:()=>_a(i.state),set:e=>{const t=lg(e);i.dispatchSync(ik(_o(t)?"{}":t))}}),{theme:d,themeState:u,destroySet:g,hasDarkMode:()=>u.options.appearance===bU.dark}}!function(e,t){var n,r,o,i,a,s;t.shadow??(t.shadow="open");const l=(e=>as(e)?e:os(e)?[]:Object.keys(e))(t.observedProps),c=(e=>os(e)||as(e)?[]:Object.keys(e).filter((t=>{const n=e[t];return es(n)||ss(n)&&!os(n.type)})).map((t=>{const n=e[t];return ss(n)?[t,Reflect.get(n,"type")]:[t,n]})))(t.observedProps),u=(e=>os(e)||as(e)?[]:Object.keys(e).filter((t=>{const n=e[t];return n===Number||n===String||n===Boolean||ss(n)&&!os(n.default)})).map((t=>{const n=e[t];return ss(n)?[t,Reflect.get(n,"default")]:n===Number?[t,0]:n===Boolean?[t,!1]:[t,""]})))(t.observedProps),d=(s=class extends(r=HTMLElement,n=of,r){constructor(){super(),Va(this,n,il({},{shallow:!0})),Ua(this,o,null),Ua(this,i,this),Ua(this,a),Va(this,"host",this),u.forEach((e=>{let[t,n]=e;return Reflect.set(this[of],xl(t),n)})),t.shadow&&Wa(this,i,this.attachShadow({mode:t.shadow})),Bs(this),Wa(this,a,t.render.call(this,this[of],this)),Bs(null)}static get observedAttributes(){return Array.from(new Set([...l,...l.map((e=>(e=>{var t;return(null==(t=e.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g))?void 0:t.join("-").toLowerCase())??""})(e)))]))}connectedCallback(){const e=this.getRootNode();e instanceof ShadowRoot&&(this.host=e.host),Pa(this,i)instanceof ShadowRoot&&function(e){const t=tf();t.hostContextMap.has(e)||(t.hostContextMap.set(e,{vSheets:new Set,styleElements:new Set}),rf())}(Pa(this,i)),Hs(this,Ss);let t=!1;Wa(this,o,nl((()=>{Hs(this,t?Ds:Ms),function(e,t){var n;if(!Ol(t))return void(ud.has(e)&&(null==(n=ud.get(e))||n.destroy(),ud.delete(e)));const{strings:r,values:o}=t,i=ud.get(e);if(null!=i&&i.equalStrings(r))null==i||i.commit(o);else{const n=new cd(t);null==i||i.destroy(),ud.set(e,n),n.insert("children",e),n.commit(o)}}(Pa(this,i),Fh`${Pa(this,a).call(this)}`),t?Hs(this,js):(Hs(this,Ls),t=!0)}))),Hs(this,Es)}disconnectedCallback(){var e;null==(e=Pa(this,o))||e.call(this),Wa(this,o,null),Hs(this,Ns),Pa(this,i)instanceof ShadowRoot&&function(e){const t=tf(),n=t.hostContextMap.get(e);n&&(ef?e.adoptedStyleSheets=[]:n.styleElements.forEach((t=>e.removeChild(t))),t.hostContextMap.delete(e))}(Pa(this,i))}attributeChangedCallback(e,t,n){const r=c.find((t=>{let[n]=t;return xl(n)===xl(e)}));r?Reflect.set(this[of],xl(e),r[1]===Boolean?"true"===n||""===n:r[1](n)):Reflect.set(this[of],xl(e),n)}},o=new WeakMap,i=new WeakMap,a=new WeakMap,s);l.forEach((e=>{Object.defineProperty(d.prototype,e,{get(){return Reflect.get(this[of],e)},set(t){Reflect.set(this[of],e,t)}})})),customElements.define("erd-editor",d)}(0,{shadow:"closed",observedProps:{readonly:Boolean,systemDarkMode:Boolean,enableThemeBuilder:Boolean},render:(e,t)=>{const n=function(){const e=function(){const e=LW||(LW=document.createElement("canvas"),LW);return MW||(MW=e.getContext("2d"),MW&&(MW.font=`400 12px ${kP}`),MW)}(),t=document.createElement("span");return t.className=jW.toString(),{span:t,toWidth:n=>{let r=0;return e?r=e.measureText(n).width:(t.innerText=n,r=t.offsetWidth),Math.round(r)+2}}}(),r=ZS({toWidth:n.toWidth},{getReadonly:()=>e.readonly}),o=ll(t,YS,r),i=dd();!function(e,t){const n=HS(e),{addUnsubscribe:r}=tE();let o=()=>{};const i=()=>{const{keyBindingMap:e,shortcut$:r}=n.value,i=t.value;o(),o=function(e,t,n){var r;void 0===n&&(n={});var o=null!=(r=n.event)?r:"keydown",i=function(e,t){var n;void 0===t&&(t={});var r=null!=(n=t.timeout)?n:1e3,o=Object.keys(e).map((function(t){return[rW(t),e[t]]})),i=new Map,a=null;return function(e){e instanceof KeyboardEvent&&(o.forEach((function(t){var n=t[0],r=t[1],o=i.get(n)||n;!function(e,t){return!(t[1].toUpperCase()!==e.key.toUpperCase()&&t[1]!==e.code||t[0].find((function(t){return!nW(e,t)}))||XU.find((function(n){return!t[0].includes(n)&&t[1]!==n&&nW(e,n)})))}(e,o[0])?nW(e,e.key)||i.delete(n):o.length>1?i.set(n,o.slice(1)):(i.delete(n),r(e))})),a&&clearTimeout(a),a=setTimeout(i.clear.bind(i),r))}}(t,n);return e.addEventListener(o,i),function(){e.removeEventListener(o,i)}}(i,Object.keys(e).reduce(((t,n)=>{const o=n;return e[o].forEach((e=>{t[e.shortcut]=t=>{e.preventDefault&&t.preventDefault(),e.stopPropagation&&t.stopPropagation(),r.next({type:o,event:t})}})),t}),{}))};Ws((()=>{const{keyBindingMap:e}=n.value;i(),r(al(e).subscribe(i),(()=>{o()}))}))}(t,i);const{theme:a,themeState:s,destroySet:l,hasDarkMode:c}=YW({props:e,ctx:t,app:r,root:i}),{store:u,keydown$:d,emitter:h}=r,{addUnsubscribe:f}=tE(),m=il({isFocus:!1,mouseTracking:!1});l.add(o.destroy),l.add(h.on({mouseTrackerStart:()=>{m.mouseTracking=!0},mouseTrackerEnd:()=>{m.mouseTracking=!1}}));const p=()=>{setTimeout((()=>{document.activeElement!==t&&t.focus()}),1)},g=e=>{d.next(e)};let y=!1,v=-1;const b=()=>{y=!0,m.isFocus=!0},w=()=>{y=!1,clearTimeout(v),v=setTimeout((()=>{m.isFocus=y}),10)},x=e=>{h.emit(rS({event:e}))},k=e=>{h.emit(oS({event:e}))};l.add(h.on({schemaGC:()=>{var e;null==(e=function(){if(DW)return DW;try{const e=new AW({name:NW});DW=pW(e.port)}catch{try{const e=new EW({name:NW});DW=pW(e)}catch{DW=new gO}}return DW}())||e.run(_a(u.state)).then((e=>{(e.tableIds.length||e.tableColumnIds.length||e.relationshipIds.length||e.indexIds.length||e.indexColumnIds.length||e.memoIds.length)&&(pO(u.state,e),u.dispatchSync(py()))}))}})),Ws((()=>{t.focus();const e=i.value,n=new ResizeObserver((e=>{for(const t of e){const{width:e,height:n}=t.contentRect;u.dispatch(Hg({width:e,height:n-30}))}}));n.observe(e),f((()=>{n.unobserve(e),n.disconnect()}),VO(t,CE.type).pipe(bm(50)).subscribe(p),VO(t,TE.type).subscribe(t.focus))}));const I=e=>{const t=e.target;if(!t)return;const{store:n}=r;n.state.editor.openMap[mD]&&!t.closest(".toolbar")&&!t.closest(".theme-builder")&&n.dispatch(dy({[mD]:!1}))};return()=>{const{settings:t}=u.state,r=c();return Fh`
      <${IP} />
      <${gU} theme=${a} />
      <div
        ${hd(i)}
        class=${["root",zW,{dark:r,"none-focus":!m.isFocus}]}
        tabindex="-1"
        @keydown=${g}
        @focus=${b}
        @focusin=${b}
        @focusout=${w}
        @copy=${x}
        @paste=${k}
        @mousedown=${I}
      >
        <${UU}
          enableThemeBuilder=${e.enableThemeBuilder}
          readonly=${e.readonly}
        />
        ${md(t.canvasType===Gm.ERD?Fh`
                <div class=${RW}>
                  <${xP}
                    isDarkMode=${r}
                    mouseTracking=${m.mouseTracking}
                  />
                </div>
              `:null)}
        ${t.canvasType===Gm.visualization?Fh`<div class=${RW}><${QU} /></div>`:t.canvasType===Gm.schemaSQL?Fh`
                <div class=${RW}>
                  <${PB} isDarkMode=${r} />
                </div>
              `:t.canvasType===Gm.generatorCode?Fh`
                  <div class=${RW}>
                    <${_B} isDarkMode=${r} />
                  </div>
                `:t.canvasType===Gm.settings?Fh`<div class=${RW}><${mU} /></div>`:null}
        <${zU} />
        ${e.enableThemeBuilder?Fh`<${jU} theme=${s.options} />`:null}
        <${zP} />
        ${n.span}
      </div>
    `}}});const HW=e=>t=>typeof t===e,qW=HW("object"),GW=(HW("bigint"),HW("boolean"),HW("function"),HW("number"),HW("string")),QW=(HW("symbol"),HW("undefined"),e=>null===e),{isArray:XW}=Array;Math.log2(63);var JW,KW=e=>{throw TypeError(e)},eF=(e,t,n)=>(((e,t,n)=>{t.has(e)||KW("Cannot read from private field")})(e,t),n?n.call(e):t.get(e));function tF(e){return{type:e}}class nF{constructor(){((e,t,n)=>{t.has(e)?KW("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n)})(this,JW,new Map)}static mergeRegister(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return()=>{t.forEach((e=>e()))}}static executeCommand(e,t){return{type:e.type,payload:t}}registerCommand(e,t){const n=eF(this,JW).get(e.type)??new Set;return n.add(t),eF(this,JW).has(e.type)||eF(this,JW).set(e.type,n),()=>{n.delete(t)}}executeAction(e){if(!function(e){return(e=>qW(e)&&!QW(e)&&!XW(e))(e)&&GW(e.type)}(e))return;const t=eF(this,JW).get(e.type);null==t||t.forEach((t=>function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];try{return null==e?void 0:e(...n)}catch(e){console.error(e)}}(t,e.payload)))}}JW=new WeakMap;const rF=tF("hostExportFileCommand"),oF=tF("hostImportFileCommand"),iF=tF("hostInitialCommand"),aF=tF("hostSaveValueCommand"),sF=tF("hostSaveReplicationCommand"),lF=tF("hostSaveThemeCommand"),cF=tF("webviewImportFileCommand"),uF=tF("webviewInitialValueCommand"),dF=tF("webviewUpdateThemeCommand"),hF=tF("webviewUpdateReadonlyCommand"),fF=tF("webviewReplicationCommand"),mF="dark",pF="light",gF='(function(){"use strict";var Wu=Object.defineProperty,Ui=e=>{throw TypeError(e)},Pu=(e,t,n)=>t in e?Wu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ko=(e,t,n)=>Pu(e,typeof t!="symbol"?t+"":t,n),Zi=(e,t,n)=>t.has(e)||Ui("Cannot "+n),$u=(e,t,n)=>(Zi(e,t,"read from private field"),n?n.call(e):t.get(e)),Uu=(e,t,n)=>t.has(e)?Ui("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Zu=(e,t,n,o)=>(Zi(e,t,"write to private field"),t.set(e,n),n);/*!\n * @dineug/erd-editor\n * @version 3.3.0 | Wed May 07 2025\n * @author SeungHwan-Lee <dineug2@gmail.com>\n * @license MIT\n */var qi=typeof global=="object"&&global&&global.Object===Object&&global,qu=typeof self=="object"&&self&&self.Object===Object&&self,xe=qi||qu||Function("return this")(),he=xe.Symbol,Fi=Object.prototype,Fu=Fi.hasOwnProperty,Yu=Fi.toString,un=he?he.toStringTag:void 0;function Hu(e){var t=Fu.call(e,un),n=e[un];try{e[un]=void 0;var o=!0}catch{}var r=Yu.call(e);return o&&(t?e[un]=n:delete e[un]),r}var Gu=Object.prototype,Qu=Gu.toString;function Ju(e){return Qu.call(e)}var Ku="[object Null]",Xu="[object Undefined]",Yi=he?he.toStringTag:void 0;function st(e){return e==null?e===void 0?Xu:Ku:Yi&&Yi in Object(e)?Hu(e):Ju(e)}function je(e){return e!=null&&typeof e=="object"}var ed="[object Symbol]";function Bn(e){return typeof e=="symbol"||je(e)&&st(e)==ed}function Hi(e,t){for(var n=-1,o=e==null?0:e.length,r=Array(o);++n<o;)r[n]=t(e[n],n,e);return r}var le=Array.isArray,Gi=he?he.prototype:void 0,Qi=Gi?Gi.toString:void 0;function Ji(e){if(typeof e=="string")return e;if(le(e))return Hi(e,Ji)+"";if(Bn(e))return Qi?Qi.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var td=/\\s/;function nd(e){for(var t=e.length;t--&&td.test(e.charAt(t)););return t}var od=/^\\s+/;function rd(e){return e&&e.slice(0,nd(e)+1).replace(od,"")}function Re(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ki=NaN,id=/^[-+]0x[0-9a-f]+$/i,sd=/^0b[01]+$/i,ad=/^0o[0-7]+$/i,ld=parseInt;function Xi(e){if(typeof e=="number")return e;if(Bn(e))return Ki;if(Re(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Re(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=rd(e);var n=sd.test(e);return n||ad.test(e)?ld(e.slice(2),n?2:8):id.test(e)?Ki:+e}var cd=1/0,ud=17976931348623157e292;function zn(e){if(!e)return e===0?e:0;if(e=Xi(e),e===cd||e===-1/0){var t=e<0?-1:1;return t*ud}return e===e?e:0}function dd(e){var t=zn(e),n=t%1;return t===t?n?t-n:t:0}function Xo(e){return e}var hd="[object AsyncFunction]",md="[object Function]",fd="[object GeneratorFunction]",pd="[object Proxy]";function es(e){if(!Re(e))return!1;var t=st(e);return t==md||t==fd||t==hd||t==pd}var er=xe["__core-js_shared__"],ts=function(){var e=/[^.]+$/.exec(er&&er.keys&&er.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function yd(e){return!!ts&&ts in e}var gd=Function.prototype,bd=gd.toString;function at(e){if(e!=null){try{return bd.call(e)}catch{}try{return e+""}catch{}}return""}var vd=/[\\\\^$.*+?()[\\]{}|]/g,Id=/^\\[object .+?Constructor\\]$/,wd=Function.prototype,Td=Object.prototype,Cd=wd.toString,Od=Td.hasOwnProperty,xd=RegExp("^"+Cd.call(Od).replace(vd,"\\\\$&").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,"$1.*?")+"$");function Sd(e){if(!Re(e)||yd(e))return!1;var t=es(e)?xd:Id;return t.test(at(e))}function Nd(e,t){return e==null?void 0:e[t]}function lt(e,t){var n=Nd(e,t);return Sd(n)?n:void 0}var tr=lt(xe,"WeakMap");function Ed(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function dn(){}var Md=800,kd=16,Ad=Date.now;function Dd(e){var t=0,n=0;return function(){var o=Ad(),r=kd-(o-n);if(n=o,r>0){if(++t>=Md)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Ld(e){return function(){return e}}var Wn=function(){try{var e=lt(Object,"defineProperty");return e({},"",{}),e}catch{}}(),jd=Wn?function(e,t){return Wn(e,"toString",{configurable:!0,enumerable:!1,value:Ld(t),writable:!0})}:Xo,ns=Dd(jd);function Rd(e,t){for(var n=-1,o=e==null?0:e.length;++n<o&&t(e[n],n,e)!==!1;);return e}function Vd(e,t,n,o){for(var r=e.length,i=n+-1;++i<r;)if(t(e[i],i,e))return i;return-1}function _d(e){return e!==e}function Bd(e,t,n){for(var o=n-1,r=e.length;++o<r;)if(e[o]===t)return o;return-1}function zd(e,t,n){return t===t?Bd(e,t,n):Vd(e,_d,n)}function os(e,t){var n=e==null?0:e.length;return!!n&&zd(e,t,0)>-1}var Wd=9007199254740991,Pd=/^(?:0|[1-9]\\d*)$/;function Pn(e,t){var n=typeof e;return t=t??Wd,!!t&&(n=="number"||n!="symbol"&&Pd.test(e))&&e>-1&&e%1==0&&e<t}function nr(e,t,n){t=="__proto__"&&Wn?Wn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function $n(e,t){return e===t||e!==e&&t!==t}var $d=Object.prototype,Ud=$d.hasOwnProperty;function or(e,t,n){var o=e[t];(!(Ud.call(e,t)&&$n(o,n))||n===void 0&&!(t in e))&&nr(e,t,n)}function Zd(e,t,n,o){var r=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var a=t[i],l=void 0;l===void 0&&(l=e[a]),r?nr(n,a,l):or(n,a,l)}return n}var rs=Math.max;function is(e,t,n){return t=rs(t===void 0?e.length-1:t,0),function(){for(var o=arguments,r=-1,i=rs(o.length-t,0),s=Array(i);++r<i;)s[r]=o[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=o[r];return a[t]=n(s),Ed(e,this,a)}}function qd(e,t){return ns(is(e,t,Xo),e+"")}var Fd=9007199254740991;function rr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Fd}function Mt(e){return e!=null&&rr(e.length)&&!es(e)}function Yd(e,t,n){if(!Re(n))return!1;var o=typeof t;return(o=="number"?Mt(n)&&Pn(t,n.length):o=="string"&&t in n)?$n(n[t],e):!1}var Hd=Object.prototype;function ir(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Hd;return e===n}function Gd(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}var Qd="[object Arguments]";function ss(e){return je(e)&&st(e)==Qd}var as=Object.prototype,Jd=as.hasOwnProperty,Kd=as.propertyIsEnumerable,Un=ss(function(){return arguments}())?ss:function(e){return je(e)&&Jd.call(e,"callee")&&!Kd.call(e,"callee")};function Xd(){return!1}var ls=typeof exports=="object"&&exports&&!exports.nodeType&&exports,cs=ls&&typeof module=="object"&&module&&!module.nodeType&&module,eh=cs&&cs.exports===ls,us=eh?xe.Buffer:void 0,th=us?us.isBuffer:void 0,hn=th||Xd,nh="[object Arguments]",oh="[object Array]",rh="[object Boolean]",ih="[object Date]",sh="[object Error]",ah="[object Function]",lh="[object Map]",ch="[object Number]",uh="[object Object]",dh="[object RegExp]",hh="[object Set]",mh="[object String]",fh="[object WeakMap]",ph="[object ArrayBuffer]",yh="[object DataView]",gh="[object Float32Array]",bh="[object Float64Array]",vh="[object Int8Array]",Ih="[object Int16Array]",wh="[object Int32Array]",Th="[object Uint8Array]",Ch="[object Uint8ClampedArray]",Oh="[object Uint16Array]",xh="[object Uint32Array]",U={};U[gh]=U[bh]=U[vh]=U[Ih]=U[wh]=U[Th]=U[Ch]=U[Oh]=U[xh]=!0,U[nh]=U[oh]=U[ph]=U[rh]=U[yh]=U[ih]=U[sh]=U[ah]=U[lh]=U[ch]=U[uh]=U[dh]=U[hh]=U[mh]=U[fh]=!1;function Sh(e){return je(e)&&rr(e.length)&&!!U[st(e)]}function sr(e){return function(t){return e(t)}}var ds=typeof exports=="object"&&exports&&!exports.nodeType&&exports,mn=ds&&typeof module=="object"&&module&&!module.nodeType&&module,Nh=mn&&mn.exports===ds,ar=Nh&&qi.process,kt=function(){try{var e=mn&&mn.require&&mn.require("util").types;return e||ar&&ar.binding&&ar.binding("util")}catch{}}(),hs=kt&&kt.isTypedArray,lr=hs?sr(hs):Sh,Eh=Object.prototype,Mh=Eh.hasOwnProperty;function ms(e,t){var n=le(e),o=!n&&Un(e),r=!n&&!o&&hn(e),i=!n&&!o&&!r&&lr(e),s=n||o||r||i,a=s?Gd(e.length,String):[],l=a.length;for(var c in e)(t||Mh.call(e,c))&&!(s&&(c=="length"||r&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Pn(c,l)))&&a.push(c);return a}function fs(e,t){return function(n){return e(t(n))}}var kh=fs(Object.keys,Object),Ah=Object.prototype,Dh=Ah.hasOwnProperty;function ps(e){if(!ir(e))return kh(e);var t=[];for(var n in Object(e))Dh.call(e,n)&&n!="constructor"&&t.push(n);return t}function cr(e){return Mt(e)?ms(e):ps(e)}function Lh(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var jh=Object.prototype,Rh=jh.hasOwnProperty;function Vh(e){if(!Re(e))return Lh(e);var t=ir(e),n=[];for(var o in e)o=="constructor"&&(t||!Rh.call(e,o))||n.push(o);return n}function _h(e){return Mt(e)?ms(e,!0):Vh(e)}var Bh=/\\.|\\[(?:[^[\\]]*|(["\'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,zh=/^\\w*$/;function ur(e,t){if(le(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Bn(e)?!0:zh.test(e)||!Bh.test(e)||t!=null&&e in Object(t)}var fn=lt(Object,"create");function Wh(){this.__data__=fn?fn(null):{},this.size=0}function Ph(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var $h="__lodash_hash_undefined__",Uh=Object.prototype,Zh=Uh.hasOwnProperty;function qh(e){var t=this.__data__;if(fn){var n=t[e];return n===$h?void 0:n}return Zh.call(t,e)?t[e]:void 0}var Fh=Object.prototype,Yh=Fh.hasOwnProperty;function Hh(e){var t=this.__data__;return fn?t[e]!==void 0:Yh.call(t,e)}var Gh="__lodash_hash_undefined__";function Qh(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=fn&&t===void 0?Gh:t,this}function ct(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}ct.prototype.clear=Wh,ct.prototype.delete=Ph,ct.prototype.get=qh,ct.prototype.has=Hh,ct.prototype.set=Qh;function Jh(){this.__data__=[],this.size=0}function Zn(e,t){for(var n=e.length;n--;)if($n(e[n][0],t))return n;return-1}var Kh=Array.prototype,Xh=Kh.splice;function em(e){var t=this.__data__,n=Zn(t,e);if(n<0)return!1;var o=t.length-1;return n==o?t.pop():Xh.call(t,n,1),--this.size,!0}function tm(e){var t=this.__data__,n=Zn(t,e);return n<0?void 0:t[n][1]}function nm(e){return Zn(this.__data__,e)>-1}function om(e,t){var n=this.__data__,o=Zn(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}function $e(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}$e.prototype.clear=Jh,$e.prototype.delete=em,$e.prototype.get=tm,$e.prototype.has=nm,$e.prototype.set=om;var pn=lt(xe,"Map");function rm(){this.size=0,this.__data__={hash:new ct,map:new(pn||$e),string:new ct}}function im(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function qn(e,t){var n=e.__data__;return im(t)?n[typeof t=="string"?"string":"hash"]:n.map}function sm(e){var t=qn(this,e).delete(e);return this.size-=t?1:0,t}function am(e){return qn(this,e).get(e)}function lm(e){return qn(this,e).has(e)}function cm(e,t){var n=qn(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}function Ue(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}Ue.prototype.clear=rm,Ue.prototype.delete=sm,Ue.prototype.get=am,Ue.prototype.has=lm,Ue.prototype.set=cm;var um="Expected a function";function dr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(um);var n=function(){var o=arguments,r=t?t.apply(this,o):o[0],i=n.cache;if(i.has(r))return i.get(r);var s=e.apply(this,o);return n.cache=i.set(r,s)||i,s};return n.cache=new(dr.Cache||Ue),n}dr.Cache=Ue;var dm=500;function hm(e){var t=dr(e,function(o){return n.size===dm&&n.clear(),o}),n=t.cache;return t}var mm=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["\'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,fm=/\\\\(\\\\)?/g,pm=hm(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(mm,function(n,o,r,i){t.push(r?i.replace(fm,"$1"):o||n)}),t});function hr(e){return e==null?"":Ji(e)}function At(e,t){return le(e)?e:ur(e,t)?[e]:pm(hr(e))}function Dt(e){if(typeof e=="string"||Bn(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Fn(e,t){t=At(t,e);for(var n=0,o=t.length;e!=null&&n<o;)e=e[Dt(t[n++])];return n&&n==o?e:void 0}function ym(e,t,n){var o=e==null?void 0:Fn(e,t);return o===void 0?n:o}function mr(e,t){for(var n=-1,o=t.length,r=e.length;++n<o;)e[r+n]=t[n];return e}var ys=he?he.isConcatSpreadable:void 0;function gm(e){return le(e)||Un(e)||!!(ys&&e&&e[ys])}function gs(e,t,n,o,r){var i=-1,s=e.length;for(n||(n=gm),r||(r=[]);++i<s;){var a=e[i];n(a)?mr(r,a):o||(r[r.length]=a)}return r}function bm(e){var t=e==null?0:e.length;return t?gs(e):[]}function bs(e){return ns(is(e,void 0,bm),e+"")}var vs=fs(Object.getPrototypeOf,Object),vm="[object Object]",Im=Function.prototype,wm=Object.prototype,Is=Im.toString,Tm=wm.hasOwnProperty,Cm=Is.call(Object);function Om(e){if(!je(e)||st(e)!=vm)return!1;var t=vs(e);if(t===null)return!0;var n=Tm.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Is.call(n)==Cm}function xm(e,t,n){var o=-1,r=e.length;t<0&&(t=-t>r?0:r+t),n=n>r?r:n,n<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(r);++o<r;)i[o]=e[o+t];return i}var Sm=xe.isFinite,Nm=Math.min;function Em(e){var t=Math[e];return function(n,o){if(n=Xi(n),o=o==null?0:Nm(dd(o),292),o&&Sm(n)){var r=(hr(n)+"e").split("e"),i=t(r[0]+"e"+(+r[1]+o));return r=(hr(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-o))}return t(n)}}function Mm(){this.__data__=new $e,this.size=0}function km(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Am(e){return this.__data__.get(e)}function Dm(e){return this.__data__.has(e)}var Lm=200;function jm(e,t){var n=this.__data__;if(n instanceof $e){var o=n.__data__;if(!pn||o.length<Lm-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ue(o)}return n.set(e,t),this.size=n.size,this}function Ve(e){var t=this.__data__=new $e(e);this.size=t.size}Ve.prototype.clear=Mm,Ve.prototype.delete=km,Ve.prototype.get=Am,Ve.prototype.has=Dm,Ve.prototype.set=jm;var ws=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ts=ws&&typeof module=="object"&&module&&!module.nodeType&&module,Rm=Ts&&Ts.exports===ws,Cs=Rm?xe.Buffer:void 0;Cs&&Cs.allocUnsafe;function Vm(e,t){return e.slice()}function _m(e,t){for(var n=-1,o=e==null?0:e.length,r=0,i=[];++n<o;){var s=e[n];t(s,n,e)&&(i[r++]=s)}return i}function Os(){return[]}var Bm=Object.prototype,zm=Bm.propertyIsEnumerable,xs=Object.getOwnPropertySymbols,Ss=xs?function(e){return e==null?[]:(e=Object(e),_m(xs(e),function(t){return zm.call(e,t)}))}:Os,Wm=Object.getOwnPropertySymbols,Pm=Wm?function(e){for(var t=[];e;)mr(t,Ss(e)),e=vs(e);return t}:Os;function Ns(e,t,n){var o=t(e);return le(e)?o:mr(o,n(e))}function Es(e){return Ns(e,cr,Ss)}function Ms(e){return Ns(e,_h,Pm)}var fr=lt(xe,"DataView"),pr=lt(xe,"Promise"),Lt=lt(xe,"Set"),ks="[object Map]",$m="[object Object]",As="[object Promise]",Ds="[object Set]",Ls="[object WeakMap]",js="[object DataView]",Um=at(fr),Zm=at(pn),qm=at(pr),Fm=at(Lt),Ym=at(tr),me=st;(fr&&me(new fr(new ArrayBuffer(1)))!=js||pn&&me(new pn)!=ks||pr&&me(pr.resolve())!=As||Lt&&me(new Lt)!=Ds||tr&&me(new tr)!=Ls)&&(me=function(e){var t=st(e),n=t==$m?e.constructor:void 0,o=n?at(n):"";if(o)switch(o){case Um:return js;case Zm:return ks;case qm:return As;case Fm:return Ds;case Ym:return Ls}return t});var Hm=Object.prototype,Gm=Hm.hasOwnProperty;function Qm(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Gm.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Yn=xe.Uint8Array;function yr(e){var t=new e.constructor(e.byteLength);return new Yn(t).set(new Yn(e)),t}function Jm(e,t){var n=yr(e.buffer);return new e.constructor(n,e.byteOffset,e.byteLength)}var Km=/\\w*$/;function Xm(e){var t=new e.constructor(e.source,Km.exec(e));return t.lastIndex=e.lastIndex,t}var Rs=he?he.prototype:void 0,Vs=Rs?Rs.valueOf:void 0;function ef(e){return Vs?Object(Vs.call(e)):{}}function tf(e,t){var n=yr(e.buffer);return new e.constructor(n,e.byteOffset,e.length)}var nf="[object Boolean]",of="[object Date]",rf="[object Map]",sf="[object Number]",af="[object RegExp]",lf="[object Set]",cf="[object String]",uf="[object Symbol]",df="[object ArrayBuffer]",hf="[object DataView]",mf="[object Float32Array]",ff="[object Float64Array]",pf="[object Int8Array]",yf="[object Int16Array]",gf="[object Int32Array]",bf="[object Uint8Array]",vf="[object Uint8ClampedArray]",If="[object Uint16Array]",wf="[object Uint32Array]";function Tf(e,t,n){var o=e.constructor;switch(t){case df:return yr(e);case nf:case of:return new o(+e);case hf:return Jm(e);case mf:case ff:case pf:case yf:case gf:case bf:case vf:case If:case wf:return tf(e);case rf:return new o;case sf:case cf:return new o(e);case af:return Xm(e);case lf:return new o;case uf:return ef(e)}}var Cf="[object Map]";function Of(e){return je(e)&&me(e)==Cf}var _s=kt&&kt.isMap,xf=_s?sr(_s):Of,Sf="[object Set]";function Nf(e){return je(e)&&me(e)==Sf}var Bs=kt&&kt.isSet,Ef=Bs?sr(Bs):Nf,zs="[object Arguments]",Mf="[object Array]",kf="[object Boolean]",Af="[object Date]",Df="[object Error]",Ws="[object Function]",Lf="[object GeneratorFunction]",jf="[object Map]",Rf="[object Number]",Ps="[object Object]",Vf="[object RegExp]",_f="[object Set]",Bf="[object String]",zf="[object Symbol]",Wf="[object WeakMap]",Pf="[object ArrayBuffer]",$f="[object DataView]",Uf="[object Float32Array]",Zf="[object Float64Array]",qf="[object Int8Array]",Ff="[object Int16Array]",Yf="[object Int32Array]",Hf="[object Uint8Array]",Gf="[object Uint8ClampedArray]",Qf="[object Uint16Array]",Jf="[object Uint32Array]",P={};P[zs]=P[Mf]=P[Pf]=P[$f]=P[kf]=P[Af]=P[Uf]=P[Zf]=P[qf]=P[Ff]=P[Yf]=P[jf]=P[Rf]=P[Ps]=P[Vf]=P[_f]=P[Bf]=P[zf]=P[Hf]=P[Gf]=P[Qf]=P[Jf]=!0,P[Df]=P[Ws]=P[Wf]=!1;function Hn(e,t,n,o,r,i){var s;if(n&&(s=r?n(e,o,r,i):n(e)),s!==void 0)return s;if(!Re(e))return e;var a=le(e);if(a)s=Qm(e);else{var l=me(e),c=l==Ws||l==Lf;if(hn(e))return Vm(e);if(l==Ps||l==zs||c&&!r)s={};else{if(!P[l])return r?e:{};s=Tf(e,l)}}i||(i=new Ve);var u=i.get(e);if(u)return u;i.set(e,s),Ef(e)?e.forEach(function(p){s.add(Hn(p,t,n,p,e,i))}):xf(e)&&e.forEach(function(p,w){s.set(w,Hn(p,t,n,w,e,i))});var d=Ms,h=a?void 0:d(e);return Rd(h||e,function(p,w){h&&(w=p,p=e[w]),or(s,w,Hn(p,t,n,w,e,i))}),s}var Kf="__lodash_hash_undefined__";function Xf(e){return this.__data__.set(e,Kf),this}function ep(e){return this.__data__.has(e)}function jt(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Ue;++t<n;)this.add(e[t])}jt.prototype.add=jt.prototype.push=Xf,jt.prototype.has=ep;function tp(e,t){for(var n=-1,o=e==null?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}function gr(e,t){return e.has(t)}var np=1,op=2;function $s(e,t,n,o,r,i){var s=n&np,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=n&op?new jt:void 0;for(i.set(e,t),i.set(t,e);++d<a;){var w=e[d],f=t[d];if(o)var E=s?o(f,w,d,t,e,i):o(w,f,d,e,t,i);if(E!==void 0){if(E)continue;h=!1;break}if(p){if(!tp(t,function(g,I){if(!gr(p,I)&&(w===g||r(w,g,n,o,i)))return p.push(I)})){h=!1;break}}else if(!(w===f||r(w,f,n,o,i))){h=!1;break}}return i.delete(e),i.delete(t),h}function rp(e){var t=-1,n=Array(e.size);return e.forEach(function(o,r){n[++t]=[r,o]}),n}function br(e){var t=-1,n=Array(e.size);return e.forEach(function(o){n[++t]=o}),n}var ip=1,sp=2,ap="[object Boolean]",lp="[object Date]",cp="[object Error]",up="[object Map]",dp="[object Number]",hp="[object RegExp]",mp="[object Set]",fp="[object String]",pp="[object Symbol]",yp="[object ArrayBuffer]",gp="[object DataView]",Us=he?he.prototype:void 0,vr=Us?Us.valueOf:void 0;function bp(e,t,n,o,r,i,s){switch(n){case gp:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case yp:return!(e.byteLength!=t.byteLength||!i(new Yn(e),new Yn(t)));case ap:case lp:case dp:return $n(+e,+t);case cp:return e.name==t.name&&e.message==t.message;case hp:case fp:return e==t+"";case up:var a=rp;case mp:var l=o&ip;if(a||(a=br),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;o|=sp,s.set(e,t);var u=$s(a(e),a(t),o,r,i,s);return s.delete(e),u;case pp:if(vr)return vr.call(e)==vr.call(t)}return!1}var vp=1,Ip=Object.prototype,wp=Ip.hasOwnProperty;function Tp(e,t,n,o,r,i){var s=n&vp,a=Es(e),l=a.length,c=Es(t),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in t:wp.call(t,h)))return!1}var p=i.get(e),w=i.get(t);if(p&&w)return p==t&&w==e;var f=!0;i.set(e,t),i.set(t,e);for(var E=s;++d<l;){h=a[d];var g=e[h],I=t[h];if(o)var x=s?o(I,g,h,t,e,i):o(g,I,h,e,t,i);if(!(x===void 0?g===I||r(g,I,n,o,i):x)){f=!1;break}E||(E=h=="constructor")}if(f&&!E){var j=e.constructor,W=t.constructor;j!=W&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof W=="function"&&W instanceof W)&&(f=!1)}return i.delete(e),i.delete(t),f}var Cp=1,Zs="[object Arguments]",qs="[object Array]",Gn="[object Object]",Op=Object.prototype,Fs=Op.hasOwnProperty;function xp(e,t,n,o,r,i){var s=le(e),a=le(t),l=s?qs:me(e),c=a?qs:me(t);l=l==Zs?Gn:l,c=c==Zs?Gn:c;var u=l==Gn,d=c==Gn,h=l==c;if(h&&hn(e)){if(!hn(t))return!1;s=!0,u=!1}if(h&&!u)return i||(i=new Ve),s||lr(e)?$s(e,t,n,o,r,i):bp(e,t,l,n,o,r,i);if(!(n&Cp)){var p=u&&Fs.call(e,"__wrapped__"),w=d&&Fs.call(t,"__wrapped__");if(p||w){var f=p?e.value():e,E=w?t.value():t;return i||(i=new Ve),r(f,E,n,o,i)}}return h?(i||(i=new Ve),Tp(e,t,n,o,r,i)):!1}function Ir(e,t,n,o,r){return e===t?!0:e==null||t==null||!je(e)&&!je(t)?e!==e&&t!==t:xp(e,t,n,o,Ir,r)}var Sp=1,Np=2;function Ep(e,t,n,o){var r=n.length,i=r;if(e==null)return!i;for(e=Object(e);r--;){var s=n[r];if(s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<i;){s=n[r];var a=s[0],l=e[a],c=s[1];if(s[2]){if(l===void 0&&!(a in e))return!1}else{var u=new Ve,d;if(!(d===void 0?Ir(c,l,Sp|Np,o,u):d))return!1}}return!0}function Ys(e){return e===e&&!Re(e)}function Mp(e){for(var t=cr(e),n=t.length;n--;){var o=t[n],r=e[o];t[n]=[o,r,Ys(r)]}return t}function Hs(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function kp(e){var t=Mp(e);return t.length==1&&t[0][2]?Hs(t[0][0],t[0][1]):function(n){return n===e||Ep(n,e,t)}}function Ap(e,t){return e!=null&&t in Object(e)}function Dp(e,t,n){t=At(t,e);for(var o=-1,r=t.length,i=!1;++o<r;){var s=Dt(t[o]);if(!(i=e!=null&&n(e,s)))break;e=e[s]}return i||++o!=r?i:(r=e==null?0:e.length,!!r&&rr(r)&&Pn(s,r)&&(le(e)||Un(e)))}function Gs(e,t){return e!=null&&Dp(e,t,Ap)}var Lp=1,jp=2;function Rp(e,t){return ur(e)&&Ys(t)?Hs(Dt(e),t):function(n){var o=ym(n,e);return o===void 0&&o===t?Gs(n,e):Ir(t,o,Lp|jp)}}function Vp(e){return function(t){return t==null?void 0:t[e]}}function _p(e){return function(t){return Fn(t,e)}}function Bp(e){return ur(e)?Vp(Dt(e)):_p(e)}function zp(e){return typeof e=="function"?e:e==null?Xo:typeof e=="object"?le(e)?Rp(e[0],e[1]):kp(e):Bp(e)}function Wp(e,t,n,o){for(var r=-1,i=e==null?0:e.length;++r<i;){var s=e[r];t(o,s,n(s),e)}return o}function Pp(e){return function(t,n,o){for(var r=-1,i=Object(t),s=o(t),a=s.length;a--;){var l=s[++r];if(n(i[l],l,i)===!1)break}return t}}var $p=Pp();function Up(e,t){return e&&$p(e,t,cr)}function Zp(e,t){return function(n,o){if(n==null)return n;if(!Mt(n))return e(n,o);for(var r=n.length,i=-1,s=Object(n);++i<r&&o(s[i],i,s)!==!1;);return n}}var qp=Zp(Up);function Fp(e,t,n,o){return qp(e,function(r,i,s){t(o,r,n(r),s)}),o}function Yp(e,t){return function(n,o){var r=le(n)?Wp:Fp,i={};return r(n,e,zp(o),i)}}function Qs(e){return je(e)&&Mt(e)}var Hp=200;function Gp(e,t,n,o){var r=-1,i=os,s=!0,a=e.length,l=[],c=t.length;if(!a)return l;t.length>=Hp&&(i=gr,s=!1,t=new jt(t));e:for(;++r<a;){var u=e[r],d=u;if(u=u!==0?u:0,s&&d===d){for(var h=c;h--;)if(t[h]===d)continue e;l.push(u)}else i(t,d,o)||l.push(u)}return l}var wr=qd(function(e,t){return Qs(e)?Gp(e,gs(t,1,Qs,!0)):[]});function Qn(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function yn(e){return e&&e.length?e[0]:void 0}var Qp=Object.prototype,Jp=Qp.hasOwnProperty,gn=Yp(function(e,t,n){Jp.call(e,n)?e[n].push(t):nr(e,n,[t])});function Kp(e,t){return t.length<2?e:Fn(e,xm(t,0,-1))}var Xp="[object Map]",ey="[object Set]",ty=Object.prototype,ny=ty.hasOwnProperty;function Js(e){if(e==null)return!0;if(Mt(e)&&(le(e)||typeof e=="string"||typeof e.splice=="function"||hn(e)||lr(e)||Un(e)))return!e.length;var t=me(e);if(t==Xp||t==ey)return!e.size;if(ir(e))return!ps(e).length;for(var n in e)if(ny.call(e,n))return!1;return!0}function oy(e,t){return t=At(t,e),e=Kp(e,t),e==null||delete e[Dt(Qn(t))]}function ry(e){return Om(e)?void 0:e}var iy=1,sy=2,ay=4,ly=bs(function(e,t){var n={};if(e==null)return n;var o=!1;t=Hi(t,function(i){return i=At(i,e),o||(o=i.length>1),i}),Zd(e,Ms(e),n),o&&(n=Hn(n,iy|sy|ay,ry));for(var r=t.length;r--;)oy(n,t[r]);return n});function cy(e,t,n,o){if(!Re(e))return e;t=At(t,e);for(var r=-1,i=t.length,s=i-1,a=e;a!=null&&++r<i;){var l=Dt(t[r]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(r!=s){var u=a[l];c=void 0,c===void 0&&(c=Re(u)?u:Pn(t[r+1])?[]:{})}or(a,l,c),a=a[l]}return e}function uy(e,t,n){for(var o=-1,r=t.length,i={};++o<r;){var s=t[o],a=Fn(e,s);n(a,s)&&cy(i,At(s,e),a)}return i}function dy(e,t){return uy(e,t,function(n,o){return Gs(e,o)})}var bn=bs(function(e,t){return e==null?{}:dy(e,t)}),hy=Math.ceil,my=Math.max;function fy(e,t,n,o){for(var r=-1,i=my(hy((t-e)/(n||1)),0),s=Array(i);i--;)s[++r]=e,e+=n;return s}function py(e){return function(t,n,o){return o&&typeof o!="number"&&Yd(t,n,o)&&(n=o=void 0),t=zn(t),n===void 0?(n=t,t=0):n=zn(n),o=o===void 0?t<n?1:-1:zn(o),fy(t,n,o)}}var Ks=py(),Ze=Em("round"),yy=1/0,gy=Lt&&1/br(new Lt([,-0]))[1]==yy?function(e){return new Lt(e)}:dn,by=200;function vy(e,t,n){var o=-1,r=os,i=e.length,s=!0,a=[],l=a;if(i>=by){var c=gy(e);if(c)return br(c);s=!1,r=gr,l=new jt}else l=a;e:for(;++o<i;){var u=e[o],d=u;if(u=u!==0?u:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;a.push(u)}else r(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}function Xs(e){return e&&e.length?vy(e):[]}function k(e){const t=new Set(e);return n=>t.has(n)}function Iy(e,...t){try{return e==null?void 0:e(...t)}catch(n){console.error(n)}}const wy=e=>{Promise.resolve().then(e)},Ty=queueMicrotask??wy,vn=e=>t=>typeof t===e,Cy=vn("object"),fe=vn("boolean"),F=vn("number"),R=vn("string"),Oy=vn("undefined"),ea=e=>e===null,te=e=>ea(e)||Oy(e),{isArray:oe}=Array,qe=e=>Cy(e)&&!ea(e)&&!oe(e),xy=e=>Number.isInteger(e),Je=((e,t,n)=>{let o=(2<<Math.log2(e.length-1))-1,r=-~(1.6*o*t/e.length);return(i=t)=>{let s="";for(;;){let a=n(r),l=r|0;for(;l--;)if(s+=e[a[l]&o]||"",s.length>=i)return s}}})("useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",21,e=>{let t=globalThis.crypto;return t===void 0&&(t=require("node:crypto").webcrypto),t.getRandomValues(new Uint8Array(e))}),pe=(e,t)=>n=>Math.min(Math.max(n,e),t);/*!\n * @dineug/erd-editor-schema\n * @version 0.1.0 | Wed May 07 2025\n * @author SeungHwan-Lee <dineug2@gmail.com>\n * @license MIT\n */function b(e,t,n){return o=>{if(!n)return;const r=n[o];e(r)&&(t[o]=r)}}function ye(e){return t=>R(t)&&e.includes(t)}function _e(e){return t=>F(t)&&e.includes(t)}function ce(e,t,n){return Reflect.get(e,t)??n}function Rt(){const e=Date.now();return{updateAt:e,createAt:e}}function Vt(e,t){const n=b(F,e,t);n("updateAt"),n("createAt")}const Sy=()=>({tableIds:[],relationshipIds:[],indexIds:[],memoIds:[]});function Ny(e){const t=Sy();if(!qe(e)||te(e))return t;const n=b(oe,t,e);return n("tableIds"),n("relationshipIds"),n("indexIds"),n("memoIds"),t}const ta=()=>({id:"",name:"",tableId:"",indexColumnIds:[],seqIndexColumnIds:[],unique:!1,meta:Rt()});function Ey(e){const t={};if(!qe(e)||te(e))return t;for(const n of Object.values(e)){if(!n)continue;const o=ta(),r=b(R,o,n),i=b(fe,o,n),s=b(oe,o,n);r("id"),r("name"),r("tableId"),i("unique"),s("indexColumnIds"),s("seqIndexColumnIds"),Vt(o.meta,n.meta),o.id&&(t[o.id]=o)}return t}const Tr={ASC:1,DESC:2},My=Object.values(Tr),na=()=>({id:"",indexId:"",columnId:"",orderType:Tr.ASC,meta:Rt()});function ky(e){const t={};if(!qe(e)||te(e))return t;for(const n of Object.values(e)){if(!n)continue;const o=na(),r=b(R,o,n);r("id"),r("indexId"),r("columnId"),b(_e(My),o,n)("orderType"),Vt(o.meta,n.meta),o.id&&(t[o.id]=o)}return t}const oa=()=>({id:"",value:"",ui:{x:200,y:100,zIndex:2,width:116,height:100,color:""},meta:Rt()});function Ay(e){const t={};if(!qe(e)||te(e))return t;for(const n of Object.values(e)){if(!n)continue;const o=oa(),r=b(R,o,n),i=b(F,o.ui,n.ui),s=b(R,o.ui,n.ui);r("id"),r("value"),s("color"),i("x"),i("y"),i("zIndex"),i("width"),i("height"),Vt(o.meta,n.meta),o.id&&(t[o.id]=o)}return t}const Cr={ZeroOne:2,ZeroN:4,OneOnly:8,OneN:16},Dy=Object.values(Cr),Or={ring:1,dash:2},Ly=Object.values(Or),Jn={left:1,right:2,top:4,bottom:8},ra=Object.values(Jn),ia=()=>({id:"",identification:!1,relationshipType:Cr.ZeroN,startRelationshipType:Or.dash,start:{tableId:"",columnIds:[],x:0,y:0,direction:Jn.bottom},end:{tableId:"",columnIds:[],x:0,y:0,direction:Jn.bottom},meta:Rt()});function jy(e){const t={};if(!qe(e)||te(e))return t;for(const n of Object.values(e)){if(!n)continue;const o=ia(),r=b(R,o,n),i=b(fe,o,n),s=b(F,o.start,n.start),a=b(R,o.start,n.start),l=b(F,o.end,n.end),c=b(R,o.end,n.end);r("id"),i("identification"),b(_e(Dy),o,n)("relationshipType"),b(_e(Ly),o,n)("startRelationshipType"),a("tableId"),s("x"),s("y"),b(_e(ra),o.start,n.start)("direction"),b(oe,o.start,n.start)("columnIds"),c("tableId"),l("x"),l("y"),b(_e(ra),o.end,n.end)("direction"),b(oe,o.end,n.end)("columnIds"),Vt(o.meta,n.meta),o.id&&(t[o.id]=o)}return t}const xr={ERD:"ERD",visualization:"@dineug/erd-editor/builtin-visualization",schemaSQL:"@dineug/erd-editor/builtin-schema-sql",generatorCode:"@dineug/erd-editor/builtin-generator-code",settings:"settings"},Ry=Object.values(xr),Ke={tableComment:1,columnComment:2,columnDataType:4,columnDefault:8,columnAutoIncrement:16,columnPrimaryKey:32,columnUnique:64,columnNotNull:128,relationship:256},Fe={columnName:1,columnDataType:2,columnNotNull:4,columnUnique:8,columnAutoIncrement:16,columnDefault:32,columnComment:64},Sr=Object.values(Fe),Nr={MariaDB:1,MSSQL:2,MySQL:4,Oracle:8,PostgreSQL:16,SQLite:32},sa=Object.values(Nr),Er={GraphQL:1,csharp:2,Java:4,Kotlin:8,TypeScript:16,JPA:32,Scala:64},aa=Object.values(Er),Kn={none:1,camelCase:2,pascalCase:4,snakeCase:8},Mr=Object.values(Kn),kr={none:1,doubleQuote:2,singleQuote:4,backtick:8},la=Object.values(kr),Vy={scroll:1,zoomLevel:2},ca=.1,ua=1,da=2e3,ha=2e4,_y=Ke.tableComment|Ke.columnComment|Ke.columnDataType|Ke.columnDefault|Ke.columnPrimaryKey|Ke.columnNotNull|Ke.relationship,By=()=>({width:2e3,height:2e3,scrollTop:0,scrollLeft:0,zoomLevel:1,show:_y,database:Nr.MySQL,databaseName:"",canvasType:xr.ERD,language:Er.GraphQL,tableNameCase:Kn.pascalCase,columnNameCase:Kn.camelCase,bracketType:kr.none,relationshipDataTypeSync:!0,relationshipOptimization:!1,columnOrder:[Fe.columnName,Fe.columnDataType,Fe.columnNotNull,Fe.columnUnique,Fe.columnAutoIncrement,Fe.columnDefault,Fe.columnComment],maxWidthComment:-1,ignoreSaveSettings:0}),ma=pe(da,ha),zy=pe(ca,ua),Wy=pe(60,200);function Py(e){const t=By();if(!qe(e)||te(e))return t;const n=b(F,t,e),o=b(R,t,e),r=b(fe,t,e);return F(e.width)&&(t.width=ma(e.width)),F(e.height)&&(t.height=ma(e.height)),F(e.zoomLevel)&&(t.zoomLevel=zy(e.zoomLevel)),F(e.maxWidthComment)&&e.maxWidthComment!==-1&&(t.maxWidthComment=Wy(e.maxWidthComment)),n("scrollTop"),n("scrollLeft"),n("show"),n("ignoreSaveSettings"),o("databaseName"),o("canvasType"),r("relationshipDataTypeSync"),r("relationshipOptimization"),b(_e(sa),t,e)("database"),b(_e(aa),t,e)("language"),b(_e(Mr),t,e)("tableNameCase"),b(_e(Mr),t,e)("columnNameCase"),b(_e(la),t,e)("bracketType"),oe(e.columnOrder)&&Sr.length===e.columnOrder.length&&wr(Sr,e.columnOrder).length===0&&(t.columnOrder=e.columnOrder),t}const fa=()=>({id:"",name:"",comment:"",columnIds:[],seqColumnIds:[],ui:{x:200,y:100,zIndex:2,widthName:60,widthComment:60,color:""},meta:Rt()});function $y(e){const t={};if(!qe(e)||te(e))return t;for(const n of Object.values(e)){if(!n)continue;const o=fa(),r=b(R,o,n),i=b(oe,o,n),s=b(F,o.ui,n.ui),a=b(R,o.ui,n.ui);r("id"),r("name"),r("comment"),i("columnIds"),i("seqColumnIds"),a("color"),s("x"),s("y"),s("zIndex"),s("widthName"),s("widthComment"),Vt(o.meta,n.meta),o.id&&(t[o.id]=o)}return t}const pa=()=>({id:"",tableId:"",name:"",comment:"",dataType:"",default:"",options:0,ui:{keys:0,widthName:60,widthComment:60,widthDataType:60,widthDefault:60},meta:Rt()});function Uy(e){const t={};if(!qe(e)||te(e))return t;for(const n of Object.values(e)){if(!n)continue;const o=pa(),r=b(R,o,n),i=b(F,o,n),s=b(F,o.ui,n.ui);r("id"),r("tableId"),r("name"),r("comment"),r("dataType"),r("default"),i("options"),s("keys"),s("widthName"),s("widthComment"),s("widthDataType"),s("widthDefault"),Vt(o.meta,n.meta),o.id&&(t[o.id]=o)}return t}function _t(e){var t,n,o,r,i,s;const a=e,l=Py(a.settings),c=Ny(a.doc),u=$y((t=a.collections)==null?void 0:t.tableEntities),d=Uy((n=a.collections)==null?void 0:n.tableColumnEntities),h=jy((o=a.collections)==null?void 0:o.relationshipEntities),p=Ey((r=a.collections)==null?void 0:r.indexEntities),w=ky((i=a.collections)==null?void 0:i.indexColumnEntities),f=Ay((s=a.collections)==null?void 0:s.memoEntities);return{$schema:"https://raw.githubusercontent.com/dineug/erd-editor/main/json-schema/schema.json",version:"3.0.0",settings:l,doc:c,collections:{tableEntities:u,tableColumnEntities:d,relationshipEntities:h,indexEntities:p,indexColumnEntities:w,memoEntities:f}}}const Zy={autoIncrement:1,primaryKey:2,unique:4,notNull:8},qy={primaryKey:1,foreignKey:2},T={CanvasType:xr,CanvasTypeList:Ry,Show:Ke,ColumnType:Fe,ColumnTypeList:Sr,Database:Nr,DatabaseList:sa,Language:Er,LanguageList:aa,NameCase:Kn,NameCaseList:Mr,BracketType:kr,BracketTypeList:la,RelationshipType:Cr,StartRelationshipType:Or,Direction:Jn,ColumnOption:Zy,ColumnUIKey:qy,OrderType:Tr,SaveSettingType:Vy,CANVAS_SIZE_MAX:ha,CANVAS_SIZE_MIN:da,CANVAS_ZOOM_MAX:ua,CANVAS_ZOOM_MIN:ca};function Fy(e){const t=_t({});return Yy(t.settings,e.canvas),Hy(t,e.table),Gy(t,e.memo),Qy(t,e.relationship),t}function Yy(e,t){e.width=t.width,e.height=t.height,e.scrollTop=t.scrollTop,e.scrollLeft=t.scrollLeft,e.zoomLevel=t.zoomLevel,e.databaseName=t.databaseName,e.canvasType=T.CanvasType.ERD,e.show=Object.keys(t.show).reduce((o,r)=>{if(ce(t.show,r,!1)){const i=ce(T.Show,r,0);return o|i}return o},0),e.database=Reflect.get(T.Database,t.database)??T.Database.MySQL,e.language=t.language==="C#"?T.Language.csharp:ce(T.Language,t.language,T.Language.GraphQL),e.tableNameCase=ce(T.NameCase,t.tableCase,T.NameCase.pascalCase),e.columnNameCase=ce(T.NameCase,t.columnCase,T.NameCase.camelCase),e.bracketType=ce(T.BracketType,t.bracketType,T.BracketType.none),e.relationshipDataTypeSync=t.setting.relationshipDataTypeSync,e.relationshipOptimization=t.setting.relationshipOptimization;const n=t.setting.columnOrder.map(o=>T.ColumnType[o]);wr(T.ColumnTypeList,n).length===0&&(e.columnOrder=n)}function Hy(e,t){const n=t.tables.filter(({id:r})=>!!r),o=t.indexes.filter(({id:r})=>!!r);e.doc.tableIds=n.map(({id:r})=>r),e.doc.indexIds=o.map(({id:r})=>r);for(const r of n){const i=fa();i.id=r.id,i.name=r.name,i.comment=r.comment,i.columnIds=r.columns.map(({id:s})=>s),i.seqColumnIds=[...i.columnIds],i.ui.y=r.ui.top,i.ui.x=r.ui.left,i.ui.zIndex=r.ui.zIndex,i.ui.widthName=r.ui.widthName,i.ui.widthComment=r.ui.widthComment,i.ui.color=r.ui.color??"";for(const s of r.columns){const a=pa();a.id=s.id,a.tableId=r.id,a.name=s.name,a.comment=s.comment,a.dataType=s.dataType,a.default=s.default,a.options=Object.keys(s.option).reduce((l,c)=>{if(ce(s.option,c,!1)){const u=ce(T.ColumnOption,c,0);return l|u}return l},0),a.ui.widthName=s.ui.widthName,a.ui.widthComment=s.ui.widthComment,a.ui.widthDataType=s.ui.widthDataType,a.ui.widthDefault=s.ui.widthDefault,s.ui.pfk?a.ui.keys=T.ColumnUIKey.primaryKey|T.ColumnUIKey.foreignKey:s.ui.pk?a.ui.keys=T.ColumnUIKey.primaryKey:s.ui.fk&&(a.ui.keys=T.ColumnUIKey.foreignKey),e.collections.tableColumnEntities[a.id]=a}e.collections.tableEntities[i.id]=i}for(const r of o){const i=ta();i.id=r.id,i.name=r.name,i.tableId=r.tableId,i.unique=r.unique;for(const s of r.columns){const a=Je(),l=na();i.indexColumnIds.push(a),i.seqIndexColumnIds.push(a),l.id=a,l.indexId=r.id,l.columnId=s.id,l.orderType=ce(T.OrderType,s.orderType,T.OrderType.ASC),e.collections.indexColumnEntities[l.id]=l}e.collections.indexEntities[i.id]=i}}function Gy(e,t){const n=t.memos.filter(({id:o})=>!!o);e.doc.memoIds=n.map(({id:o})=>o);for(const o of n){const r=oa();r.id=o.id,r.value=o.value,r.ui.y=o.ui.top,r.ui.x=o.ui.left,r.ui.width=o.ui.width,r.ui.height=o.ui.height,r.ui.zIndex=o.ui.zIndex,r.ui.color=o.ui.color??"",e.collections.memoEntities[r.id]=r}}function Qy(e,t){const n=t.relationships.filter(({id:o})=>!!o);e.doc.relationshipIds=n.map(({id:o})=>o);for(const o of n){const r=ia();r.id=o.id,r.identification=o.identification,r.relationshipType=ce(T.RelationshipType,o.relationshipType,T.RelationshipType.ZeroN),r.startRelationshipType=ce(T.StartRelationshipType,o.startRelationshipType==="Ring"?"ring":"dash",T.StartRelationshipType.dash),r.start.tableId=o.start.tableId,r.start.columnIds=o.start.columnIds,r.start.x=o.start.x,r.start.y=o.start.y,r.start.direction=ce(T.Direction,o.start.direction,T.Direction.bottom),r.end.tableId=o.end.tableId,r.end.columnIds=o.end.columnIds,r.end.x=o.end.x,r.end.y=o.end.y,r.end.direction=ce(T.Direction,o.end.direction,T.Direction.bottom),e.collections.relationshipEntities[r.id]=r}}function Jy(e){return[e,-1,-1,{}]}function Ar(e,t,n){return e[t]||(e[t]=Jy(n),e[t])}function ya(e,t,n,o,r){const i=Ar(e,n,o),s=i[1],a=i[2];s<t&&(i[1]=t),a<t&&r()}function ga(e,t,n,o,r){const i=Ar(e,n,o),s=i[2],a=i[1];s<t&&(i[2]=t),a<=t&&r()}function Dr(e,t,n,o,r,i){const s=Ar(e,n,o);(s[3][r]??-1)<=t&&(s[3][r]=t,i())}let Ky=class{constructor(e){this.collections=e}collection(e){return new Xy(this.collections[e],e)}},Xy=class{constructor(e,t){this.collection=e,this.collectionKey=t}selectById(e){return this.collection[e]}selectByIds(e){return e.length,e.map(t=>this.selectById(t)).filter(Boolean)}selectEntities(){return this.collection}selectAll(){return Object.values(this.collection)}setOne(e){return this.collection[e.id]=e,this}setMany(e){return e.forEach(t=>this.setOne(t)),this}setAll(e){return this.removeAll(),this.setMany(e),this}addOne(e){return this.selectById(e.id)?this:(this.setOne(e),this)}addMany(e){return e.forEach(t=>this.addOne(t)),this}removeOne(e){return this.selectById(e)&&Reflect.deleteProperty(this.collection,e),this}removeMany(e){return e.forEach(t=>this.removeOne(t)),this}removeAll(){return this.collection={},this}updateOne(e,t){const n=this.selectById(e);return n&&(t(n),n.meta.updateAt=Date.now()),this}updateMany(e,t){return e.forEach(n=>this.updateOne(n,t)),this}getOrCreate(e,t){const n=this.selectById(e);if(n)return n;const o=t(e);return this.setOne(o),this.selectById(e)}addOperator(e,t,n,o){return ya(e,t,n,this.collectionKey,o),this}removeOperator(e,t,n,o){return ga(e,t,n,this.collectionKey,o),this}replaceOperator(e,t,n,o,r){return Dr(e,t,n,this.collectionKey,o,r),this}};const m=e=>new Ky(e);function ba(e,t){return(e&t)===t}const eg={columnUnique:"columnUnique",columnAutoIncrement:"columnAutoIncrement",columnName:"columnName",columnDataType:"columnDataType",columnNotNull:"columnNotNull",columnDefault:"columnDefault",columnComment:"columnComment"},va=Object.values(eg),tg={ERD:"ERD","@vuerd/builtin-sql-ddl":"@vuerd/builtin-sql-ddl","@vuerd/builtin-grid":"@vuerd/builtin-grid","@vuerd/builtin-generator-code":"@vuerd/builtin-generator-code","@vuerd/builtin-visualization":"@vuerd/builtin-visualization"},ng=Object.values(tg),og={MariaDB:"MariaDB",MSSQL:"MSSQL",MySQL:"MySQL",Oracle:"Oracle",PostgreSQL:"PostgreSQL",SQLite:"SQLite"},rg=Object.values(og),ig={GraphQL:"GraphQL","C#":"C#",Java:"Java",Kotlin:"Kotlin",TypeScript:"TypeScript",JPA:"JPA",Scala:"Scala"},sg=Object.values(ig),ag={none:"none",camelCase:"camelCase",pascalCase:"pascalCase",snakeCase:"snakeCase"},Ia=Object.values(ag),lg={AtomOneDark:"AtomOneDark",AtomOneLight:"AtomOneLight",MonokaiSublime:"MonokaiSublime",GithubGist:"GithubGist",VS2015:"VS2015"},cg=Object.values(lg),ug={none:"none",doubleQuote:"doubleQuote",singleQuote:"singleQuote",backtick:"backtick"},dg=Object.values(ug),hg=.1,mg=1,fg=2e3,pg=2e4,yg=()=>({version:"2.2.11",width:2e3,height:2e3,scrollTop:0,scrollLeft:0,zoomLevel:1,show:{tableComment:!0,columnComment:!0,columnDataType:!0,columnDefault:!0,columnAutoIncrement:!1,columnPrimaryKey:!0,columnUnique:!1,columnNotNull:!0,relationship:!0},database:"MySQL",databaseName:"",canvasType:"ERD",language:"GraphQL",tableCase:"pascalCase",columnCase:"camelCase",highlightTheme:"VS2015",bracketType:"none",setting:{relationshipDataTypeSync:!0,relationshipOptimization:!1,columnOrder:["columnName","columnDataType","columnNotNull","columnUnique","columnAutoIncrement","columnDefault","columnComment"]},pluginSerializationMap:{}}),wa=pe(fg,pg),gg=pe(hg,mg);function bg(e){var t;const n=yg();if(te(e))return n;const o=b(F,n,e),r=b(R,n,e),i=b(fe,n.show,e.show),s=b(fe,n.setting,e.setting);if(F(e.width)&&(n.width=wa(e.width)),F(e.height)&&(n.height=wa(e.height)),F(e.zoomLevel)&&(n.zoomLevel=gg(e.zoomLevel)),r("version"),r("databaseName"),o("scrollTop"),o("scrollLeft"),b(ye(rg),n,e)("database"),b(ye(ng),n,e)("canvasType"),b(ye(sg),n,e)("language"),b(ye(Ia),n,e)("tableCase"),b(ye(Ia),n,e)("columnCase"),b(ye(cg),n,e)("highlightTheme"),b(ye(dg),n,e)("bracketType"),i("tableComment"),i("columnComment"),i("columnDataType"),i("columnDefault"),i("columnAutoIncrement"),i("columnPrimaryKey"),i("columnUnique"),i("columnNotNull"),i("relationship"),s("relationshipDataTypeSync"),s("relationshipOptimization"),(t=e.setting)!=null&&t.columnOrder&&va.length===e.setting.columnOrder.length&&wr(va,e.setting.columnOrder).length===0&&(n.setting.columnOrder=e.setting.columnOrder),qe(e.pluginSerializationMap)){const a=e.pluginSerializationMap;for(const l of Object.keys(a)){const c=a[l];R(c)&&(n.pluginSerializationMap[l]=c)}}return n}const vg=()=>({memos:[]}),Ig=()=>({id:"",value:"",ui:{active:!1,left:200,top:200,zIndex:2,width:127,height:127}});function wg(e){const t=vg();if(te(e)||!oe(e.memos))return t;for(const n of e.memos){const o=Ig(),r=b(R,o,n),i=b(F,o.ui,n.ui),s=b(fe,o.ui,n.ui),a=b(R,o.ui,n.ui);r("id"),r("value"),s("active"),a("color"),i("left"),i("top"),i("zIndex"),i("width"),i("height"),t.memos.push(o)}return t}const Tg=["ZeroOneN","One","N"],Cg={ZeroOneN:"ZeroN",One:"OneOnly",N:"OneN"},Og=e=>Tg.includes(e)?Cg[e]:e,xg={ZeroOneN:"ZeroOneN",ZeroOne:"ZeroOne",ZeroN:"ZeroN",OneOnly:"OneOnly",OneN:"OneN",One:"One",N:"N"},Sg=Object.values(xg),Ng={Ring:"Ring",Dash:"Dash"},Eg=Object.values(Ng),Mg={left:"left",right:"right",top:"top",bottom:"bottom"},Ta=Object.values(Mg),kg=()=>({relationships:[]}),Ag=()=>({id:"",identification:!1,relationshipType:"ZeroN",startRelationshipType:"Dash",start:{tableId:"",columnIds:[],x:0,y:0,direction:"bottom"},end:{tableId:"",columnIds:[],x:0,y:0,direction:"bottom"},constraintName:"",visible:!0});function Dg(e){var t,n,o,r;const i=kg();if(te(e)||!oe(e.relationships))return i;for(const s of e.relationships){const a=Ag(),l=b(R,a,s),c=b(fe,a,s),u=b(F,a.start,s.start),d=b(R,a.start,s.start),h=b(F,a.end,s.end),p=b(R,a.end,s.end);l("id"),l("constraintName"),c("identification"),c("visible"),b(ye(Sg),a,s)("relationshipType"),a.relationshipType=Og(a.relationshipType),b(ye(Eg),a,s)("startRelationshipType"),d("tableId"),u("x"),u("y"),b(ye(Ta),a.start,s.start)("direction"),oe((t=s.start)==null?void 0:t.columnIds)&&(a.start.columnIds=(n=s.start)==null?void 0:n.columnIds.filter(R)),p("tableId"),h("x"),h("y"),b(ye(Ta),a.end,s.end)("direction"),oe((o=s.end)==null?void 0:o.columnIds)&&(a.end.columnIds=(r=s.end)==null?void 0:r.columnIds.filter(R)),i.relationships.push(a)}return i}const Ca={ASC:"ASC",DESC:"DESC"},Lg=Object.values(Ca),jg=()=>({tables:[],indexes:[]}),Rg=()=>({id:"",name:"",comment:"",columns:[],ui:{active:!1,left:200,top:100,zIndex:2,widthName:60,widthComment:60},visible:!0}),Vg=()=>({id:"",name:"",comment:"",dataType:"",default:"",option:{autoIncrement:!1,primaryKey:!1,unique:!1,notNull:!1},ui:{active:!1,pk:!1,fk:!1,pfk:!1,widthName:60,widthComment:60,widthDataType:60,widthDefault:60}}),_g=()=>({id:"",name:"",tableId:"",columns:[],unique:!1}),Bg=()=>({id:"",orderType:Ca.ASC});function zg(e){const t=jg();if(te(e))return t;if(oe(e.tables))for(const n of e.tables){const o=Rg(),r=b(R,o,n),i=b(fe,o,n),s=b(F,o.ui,n.ui),a=b(fe,o.ui,n.ui),l=b(R,o.ui,n.ui);if(r("id"),r("name"),r("comment"),i("visible"),a("active"),l("color"),s("left"),s("top"),s("zIndex"),s("widthName"),s("widthComment"),oe(n.columns))for(const c of n.columns){const u=Vg(),d=b(R,u,c),h=b(F,u.ui,c.ui),p=b(fe,u.ui,c.ui),w=b(fe,u.option,c.option);d("id"),d("name"),d("comment"),d("dataType"),d("default"),w("autoIncrement"),w("primaryKey"),w("unique"),w("notNull"),p("active"),p("pk"),p("fk"),p("pfk"),h("widthName"),h("widthComment"),h("widthDataType"),h("widthDefault"),o.columns.push(u)}t.tables.push(o)}if(oe(e.indexes))for(const n of e.indexes){const o=_g(),r=b(R,o,n),i=b(fe,o,n);if(r("id"),r("name"),r("tableId"),i("unique"),oe(n.columns))for(const s of n.columns){const a=Bg();b(R,a,s)("id"),b(ye(Lg),a,s)("orderType"),o.columns.push(a)}t.indexes.push(o)}return t}function Wg(e){const t=e,n=bg(t.canvas),o=zg(t.table),r=Dg(t.relationship),i=wg(t.memo);return{canvas:n,table:o,relationship:r,memo:i}}T.RelationshipType.ZeroOne+"",T.RelationshipType.ZeroN+"",T.RelationshipType.OneOnly+"",T.RelationshipType.OneN+"",T.Direction.left+"",T.Direction.right+"",T.Direction.top+"",T.Direction.bottom+"";function Oa(e){const t=JSON.parse(e);return Reflect.get(t,"version")==="3.0.0"?_t(t):Fy(Wg(t))}function Xn(e){const t=bn(e,["$schema","version","settings","doc","collections"]);return ba(t.settings.ignoreSaveSettings,T.SaveSettingType.scroll)&&(t.settings.scrollTop=0,t.settings.scrollLeft=0),ba(t.settings.ignoreSaveSettings,T.SaveSettingType.zoomLevel)&&(t.settings.zoomLevel=1),JSON.stringify(t,null,2)}var Pg=Object.defineProperty,$g=(e,t,n)=>t in e?Pg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Se=(e,t,n)=>$g(e,typeof t!="symbol"?t+"":t,n);function Lr(e,...t){try{return e==null?void 0:e(...t)}catch(n){console.error(n)}}const Ug=e=>{Promise.resolve().then(e)},xa=queueMicrotask??Ug,Sa=e=>t=>typeof t===e,Zg=Sa("object"),qg=Sa("function"),Fg=e=>e===null,{isArray:eo}=Array,Na=e=>Zg(e)&&!Fg(e)&&!eo(e);function Ea(){const e=new Set,t=n=>(e.has(n)||e.add(n),()=>{e.delete(n)});return{subscribe:t,next:n=>{e.forEach(o=>o(n))},asReadonly:()=>({subscribe:t})}}const Yg=1,to=[],jr=new Map,no=new Map;let Rr=!0,Vr=0;function Hg(e,t,n){const o=In.get(n);if(!o)return!1;const r=o.get(e);return r?r.has(t):!1}const Ma=e=>t=>{const n=jr.get(t);let o=()=>{};const r=n!=null&&n.promise?n.promise:new Promise(i=>{o=i});if(!n){const i={type:e,tickCount:Vr,promise:r,fn:t,resolve:()=>{o()}};to.push(i),jr.set(t,i)}return Rr&&(xa(Xg),Rr=!1),r},Gg=Ma("observer"),Qg=Ma("nextTick"),ka=(e,t)=>{var n;return(n=ro.get(e))==null?void 0:n.forEach(o=>Hg(e,t,o)&&Gg(o))};function Aa(){const e=to.shift();if(e){if(jr.delete(e.fn),e.type==="observer")ja(e.fn),mb(e.fn),e.resolve();else if(e.type==="nextTick"){const t=Lr(e.fn);t instanceof Promise?t.finally(e.resolve):e.resolve()}Jg()&&Aa()}}function Jg(){const e=to[0];return e?Yg<=Vr-e.tickCount:!1}function Kg(){for(;to.length;)Aa();Rr=!0,Vr=0}function Xg(){Kg()}function Da(e,t){const n=oo.get(e);if(!n)return;const o=db.get(n);if(!o)return;const r=no.get(n);r?r.has(t)||r.add(t):(no.set(n,new Set([t])),Qg(()=>{const i=no.get(n);i&&(no.delete(n),i.forEach(s=>o.next(s)))}))}const eb="on",tb="@",nb=".",ob="?",rb="...",ib="@@r-html",sb=Math.random().toString().substring(2,8),ut=`${ib}-${sb}`,ab=`${rb}${ut}`,_r=new RegExp(`${ut}_(\\\\d+)_`,"g"),lb=new RegExp(`^${ut}_\\\\d+_$`),cb=/^\\n/;var Ne=(e=>(e.attribute="attribute",e.boolean="boolean",e.event="event",e.property="property",e.spread="spread",e.directive="directive",e))(Ne||{});const ub=Symbol.for("https://github.com/dineug/r-html#TemplateLiterals"),oo=new WeakMap,ro=new WeakMap,La=new WeakMap,db=new WeakMap,In=new WeakMap,hb={shallow:!1};let Ye=null;function mb(e){return Ye=e,Lr(e),Ye=null,()=>ja(e)}function ja(e){const t=In.get(e);if(t)for(const[n]of t.entries()){const o=ro.get(n);o==null||o.delete(e)}t&&In.delete(e)}function fb(e){if(!Ye)return;const t=ro.get(e);t?t.has(Ye)||t.add(Ye):ro.set(e,new Set([Ye]))}function pb(e,t){if(!Ye)return;const n=In.get(Ye);if(n){const o=n.get(e);o?o.has(t)||o.add(t):n.set(e,new Set([t]))}else In.set(Ye,new Map([[e,new Set([t])]]))}const yb=e=>e instanceof Node||e instanceof Map||e instanceof Set||e instanceof WeakMap||e instanceof WeakSet||e instanceof RegExp||e instanceof Date||e instanceof Promise||(eo(e)||Na(e))&&Object.isFrozen(e);function Ra(e,t={}){const{shallow:n}=Object.assign({},hb,t),o=new Proxy(e,{get(r,i,s){const a=Reflect.get(r,i,s);return yb(a)?a:(fb(e),pb(e,i),!n&&(Na(a)||eo(a))&&!La.has(a)?oo.has(a)?oo.get(a):Ra(a,t):a)},set(r,i,s,a){const l=Reflect.get(r,i,a),c=Reflect.set(r,i,s,a);return(!eo(r)&&l!==s||i==="length")&&(ka(r,i),Da(r,i)),c},deleteProperty(r,i){const s=Reflect.deleteProperty(r,i);return ka(r,i),Da(r,i),s}});return oo.set(e,o),La.set(o,e),o}var ge=(e=>(e.element="element",e.text="text",e.comment="comment",e))(ge||{});class dt{constructor(t={}){Se(this,"type","comment"),Se(this,"value",""),Se(this,"attrs"),Se(this,"parent",null),Se(this,"children"),Object.assign(this,t)}*iterParent(){yield this,this.parent&&(yield*this.parent.iterParent())}*[Symbol.iterator](){if(yield this,!!this.children)for(const t of this.children)yield*t}}var wn=(e=>(e.html="html",e.svg="svg",e.css="css",e))(wn||{});new Set(Object.values(wn));const Br=new WeakMap;wn.svg;const gb=e=>`${ut}_${e}_`,Bt=(e,t=!0,n=!1)=>o=>t?!!(o!=null&&o.trimStart().startsWith(e)):n?!!(o!=null&&o.trimEnd().endsWith(e)):new RegExp(e).test(o??""),Va=Bt(ab),_a=Bt(nb),Ba=Bt(ob),za=Bt(tb),Wa=Bt(eb),zr=Bt(ut,!1),io=e=>zr(e)&&lb.test((e==null?void 0:e.trim())??""),Pa=({type:e,value:t})=>e===Ne.spread||e===Ne.directive||zr(t),$a=e=>io(e)?Ne.directive:Va(e)?Ne.spread:_a(e)?Ne.property:za(e)||Wa(e)?Ne.event:Ba(e)?Ne.boolean:Ne.attribute,so=e=>Va(e)?e.substring(3):io(e)?e:_a(e)||za(e)||Ba(e)?e.substring(1):Wa(e)?e.substring(2):e;function bb(e){const t=[];let n=_r.exec(e);for(;n;){const o=Number(n[1]);t.push([n[0],Number.isInteger(o)?o:-1]),n=_r.exec(e)}return t}var Y=(e=>(e.string="string",e.whiteSpace="whiteSpace",e.nextLine="nextLine",e.equal="equal",e.tilde="tilde",e.plus="plus",e.sharp="sharp",e.asterisk="asterisk",e.commercialAt="commercialAt",e.ampersand="ampersand",e.period="period",e.comma="comma",e.colon="colon",e.semicolon="semicolon",e.gt="gt",e.leftBrace="leftBrace",e.rightBrace="rightBrace",e.leftBracket="leftBracket",e.rightBracket="rightBracket",e.leftParent="leftParent",e.rightParent="rightParent",e))(Y||{});const vb=e=>t=>n=>o=>n[o]?n[o][e]===t:!1,Q=vb("type");Q(Y.string),Q(Y.whiteSpace),Q(Y.nextLine),Q(Y.equal),Q(Y.tilde),Q(Y.plus),Q(Y.sharp),Q(Y.asterisk),Q(Y.commercialAt),Q(Y.ampersand),Q(Y.period),Q(Y.comma),Q(Y.colon),Q(Y.semicolon),Q(Y.gt),Q(Y.leftBrace),Q(Y.rightBrace),Q(Y.leftBracket),Q(Y.rightBracket),Q(Y.leftParent),Q(Y.rightParent);var ht=(e=>(e.string="string",e.whiteSpace="whiteSpace",e.lt="lt",e.gt="gt",e.slash="slash",e.equal="equal",e))(ht||{});const Ee={doubleQuote:\'"\',singleQuote:"\'",whiteSpace:/\\s/,string:/\\S/,breakString:/<|>|=/,lt:"<",gt:">",slash:"/",equal:"=",hyphen:"-",exclamationPoint:"!"},Xe=e=>t=>e===t,Wr=e=>t=>e.test(t),X={doubleQuote:Xe(Ee.doubleQuote),singleQuote:Xe(Ee.singleQuote),whiteSpace:Wr(Ee.whiteSpace),string:Wr(Ee.string),breakString:Wr(Ee.breakString),lt:Xe(Ee.lt),gt:Xe(Ee.gt),slash:Xe(Ee.slash),equal:Xe(Ee.equal),hyphen:Xe(Ee.hyphen),exclamationPoint:Xe(Ee.exclamationPoint)},Ib=e=>t=>X.lt(e[t])&&X.exclamationPoint(e[t+1])&&X.hyphen(e[t+2])&&X.hyphen(e[t+3]);function wb(e){const t=[];let n=0;const o=()=>n<e.length,r=Ib(e),i=(s="text")=>{for(;o();){let a=e[n];if(X.whiteSpace(a)){let l="";for(;o()&&X.whiteSpace(a);)l+=a,a=e[++n];s!=="element"&&t.push({type:"whiteSpace",value:l});continue}if(s==="element"){if(X.lt(a)){t.push({type:"lt",value:a}),n++;continue}if(X.gt(a)){t.push({type:"gt",value:a}),n++;break}if(X.slash(a)){t.push({type:"slash",value:a}),n++;continue}if(X.equal(a)){t.push({type:"equal",value:a}),n++;continue}if(X.doubleQuote(a)){let l="";for(a=e[++n];o()&&!X.doubleQuote(a);)l+=a,a=e[++n];t.push({type:"string",value:l}),n++;continue}if(X.singleQuote(a)){let l="";for(a=e[++n];o()&&!X.singleQuote(a);)l+=a,a=e[++n];t.push({type:"string",value:l}),n++;continue}}else if(s==="comment"){if(X.lt(a)){t.push({type:"lt",value:a}),n++;continue}if(X.gt(a)){t.push({type:"gt",value:a}),n++;break}}else if(X.lt(a)){i(r(n)?"comment":"element");continue}if(X.string(a)){let l="";for(;o()&&X.string(a)&&!X.breakString(a);)l+=a,a=e[++n];t.push({type:"string",value:l});continue}n++}};return i(),t}const Tb=/^(area|base|br|col|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,Ua=e=>t=>n=>o=>n[o]?n[o][e]===t:!1,zt=Ua("type"),Za=Ua("value"),Tn=zt(ht.lt),Cn=zt(ht.gt),Pr=zt(ht.slash),Cb=zt(ht.equal),On=zt(ht.string),Ob=zt(ht.whiteSpace),xb=Za("!--"),Sb=Za("--"),Nb=e=>{const t=Tn(e),n=On(e);return o=>t(o)&&n(o+1)},Eb=e=>{const t=Tn(e),n=Pr(e),o=On(e),r=Cn(e);return i=>t(i)&&n(i+1)&&o(i+2)&&r(i+3)},Mb=e=>{const t=Tn(e),n=Pr(e),o=Cn(e);return r=>t(r)&&n(r+1)&&n(r+2)&&o(r+3)},kb=e=>{const t=Pr(e),n=Cn(e);return o=>t(o)&&n(o+1)},Ab=e=>Tb.test(e),Db=e=>{const t=Tn(e),n=On(e),o=xb(e);return r=>t(r)&&n(r+1)&&o(r+1)},Lb=e=>{const t=On(e),n=Sb(e),o=Cn(e);return r=>t(r)&&n(r)&&o(r+1)},qa=e=>t=>n=>{var o;n&&(t[e]?(o=t[e])==null||o.push(n):t[e]=[n])},jb=qa("attrs"),Fa=qa("children");function Rb(e){const t=new dt({type:ge.element,value:"template",children:[]});let n=0;const o=()=>n<e.length,r=Nb(e),i=Eb(e),s=Mb(e),a=kb(e),l=Db(e),c=Lb(e),u=Tn(e),d=Cn(e),h=Cb(e),p=Ob(e),w=On(e),f=()=>{let g=e[n];const I={name:g.value};return g=e[++n],h(n)&&(g=e[++n],w(n)&&(I.value=g.value,n++)),I},E=g=>{let I=e[n];if(p(n)||w(n)){let x=I.value;for(I=e[++n];o()&&!u(n);)x+=I.value,I=e[++n];return x=x.trim(),x.length?new dt({parent:g,type:ge.text,value:x}):null}if(l(n)){let x="";for(n+=2,I=e[n];o()&&!c(n);)x+=I.value,I=e[++n];return c(n)&&(n+=2),new dt({parent:g,type:ge.comment,value:x})}if(r(n)){I=e[++n];const x=Ab(I.value),j=new dt({parent:g,type:ge.element,value:I.value.toLowerCase()});for(n++;o()&&!d(n)&&!a(n);){if(w(n)){jb(j)(f());continue}n++}if(a(n))return n+=2,j;for(I=e[++n];o()&&!i(n)&&!s(n)&&!x;)Fa(j)(E(j));return(i(n)||s(n))&&(n+=4),j}return n++,null};for(;o();)Fa(t)(E(t));return t}const Vb=e=>Rb(wb(e)),_b=(e,t)=>e.reduce((n,o)=>{const r=n[t(o)];return r?r.push(o):n[t(o)]=[o],n},{});class Wt{constructor(t,n=null){if(Se(this,"type",ge.comment),Se(this,"value",""),Se(this,"staticAttrs"),Se(this,"attrs"),Se(this,"parent",null),Se(this,"children"),this.type=t.type,this.value=t.value,this.parent=n,t.attrs){const[o,r]=Wb(t.attrs);o.length&&(this.staticAttrs=o),r.length&&(this.attrs=r)}t.children&&(this.children=t.children.map(o=>new Wt(o,this)))}get isMarker(){return zr(this.value)}get isMarkerOnly(){return io(this.value)}get isSvg(){return this.type===ge.element&&/^svg$/i.test(this.value)}get isComponent(){return this.type===ge.element&&this.isMarkerOnly}insert(t,n,o){if(this.children){const r=t==="before"?0:1;this.children.includes(o)&&this.children.splice(this.children.indexOf(o)+r,0,n)}else this.children=[n]}*iterParent(){yield this,this.parent&&(yield*this.parent.iterParent())}*[Symbol.iterator](){if(yield this,!!this.children)for(const t of this.children)yield*t}}function Bb(e){const t=new Wt(e);for(const n of t)n.type===ge.text&&!io(n.value)&&zb(n);return t}function zb(e){const t=bb(e.value);e.value.replace(_r,ut).split(ut).reduce((n,o,r)=>(r<t.length?n.push(new Wt(new dt({type:ge.text,value:o}),e.parent),new Wt(new dt({type:ge.text,value:t[r][0]}),e.parent)):n.push(new Wt(new dt({type:ge.text,value:o}),e.parent)),n),[]).filter(n=>n.value!==""&&!(!n.value.trim()&&cb.test(n.value))).reverse().forEach((n,o,{length:r})=>o===r-1?e.value=n.value:e.parent&&e.parent.insert("after",n,e))}function Wb(e=[]){const t=_b(e,n=>so(n.name));return Object.keys(t).map(n=>t[n]).reduce((n,o)=>{const[r,i]=n,s=o[o.length-1],a=$a(s.name);if(a===Ne.event)i.push(...o.filter(l=>!!l.value).map(l=>({type:$a(l.name),name:so(l.name),value:l.value})));else if(a===Ne.attribute){const l=o.filter(u=>!!u.value).map(u=>u.value).join(" "),c={type:a,name:so(s.name)};l&&(c.value=l),Pa(c)?i.push(c):r.push(c)}else{const l={type:a,name:so(s.name)};s.value&&(l.value=s.value),Pa(l)?i.push(l):r.push(l)}return n},[[],[]])}const Ya=e=>(t,...n)=>{const o={strings:t,values:n,[ub]:e};if(Br.has(t)){const s=Br.get(t);return o.template=s,o}const r=t.reduce((s,a,l)=>(l<n.length?s.push(a,gb(l)):s.push(a),s),[]).join(""),i=Bb(Vb(r));return o.template=Object.freeze({node:i}),Br.set(t,o.template),o};Ya(wn.html),Ya(wn.svg);function y(e){function t(n){return{type:e,payload:n}}return t.toString=()=>`${e}`,t.type=e,t}function*$r(e,t,n){for(const o of n)o!=null&&o[Symbol.iterator]?yield*$r(e,t,o):qg(o)?yield*$r(e,t,o(e,t)):yield o}const Pb=(e,t,n)=>[...$r(e,t,n)],Ur=(...e)=>t=>e.reduce((n,o)=>o(n),t);function*$b(e){yield e}const Zr=function*(e){for(const t of e)t.length&&(yield t)};function Ub({context:e,state:t,reducers:n,enableObservable:o=!0}){const r=o?Ra(t):t,i=Ea(),s=Ea();let a=Ur(Zr);const l=f=>{const E=Reflect.get(n,f.type,n);Lr(E,r,f,e)},c=(...f)=>{const E=Pb(r,e,f);i.next(E)},u=(...f)=>{xa(()=>c(...f))},d=i.subscribe(f=>{const E=a($b(f));for(const g of E)s.next(g)}),h=s.subscribe(f=>f.forEach(l)),p=(...f)=>(a=Ur(...f,Zr),()=>{a=Ur(Zr)}),w=()=>{d(),h()};return{context:e,state:r,dispatch:u,dispatchSync:c,subscribe:s.subscribe,pipe:p,destroy:w}}var qr=function(e,t){return qr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n[r]=o[r])},qr(e,t)};function et(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");qr(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Fr(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ao(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var o=n.call(e),r,i=[],s;try{for(;(t===void 0||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(s)throw s.error}}return i}function lo(e,t,n){if(arguments.length===2)for(var o=0,r=t.length,i;o<r;o++)(i||!(o in t))&&(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))}function Be(e){return typeof e=="function"}function Ha(e){var t=function(o){Error.call(o),o.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Yr=Ha(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:\n`+t.map(function(n,o){return o+1+") "+n.toString()}).join(`\n  `):"",this.name="UnsubscriptionError",this.errors=t}});function co(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var xn=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,o,r,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=Fr(s),l=a.next();!l.done;l=a.next()){var c=l.value;c.remove(this)}}catch(f){t={error:f}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else s.remove(this);var u=this.initialTeardown;if(Be(u))try{u()}catch(f){i=f instanceof Yr?f.errors:[f]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var h=Fr(d),p=h.next();!p.done;p=h.next()){var w=p.value;try{Ja(w)}catch(f){i=i??[],f instanceof Yr?i=lo(lo([],ao(i)),ao(f.errors)):i.push(f)}}}catch(f){o={error:f}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(o)throw o.error}}}if(i)throw new Yr(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Ja(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&co(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&co(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Ga=xn.EMPTY;function Qa(e){return e instanceof xn||e&&"closed"in e&&Be(e.remove)&&Be(e.add)&&Be(e.unsubscribe)}function Ja(e){Be(e)?e():e.unsubscribe()}var Zb={Promise:void 0},qb={setTimeout:function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return setTimeout.apply(void 0,lo([e,t],ao(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function Fb(e){qb.setTimeout(function(){throw e})}function Ka(){}function uo(e){e()}var Hr=function(e){et(t,e);function t(n){var o=e.call(this)||this;return o.isStopped=!1,n?(o.destination=n,Qa(n)&&n.add(o)):o.destination=Gb,o}return t.create=function(n,o,r){return new Gr(n,o,r)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(xn),Yb=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(o){ho(o)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(o){ho(o)}else ho(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){ho(n)}},e}(),Gr=function(e){et(t,e);function t(n,o,r){var i=e.call(this)||this,s;return Be(n)||!n?s={next:n??void 0,error:o??void 0,complete:r??void 0}:s=n,i.destination=new Yb(s),i}return t}(Hr);function ho(e){Fb(e)}function Hb(e){throw e}var Gb={closed:!0,next:Ka,error:Hb,complete:Ka},Qb=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Jb(e){return e}function Kb(e){return e.length===0?Jb:e.length===1?e[0]:function(t){return e.reduce(function(n,o){return o(n)},t)}}var mo=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,o){var r=this,i=ev(t)?t:new Gr(t,n,o);return uo(function(){var s=r,a=s.operator,l=s.source;i.add(a?a.call(i,l):l?r._subscribe(i):r._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var o=this;return n=Xa(n),new n(function(r,i){var s=new Gr({next:function(a){try{t(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:r});o.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[Qb]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Kb(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=Xa(t),new t(function(o,r){var i;n.subscribe(function(s){return i=s},function(s){return r(s)},function(){return o(i)})})},e.create=function(t){return new e(t)},e}();function Xa(e){var t;return(t=e??Zb.Promise)!==null&&t!==void 0?t:Promise}function Xb(e){return e&&Be(e.next)&&Be(e.error)&&Be(e.complete)}function ev(e){return e&&e instanceof Hr||Xb(e)&&Qa(e)}function tv(e){return Be(e==null?void 0:e.lift)}function Qr(e){return function(t){if(tv(t))return t.lift(function(n){try{return e(n,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function Jr(e,t,n,o,r){return new nv(e,t,n,o,r)}var nv=function(e){et(t,e);function t(n,o,r,i,s,a){var l=e.call(this,n)||this;return l.onFinalize=s,l.shouldUnsubscribe=a,l._next=o?function(c){try{o(c)}catch(u){n.error(u)}}:e.prototype._next,l._error=i?function(c){try{i(c)}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=r?function(){try{r()}catch(c){n.error(c)}finally{this.unsubscribe()}}:e.prototype._complete,l}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var o=this.closed;e.prototype.unsubscribe.call(this),!o&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(Hr),ov=Ha(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),el=function(e){et(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var o=new tl(this,this);return o.operator=n,o},t.prototype._throwIfClosed=function(){if(this.closed)throw new ov},t.prototype.next=function(n){var o=this;uo(function(){var r,i;if(o._throwIfClosed(),!o.isStopped){o.currentObservers||(o.currentObservers=Array.from(o.observers));try{for(var s=Fr(o.currentObservers),a=s.next();!a.done;a=s.next()){var l=a.value;l.next(n)}}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}})},t.prototype.error=function(n){var o=this;uo(function(){if(o._throwIfClosed(),!o.isStopped){o.hasError=o.isStopped=!0,o.thrownError=n;for(var r=o.observers;r.length;)r.shift().error(n)}})},t.prototype.complete=function(){var n=this;uo(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var o=n.observers;o.length;)o.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var o=this,r=this,i=r.hasError,s=r.isStopped,a=r.observers;return i||s?Ga:(this.currentObservers=null,a.push(n),new xn(function(){o.currentObservers=null,co(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var o=this,r=o.hasError,i=o.thrownError,s=o.isStopped;r?n.error(i):s&&n.complete()},t.prototype.asObservable=function(){var n=new mo;return n.source=this,n},t.create=function(n,o){return new tl(n,o)},t}(mo),tl=function(e){et(t,e);function t(n,o){var r=e.call(this)||this;return r.destination=n,r.source=o,r}return t.prototype.next=function(n){var o,r;(r=(o=this.destination)===null||o===void 0?void 0:o.next)===null||r===void 0||r.call(o,n)},t.prototype.error=function(n){var o,r;(r=(o=this.destination)===null||o===void 0?void 0:o.error)===null||r===void 0||r.call(o,n)},t.prototype.complete=function(){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||o===void 0||o.call(n)},t.prototype._subscribe=function(n){var o,r;return(r=(o=this.source)===null||o===void 0?void 0:o.subscribe(n))!==null&&r!==void 0?r:Ga},t}(el),rv={now:function(){return Date.now()}},iv=function(e){et(t,e);function t(n,o){return e.call(this)||this}return t.prototype.schedule=function(n,o){return this},t}(xn),nl={setInterval:function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return setInterval.apply(void 0,lo([e,t],ao(n)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},sv=function(e){et(t,e);function t(n,o){var r=e.call(this,n,o)||this;return r.scheduler=n,r.work=o,r.pending=!1,r}return t.prototype.schedule=function(n,o){var r;if(o===void 0&&(o=0),this.closed)return this;this.state=n;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,o)),this.pending=!0,this.delay=o,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,o),this},t.prototype.requestAsyncId=function(n,o,r){return r===void 0&&(r=0),nl.setInterval(n.flush.bind(n,this),r)},t.prototype.recycleAsyncId=function(n,o,r){if(r===void 0&&(r=0),r!=null&&this.delay===r&&this.pending===!1)return o;o!=null&&nl.clearInterval(o)},t.prototype.execute=function(n,o){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(n,o);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,o){var r=!1,i;try{this.work(n)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,o=n.id,r=n.scheduler,i=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,co(i,this),o!=null&&(this.id=this.recycleAsyncId(r,o,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(iv),ol=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,o){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(o,n)},e.now=rv.now,e}(),av=function(e){et(t,e);function t(n,o){o===void 0&&(o=ol.now);var r=e.call(this,n,o)||this;return r.actions=[],r._active=!1,r}return t.prototype.flush=function(n){var o=this.actions;if(this._active){o.push(n);return}var r;this._active=!0;do if(r=n.execute(n.state,n.delay))break;while(n=o.shift());if(this._active=!1,r){for(;n=o.shift();)n.unsubscribe();throw r}},t}(ol),lv=new av(sv);function cv(e,t){return Qr(function(n,o){var r=0;n.subscribe(Jr(o,function(i){o.next(e.call(t,i,r++))}))})}function uv(e,t){return Qr(function(n,o){var r=0;n.subscribe(Jr(o,function(i){return e.call(t,i,r++)&&o.next(i)}))})}function dv(e,t){return t===void 0&&(t=lv),Qr(function(n,o){var r=null,i=null,s=null,a=function(){if(r){r.unsubscribe(),r=null;var c=i;i=null,o.next(c)}};function l(){var c=s+e,u=t.now();if(u<c){r=this.schedule(void 0,c-u),o.add(r);return}a()}n.subscribe(Jr(o,function(c){i=c,s=t.now(),r||(r=t.schedule(l,e),o.add(r))},function(){a(),o.complete()},void 0,function(){i=r=null}))})}const C={changeHasHistory:"editor.changeHasHistory",selectAll:"editor.selectAll",unselectAll:"editor.unselectAll",select:"editor.select",changeViewport:"editor.changeViewport",clear:"editor.clear",loadJson:"editor.loadJson",initialClear:"editor.initialClear",initialLoadJson:"editor.initialLoadJson",focusTable:"editor.focusTable",focusColumn:"editor.focusColumn",focusTableEnd:"editor.focusTableEnd",focusMoveTable:"editor.focusMoveTable",editTable:"editor.editTable",editTableEnd:"editor.editTableEnd",selectAllColumn:"editor.selectAllColumn",drawStartRelationship:"editor.drawStartRelationship",drawStartAddRelationship:"editor.drawStartAddRelationship",drawEndRelationship:"editor.drawEndRelationship",drawRelationship:"editor.drawRelationship",hoverColumnMap:"editor.hoverColumnMap",hoverRelationshipMap:"editor.hoverRelationshipMap",changeOpenMap:"editor.changeOpenMap",dragstartColumn:"editor.dragstartColumn",dragendColumn:"editor.dragendColumn",sharedMouseTracker:"editor.sharedMouseTracker",validationIds:"editor.validationIds",getLWW:"editor.getLWW",mergeLWW:"editor.mergeLWW"},rl=T.CanvasType,hv=T.CanvasTypeList,J=T.Show,ie=T.ColumnType,mv=T.ColumnTypeList,Pt=T.Database,fv=T.DatabaseList,pv=T.LanguageList,yv=T.NameCaseList,fo=T.BracketType,gv=T.BracketTypeList,bv=T.RelationshipType,Kr=T.StartRelationshipType,ze=T.Direction,ue=T.ColumnOption,po=T.ColumnUIKey,vv=T.OrderType,Iv=T.CANVAS_SIZE_MAX,wv=T.CANVAS_SIZE_MIN,Tv=T.CANVAS_ZOOM_MAX,Cv=T.CANVAS_ZOOM_MIN;fo.none+"",fo.backtick+"",fo.doubleQuote+"",fo.singleQuote+"";const $t={shared:1,following:4};function H(e,t){return(e&t)===t}function Ov(e,t,n){const o={x:0,y:0,w:0,h:0};return o.w=e*n,o.h=t*n,o.x=(e-o.w)/2,o.y=(t-o.h)/2,o}function xv({x:e,y:t},n,o,r){const i=Ov(n,o,r),s=e*r,a=t*r,l=i.x+s,c=i.y+a;return{x:l,y:c}}function Sv(e,t,n,o){const{x:r,y:i}=e,{x:s,y:a}=xv(e,t,n,o),l=(r-s)/o,c=(i-a)/o,u=r+l,d=i+c;return{x:u,y:d}}const Nv=16,Ev=9,il=1200,Mv=il/Nv*Ev,sl=20,mt=8,al=12,kv=4,yo=1,go=8,Av=2,Dv=2,Lv=sl+Av*2,jv=al+Dv+Lv,ll=12,cl=12,be=60,ul=35,dl=22,hl=15,Rv=2,Vv=sl+Rv*2,_v=al+kv,Bv=100+_v,zv=100,ft={MariaDB:"MariaDB",MSSQL:"MSSQL",MySQL:"MySQL",Oracle:"Oracle",PostgreSQL:"PostgreSQL",SQLite:"SQLite"},Wv=Object.values(ft);ft.MariaDB+"",Pt.MariaDB,ft.MSSQL+"",Pt.MSSQL,ft.MySQL+"",Pt.MySQL,ft.Oracle+"",Pt.Oracle,ft.PostgreSQL+"",Pt.PostgreSQL,ft.SQLite+"",Pt.SQLite;const Pv=/[^0-9]/g,$v=e=>e.replace(Pv,""),Uv=pe(wv,Iv),Zv=pe(Cv,Tv),qv=pe(be,200);function ml(e){const t=R(e)?Number($v(e)):e;return Uv(t)}function fl(e){return Ze(Zv(e),2)}const Fv=k(fv),pl=k(yv),Yv=k(gv),Hv=k(pv),yl=k(mv);k(Wv);const gl=k(hv);function ve(e){return Math.max(e,be)}function Gv(e){return R(e)?e.trim():""}const bl={table:"table",memo:"memo"},B={tableName:"tableName",tableComment:"tableComment",columnName:"columnName",columnDataType:"columnDataType",columnNotNull:"columnNotNull",columnUnique:"columnUnique",columnAutoIncrement:"columnAutoIncrement",columnDefault:"columnDefault",columnComment:"columnComment"},We={ArrowUp:"ArrowUp",ArrowRight:"ArrowRight",ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",Tab:"Tab"};k(Object.values(We));const Qv=()=>({id:Je(),selectedMap:{},hasUndo:!1,hasRedo:!1,viewport:{width:il,height:Mv},focusTable:null,drawRelationship:null,hoverColumnMap:{},hoverRelationshipMap:{},openMap:{},draggableColumn:null,draggingColumnMap:{},sharedMouseTrackerMap:{}});function Ut(){const e=Date.now();return{updateAt:e,createAt:e}}function Jv(e,t){return e<t?Ks(e,t+1):Ks(t,e+1)}function Sn(e,t){return Xs([...e,t])}function vl(e,t,n){if(!t||t===n)return[n];const o=e.indexOf(t),r=e.indexOf(n);return o===-1?[n]:Jv(o,r).map(i=>e[i])}function Kv(e,t,n,o){return Xs([...t,...vl(e,n,o)])}const Xv={[ie.columnName]:!0,[ie.columnDataType]:J.columnDataType,[ie.columnNotNull]:J.columnNotNull,[ie.columnUnique]:J.columnUnique,[ie.columnAutoIncrement]:J.columnAutoIncrement,[ie.columnDefault]:J.columnDefault,[ie.columnComment]:J.columnComment},eI={[ie.columnName]:B.columnName,[ie.columnDataType]:B.columnDataType,[ie.columnNotNull]:B.columnNotNull,[ie.columnUnique]:B.columnUnique,[ie.columnAutoIncrement]:B.columnAutoIncrement,[ie.columnDefault]:B.columnDefault,[ie.columnComment]:B.columnComment},Il=[B.tableName,B.tableComment];function Zt({settings:{show:e,columnOrder:t}}){return t.filter(n=>{const o=Xv[n];return o===!0?!0:H(e,o)}).map(n=>eI[n])}function bo({collections:e,editor:{focusTable:t}}){if(!t)return!1;const n=m(e).collection("tableEntities").selectById(t.tableId);return!!(n!=null&&n.columnIds.length)}function wl(e){const{editor:{focusTable:t}}=e;if(!t)return!0;const n=Zt(e);return n.indexOf(t.focusType)===n.length-1}function Tl(e){const{editor:{focusTable:t}}=e;return t?Zt(e).indexOf(t.focusType)===0:!0}function Cl({collections:e,editor:{focusTable:t}}){if(!(t!=null&&t.columnId))return!0;const n=m(e).collection("tableEntities").selectById(t.tableId);return n?n.columnIds.indexOf(t.columnId)===n.columnIds.length-1:!0}function Ol({collections:e,editor:{focusTable:t}}){if(!(t!=null&&t.columnId))return!0;const n=m(e).collection("tableEntities").selectById(t.tableId);return n?n.columnIds.indexOf(t.columnId)===0:!0}function Xr(e){const t=Zt(e);return t[t.length-1]}function ei(e){return Zt(e)[0]}function tI(e){const{editor:{focusTable:t}}=e;if(!t)return B.columnName;const n=Zt(e),o=n.indexOf(t.focusType);return wl(e)?n[0]:n[o+1]}function nI(e){const{editor:{focusTable:t}}=e;if(!t)return B.columnName;const n=Zt(e),o=n.indexOf(t.focusType);return Tl(e)?n[n.length-1]:n[o-1]}function vo({settings:{show:e}}){return H(e,J.tableComment)?Il:[B.tableName]}function xl(e){const{editor:{focusTable:t}}=e;if(!t)return!0;const n=vo(e);return n.indexOf(t.focusType)===n.length-1}function Sl(e){const{editor:{focusTable:t}}=e;return t?vo(e).indexOf(t.focusType)===0:!0}const Io=k(Il);function Nl(e){const{editor:{focusTable:t}}=e;if(!t)return B.tableName;const n=vo(e),o=n.indexOf(t.focusType);return xl(e)?n[0]:n[o+1]}function El(e){const{editor:{focusTable:t}}=e;if(!t)return B.tableName;const n=vo(e),o=n.indexOf(t.focusType);return Sl(e)?n[n.length-1]:n[o-1]}function oI(e,t){const{collections:n,editor:{focusTable:o}}=e;if(!o)return;const r=m(n).collection("tableEntities").selectById(o.tableId);if(r){if(Io(o.focusType)){if(bo(e)){const i=r.columnIds[r.columnIds.length-1];o.focusType=Xr(e),o.columnId=i,o.prevSelectColumnId=i,o.selectColumnIds=[i]}}else if(Ol(e))o.focusType=B.tableName,o.columnId=null,o.prevSelectColumnId=null,o.selectColumnIds=[];else if(o.columnId){const i=r.columnIds.indexOf(o.columnId),s=r.columnIds[i-1];o.columnId=s,o.prevSelectColumnId=s,t.shiftKey&&t.moveKey!==We.Tab?o.selectColumnIds=Sn(o.selectColumnIds,s):o.selectColumnIds=[s]}}}function rI(e,t){const{collections:n,editor:{focusTable:o}}=e;if(!o)return;const r=m(n).collection("tableEntities").selectById(o.tableId);if(r){if(Io(o.focusType)){if(bo(e)){const i=r.columnIds[0];o.focusType=ei(e),o.columnId=i,o.prevSelectColumnId=i,o.selectColumnIds=[i]}}else if(Cl(e))o.focusType=B.tableName,o.columnId=null,o.prevSelectColumnId=null,o.selectColumnIds=[];else if(o.columnId){const i=r.columnIds.indexOf(o.columnId),s=r.columnIds[i+1];o.columnId=s,o.prevSelectColumnId=s,t.shiftKey&&t.moveKey!==We.Tab?o.selectColumnIds=Sn(o.selectColumnIds,s):o.selectColumnIds=[s]}}}function Ml(e,t){const{collections:n,editor:{focusTable:o}}=e;if(!o)return;const r=m(n).collection("tableEntities").selectById(o.tableId);if(r)if(Io(o.focusType))if(Sl(e))if(bo(e)){const i=r.columnIds[r.columnIds.length-1];o.focusType=Xr(e),o.columnId=i,o.prevSelectColumnId=i,o.selectColumnIds=[i]}else o.focusType=El(e);else o.focusType=El(e);else if(Tl(e)){if(Ol(e))o.focusType=H(e.settings.show,J.tableComment)?B.tableComment:B.tableName,o.columnId=null,o.prevSelectColumnId=null,o.selectColumnIds=[];else if(o.columnId){const i=r.columnIds.indexOf(o.columnId),s=r.columnIds[i-1];o.focusType=Xr(e),o.columnId=s,o.prevSelectColumnId=s,t.shiftKey&&t.moveKey!==We.Tab?o.selectColumnIds=Sn(o.selectColumnIds,s):o.selectColumnIds=[s]}}else o.focusType=nI(e),!t.shiftKey&&o.columnId&&(o.prevSelectColumnId=o.columnId,o.selectColumnIds=[o.columnId])}function kl(e,t){const{collections:n,editor:{focusTable:o}}=e;if(!o)return;const r=m(n).collection("tableEntities").selectById(o.tableId);if(r)if(Io(o.focusType))if(xl(e))if(bo(e)){const i=r.columnIds[0];o.focusType=ei(e),o.columnId=i,o.prevSelectColumnId=i,o.selectColumnIds=[i]}else o.focusType=Nl(e);else o.focusType=Nl(e);else if(wl(e)){if(Cl(e))o.focusType=B.tableName,o.columnId=null,o.prevSelectColumnId=null,o.selectColumnIds=[];else if(o.columnId){const i=r.columnIds.indexOf(o.columnId),s=r.columnIds[i+1];o.focusType=ei(e),o.columnId=s,o.prevSelectColumnId=s,t.shiftKey&&t.moveKey!==We.Tab?o.selectColumnIds=Sn(o.selectColumnIds,s):o.selectColumnIds=[s]}}else o.focusType=tI(e),!t.shiftKey&&o.columnId&&(o.prevSelectColumnId=o.columnId,o.selectColumnIds=[o.columnId])}const Al=1e3*30;y(C.changeHasHistory);const iI=({editor:e},{payload:{hasRedo:t,hasUndo:n}})=>{e.hasRedo=t,e.hasUndo=n};y(C.selectAll);const sI=({editor:e,doc:t})=>{const n=t.tableIds.reduce((r,i)=>(r[i]=bl.table,r),{}),o=t.memoIds.reduce((r,i)=>(r[i]=bl.memo,r),{});e.selectedMap={...o,...n}};y(C.unselectAll);const aI=({editor:e})=>{Object.keys(e.selectedMap).forEach(t=>{Reflect.deleteProperty(e.selectedMap,t)})};y(C.select);const lI=({editor:e},{payload:t})=>{Object.assign(e.selectedMap,t)};y(C.changeViewport);const cI=({editor:e},{payload:{width:t,height:n}})=>{e.viewport.width=t,e.viewport.height=n},uI=y(C.clear),dI=e=>{const{doc:t,collections:n}=_t({});e.doc=t,e.collections=n},qt=y(C.loadJson),hI=(e,{payload:{value:t}})=>{const{version:n,settings:o,doc:r,collections:i}=Oa(t);gl(o.canvasType)||(o.canvasType=rl.ERD),Object.assign(e.settings,o),e.version=n,e.doc=r,e.collections=i},mI=y(C.initialClear),fI=e=>{const{doc:t,collections:n}=_t({});e.doc=t,e.collections=n},Nn=y(C.initialLoadJson),pI=(e,{payload:{value:t}})=>{const{version:n,settings:o,doc:r,collections:i}=Oa(t);gl(o.canvasType)||(o.canvasType=rl.ERD),Object.assign(e.settings,o),e.version=n,e.doc=r,e.collections=i};y(C.focusTable);const yI=({editor:e,collections:t},{payload:n})=>{var o,r;const i=m(t).collection("tableEntities");if(((o=e.focusTable)==null?void 0:o.tableId)===n.tableId&&n.focusType)e.focusTable.focusType=n.focusType,e.focusTable.columnId=null,e.focusTable.prevSelectColumnId=null,e.focusTable.selectColumnIds=[];else if(n.focusType){const s=i.selectById(n.tableId);if(!s)return;e.focusTable={tableId:s.id,focusType:n.focusType,columnId:null,prevSelectColumnId:null,selectColumnIds:[],edit:!1}}else if(((r=e.focusTable)==null?void 0:r.tableId)!==n.tableId){const s=i.selectById(n.tableId);if(!s)return;e.focusTable={tableId:s.id,focusType:B.tableName,columnId:null,prevSelectColumnId:null,selectColumnIds:[],edit:!1}}};y(C.focusColumn);const gI=({editor:e,collections:t},{payload:n})=>{var o;const r=m(t).collection("tableEntities");if(((o=e.focusTable)==null?void 0:o.tableId)===n.tableId){const i=r.selectById(n.tableId);if(!i)return;const s=e.focusTable;s.columnId=n.columnId,s.focusType=n.focusType,n.$mod&&n.shiftKey?s.selectColumnIds=Kv(i.columnIds,s.selectColumnIds,s.prevSelectColumnId,s.columnId):n.shiftKey?s.selectColumnIds=vl(i.columnIds,s.prevSelectColumnId,s.columnId):n.$mod?s.selectColumnIds=Sn(s.selectColumnIds,n.columnId):s.selectColumnIds=[n.columnId],s.prevSelectColumnId=n.columnId}else{const i=r.selectById(n.tableId);if(!i)return;e.focusTable={tableId:i.id,focusType:n.focusType,columnId:n.columnId,prevSelectColumnId:n.columnId,selectColumnIds:[n.columnId],edit:!1}}};y(C.focusTableEnd);const bI=({editor:e})=>{e.focusTable=null};y(C.focusMoveTable);const vI=(e,{payload:t})=>{const{editor:{focusTable:n}}=e;if(n)switch(n.edit=!1,t.moveKey){case We.ArrowUp:oI(e,t);break;case We.ArrowDown:rI(e,t);break;case We.ArrowLeft:Ml(e,t);break;case We.ArrowRight:kl(e,t);break;case We.Tab:t.shiftKey?Ml(e,t):kl(e,t);break}};y(C.editTable);const II=({editor:{focusTable:e}})=>{e&&(e.edit=!0)};y(C.editTableEnd);const wI=({editor:{focusTable:e}})=>{e&&(e.edit=!1)};y(C.selectAllColumn);const TI=({collections:e,editor:{focusTable:t}})=>{if(!t)return;const n=m(e).collection("tableEntities").selectById(t.tableId);n&&(t.selectColumnIds=[...n.columnIds])};y(C.drawStartRelationship);const CI=({editor:e},{payload:{relationshipType:t}})=>{e.drawRelationship={relationshipType:t,start:null,end:{x:0,y:0}}};y(C.drawStartAddRelationship);const OI=({editor:{drawRelationship:e},collections:t},{payload:{tableId:n}})=>{if(!e)return;const o=m(t).collection("tableEntities").selectById(n);o&&(e.start={tableId:n,x:o.ui.x,y:o.ui.y})};y(C.drawEndRelationship);const xI=({editor:e})=>{e.drawRelationship=null};y(C.drawRelationship);const SI=({editor:{drawRelationship:e},settings:{scrollLeft:t,scrollTop:n,zoomLevel:o,width:r,height:i}},{payload:{x:s,y:a}})=>{if(!(e!=null&&e.start))return;const l=Sv({x:s-t,y:a-n},r,i,o);e.end.x=l.x,e.end.y=l.y};y(C.hoverColumnMap);const NI=({editor:e},{payload:{columnIds:t}})=>{Object.keys(e.hoverColumnMap).forEach(n=>{Reflect.deleteProperty(e.hoverColumnMap,n)});for(const n of t)e.hoverColumnMap[n]=!0};y(C.hoverRelationshipMap);const EI=({editor:e},{payload:{relationshipIds:t}})=>{Object.keys(e.hoverRelationshipMap).forEach(n=>{Reflect.deleteProperty(e.hoverRelationshipMap,n)});for(const n of t)e.hoverRelationshipMap[n]=!0};y(C.changeOpenMap);const MI=({editor:e},{payload:t})=>{Object.assign(e.openMap,t)};y(C.dragstartColumn);const kI=({editor:e},{payload:t})=>{e.draggableColumn=t,t.columnIds.forEach(n=>{e.draggingColumnMap[n]=!0})};y(C.dragendColumn);const AI=({editor:e})=>{e.draggableColumn=null,Object.keys(e.draggingColumnMap).forEach(t=>{Reflect.deleteProperty(e.draggingColumnMap,t)})};y(C.sharedMouseTracker);const DI=({editor:e},{payload:t,tags:n,meta:o})=>{if(te(n)||!H(n,$t.shared)||!R(o==null?void 0:o.editorId)||e.id===o.editorId)return;const r=e.sharedMouseTrackerMap[o.editorId],i=!R(o.nickname)||Js(o.nickname.trim())?"user":o.nickname.trim();r?(r.x=t.x,r.y=t.y,r.nickname=i,clearTimeout(r.timeoutId),r.timeoutId=setTimeout(()=>{Reflect.deleteProperty(e.sharedMouseTrackerMap,o.editorId)},Al)):e.sharedMouseTrackerMap[o.editorId]={...t,id:o.editorId,nickname:i,timeoutId:setTimeout(()=>{Reflect.deleteProperty(e.sharedMouseTrackerMap,o.editorId)},Al)}},LI=y(C.validationIds),jI=({doc:e,collections:t})=>{const n=m(t).collection("tableEntities"),o=m(t).collection("tableColumnEntities"),r=m(t).collection("indexEntities"),i=m(t).collection("indexColumnEntities"),s=m(t).collection("relationshipEntities"),a=m(t).collection("memoEntities"),l=e.tableIds.filter(h=>!n.selectById(h)),c=e.relationshipIds.filter(h=>!s.selectById(h)),u=e.indexIds.filter(h=>!r.selectById(h)),d=e.memoIds.filter(h=>!a.selectById(h));e.tableIds=e.tableIds.filter(h=>!l.includes(h)),e.relationshipIds=e.relationshipIds.filter(h=>!c.includes(h)),e.indexIds=e.indexIds.filter(h=>!u.includes(h)),e.memoIds=e.memoIds.filter(h=>!d.includes(h)),n.selectAll().forEach(h=>{const p=h.columnIds.filter(f=>!o.selectById(f)),w=h.seqColumnIds.filter(f=>!o.selectById(f));h.columnIds=h.columnIds.filter(f=>!p.includes(f)),h.seqColumnIds=h.seqColumnIds.filter(f=>!w.includes(f))}),r.selectAll().forEach(h=>{const p=h.indexColumnIds.filter(f=>!i.selectById(f)),w=h.seqIndexColumnIds.filter(f=>!i.selectById(f));h.indexColumnIds=h.indexColumnIds.filter(f=>!p.includes(f)),h.seqIndexColumnIds=h.seqIndexColumnIds.filter(f=>!w.includes(f))})};y(C.getLWW);const RI=dn;y(C.mergeLWW);const VI=({lww:e},{payload:{lww:t}})=>{Object.entries(t).forEach(([n,[o,r,i,s]])=>{ya(e,r,n,o,dn),ga(e,i,n,o,dn),Object.entries(s).forEach(([a,l])=>{Dr(e,l,n,o,a,dn)})})},_I={[C.changeHasHistory]:iI,[C.selectAll]:sI,[C.unselectAll]:aI,[C.select]:lI,[C.changeViewport]:cI,[C.clear]:dI,[C.loadJson]:hI,[C.initialClear]:fI,[C.initialLoadJson]:pI,[C.focusTable]:yI,[C.focusColumn]:gI,[C.focusTableEnd]:bI,[C.focusMoveTable]:vI,[C.editTable]:II,[C.editTableEnd]:wI,[C.selectAllColumn]:TI,[C.drawStartRelationship]:CI,[C.drawStartAddRelationship]:OI,[C.drawEndRelationship]:xI,[C.drawRelationship]:SI,[C.hoverColumnMap]:NI,[C.hoverRelationshipMap]:EI,[C.changeOpenMap]:MI,[C.dragstartColumn]:kI,[C.dragendColumn]:AI,[C.sharedMouseTracker]:DI,[C.validationIds]:jI,[C.getLWW]:RI,[C.mergeLWW]:VI},BI=(e,t,n)=>{e.push(uI(),qt({value:Xn(n)}))},zI=(e,t,n)=>{e.push(qt({value:Xn(n)}))},WI={[C.loadJson]:BI,[C.clear]:zI},Ie={addIndex:"index.add",removeIndex:"index.remove",changeIndexName:"index.changeName",changeIndexUnique:"index.changeUnique"};function PI(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ti,Dl;function $I(){if(Dl)return ti;Dl=1;var e=function(g){return t(g)&&!n(g)};function t(g){return!!g&&typeof g=="object"}function n(g){var I=Object.prototype.toString.call(g);return I==="[object RegExp]"||I==="[object Date]"||i(g)}var o=typeof Symbol=="function"&&Symbol.for,r=o?Symbol.for("react.element"):60103;function i(g){return g.$$typeof===r}function s(g){return Array.isArray(g)?[]:{}}function a(g,I){return I.clone!==!1&&I.isMergeableObject(g)?f(s(g),g,I):g}function l(g,I,x){return g.concat(I).map(function(j){return a(j,x)})}function c(g,I){if(!I.customMerge)return f;var x=I.customMerge(g);return typeof x=="function"?x:f}function u(g){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(g).filter(function(I){return Object.propertyIsEnumerable.call(g,I)}):[]}function d(g){return Object.keys(g).concat(u(g))}function h(g,I){try{return I in g}catch{return!1}}function p(g,I){return h(g,I)&&!(Object.hasOwnProperty.call(g,I)&&Object.propertyIsEnumerable.call(g,I))}function w(g,I,x){var j={};return x.isMergeableObject(g)&&d(g).forEach(function(W){j[W]=a(g[W],x)}),d(I).forEach(function(W){p(g,W)||(h(g,W)&&x.isMergeableObject(I[W])?j[W]=c(W,x)(g[W],I[W],x):j[W]=a(I[W],x))}),j}function f(g,I,x){x=x||{},x.arrayMerge=x.arrayMerge||l,x.isMergeableObject=x.isMergeableObject||e,x.cloneUnlessOtherwiseSpecified=a;var j=Array.isArray(I),W=Array.isArray(g),it=j===W;return it?j?x.arrayMerge(g,I,x):w(g,I,x):a(I,x)}f.all=function(g,I){if(!Array.isArray(g))throw new Error("first argument should be an array");return g.reduce(function(x,j){return f(x,j,I)},{})};var E=f;return ti=E,ti}var UI=$I();const Ft=PI(UI),Yt=e=>Ft({id:Je(),name:"",tableId:"",indexColumnIds:[],seqIndexColumnIds:[],unique:!1,meta:Ut()},e??{}),ZI=y(Ie.addIndex),qI=({doc:e,collections:t,lww:n},{payload:{id:o,tableId:r},version:i},{clock:s})=>{const a=i??s.getVersion();m(t).collection("indexEntities").addOne(Yt({id:o,tableId:r})).addOperator(n,a,o,()=>{k(e.indexIds)(o)||e.indexIds.push(o)})},FI=y(Ie.removeIndex),YI=({doc:e,collections:t,lww:n},{payload:{id:o},version:r},{clock:i})=>{const s=r??i.getVersion();m(t).collection("indexEntities").removeOperator(n,s,o,()=>{const a=e.indexIds.indexOf(o);a!==-1&&e.indexIds.splice(a,1)})},HI=y(Ie.changeIndexName),GI=({collections:e,lww:t},{payload:{id:n,tableId:o,value:r},version:i},{clock:s})=>{const a=i??s.getVersion(),l=m(e).collection("indexEntities");l.getOrCreate(n,c=>Yt({id:c,tableId:o})),l.replaceOperator(t,a,n,"name",()=>{l.updateOne(n,c=>{c.name=r})})},QI=y(Ie.changeIndexUnique),JI=({collections:e,lww:t},{payload:{id:n,tableId:o,value:r},version:i},{clock:s})=>{const a=i??s.getVersion(),l=m(e).collection("indexEntities");l.getOrCreate(n,c=>Yt({id:c,tableId:o})),l.replaceOperator(t,a,n,"unique",()=>{l.updateOne(n,c=>{c.unique=r})})},KI={[Ie.addIndex]:qI,[Ie.removeIndex]:YI,[Ie.changeIndexName]:GI,[Ie.changeIndexUnique]:JI},XI=(e,{payload:{id:t}})=>{e.push(FI({id:t}))},ew=(e,{payload:{id:t}},{collections:n})=>{const o=m(n).collection("indexEntities").selectById(t);o&&e.push(ZI({id:t,tableId:o.tableId}))},tw=(e,{payload:{id:t,tableId:n}},{collections:o})=>{const r=m(o).collection("indexEntities").selectById(t);r&&e.push(HI({id:t,tableId:n,value:r.name}))},nw=(e,{payload:{id:t,tableId:n,value:o}},{collections:r})=>{m(r).collection("indexEntities").selectById(t)&&e.push(QI({id:t,tableId:n,value:!o}))},ow={[Ie.addIndex]:XI,[Ie.removeIndex]:ew,[Ie.changeIndexName]:tw,[Ie.changeIndexUnique]:nw},we={addIndexColumn:"indexColumn.add",removeIndexColumn:"indexColumn.remove",moveIndexColumn:"indexColumn.move",changeIndexColumnOrderType:"indexColumn.changeOrderType"},Ll=e=>Ft({id:Je(),indexId:"",columnId:"",orderType:vv.ASC,meta:Ut()},e??{});function jl(e,t,n){if(k(t)(n)){const o=t.reduce((r,i,s)=>(r[i]=s,r),{});e.push(n),e.sort((r,i)=>{const s=o[r],a=o[i];return s===void 0?1:a===void 0?-1:s-a})}else e.push(n),t.push(n)}const rw=y(we.addIndexColumn),iw=({collections:e,lww:t},{payload:{id:n,indexId:o,tableId:r,columnId:i},version:s},{clock:a})=>{const l=s??a.getVersion(),c=m(e).collection("indexEntities"),u=c.getOrCreate(o,d=>Yt({id:d,tableId:r}));m(e).collection("indexColumnEntities").addOne(Ll({id:n,indexId:o,columnId:i})).addOperator(t,l,n,()=>{k(u.indexColumnIds)(n)||c.updateOne(o,d=>{jl(d.indexColumnIds,d.seqIndexColumnIds,n)})})},sw=y(we.removeIndexColumn),aw=({collections:e,lww:t},{payload:{id:n,indexId:o,tableId:r},version:i},{clock:s})=>{const a=i??s.getVersion(),l=m(e).collection("indexEntities"),c=l.getOrCreate(o,u=>Yt({id:u,tableId:r}));m(e).collection("indexColumnEntities").removeOperator(t,a,n,()=>{const u=c.indexColumnIds.indexOf(n);u!==-1&&l.updateOne(o,d=>{d.indexColumnIds.splice(u,1)})})},lw=y(we.moveIndexColumn),cw=({collections:e},{payload:{id:t,indexId:n,tableId:o,targetId:r}})=>{if(t===r)return;const i=m(e).collection("indexEntities"),s=i.getOrCreate(n,c=>Yt({id:c,tableId:o})),a=s.indexColumnIds.indexOf(t);if(a===-1)return;const l=s.indexColumnIds.indexOf(r);l!==-1&&i.updateOne(n,c=>{c.indexColumnIds.splice(a,1),c.indexColumnIds.splice(l,0,t);const u=c.seqIndexColumnIds.indexOf(t),d=c.seqIndexColumnIds.indexOf(r);u!==-1&&d!==-1&&(c.seqIndexColumnIds.splice(u,1),c.seqIndexColumnIds.splice(d,0,t))})},uw=y(we.changeIndexColumnOrderType),dw=({collections:e,lww:t},{payload:{id:n,indexId:o,columnId:r,value:i},version:s},{clock:a})=>{const l=s??a.getVersion(),c=m(e).collection("indexColumnEntities");c.getOrCreate(n,u=>Ll({id:u,indexId:o,columnId:r})),c.replaceOperator(t,l,n,"orderType",()=>{c.updateOne(n,u=>{u.orderType=i})})},hw={[we.addIndexColumn]:iw,[we.removeIndexColumn]:aw,[we.moveIndexColumn]:cw,[we.changeIndexColumnOrderType]:dw},mw=(e,{payload:{id:t,indexId:n,tableId:o}})=>{e.push(sw({id:t,indexId:n,tableId:o}))},fw=(e,{payload:{id:t,indexId:n,tableId:o}},{collections:r})=>{const i=m(r).collection("indexColumnEntities").selectById(t);i&&e.push(rw({id:t,indexId:n,tableId:o,columnId:i.columnId}))},pw=(e,{payload:{id:t,indexId:n,tableId:o,targetId:r}},{collections:i})=>{const s=m(i).collection("indexEntities").selectById(n);if(!s)return;const a=s.indexColumnIds.indexOf(t);if(a===-1)return;const l=s.indexColumnIds.indexOf(r);if(l===-1)return;const c=a<l?a+1:a-1,u=s.indexColumnIds[c];e.push(lw({indexId:n,tableId:o,id:t,targetId:u}))},yw=(e,{payload:{id:t,indexId:n,columnId:o}},{collections:r})=>{const i=m(r).collection("indexColumnEntities").selectById(t);i&&e.push(uw({id:t,indexId:n,columnId:o,value:i.orderType}))},gw={[we.addIndexColumn]:mw,[we.removeIndexColumn]:fw,[we.moveIndexColumn]:pw,[we.changeIndexColumnOrderType]:yw},Z={addMemo:"memo.add",moveMemo:"memo.move",moveToMemo:"memo.moveTo",removeMemo:"memo.remove",changeMemoValue:"memo.changeValue",changeMemoColor:"memo.changeColor",resizeMemo:"memo.resize",changeZIndex:"memo.changeZIndex"},pt=e=>Ft({id:Je(),value:"",ui:{x:200,y:100,zIndex:2,width:Bv,height:zv,color:""},meta:Ut()},e??{}),bw=y(Z.addMemo),vw=({doc:e,collections:t,lww:n},{payload:{id:o,ui:r},version:i},{clock:s})=>{const a=i??s.getVersion();m(t).collection("memoEntities").addOne(pt({id:o,ui:r})).addOperator(n,a,o,()=>{k(e.memoIds)(o)||e.memoIds.push(o)})},wo=y(Z.moveMemo),Iw=({collections:e},{payload:{ids:t,movementX:n,movementY:o}})=>{const r=m(e).collection("memoEntities");for(const i of t)r.getOrCreate(i,s=>pt({id:s}));r.updateMany(t,i=>{i.ui.x=Ze(i.ui.x+n,4),i.ui.y=Ze(i.ui.y+o,4)})},ww=y(Z.moveToMemo),Tw=({collections:e},{payload:{id:t,x:n,y:o}})=>{const r=m(e).collection("memoEntities");r.getOrCreate(t,i=>pt({id:i})),r.updateOne(t,i=>{i.ui.x=n,i.ui.y=o})},Cw=y(Z.removeMemo),Ow=({doc:e,collections:t,lww:n},{payload:{id:o},version:r},{clock:i})=>{const s=r??i.getVersion();m(t).collection("memoEntities").removeOperator(n,s,o,()=>{const a=e.memoIds.indexOf(o);a!==-1&&e.memoIds.splice(a,1)})},xw=y(Z.changeMemoValue),Sw=({collections:e,lww:t},{payload:{id:n,value:o},version:r},{clock:i})=>{const s=r??i.getVersion(),a=m(e).collection("memoEntities");a.getOrCreate(n,l=>pt({id:l})),a.replaceOperator(t,s,n,"value",()=>{a.updateOne(n,l=>{l.value=o})})},ni=y(Z.changeMemoColor),Nw=({collections:e,lww:t},{payload:{id:n,color:o},version:r},{clock:i})=>{const s=r??i.getVersion(),a=m(e).collection("memoEntities");a.getOrCreate(n,l=>pt({id:l})),a.replaceOperator(t,s,n,"ui.color",()=>{a.updateOne(n,l=>{l.ui.color=o})})},Ew=y(Z.resizeMemo),Mw=({collections:e},{payload:{id:t,x:n,y:o,width:r,height:i}})=>{const s=m(e).collection("memoEntities");s.getOrCreate(t,a=>pt({id:a})),s.updateOne(t,a=>{a.ui.x=n,a.ui.y=o,a.ui.width=r,a.ui.height=i})};y(Z.changeZIndex);const kw=({collections:e},{payload:{id:t,zIndex:n}})=>{const o=m(e).collection("memoEntities");o.getOrCreate(t,r=>pt({id:r})),o.updateOne(t,r=>{r.ui.zIndex=n})},Aw={[Z.addMemo]:vw,[Z.moveMemo]:Iw,[Z.moveToMemo]:Tw,[Z.removeMemo]:Ow,[Z.changeMemoValue]:Sw,[Z.changeMemoColor]:Nw,[Z.resizeMemo]:Mw,[Z.changeZIndex]:kw},Dw=20,Lw=(e,{payload:{id:t}})=>{e.push(Cw({id:t}))},jw=(e,{payload:{id:t}},{collections:n})=>{const o=m(n).collection("memoEntities").selectById(t);o&&e.push(bw({id:o.id,ui:bn(o.ui,["x","y","zIndex"])}))},Rw=(e,{payload:{id:t}},{collections:n})=>{const o=m(n).collection("memoEntities").selectById(t);o&&e.push(xw({id:t,value:o.value}))},Vw=(e,{payload:{id:t}},{collections:n})=>{const o=m(n).collection("memoEntities").selectById(t);o&&e.push(ww({id:t,x:o.ui.x,y:o.ui.y}))},_w={[Z.addMemo]:Lw,[Z.removeMemo]:jw,[Z.changeMemoValue]:Rw,[Z.moveToMemo]:Vw},Bw=(e,t,n)=>{const o=n.filter(i=>i.type===wo.type);if(!o.length)return;const r=gn(o,i=>i.payload.ids.join(","));for(const[,i]of Object.entries(r)){const{payload:{ids:s}}=yn(i),{x:a,y:l}=i.reduce((c,{payload:{movementX:u,movementY:d}})=>(c.x+=u,c.y+=d,c),{x:0,y:0});Math.abs(a)+Math.abs(l)<Dw||(e.push(wo({ids:s,movementX:-1*a,movementY:-1*l})),t.push(wo({ids:s,movementX:a,movementY:l})))}},zw=(e,t,n)=>{const o=n.filter(({type:i})=>i===ni.type);if(!o.length)return;const r=gn(o,i=>i.payload.id);for(const[i,s]of Object.entries(r)){const a=yn(s),l=Qn(s);e.push(ni({id:i,color:a.payload.prevColor,prevColor:l.payload.color})),t.push(ni({id:i,color:l.payload.color,prevColor:a.payload.prevColor}))}},Ww=(e,t,n)=>{const o=n.filter(i=>i.type===Ew.type);if(!o.length)return;const r=gn(o,i=>i.payload.id);for(const[,i]of Object.entries(r)){if(i.length<2)continue;const s=yn(i),a=Qn(i);e.push(s),t.push(a)}},Pw={[Z.moveMemo]:Bw,[Z.changeMemoColor]:zw,[Z.resizeMemo]:Ww},He={addRelationship:"relationship.add",removeRelationship:"relationship.remove",changeRelationshipType:"relationship.changeType"},$w=e=>Ft({id:Je(),identification:!1,relationshipType:bv.ZeroN,startRelationshipType:Kr.dash,start:{tableId:"",columnIds:[],x:0,y:0,direction:ze.bottom},end:{tableId:"",columnIds:[],x:0,y:0,direction:ze.bottom},meta:Ut()},e??{}),oi=y(He.addRelationship),Uw=({doc:e,collections:t,lww:n},{payload:{id:o,relationshipType:r,start:i,end:s},version:a},{clock:l})=>{const c=a??l.getVersion();m(t).collection("relationshipEntities").addOne($w({id:o,relationshipType:r,start:{tableId:i.tableId,columnIds:i.columnIds},end:{tableId:s.tableId,columnIds:s.columnIds}})).addOperator(n,c,o,()=>{k(e.relationshipIds)(o)||e.relationshipIds.push(o)})},Rl=y(He.removeRelationship),Zw=({doc:e,collections:t,lww:n},{payload:{id:o},version:r},{clock:i})=>{const s=r??i.getVersion();m(t).collection("relationshipEntities").removeOperator(n,s,o,()=>{const a=e.relationshipIds.indexOf(o);a!==-1&&e.relationshipIds.splice(a,1)})},qw=y(He.changeRelationshipType),Fw=({collections:e,lww:t},{payload:{id:n,value:o},version:r},{clock:i})=>{const s=r??i.getVersion(),a=m(e).collection("relationshipEntities");a.replaceOperator(t,s,n,"relationshipType",()=>{a.updateOne(n,l=>{l.relationshipType=o})})},Yw={[He.addRelationship]:Uw,[He.removeRelationship]:Zw,[He.changeRelationshipType]:Fw},Hw=(e,{payload:{id:t}})=>{e.push(Rl({id:t}))},Gw=(e,{payload:{id:t}},{collections:n})=>{const o=m(n).collection("relationshipEntities").selectById(t);o&&e.push(oi({id:o.id,relationshipType:o.relationshipType,start:bn(o.start,["tableId","columnIds"]),end:bn(o.end,["tableId","columnIds"])}))},Qw=(e,{payload:{id:t}},{collections:n})=>{const o=m(n).collection("relationshipEntities").selectById(t);o&&e.push(qw({id:t,value:o.relationshipType}))},Jw={[He.addRelationship]:Hw,[He.removeRelationship]:Gw,[He.changeRelationshipType]:Qw},N={changeDatabaseName:"settings.changeDatabaseName",resize:"settings.resize",changeZoomLevel:"settings.changeZoomLevel",streamZoomLevel:"settings.streamZoomLevel",scrollTo:"settings.scrollTo",streamScrollTo:"settings.streamScrollTo",changeShow:"settings.changeShow",changeDatabase:"settings.changeDatabase",changeCanvasType:"settings.changeCanvasType",changeLanguage:"settings.changeLanguage",changeTableNameCase:"settings.changeTableNameCase",changeColumnNameCase:"settings.changeColumnNameCase",changeBracketType:"settings.changeBracketType",changeRelationshipDataTypeSync:"settings.changeRelationshipDataTypeSync",changeRelationshipOptimization:"settings.changeRelationshipOptimization",changeColumnOrder:"settings.changeColumnOrder",changeMaxWidthComment:"settings.changeMaxWidthComment",changeIgnoreSaveSettings:"settings.changeIgnoreSaveSettings"};y(N.changeDatabaseName);const Kw=({settings:e,lww:t},{payload:{value:n},version:o},{clock:r})=>{const i=o??r.getVersion();Dr(t,i,"settings.databaseName","settings","databaseName",()=>{e.databaseName=n})},Xw=y(N.resize),eT=({settings:e},{payload:{width:t,height:n}})=>{e.width=ml(t),e.height=ml(n)},tT=y(N.changeZoomLevel),nT=({settings:e},{payload:{value:t},tags:n})=>{!te(n)&&H(n,$t.following)||(e.zoomLevel=fl(t))},ri=y(N.streamZoomLevel),oT=({settings:e},{payload:{value:t},tags:n})=>{!te(n)&&H(n,$t.following)||(e.zoomLevel=fl(e.zoomLevel+t))},rT=y(N.scrollTo),iT=({settings:e,editor:{viewport:t}},{payload:{scrollTop:n,scrollLeft:o},tags:r})=>{if(!te(r)&&H(r,$t.following))return;const i=pe(t.height-e.height,0),s=pe(t.width-e.width,0);e.scrollTop=Ze(i(n),4),e.scrollLeft=Ze(s(o),4)},ii=y(N.streamScrollTo),sT=({settings:e,editor:{viewport:t}},{payload:{movementX:n,movementY:o},tags:r})=>{if(!te(r)&&H(r,$t.following))return;const i=pe(t.height-e.height,0),s=pe(t.width-e.width,0);e.scrollTop=Ze(i(e.scrollTop+o),4),e.scrollLeft=Ze(s(e.scrollLeft+n),4)},Vl=y(N.changeShow),aT=({settings:e},{payload:{show:t,value:n}})=>{e.show=n?e.show|t:e.show&~t};y(N.changeDatabase);const lT=({settings:e},{payload:{value:t}})=>{Fv(t)&&(e.database=t)};y(N.changeCanvasType);const cT=({settings:e},{payload:{value:t},tags:n})=>{!te(n)&&H(n,$t.following)||(e.canvasType=t)};y(N.changeLanguage);const uT=({settings:e},{payload:{value:t}})=>{Hv(t)&&(e.language=t)};y(N.changeTableNameCase);const dT=({settings:e},{payload:{value:t}})=>{pl(t)&&(e.tableNameCase=t)};y(N.changeColumnNameCase);const hT=({settings:e},{payload:{value:t}})=>{pl(t)&&(e.columnNameCase=t)};y(N.changeBracketType);const mT=({settings:e},{payload:{value:t}})=>{Yv(t)&&(e.bracketType=t)};y(N.changeRelationshipDataTypeSync);const fT=({settings:e},{payload:{value:t}})=>{e.relationshipDataTypeSync=t};y(N.changeRelationshipOptimization);const pT=({settings:e},{payload:{value:t}})=>{e.relationshipOptimization=t};y(N.changeColumnOrder);const yT=({settings:e},{payload:{value:t,target:n}})=>{if(t===n||!yl(t)||!yl(n))return;const o=e.columnOrder.indexOf(t),r=e.columnOrder.indexOf(n);o===-1||r===-1||(e.columnOrder.splice(o,1),e.columnOrder.splice(r,0,t))},gT=y(N.changeMaxWidthComment),bT=({settings:e},{payload:{value:t}})=>{e.maxWidthComment=t===-1?t:qv(t)};y(N.changeIgnoreSaveSettings);const vT=({settings:e},{payload:{saveSettingType:t,value:n}})=>{e.ignoreSaveSettings=n?e.ignoreSaveSettings|t:e.ignoreSaveSettings&~t},IT={[N.changeDatabaseName]:Kw,[N.resize]:eT,[N.changeZoomLevel]:nT,[N.streamZoomLevel]:oT,[N.scrollTo]:iT,[N.streamScrollTo]:sT,[N.changeShow]:aT,[N.changeDatabase]:lT,[N.changeCanvasType]:cT,[N.changeLanguage]:uT,[N.changeTableNameCase]:dT,[N.changeColumnNameCase]:hT,[N.changeBracketType]:mT,[N.changeRelationshipDataTypeSync]:fT,[N.changeRelationshipOptimization]:pT,[N.changeColumnOrder]:yT,[N.changeMaxWidthComment]:bT,[N.changeIgnoreSaveSettings]:vT},wT=20,TT=(e,t,{settings:n})=>{e.push(Xw({width:n.width,height:n.height}))},CT=(e,t,{settings:n})=>{e.push(rT({scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}))},OT=(e,{payload:{show:t,value:n}})=>{e.push(Vl({show:t,value:!n}))},xT=(e,t,{settings:n})=>{e.push(tT({value:n.zoomLevel}))},ST={[N.resize]:TT,[N.scrollTo]:CT,[N.changeShow]:OT,[N.changeZoomLevel]:xT},NT=(e,t,n)=>{const o=n.filter(s=>s.type===ii.type);if(!o.length)return;const{x:r,y:i}=o.reduce((s,{payload:{movementX:a,movementY:l}})=>(s.x+=a,s.y+=l,s),{x:0,y:0});Math.abs(r)+Math.abs(i)<wT||(e.push(ii({movementX:-1*r,movementY:-1*i})),t.push(ii({movementX:r,movementY:i})))},ET=(e,t,n)=>{const o=n.filter(i=>i.type===ri.type);if(!o.length)return;const r=o.reduce((i,{payload:{value:s}})=>i+s,0);e.push(ri({value:-1*r})),t.push(ri({value:r}))},MT={[N.streamScrollTo]:NT,[N.streamZoomLevel]:ET},$={addTable:"table.add",moveTable:"table.move",moveToTable:"table.moveTo",removeTable:"table.remove",changeTableName:"table.changeName",changeTableComment:"table.changeComment",changeTableColor:"table.changeColor",changeZIndex:"table.changeZIndex",sortTable:"table.sort"};function _l(e,{settings:{show:t,maxWidthComment:n},collections:o}){let r=e.ui.widthName+mt;if(H(t,J.tableComment)){const l=n===-1?e.ui.widthComment:n<e.ui.widthComment?n:e.ui.widthComment;r+=l+mt}const i=AT(t);r<i&&(r=i);const s=m(o).collection("tableColumnEntities").selectByIds(e.columnIds),a=DT(s,t,n);return r<a.width&&(r=a.width),{...a,width:yo+go+r+go+yo}}const kT=[{key:J.columnComment,width:be},{key:J.columnDataType,width:be},{key:J.columnDefault,width:be},{key:J.columnNotNull,width:ul},{key:J.columnAutoIncrement,width:hl},{key:J.columnUnique,width:dl}];function AT(e){return kT.reduce((t,{key:n,width:o})=>H(e,n)?t+o+mt:t,cl+mt+be+mt+ll)}function DT(e,t,n){const o={width:0,name:0,comment:0,dataType:0,default:0,notNull:0,autoIncrement:0,unique:0};for(const r of e){if(o.name<r.ui.widthName&&(o.name=r.ui.widthName),H(t,J.columnComment)&&o.comment<r.ui.widthComment){const i=n===-1?r.ui.widthComment:n<r.ui.widthComment?n:r.ui.widthComment;o.comment=i}H(t,J.columnDataType)&&o.dataType<r.ui.widthDataType&&(o.dataType=r.ui.widthDataType),H(t,J.columnDefault)&&o.default<r.ui.widthDefault&&(o.default=r.ui.widthDefault)}return H(t,J.columnNotNull)&&(o.notNull=ul),H(t,J.columnAutoIncrement)&&(o.autoIncrement=hl),H(t,J.columnUnique)&&(o.unique=dl),o.width=Object.entries(o).reduce((r,[i,s])=>i==="width"||s===0?r:r+s+mt,cl+mt+ll),o}function Bl(e){return yo+go+jv+e.columnIds.length*Vv+go+yo}function LT({doc:{tableIds:e},collections:t},{toWidth:n}){const o=m(t).collection("tableEntities").selectByIds(e),r=m(t).collection("tableColumnEntities");for(const i of o){i.ui.widthName=ve(n(i.name)),i.ui.widthComment=ve(n(i.comment));const s=r.selectByIds(i.columnIds);for(const a of s)a.ui.widthName=ve(n(a.name)),a.ui.widthDataType=ve(n(a.dataType)),a.ui.widthDefault=ve(n(a.default)),a.ui.widthComment=ve(n(a.comment))}}const Pe=e=>Ft({id:Je(),name:"",comment:"",columnIds:[],seqColumnIds:[],ui:{x:200,y:100,zIndex:2,widthName:be,widthComment:be,color:""},meta:Ut()},e??{}),jT=y($.addTable),RT=({doc:e,collections:t,lww:n},{payload:{id:o,ui:r},version:i},{clock:s})=>{const a=i??s.getVersion();m(t).collection("tableEntities").addOne(Pe({id:o,ui:r})).addOperator(n,a,o,()=>{k(e.tableIds)(o)||e.tableIds.push(o)})},To=y($.moveTable),VT=({collections:e},{payload:{ids:t,movementX:n,movementY:o}})=>{const r=m(e).collection("tableEntities");for(const i of t)r.getOrCreate(i,s=>Pe({id:s}));r.updateMany(t,i=>{i.ui.x=Ze(i.ui.x+n,4),i.ui.y=Ze(i.ui.y+o,4)})},zl=y($.moveToTable),_T=({collections:e},{payload:{id:t,x:n,y:o}})=>{const r=m(e).collection("tableEntities");r.getOrCreate(t,i=>Pe({id:i})),r.updateOne(t,i=>{i.ui.x=n,i.ui.y=o})},BT=y($.removeTable),zT=({doc:e,collections:t,lww:n},{payload:{id:o},version:r},{clock:i})=>{const s=r??i.getVersion();m(t).collection("tableEntities").removeOperator(n,s,o,()=>{const a=e.tableIds.indexOf(o);a!==-1&&e.tableIds.splice(a,1)})},Wl=y($.changeTableName),WT=({collections:e,lww:t},{payload:{id:n,value:o},version:r},{toWidth:i,clock:s})=>{const a=r??s.getVersion(),l=m(e).collection("tableEntities");l.getOrCreate(n,c=>Pe({id:c})),l.replaceOperator(t,a,n,"name",()=>{l.updateOne(n,c=>{c.name=o,c.ui.widthName=ve(i(o))})})},Pl=y($.changeTableComment),PT=({collections:e,lww:t},{payload:{id:n,value:o},version:r},{toWidth:i,clock:s})=>{const a=r??s.getVersion(),l=m(e).collection("tableEntities");l.getOrCreate(n,c=>Pe({id:c})),l.replaceOperator(t,a,n,"comment",()=>{l.updateOne(n,c=>{c.comment=o,c.ui.widthComment=ve(i(o))})})},si=y($.changeTableColor),$T=({collections:e,lww:t},{payload:{id:n,color:o},version:r},{clock:i})=>{const s=r??i.getVersion(),a=m(e).collection("tableEntities");a.getOrCreate(n,l=>Pe({id:l})),a.replaceOperator(t,s,n,"ui.color",()=>{a.updateOne(n,l=>{l.ui.color=o})})};y($.changeZIndex);const UT=({collections:e},{payload:{id:t,zIndex:n}})=>{const o=m(e).collection("tableEntities");o.getOrCreate(t,r=>Pe({id:r})),o.updateOne(t,r=>{r.ui.zIndex=n})},ZT=y($.sortTable),qT=e=>{const{doc:t,settings:n,collections:o}=e,r=n.width,i=m(o).collection("tableEntities").selectByIds(t.tableIds),s=80;i.sort((u,d)=>u.columnIds.length-d.columnIds.length);let a=50,l=50,c=50;i.forEach(u=>{const d=_l(u,e).width+s,h=Bl(u)+s;a+d>r&&(l+=c,c=0,a=50),c<h&&(c=h),u.ui.y=l,u.ui.x=a,a+=d})},FT={[$.addTable]:RT,[$.moveTable]:VT,[$.moveToTable]:_T,[$.removeTable]:zT,[$.changeTableName]:WT,[$.changeTableComment]:PT,[$.changeTableColor]:$T,[$.changeZIndex]:UT,[$.sortTable]:qT},YT=20,HT=(e,{payload:{id:t}})=>{e.push(BT({id:t}))},GT=(e,{payload:{id:t}},{collections:n})=>{const o=m(n).collection("tableEntities").selectById(t);o&&e.push(jT({id:o.id,ui:bn(o.ui,["x","y","zIndex"])}))},QT=(e,{payload:{id:t}},{collections:n})=>{const o=m(n).collection("tableEntities").selectById(t);o&&e.push(Wl({id:t,value:o.name}))},JT=(e,{payload:{id:t}},{collections:n})=>{const o=m(n).collection("tableEntities").selectById(t);o&&e.push(Pl({id:t,value:o.comment}))},KT=(e,{payload:{id:t}},{collections:n})=>{const o=m(n).collection("tableEntities").selectById(t);o&&e.push(zl({id:t,x:o.ui.x,y:o.ui.y}))},XT=()=>{},e0={[$.addTable]:HT,[$.removeTable]:GT,[$.changeTableName]:QT,[$.changeTableComment]:JT,[$.moveToTable]:KT,[$.sortTable]:XT},t0=(e,t,n)=>{const o=n.filter(i=>i.type===To.type);if(!o.length)return;const r=gn(o,i=>i.payload.ids.join(","));for(const[,i]of Object.entries(r)){const{payload:{ids:s}}=yn(i),{x:a,y:l}=i.reduce((c,{payload:{movementX:u,movementY:d}})=>(c.x+=u,c.y+=d,c),{x:0,y:0});Math.abs(a)+Math.abs(l)<YT||(e.push(To({ids:s,movementX:-1*a,movementY:-1*l})),t.push(To({ids:s,movementX:a,movementY:l})))}},n0=(e,t,n)=>{const o=n.filter(({type:i})=>i===si.type);if(!o.length)return;const r=gn(o,i=>i.payload.id);for(const[i,s]of Object.entries(r)){const a=yn(s),l=Qn(s);e.push(si({id:i,color:a.payload.prevColor,prevColor:l.payload.color})),t.push(si({id:i,color:l.payload.color,prevColor:a.payload.prevColor}))}},o0={[$.moveTable]:t0,[$.changeTableColor]:n0},A={addColumn:"column.add",removeColumn:"column.remove",changeColumnName:"column.changeName",changeColumnComment:"column.changeComment",changeColumnDataType:"column.changeDataType",changeColumnDefault:"column.changeDefault",changeColumnAutoIncrement:"column.changeAutoIncrement",changeColumnPrimaryKey:"column.changePrimaryKey",changeColumnUnique:"column.changeUnique",changeColumnNotNull:"column.changeNotNull",moveColumn:"column.move"},Ge=e=>Ft({id:Je(),tableId:"",name:"",comment:"",dataType:"",default:"",options:0,ui:{keys:0,widthName:be,widthComment:be,widthDataType:be,widthDefault:be},meta:Ut()},e??{}),$l=y(A.addColumn),r0=({collections:e,lww:t},{payload:{id:n,tableId:o},version:r},{clock:i})=>{const s=r??i.getVersion(),a=m(e).collection("tableEntities"),l=a.getOrCreate(o,c=>Pe({id:c}));m(e).collection("tableColumnEntities").addOne(Ge({id:n,tableId:o})).addOperator(t,s,n,()=>{k(l.columnIds)(n)||a.updateOne(o,c=>{jl(c.columnIds,c.seqColumnIds,n)})})},Co=y(A.removeColumn),i0=({collections:e,lww:t},{payload:{id:n,tableId:o},version:r},{clock:i})=>{const s=r??i.getVersion(),a=m(e).collection("tableEntities"),l=a.getOrCreate(o,c=>Pe({id:c}));m(e).collection("tableColumnEntities").removeOperator(t,s,n,()=>{const c=l.columnIds.indexOf(n);c!==-1&&a.updateOne(o,u=>{u.columnIds.splice(c,1)})})},Ul=y(A.changeColumnName),s0=({collections:e,lww:t},{payload:{id:n,value:o},version:r},{toWidth:i,clock:s})=>{const a=r??s.getVersion(),l=m(e).collection("tableColumnEntities");l.getOrCreate(n,c=>Ge({id:c})),l.replaceOperator(t,a,n,"name",()=>{l.updateOne(n,c=>{c.name=o,c.ui.widthName=ve(i(o))})})},Zl=y(A.changeColumnComment),a0=({collections:e,lww:t},{payload:{id:n,value:o},version:r},{toWidth:i,clock:s})=>{const a=r??s.getVersion(),l=m(e).collection("tableColumnEntities");l.getOrCreate(n,c=>Ge({id:c})),l.replaceOperator(t,a,n,"comment",()=>{l.updateOne(n,c=>{c.comment=o,c.ui.widthComment=ve(i(o))})})},ql=y(A.changeColumnDataType),l0=({collections:e,lww:t},{payload:{id:n,value:o},version:r},{toWidth:i,clock:s})=>{const a=r??s.getVersion(),l=m(e).collection("tableColumnEntities");l.getOrCreate(n,c=>Ge({id:c})),l.replaceOperator(t,a,n,"dataType",()=>{l.updateOne(n,c=>{c.dataType=o,c.ui.widthDataType=ve(i(o))})})},Fl=y(A.changeColumnDefault),c0=({collections:e,lww:t},{payload:{id:n,value:o},version:r},{toWidth:i,clock:s})=>{const a=r??s.getVersion(),l=m(e).collection("tableColumnEntities");l.getOrCreate(n,c=>Ge({id:c})),l.replaceOperator(t,a,n,"default",()=>{l.updateOne(n,c=>{c.default=o,c.ui.widthDefault=ve(i(o))})})},u0=y(A.changeColumnAutoIncrement),d0=({collections:e,lww:t},{payload:{id:n,value:o},version:r},{clock:i})=>{const s=r??i.getVersion(),a=m(e).collection("tableColumnEntities");a.getOrCreate(n,l=>Ge({id:l})),a.replaceOperator(t,s,n,"options(autoIncrement)",()=>{a.updateOne(n,l=>{l.options=o?l.options|ue.autoIncrement:l.options&~ue.autoIncrement})})},ai=y(A.changeColumnPrimaryKey),h0=({collections:e,lww:t},{payload:{id:n,value:o},version:r},{clock:i})=>{const s=r??i.getVersion(),a=m(e).collection("tableColumnEntities");a.getOrCreate(n,l=>Ge({id:l})),a.replaceOperator(t,s,n,"options(primaryKey)",()=>{a.updateOne(n,l=>{l.options=o?l.options|ue.primaryKey:l.options&~ue.primaryKey,l.ui.keys=o?l.ui.keys|po.primaryKey:l.ui.keys&-2})})},m0=y(A.changeColumnUnique),f0=({collections:e,lww:t},{payload:{id:n,value:o},version:r},{clock:i})=>{const s=r??i.getVersion(),a=m(e).collection("tableColumnEntities");a.getOrCreate(n,l=>Ge({id:l})),a.replaceOperator(t,s,n,"options(unique)",()=>{a.updateOne(n,l=>{l.options=o?l.options|ue.unique:l.options&~ue.unique})})},Yl=y(A.changeColumnNotNull),p0=({collections:e,lww:t},{payload:{id:n,value:o},version:r},{clock:i})=>{const s=r??i.getVersion(),a=m(e).collection("tableColumnEntities");a.getOrCreate(n,l=>Ge({id:l})),a.replaceOperator(t,s,n,"options(notNull)",()=>{a.updateOne(n,l=>{l.options=o?l.options|ue.notNull:l.options&~ue.notNull})})},y0=y(A.moveColumn),g0=({collections:e},{payload:{id:t,tableId:n,targetId:o}})=>{if(t===o)return;const r=m(e).collection("tableEntities"),i=r.getOrCreate(n,l=>Pe({id:l})),s=i.columnIds.indexOf(t);if(s===-1)return;const a=i.columnIds.indexOf(o);a!==-1&&r.updateOne(n,l=>{l.columnIds.splice(s,1),l.columnIds.splice(a,0,t);const c=l.seqColumnIds.indexOf(t),u=l.seqColumnIds.indexOf(o);c!==-1&&u!==-1&&(l.seqColumnIds.splice(c,1),l.seqColumnIds.splice(u,0,t))})},b0={[A.addColumn]:r0,[A.removeColumn]:i0,[A.changeColumnName]:s0,[A.changeColumnComment]:a0,[A.changeColumnDataType]:l0,[A.changeColumnDefault]:c0,[A.changeColumnAutoIncrement]:d0,[A.changeColumnPrimaryKey]:h0,[A.changeColumnUnique]:f0,[A.changeColumnNotNull]:p0,[A.moveColumn]:g0},v0=(e,{payload:{id:t,tableId:n}})=>{e.push(Co({id:t,tableId:n}))},I0=(e,{payload:{id:t,tableId:n}})=>{e.push($l({id:t,tableId:n}))},w0=(e,{payload:{id:t,tableId:n}},{collections:o})=>{const r=m(o).collection("tableColumnEntities").selectById(t);r&&e.push(Ul({id:t,tableId:n,value:r.name}))},T0=(e,{payload:{id:t,tableId:n}},{collections:o})=>{const r=m(o).collection("tableColumnEntities").selectById(t);r&&e.push(ql({id:t,tableId:n,value:r.dataType}))},C0=(e,{payload:{id:t,tableId:n}},{collections:o})=>{const r=m(o).collection("tableColumnEntities").selectById(t);r&&e.push(Fl({id:t,tableId:n,value:r.default}))},O0=(e,{payload:{id:t,tableId:n}},{collections:o})=>{const r=m(o).collection("tableColumnEntities").selectById(t);r&&e.push(Zl({id:t,tableId:n,value:r.comment}))},x0=(e,{payload:{id:t,tableId:n,value:o}},{collections:r})=>{m(r).collection("tableColumnEntities").selectById(t)&&e.push(u0({id:t,tableId:n,value:!o}))},S0=(e,{payload:{id:t,tableId:n,value:o}},{collections:r})=>{m(r).collection("tableColumnEntities").selectById(t)&&e.push(Yl({id:t,tableId:n,value:!o}))},N0=(e,{payload:{id:t,tableId:n,value:o}},{collections:r})=>{m(r).collection("tableColumnEntities").selectById(t)&&e.push(ai({id:t,tableId:n,value:!o}))},E0=(e,{payload:{id:t,tableId:n,value:o}},{collections:r})=>{m(r).collection("tableColumnEntities").selectById(t)&&e.push(m0({id:t,tableId:n,value:!o}))},M0=(e,{payload:{id:t,tableId:n,targetId:o}},{collections:r})=>{const i=m(r).collection("tableEntities").selectById(n);if(!i)return;const s=i.columnIds.indexOf(t);if(s===-1)return;const a=i.columnIds.indexOf(o);if(a===-1)return;const l=s<a?s+1:s-1,c=i.columnIds[l];e.push(y0({id:t,tableId:n,targetId:c}))},k0={[A.addColumn]:v0,[A.removeColumn]:I0,[A.changeColumnName]:w0,[A.changeColumnDataType]:T0,[A.changeColumnDefault]:C0,[A.changeColumnComment]:O0,[A.changeColumnAutoIncrement]:x0,[A.changeColumnNotNull]:S0,[A.changeColumnPrimaryKey]:N0,[A.changeColumnUnique]:E0,[A.moveColumn]:M0},A0={...e0,...k0,...Jw,..._w,...ST,...WI,...ow,...gw},D0={...o0,...Pw,...MT};k(Object.values({columnName:"columnName",columnDataType:"columnDataType",columnNotNull:"columnNotNull",columnUnique:"columnUnique",columnAutoIncrement:"columnAutoIncrement",columnDefault:"columnDefault",columnComment:"columnComment"})),k([B.columnNotNull,B.columnUnique,B.columnAutoIncrement]),k([B.columnName,B.columnDataType,B.columnDefault,B.columnComment]);/*!\n * @dineug/schema-sql-parser\n * @version 0.1.0 | Wed May 07 2025\n * @author SeungHwan-Lee <dineug2@gmail.com>\n * @license MIT\n */const L0=["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","GEOMETRY","GEOMETRYCOLLECTION","INT","INTEGER","JSON","LINESTRING","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MULTILINESTRING","MULTIPOINT","MULTIPOLYGON","NUMERIC","POINT","POLYGON","REAL","SET","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","YEAR"],j0=["BIGINT","BINARY","BIT","CHAR","DATE","DATETIME","DATETIME2","DATETIMEOFFSET","DECIMAL","FLOAT","GEOGRAPHY","GEOMETRY","IMAGE","INT","MONEY","NCHAR","NTEXT","NUMERIC","NVARCHAR","REAL","SMALLDATETIME","SMALLINT","SMALLMONEY","SQL_VARIANT","TEXT","TIME","TINYINT","UNIQUEIDENTIFIER","VARBINARY","VARCHAR","XML"],R0=["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FLOAT","GEOMETRY","GEOMETRYCOLLECTION","INT","INTEGER","JSON","LINESTRING","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MULTILINESTRING","MULTIPOINT","MULTIPOLYGON","NUMERIC","POINT","POLYGON","SET","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","YEAR"],V0=["BFILE","BINARY_DOUBLE","BINARY_FLOAT","BLOB","CHAR","CLOB","DATE","DATETIME","LONG RAW","LONG","NCHAR","NCLOB","NUMBER","NVARCHAR2","RAW","TIMESTAMP WITH LOCAL TIME ZONE","TIMESTAMP WITH TIME ZONE","TIMESTAMP","UriType","VARCHAR","VARCHAR2","XMLType"],_0=["BIGINT","BIGSERIAL","BIT VARYING","BIT","BOOL","BOOLEAN","BOX","BYTEA","CHAR","CHARACTER VARYING","CHARACTER","CIDR","CIRCLE","DATE","DECIMAL","DOUBLE PRECISION","FLOAT4","FLOAT8","INET","INT","INT2","INT4","INT8","INTEGER","INTERVAL","JSON","JSONB","LINE","LSEG","MACADDR","MACADDR8","MONEY","NUMERIC","PATH","PG_LSN","POINT","POLYGON","REAL","SERIAL","SERIAL2","SERIAL4","SERIAL8","SMALLINT","SMALLSERIAL","TEXT","TIME WITH","TIME","TIMESTAMP WITH","TIMESTAMP","TIMESTAMPTZ","TIMETZ","TSQUERY","TSVECTOR","TXID_SNAPSHOT","UUID","VARBIT","VARCHAR","XML"],B0=["BLOB","INTEGER","NUMERIC","REAL","TEXT"],V=e=>{const t=e.toUpperCase();return n=>o=>n[o]?n[o].value.toUpperCase()===t:!1};V("CREATE"),V("ALTER"),V("DROP"),V("USE"),V("RENAME"),V("DELETE"),V("SELECT"),V("TABLE"),V("INDEX"),V("UNIQUE"),V("ADD"),V("PRIMARY"),V("KEY"),V("CONSTRAINT"),V("FOREIGN"),V("NOT"),V("NULL"),V("DEFAULT"),V("COMMENT"),V("REFERENCES"),V("ASC"),V("DESC"),V("ON"),V("AUTO_INCREMENT"),V("AUTOINCREMENT"),V("IF"),V("EXISTS"),V("ONLY"),Array.from(new Set([...L0,...j0,...R0,...V0,..._0,...B0].map(e=>e.toUpperCase())));const z0=e=>function*(){yield mI(),yield Nn({value:e})},li=["table.add","table.move","table.moveTo","table.remove","table.changeName","table.changeComment","table.changeColor","table.sort","column.add","column.remove","column.changeName","column.changeComment","column.changeDataType","column.changeDefault","column.changeAutoIncrement","column.changePrimaryKey","column.changeUnique","column.changeNotNull","column.move","relationship.add","relationship.remove","relationship.changeType","index.add","index.remove","index.changeName","index.changeUnique","indexColumn.add","indexColumn.remove","indexColumn.move","indexColumn.changeOrderType","memo.add","memo.move","memo.moveTo","memo.remove","memo.changeValue","memo.changeColor","memo.resize","settings.changeDatabaseName","settings.resize","settings.changeZoomLevel","settings.streamZoomLevel","settings.scrollTo","settings.streamScrollTo","settings.changeShow","settings.changeDatabase","settings.changeCanvasType","settings.changeLanguage","settings.changeTableNameCase","settings.changeColumnNameCase","settings.changeBracketType","settings.changeRelationshipDataTypeSync","settings.changeRelationshipOptimization","settings.changeColumnOrder","settings.changeMaxWidthComment","settings.changeIgnoreSaveSettings","editor.loadJson","editor.clear"],W0=k(["settings.changeZoomLevel","settings.streamZoomLevel","settings.scrollTo","settings.streamScrollTo","settings.changeDatabase","settings.changeCanvasType","settings.changeLanguage","settings.changeTableNameCase","settings.changeColumnNameCase","settings.changeBracketType"]);[...li.filter(e=>!W0(e))];const P0=["editor.sharedMouseTracker"],Hl=[...Object.keys(D0)];[...Object.keys(A0),...Hl];var Oo;class $0{constructor(){Uu(this,Oo,0),Ko(this,"getVersion",()=>$u(this,Oo)),Ko(this,"getNextVersion",()=>this.getVersion()+1),Ko(this,"merge",t=>xy(t)?(this.getVersion()<t&&Zu(this,Oo,t),this):this)}}Oo=new WeakMap;function U0(e){return{...e,clock:new $0}}const Z0=uv(e=>!!e.length),Gl=e=>{const t=k(e);return n=>new mo(o=>n.subscribe({next:r=>o.next(r.filter(i=>t(i.type))),error:r=>o.error(r),complete:()=>o.complete()})).pipe(Z0)};k(Hl),k(P0);function q0(e,t){return Ub({context:e,state:{..._t({}),editor:Qv(),lww:{}},reducers:{..._I,...FT,...b0,...Aw,...Yw,...IT,...KI,...hw},enableObservable:t})}var Ql=e=>{throw TypeError(e)},ci=(e,t,n)=>t.has(e)||Ql("Cannot "+n),z=(e,t,n)=>(ci(e,t,"read from private field"),n?n.call(e):t.get(e)),yt=(e,t,n)=>t.has(e)?Ql("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),En=(e,t,n,o)=>(ci(e,t,"write to private field"),t.set(e,n),n),ui=(e,t,n)=>(ci(e,t,"access private method"),n);/*!\n * @dineug/go\n * @version 0.1.8 | Wed May 07 2025\n * @author SeungHwan-Lee <dineug2@gmail.com>\n * @license MIT\n */const F0={limit:-1,leading:!1,trailing:!1};var se,gt,di,Jl;class Y0{constructor(t){yt(this,di),yt(this,se,[]),yt(this,gt),En(this,gt,Object.assign({},F0,{...t}))}isEmpty(){return!z(this,se).length}put(t){z(this,se).push(t),ui(this,di,Jl).call(this)}take(){return z(this,se).shift()}flush(){const t=z(this,se);return En(this,se,[]),t}drop(t){const n=z(this,se).findIndex(t);if(n===-1)return!1;const o=z(this,se).slice();return o.splice(n,1),En(this,se,o),!0}}se=new WeakMap,gt=new WeakMap,di=new WeakSet,Jl=function(){z(this,gt).limit!==-1&&z(this,gt).limit<z(this,se).length&&(z(this,gt).trailing?z(this,se).pop():z(this,gt).leading?z(this,se).shift():z(this,se).pop())};const H0=e=>new Y0(e),Kl={limitBuffer:H0},hi=Symbol.for("https://github.com/dineug/go.git#closed");var bt,vt,It,xo,mi;class G0{constructor(t=Kl.limitBuffer()){yt(this,xo),yt(this,bt),yt(this,vt,Kl.limitBuffer()),yt(this,It,!1),En(this,bt,t)}get closed(){return z(this,It)}put(t){z(this,It)||(z(this,bt).put(t),ui(this,xo,mi).call(this))}take(t,n){return z(this,It)?(n==null||n(hi),()=>!1):(z(this,vt).put([t,n]),ui(this,xo,mi).call(this),()=>z(this,vt).drop(([o])=>o===t))}flush(t,n){if(z(this,It)){n==null||n(hi);return}t(z(this,bt).flush())}close(){En(this,It,!0),z(this,vt).flush().forEach(([t,n])=>n==null?void 0:n(hi))}}bt=new WeakMap,vt=new WeakMap,It=new WeakMap,xo=new WeakSet,mi=function(){if(z(this,vt).isEmpty()||z(this,bt).isEmpty())return;const[e]=z(this,vt).take(),t=z(this,bt).take();e==null||e(t)};const Q0=e=>new G0(e),Xl=e=>t=>typeof t===e,J0=Xl("object"),Ht=Xl("function"),K0=e=>e===null,{isArray:So}=Array,No=e=>J0(e)&&!K0(e)&&!So(e),ec=e=>No(e)&&Ht(e.then),tc=e=>No(e)&&Ht(e.next),X0=e=>No(e)&&Ht(e.next)&&Ht(e.throw)&&Ht(e.return),fi=Symbol.for("https://github.com/dineug/go.git#cancel"),nc=Symbol.for("https://github.com/dineug/go.git#attachCancel"),oc=(e,t)=>(Reflect.set(e,nc,t),e),eC=e=>e===fi,rc=e=>{if(No(e)){const t=Reflect.get(e,nc);t==null||t()}return Me(()=>new Promise((t,n)=>n(fi)))},ic=e=>Me(function*(){let t=()=>!1;const n=new Promise((o,r)=>{t=e.take(o,r)});return oc(n,()=>{t()}),yield n}),tC=Symbol.for("https://github.com/dineug/go.git#kill"),nC=e=>e===tC,oC=(e,t)=>{e.put(t)},Eo=(e,t)=>Me(function*(){for(;;){const n=yield ic(e);Me(t,n)}}),rC={leading:!0,trailing:!1},Mo=(e,t,n,o)=>Me(function*(){const r=Object.assign({},rC,{...o});let i=-1,s,a;for(;;){const l=yield ic(e);a=l,i===-1&&(r.leading&&(s=l,Me(t,l)),i=setTimeout(()=>{r.trailing&&(!r.leading||s!==a)&&Me(t,a),i=-1},n))}});function Me(e,...t){let n=!1,o=null;const r=new Promise(async(i,s)=>{let a=null;o=()=>{s(fi),a==null||a.forEach(rc),a=null};try{const l=e(...t);if(ec(l))return a=[l],i(await l);if(!tc(l))return i(l);let c=await l.next(),u;for(;!n&&!c.done;){try{const d=iC(c.value);a=So(d)?d:[d],u=await(So(d)?Promise.all(d):d),c=await l.next(u)}catch(d){if(nC(d))throw d;X0(l)&&(c=await l.throw(d))}u=void 0,a=null}i(c.value)}catch(l){eC(l)&&(n=!0),s(l)}});return r.catch(()=>{}),oc(r,()=>{n=!0,o==null||o()}),r}function iC(e){return ec(e)?e:tc(e)?Me(()=>e):Ht(e)?Me(e):So(e)?e.map(t=>Me(()=>t)):Promise.resolve()}const q={left:"left",right:"right",top:"top",bottom:"bottom"},pi=Object.values(q);k([q.top,q.bottom,q.left,q.right]);function sC(e,t){const n=_l(t,e).width,o=Bl(t),{x:r,y:i}=t.ui;return{width:n,height:o,top:{x:r+n/2,y:i},bottom:{x:r+n/2,y:i+o},left:{x:r,y:i+o/2},right:{x:r+n,y:i+o/2},lt:{x:r,y:i},rt:{x:r+n,y:i},lb:{x:r,y:i+o},rb:{x:r+n,y:i+o}}}function sc(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}const ac={[q.top]:ze.top,[q.bottom]:ze.bottom,[q.left]:ze.left,[q.right]:ze.right};function lc(e){const{doc:{tableIds:t,relationshipIds:n},collections:o}=e,r=k(t),i=m(o).collection("tableEntities"),s=m(o).collection("relationshipEntities").selectByIds(n).filter(({start:c,end:u})=>r(c.tableId)&&r(u.tableId)),a=new Map,l=new Map;for(const c of s){const u=aC(c),{start:d,end:h}=u,p=i.selectById(d.tableId),w=i.selectById(h.tableId);if(!(!p||!w))if(l.set(c,u),d.tableId===h.tableId){d.direction=ze.top,h.direction=ze.right;const f=yi(e,a,p);d.x=f.objectPoint.rt.x-20,d.y=f.objectPoint.rt.y,h.x=f.objectPoint.rt.x,h.y=f.objectPoint.rt.y+20,f.top.set(u.id,u),f.right.set(u.id,u)}else{const f=yi(e,a,p),E=yi(e,a,w),[g,I]=lC(f.objectPoint,E.objectPoint,u);f[g].set(u.id,u),E[I].set(u.id,u)}}for(const c of a.values())for(const u of pi){const d=u;c[d].size<2||cC(d,c)}for(const[c,u]of l.entries())c.start.direction=u.start.direction,c.start.x=u.start.x,c.start.y=u.start.y,c.end.direction=u.end.direction,c.end.x=u.end.x,c.end.y=u.end.y}function yi(e,t,n){let o=t.get(n.id);return o||(o={tableId:n.id,objectPoint:sC(e,n),top:new Map,bottom:new Map,left:new Map,right:new Map},t.set(n.id,o)),o}function aC(e){return{id:e.id,start:{tableId:e.start.tableId,x:e.start.x,y:e.start.y,direction:e.start.direction},end:{tableId:e.end.tableId,x:e.end.x,y:e.end.y,direction:e.end.direction}}}function lC(e,t,n){const o=[q.bottom,q.bottom];let r=sc(e.bottom,t.bottom);n.start.x=e.bottom.x,n.start.y=e.bottom.y,n.end.x=t.bottom.x,n.end.y=t.bottom.y,n.start.direction=ze.bottom,n.end.direction=ze.bottom;for(const i of pi)for(const s of pi){const a=i,l=s,c=sc(e[a],t[l]);r<=c||(r=c,o[0]=a,o[1]=l,n.start.x=e[a].x,n.start.y=e[a].y,n.start.direction=ac[a],n.end.x=t[l].x,n.end.y=t[l].y,n.end.direction=ac[l])}return o}function cC(e,t){const n=uC(e,t),o=dC(e,t);e===q.left||e===q.right?n.yArray.forEach((r,i)=>{o[i].start.y=r}):(e===q.top||e===q.bottom)&&n.xArray.forEach((r,i)=>{o[i].start.x=r})}function uC(e,t){const n=t[e].size,o={x:t.objectPoint.width/n,y:t.objectPoint.height/n},r={x:o.x/2,y:o.y/2},i=[],s=[];if(e===q.left||e===q.right){let a=t.objectPoint.lt.y-r.y;for(let l=0;l<n;l++)a+=o.y,s.push(a)}else if(e===q.top||e===q.bottom){let a=t.objectPoint.lt.x-r.x;for(let l=0;l<n;l++)a+=o.x,i.push(a)}return{xArray:i,yArray:s}}function dC(e,t){const n=[],o=[],r=[],i=e===q.top||e===q.bottom;for(const s of t[e].values()){const{start:a,end:l}=s;a.tableId===l.tableId?e===q.top?(n.push(s.start),o.push(s.end)):e===q.right&&(n.push(s.end),o.push(s.start)):s.start.tableId===t.tableId?(n.push(s.start),o.push(s.end)):(n.push(s.end),o.push(s.start))}return o.forEach((s,a)=>{r.push({start:n[a],end:o[a],distance:i?s.x:s.y})}),r.sort((s,a)=>s.distance-a.distance)}const hC=function*(e,t){yield Mo(e,function*(){const{doc:n,collections:o}=t(),r=m(o).collection("relationshipEntities").selectByIds(n.relationshipIds);for(const i of r){const{end:s,identification:a}=i,l=m(o).collection("tableEntities").selectById(s.tableId);if(!l)continue;const c=k(l.columnIds),u=m(o).collection("tableColumnEntities").selectByIds(s.columnIds).filter(h=>c(h.id));if(!u.length)continue;const d=u.every(h=>H(h.options,ue.primaryKey));d!==a&&(i.identification=d)}},10,{leading:!1,trailing:!0})},mC=function*(e,t){yield Mo(e,function*(){const{doc:n,collections:o}=t(),r=m(o).collection("relationshipEntities").selectByIds(n.relationshipIds);for(const i of r){const{end:s,startRelationshipType:a}=i,l=m(o).collection("tableEntities").selectById(s.tableId);if(!l)continue;const c=k(l.columnIds),u=m(o).collection("tableColumnEntities").selectByIds(s.columnIds).filter(h=>c(h.id));if(!u.length)continue;const d=u.every(h=>H(h.options,ue.notNull))?Kr.dash:Kr.ring;d!==a&&(i.startRelationshipType=d)}},10,{leading:!1,trailing:!0})},fC=function*(e,t){yield Mo(e,function*(){lc(t())},5,{leading:!1,trailing:!0})},pC=[[[Co,ai,qt,Nn],hC],[[Co,Yl,qt,Nn],mC],[[Vl,gT,oi,wo,To,zl,Wl,Pl,$l,Co,Ul,Zl,ql,Fl,ZT],fC]],yC=function*(e,t,n){yield Mo(e,function*(){const o=t();LT(o,n),lc(o)},5,{leading:!1,trailing:!0})},gC=[[[qt,Nn],yC]],bC=function*(e,t){yield Eo(e,function*({payload:{id:n}}){const{collections:o}=t(),r=m(o).collection("tableColumnEntities").selectById(n);!r||!H(r.options,ue.primaryKey)||H(r.options,ue.notNull)||(r.options=r.options|ue.notNull)})},vC=function*(e,t){yield Eo(e,function*({payload:{id:n,end:o}}){const{doc:{relationshipIds:r},collections:i}=t();if(!r.includes(n))return;const s=m(i).collection("tableColumnEntities").selectByIds(o.columnIds);for(const a of s)a.ui.keys=a.ui.keys|po.foreignKey})},IC=function*(e,t){yield Eo(e,function*({payload:{id:n}}){const{doc:{relationshipIds:o},collections:r}=t();if(o.includes(n))return;const i=m(r).collection("relationshipEntities").selectById(n);if(!i)return;const s=m(r).collection("tableColumnEntities").selectByIds(i.end.columnIds);for(const a of s)a.ui.keys=a.ui.keys&-3})},wC=function*(e,t){yield Eo(e,function*(){const{doc:n,collections:o}=t(),r=m(o).collection("relationshipEntities").selectByIds(n.relationshipIds),i=m(o).collection("tableEntities").selectByIds(n.tableIds),s=new Set,a=m(o).collection("tableColumnEntities");for(const{end:l}of r){const c=a.selectByIds(l.columnIds);for(const u of c)u.ui.keys=u.ui.keys|po.foreignKey,s.add(u.id)}for(const l of i){const c=a.selectByIds(l.columnIds);for(const u of c)H(u.ui.keys,po.foreignKey)&&!s.has(u.id)&&(u.ui.keys=u.ui.keys&-3)}})},TC=[[[ai],bC],[[oi],vC],[[Rl],IC],[[qt,Nn],wC]],CC=[...gC,...TC,...pC];function OC(e){const t=()=>e.state,n=CC.map(([r,i])=>{const s=Q0();return{pattern:k(r.map(String)),channel:s,proc:Me(i,s,t,e.context)}}),o=e.subscribe(r=>{for(const i of r)for(const s of n)s.pattern(i.type)&&oC(s.channel,i)});return{destroy:()=>{n.forEach(({proc:r})=>rc(r)),n.splice(0,n.length),o()}}}class wt extends Error{}class xC extends wt{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class SC extends wt{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class NC extends wt{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Gt extends wt{}class cc extends wt{constructor(t){super(`Invalid unit ${t}`)}}class ae extends wt{}class tt extends wt{constructor(){super("Zone is an abstract class")}}const v="numeric",ke="short",de="long",ko={year:v,month:v,day:v},uc={year:v,month:ke,day:v},EC={year:v,month:ke,day:v,weekday:ke},dc={year:v,month:de,day:v},hc={year:v,month:de,day:v,weekday:de},mc={hour:v,minute:v},fc={hour:v,minute:v,second:v},pc={hour:v,minute:v,second:v,timeZoneName:ke},yc={hour:v,minute:v,second:v,timeZoneName:de},gc={hour:v,minute:v,hourCycle:"h23"},bc={hour:v,minute:v,second:v,hourCycle:"h23"},vc={hour:v,minute:v,second:v,hourCycle:"h23",timeZoneName:ke},Ic={hour:v,minute:v,second:v,hourCycle:"h23",timeZoneName:de},wc={year:v,month:v,day:v,hour:v,minute:v},Tc={year:v,month:v,day:v,hour:v,minute:v,second:v},Cc={year:v,month:ke,day:v,hour:v,minute:v},Oc={year:v,month:ke,day:v,hour:v,minute:v,second:v},MC={year:v,month:ke,day:v,weekday:ke,hour:v,minute:v},xc={year:v,month:de,day:v,hour:v,minute:v,timeZoneName:ke},Sc={year:v,month:de,day:v,hour:v,minute:v,second:v,timeZoneName:ke},Nc={year:v,month:de,day:v,weekday:de,hour:v,minute:v,timeZoneName:de},Ec={year:v,month:de,day:v,weekday:de,hour:v,minute:v,second:v,timeZoneName:de};class Mn{get type(){throw new tt}get name(){throw new tt}get ianaName(){return this.name}get isUniversal(){throw new tt}offsetName(t,n){throw new tt}formatOffset(t,n){throw new tt}offset(t){throw new tt}equals(t){throw new tt}get isValid(){throw new tt}}let gi=null;class Ao extends Mn{static get instance(){return gi===null&&(gi=new Ao),gi}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:n,locale:o}){return Kc(t,n,o)}formatOffset(t,n){return Dn(this.offset(t),n)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let Do={};function kC(e){return Do[e]||(Do[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Do[e]}const AC={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function DC(e,t){const n=e.format(t).replace(/\\u200E/g,""),o=/(\\d+)\\/(\\d+)\\/(\\d+) (AD|BC),? (\\d+):(\\d+):(\\d+)/.exec(n),[,r,i,s,a,l,c,u]=o;return[s,r,i,a,l,c,u]}function LC(e,t){const n=e.formatToParts(t),o=[];for(let r=0;r<n.length;r++){const{type:i,value:s}=n[r],a=AC[i];i==="era"?o[a]=s:O(a)||(o[a]=parseInt(s,10))}return o}let Lo={};class Qe extends Mn{static create(t){return Lo[t]||(Lo[t]=new Qe(t)),Lo[t]}static resetCache(){Lo={},Do={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=Qe.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:n,locale:o}){return Kc(t,n,o,this.name)}formatOffset(t,n){return Dn(this.offset(t),n)}offset(t){const n=new Date(t);if(isNaN(n))return NaN;const o=kC(this.name);let[r,i,s,a,l,c,u]=o.formatToParts?LC(o,n):DC(o,n);a==="BC"&&(r=-Math.abs(r)+1);const d=zo({year:r,month:i,day:s,hour:l===24?0:l,minute:c,second:u,millisecond:0});let h=+n;const p=h%1e3;return h-=p>=0?p:1e3+p,(d-h)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let Mc={};function jC(e,t={}){const n=JSON.stringify([e,t]);let o=Mc[n];return o||(o=new Intl.ListFormat(e,t),Mc[n]=o),o}let bi={};function vi(e,t={}){const n=JSON.stringify([e,t]);let o=bi[n];return o||(o=new Intl.DateTimeFormat(e,t),bi[n]=o),o}let Ii={};function RC(e,t={}){const n=JSON.stringify([e,t]);let o=Ii[n];return o||(o=new Intl.NumberFormat(e,t),Ii[n]=o),o}let wi={};function VC(e,t={}){const{base:n,...o}=t,r=JSON.stringify([e,o]);let i=wi[r];return i||(i=new Intl.RelativeTimeFormat(e,t),wi[r]=i),i}let jo=null;function _C(){return jo||(jo=new Intl.DateTimeFormat().resolvedOptions().locale,jo)}let kc={};function BC(e){let t=kc[e];if(!t){const n=new Intl.Locale(e);t="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,kc[e]=t}return t}function zC(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const n=e.indexOf("-u-");if(n===-1)return[e];{let o,r;try{o=vi(e).resolvedOptions(),r=e}catch{const a=e.substring(0,n);o=vi(a).resolvedOptions(),r=a}const{numberingSystem:i,calendar:s}=o;return[r,i,s]}}function WC(e,t,n){return(n||t)&&(e.includes("-u-")||(e+="-u"),n&&(e+=`-ca-${n}`),t&&(e+=`-nu-${t}`)),e}function PC(e){const t=[];for(let n=1;n<=12;n++){const o=S.utc(2009,n,1);t.push(e(o))}return t}function $C(e){const t=[];for(let n=1;n<=7;n++){const o=S.utc(2016,11,13+n);t.push(e(o))}return t}function Ro(e,t,n,o){const r=e.listingMode();return r==="error"?null:r==="en"?n(t):o(t)}function UC(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class ZC{constructor(t,n,o){this.padTo=o.padTo||0,this.floor=o.floor||!1;const{padTo:r,floor:i,...s}=o;if(!n||Object.keys(s).length>0){const a={useGrouping:!1,...o};o.padTo>0&&(a.minimumIntegerDigits=o.padTo),this.inf=RC(t,a)}}format(t){if(this.inf){const n=this.floor?Math.floor(t):t;return this.inf.format(n)}else{const n=this.floor?Math.floor(t):Ei(t,3);return ee(n,this.padTo)}}}class qC{constructor(t,n,o){this.opts=o,this.originalZone=void 0;let r;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const s=-1*(t.offset/60),a=s>=0?`Etc/GMT+${s}`:`Etc/GMT${s}`;t.offset!==0&&Qe.create(a).valid?(r=a,this.dt=t):(r="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,r=t.zone.name):(r="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const i={...this.opts};i.timeZone=i.timeZone||r,this.dtf=vi(n,i)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(n=>{if(n.type==="timeZoneName"){const o=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:o}}else return n}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class FC{constructor(t,n,o){this.opts={style:"long",...o},!n&&Hc()&&(this.rtf=VC(t,o))}format(t,n){return this.rtf?this.rtf.format(t,n):hO(n,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,n){return this.rtf?this.rtf.formatToParts(t,n):[]}}const YC={firstDay:1,minimalDays:4,weekend:[6,7]};class _{static fromOpts(t){return _.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,n,o,r,i=!1){const s=t||K.defaultLocale,a=s||(i?"en-US":_C()),l=n||K.defaultNumberingSystem,c=o||K.defaultOutputCalendar,u=Si(r)||K.defaultWeekSettings;return new _(a,l,c,u,s)}static resetCache(){jo=null,bi={},Ii={},wi={}}static fromObject({locale:t,numberingSystem:n,outputCalendar:o,weekSettings:r}={}){return _.create(t,n,o,r)}constructor(t,n,o,r,i){const[s,a,l]=zC(t);this.locale=s,this.numberingSystem=n||a||null,this.outputCalendar=o||l||null,this.weekSettings=r,this.intl=WC(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=UC(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&n?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:_.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,Si(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,n=!1){return Ro(this,t,tu,()=>{const o=n?{month:t,day:"numeric"}:{month:t},r=n?"format":"standalone";return this.monthsCache[r][t]||(this.monthsCache[r][t]=PC(i=>this.extract(i,o,"month"))),this.monthsCache[r][t]})}weekdays(t,n=!1){return Ro(this,t,ru,()=>{const o=n?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},r=n?"format":"standalone";return this.weekdaysCache[r][t]||(this.weekdaysCache[r][t]=$C(i=>this.extract(i,o,"weekday"))),this.weekdaysCache[r][t]})}meridiems(){return Ro(this,void 0,()=>iu,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[S.utc(2016,11,13,9),S.utc(2016,11,13,19)].map(n=>this.extract(n,t,"dayperiod"))}return this.meridiemCache})}eras(t){return Ro(this,t,su,()=>{const n={era:t};return this.eraCache[t]||(this.eraCache[t]=[S.utc(-40,1,1),S.utc(2017,1,1)].map(o=>this.extract(o,n,"era"))),this.eraCache[t]})}extract(t,n,o){const r=this.dtFormatter(t,n),i=r.formatToParts(),s=i.find(a=>a.type.toLowerCase()===o);return s?s.value:null}numberFormatter(t={}){return new ZC(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,n={}){return new qC(t,this.intl,n)}relFormatter(t={}){return new FC(this.intl,this.isEnglish(),t)}listFormatter(t={}){return jC(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Gc()?BC(this.locale):YC}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let Ti=null;class re extends Mn{static get utcInstance(){return Ti===null&&(Ti=new re(0)),Ti}static instance(t){return t===0?re.utcInstance:new re(t)}static parseSpecifier(t){if(t){const n=t.match(/^utc(?:([+-]\\d{1,2})(?::(\\d{2}))?)?$/i);if(n)return new re(Wo(n[1],n[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Dn(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Dn(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,n){return Dn(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class HC extends Mn{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function nt(e,t){if(O(e)||e===null)return t;if(e instanceof Mn)return e;if(JC(e)){const n=e.toLowerCase();return n==="default"?t:n==="local"||n==="system"?Ao.instance:n==="utc"||n==="gmt"?re.utcInstance:re.parseSpecifier(n)||Qe.create(e)}else return Tt(e)?re.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new HC(e)}let Ac=()=>Date.now(),Dc="system",Lc=null,jc=null,Rc=null,Vc=60,_c,Bc=null;class K{static get now(){return Ac}static set now(t){Ac=t}static set defaultZone(t){Dc=t}static get defaultZone(){return nt(Dc,Ao.instance)}static get defaultLocale(){return Lc}static set defaultLocale(t){Lc=t}static get defaultNumberingSystem(){return jc}static set defaultNumberingSystem(t){jc=t}static get defaultOutputCalendar(){return Rc}static set defaultOutputCalendar(t){Rc=t}static get defaultWeekSettings(){return Bc}static set defaultWeekSettings(t){Bc=Si(t)}static get twoDigitCutoffYear(){return Vc}static set twoDigitCutoffYear(t){Vc=t%100}static get throwOnInvalid(){return _c}static set throwOnInvalid(t){_c=t}static resetCaches(){_.resetCache(),Qe.resetCache()}}class Ae{constructor(t,n){this.reason=t,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const zc=[0,31,59,90,120,151,181,212,243,273,304,334],Wc=[0,31,60,91,121,152,182,213,244,274,305,335];function Te(e,t){return new Ae("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function Ci(e,t,n){const o=new Date(Date.UTC(e,t-1,n));e<100&&e>=0&&o.setUTCFullYear(o.getUTCFullYear()-1900);const r=o.getUTCDay();return r===0?7:r}function Pc(e,t,n){return n+(kn(e)?Wc:zc)[t-1]}function $c(e,t){const n=kn(e)?Wc:zc,o=n.findIndex(i=>i<t),r=t-n[o];return{month:o+1,day:r}}function Oi(e,t){return(e-t+7)%7+1}function Vo(e,t=4,n=1){const{year:o,month:r,day:i}=e,s=Pc(o,r,i),a=Oi(Ci(o,r,i),n);let l=Math.floor((s-a+14-t)/7),c;return l<1?(c=o-1,l=An(c,t,n)):l>An(o,t,n)?(c=o+1,l=1):c=o,{weekYear:c,weekNumber:l,weekday:a,...$o(e)}}function Uc(e,t=4,n=1){const{weekYear:o,weekNumber:r,weekday:i}=e,s=Oi(Ci(o,1,t),n),a=Jt(o);let l=r*7+i-s-7+t,c;l<1?(c=o-1,l+=Jt(c)):l>a?(c=o+1,l-=Jt(o)):c=o;const{month:u,day:d}=$c(c,l);return{year:c,month:u,day:d,...$o(e)}}function xi(e){const{year:t,month:n,day:o}=e,r=Pc(t,n,o);return{year:t,ordinal:r,...$o(e)}}function Zc(e){const{year:t,ordinal:n}=e,{month:o,day:r}=$c(t,n);return{year:t,month:o,day:r,...$o(e)}}function qc(e,t){if(!O(e.localWeekday)||!O(e.localWeekNumber)||!O(e.localWeekYear)){if(!O(e.weekday)||!O(e.weekNumber)||!O(e.weekYear))throw new Gt("Cannot mix locale-based week fields with ISO-based week fields");return O(e.localWeekday)||(e.weekday=e.localWeekday),O(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),O(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function GC(e,t=4,n=1){const o=_o(e.weekYear),r=Ce(e.weekNumber,1,An(e.weekYear,t,n)),i=Ce(e.weekday,1,7);return o?r?i?!1:Te("weekday",e.weekday):Te("week",e.weekNumber):Te("weekYear",e.weekYear)}function QC(e){const t=_o(e.year),n=Ce(e.ordinal,1,Jt(e.year));return t?n?!1:Te("ordinal",e.ordinal):Te("year",e.year)}function Fc(e){const t=_o(e.year),n=Ce(e.month,1,12),o=Ce(e.day,1,Bo(e.year,e.month));return t?n?o?!1:Te("day",e.day):Te("month",e.month):Te("year",e.year)}function Yc(e){const{hour:t,minute:n,second:o,millisecond:r}=e,i=Ce(t,0,23)||t===24&&n===0&&o===0&&r===0,s=Ce(n,0,59),a=Ce(o,0,59),l=Ce(r,0,999);return i?s?a?l?!1:Te("millisecond",r):Te("second",o):Te("minute",n):Te("hour",t)}function O(e){return typeof e>"u"}function Tt(e){return typeof e=="number"}function _o(e){return typeof e=="number"&&e%1===0}function JC(e){return typeof e=="string"}function KC(e){return Object.prototype.toString.call(e)==="[object Date]"}function Hc(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Gc(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function XC(e){return Array.isArray(e)?e:[e]}function Qc(e,t,n){if(e.length!==0)return e.reduce((o,r)=>{const i=[t(r),r];return o&&n(o[0],i[0])===o[0]?o:i},null)[1]}function eO(e,t){return t.reduce((n,o)=>(n[o]=e[o],n),{})}function Qt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Si(e){if(e==null)return null;if(typeof e!="object")throw new ae("Week settings must be an object");if(!Ce(e.firstDay,1,7)||!Ce(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!Ce(t,1,7)))throw new ae("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function Ce(e,t,n){return _o(e)&&e>=t&&e<=n}function tO(e,t){return e-t*Math.floor(e/t)}function ee(e,t=2){const n=e<0;let o;return n?o="-"+(""+-e).padStart(t,"0"):o=(""+e).padStart(t,"0"),o}function ot(e){if(!(O(e)||e===null||e===""))return parseInt(e,10)}function Ct(e){if(!(O(e)||e===null||e===""))return parseFloat(e)}function Ni(e){if(!(O(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function Ei(e,t,n=!1){const o=10**t;return(n?Math.trunc:Math.round)(e*o)/o}function kn(e){return e%4===0&&(e%100!==0||e%400===0)}function Jt(e){return kn(e)?366:365}function Bo(e,t){const n=tO(t-1,12)+1,o=e+(t-n)/12;return n===2?kn(o)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function zo(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function Jc(e,t,n){return-Oi(Ci(e,1,t),n)+t-1}function An(e,t=4,n=1){const o=Jc(e,t,n),r=Jc(e+1,t,n);return(Jt(e)-o+r)/7}function Mi(e){return e>99?e:e>K.twoDigitCutoffYear?1900+e:2e3+e}function Kc(e,t,n,o=null){const r=new Date(e),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};o&&(i.timeZone=o);const s={timeZoneName:t,...i},a=new Intl.DateTimeFormat(n,s).formatToParts(r).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function Wo(e,t){let n=parseInt(e,10);Number.isNaN(n)&&(n=0);const o=parseInt(t,10)||0,r=n<0||Object.is(n,-0)?-o:o;return n*60+r}function Xc(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new ae(`Invalid unit value ${e}`);return t}function Po(e,t){const n={};for(const o in e)if(Qt(e,o)){const r=e[o];if(r==null)continue;n[t(o)]=Xc(r)}return n}function Dn(e,t){const n=Math.trunc(Math.abs(e/60)),o=Math.trunc(Math.abs(e%60)),r=e>=0?"+":"-";switch(t){case"short":return`${r}${ee(n,2)}:${ee(o,2)}`;case"narrow":return`${r}${n}${o>0?`:${o}`:""}`;case"techie":return`${r}${ee(n,2)}${ee(o,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function $o(e){return eO(e,["hour","minute","second","millisecond"])}const nO=["January","February","March","April","May","June","July","August","September","October","November","December"],eu=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],oO=["J","F","M","A","M","J","J","A","S","O","N","D"];function tu(e){switch(e){case"narrow":return[...oO];case"short":return[...eu];case"long":return[...nO];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const nu=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ou=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],rO=["M","T","W","T","F","S","S"];function ru(e){switch(e){case"narrow":return[...rO];case"short":return[...ou];case"long":return[...nu];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const iu=["AM","PM"],iO=["Before Christ","Anno Domini"],sO=["BC","AD"],aO=["B","A"];function su(e){switch(e){case"narrow":return[...aO];case"short":return[...sO];case"long":return[...iO];default:return null}}function lO(e){return iu[e.hour<12?0:1]}function cO(e,t){return ru(t)[e.weekday-1]}function uO(e,t){return tu(t)[e.month-1]}function dO(e,t){return su(t)[e.year<0?0:1]}function hO(e,t,n="always",o=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=["hours","minutes","seconds"].indexOf(e)===-1;if(n==="auto"&&i){const d=e==="days";switch(t){case 1:return d?"tomorrow":`next ${r[e][0]}`;case-1:return d?"yesterday":`last ${r[e][0]}`;case 0:return d?"today":`this ${r[e][0]}`}}const s=Object.is(t,-0)||t<0,a=Math.abs(t),l=a===1,c=r[e],u=o?l?c[1]:c[2]||c[1]:l?r[e][0]:e;return s?`${a} ${u} ago`:`in ${a} ${u}`}function au(e,t){let n="";for(const o of e)o.literal?n+=o.val:n+=t(o.val);return n}const mO={D:ko,DD:uc,DDD:dc,DDDD:hc,t:mc,tt:fc,ttt:pc,tttt:yc,T:gc,TT:bc,TTT:vc,TTTT:Ic,f:wc,ff:Cc,fff:xc,ffff:Nc,F:Tc,FF:Oc,FFF:Sc,FFFF:Ec};class ne{static create(t,n={}){return new ne(t,n)}static parseFormat(t){let n=null,o="",r=!1;const i=[];for(let s=0;s<t.length;s++){const a=t.charAt(s);a==="\'"?(o.length>0&&i.push({literal:r||/^\\s+$/.test(o),val:o}),n=null,o="",r=!r):r||a===n?o+=a:(o.length>0&&i.push({literal:/^\\s+$/.test(o),val:o}),o=a,n=a)}return o.length>0&&i.push({literal:r||/^\\s+$/.test(o),val:o}),i}static macroTokenToFormatOpts(t){return mO[t]}constructor(t,n){this.opts=n,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...n}).format()}dtFormatter(t,n={}){return this.loc.dtFormatter(t,{...this.opts,...n})}formatDateTime(t,n){return this.dtFormatter(t,n).format()}formatDateTimeParts(t,n){return this.dtFormatter(t,n).formatToParts()}formatInterval(t,n){return this.dtFormatter(t.start,n).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,n){return this.dtFormatter(t,n).resolvedOptions()}num(t,n=0){if(this.opts.forceSimple)return ee(t,n);const o={...this.opts};return n>0&&(o.padTo=n),this.loc.numberFormatter(o).format(t)}formatDateTimeFromString(t,n){const o=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",i=(p,w)=>this.loc.extract(t,p,w),s=p=>t.isOffsetFixed&&t.offset===0&&p.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,p.format):"",a=()=>o?lO(t):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(p,w)=>o?uO(t,p):i(w?{month:p}:{month:p,day:"numeric"},"month"),c=(p,w)=>o?cO(t,p):i(w?{weekday:p}:{weekday:p,month:"long",day:"numeric"},"weekday"),u=p=>{const w=ne.macroTokenToFormatOpts(p);return w?this.formatWithSystemDefault(t,w):p},d=p=>o?dO(t,p):i({era:p},"era"),h=p=>{switch(p){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return s({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return s({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return a();case"d":return r?i({day:"numeric"},"day"):this.num(t.day);case"dd":return r?i({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return r?i({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return r?i({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return r?i({month:"numeric"},"month"):this.num(t.month);case"MM":return r?i({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return r?i({year:"numeric"},"year"):this.num(t.year);case"yy":return r?i({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return r?i({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return r?i({year:"numeric"},"year"):this.num(t.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return u(p)}};return au(ne.parseFormat(n),h)}formatDurationFromString(t,n){const o=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=l=>c=>{const u=o(c);return u?this.num(l.get(u),c.length):c},i=ne.parseFormat(n),s=i.reduce((l,{literal:c,val:u})=>c?l:l.concat(u),[]),a=t.shiftTo(...s.map(o).filter(l=>l));return au(i,r(a))}}const lu=/[A-Za-z_+-]{1,256}(?::?\\/[A-Za-z0-9_+-]{1,256}(?:\\/[A-Za-z0-9_+-]{1,256})?)?/;function Kt(...e){const t=e.reduce((n,o)=>n+o.source,"");return RegExp(`^${t}$`)}function Xt(...e){return t=>e.reduce(([n,o,r],i)=>{const[s,a,l]=i(t,r);return[{...n,...s},a||o,l]},[{},null,1]).slice(0,2)}function en(e,...t){if(e==null)return[null,null];for(const[n,o]of t){const r=n.exec(e);if(r)return o(r)}return[null,null]}function cu(...e){return(t,n)=>{const o={};let r;for(r=0;r<e.length;r++)o[e[r]]=ot(t[n+r]);return[o,null,n+r]}}const uu=/(?:(Z)|([+-]\\d\\d)(?::?(\\d\\d))?)/,fO=`(?:${uu.source}?(?:\\\\[(${lu.source})\\\\])?)?`,ki=/(\\d\\d)(?::?(\\d\\d)(?::?(\\d\\d)(?:[.,](\\d{1,30}))?)?)?/,du=RegExp(`${ki.source}${fO}`),Ai=RegExp(`(?:T${du.source})?`),pO=/([+-]\\d{6}|\\d{4})(?:-?(\\d\\d)(?:-?(\\d\\d))?)?/,yO=/(\\d{4})-?W(\\d\\d)(?:-?(\\d))?/,gO=/(\\d{4})-?(\\d{3})/,bO=cu("weekYear","weekNumber","weekDay"),vO=cu("year","ordinal"),IO=/(\\d{4})-(\\d\\d)-(\\d\\d)/,hu=RegExp(`${ki.source} ?(?:${uu.source}|(${lu.source}))?`),wO=RegExp(`(?: ${hu.source})?`);function tn(e,t,n){const o=e[t];return O(o)?n:ot(o)}function TO(e,t){return[{year:tn(e,t),month:tn(e,t+1,1),day:tn(e,t+2,1)},null,t+3]}function nn(e,t){return[{hours:tn(e,t,0),minutes:tn(e,t+1,0),seconds:tn(e,t+2,0),milliseconds:Ni(e[t+3])},null,t+4]}function Ln(e,t){const n=!e[t]&&!e[t+1],o=Wo(e[t+1],e[t+2]),r=n?null:re.instance(o);return[{},r,t+3]}function jn(e,t){const n=e[t]?Qe.create(e[t]):null;return[{},n,t+1]}const CO=RegExp(`^T?${ki.source}$`),OO=/^-?P(?:(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)Y)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)M)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)W)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)D)?(?:T(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)H)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)M)?(?:(-?\\d{1,20})(?:[.,](-?\\d{1,20}))?S)?)?)$/;function xO(e){const[t,n,o,r,i,s,a,l,c]=e,u=t[0]==="-",d=l&&l[0]==="-",h=(p,w=!1)=>p!==void 0&&(w||p&&u)?-p:p;return[{years:h(Ct(n)),months:h(Ct(o)),weeks:h(Ct(r)),days:h(Ct(i)),hours:h(Ct(s)),minutes:h(Ct(a)),seconds:h(Ct(l),l==="-0"),milliseconds:h(Ni(c),d)}]}const SO={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Di(e,t,n,o,r,i,s){const a={year:t.length===2?Mi(ot(t)):ot(t),month:eu.indexOf(n)+1,day:ot(o),hour:ot(r),minute:ot(i)};return s&&(a.second=ot(s)),e&&(a.weekday=e.length>3?nu.indexOf(e)+1:ou.indexOf(e)+1),a}const NO=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\\d\\d)(\\d\\d)))$/;function EO(e){const[,t,n,o,r,i,s,a,l,c,u,d]=e,h=Di(t,r,o,n,i,s,a);let p;return l?p=SO[l]:c?p=0:p=Wo(u,d),[h,new re(p)]}function MO(e){return e.replace(/\\([^()]*\\)|[\\n\\t]/g," ").replace(/(\\s\\s+)/g," ").trim()}const kO=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\\d\\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\\d{4}) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,AO=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\\d\\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,DO=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \\d|\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) (\\d{4})$/;function mu(e){const[,t,n,o,r,i,s,a]=e;return[Di(t,r,o,n,i,s,a),re.utcInstance]}function LO(e){const[,t,n,o,r,i,s,a]=e;return[Di(t,a,n,o,r,i,s),re.utcInstance]}const jO=Kt(pO,Ai),RO=Kt(yO,Ai),VO=Kt(gO,Ai),_O=Kt(du),fu=Xt(TO,nn,Ln,jn),BO=Xt(bO,nn,Ln,jn),zO=Xt(vO,nn,Ln,jn),WO=Xt(nn,Ln,jn);function PO(e){return en(e,[jO,fu],[RO,BO],[VO,zO],[_O,WO])}function $O(e){return en(MO(e),[NO,EO])}function UO(e){return en(e,[kO,mu],[AO,mu],[DO,LO])}function ZO(e){return en(e,[OO,xO])}const qO=Xt(nn);function FO(e){return en(e,[CO,qO])}const YO=Kt(IO,wO),HO=Kt(hu),GO=Xt(nn,Ln,jn);function QO(e){return en(e,[YO,fu],[HO,GO])}const pu="Invalid Duration",yu={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},JO={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...yu},Oe=146097/400,on=146097/4800,KO={years:{quarters:4,months:12,weeks:Oe/7,days:Oe,hours:Oe*24,minutes:Oe*24*60,seconds:Oe*24*60*60,milliseconds:Oe*24*60*60*1e3},quarters:{months:3,weeks:Oe/28,days:Oe/4,hours:Oe*24/4,minutes:Oe*24*60/4,seconds:Oe*24*60*60/4,milliseconds:Oe*24*60*60*1e3/4},months:{weeks:on/7,days:on,hours:on*24,minutes:on*24*60,seconds:on*24*60*60,milliseconds:on*24*60*60*1e3},...yu},Ot=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],XO=Ot.slice(0).reverse();function rt(e,t,n=!1){const o={values:n?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new D(o)}function gu(e,t){let n=t.milliseconds??0;for(const o of XO.slice(1))t[o]&&(n+=t[o]*e[o].milliseconds);return n}function bu(e,t){const n=gu(e,t)<0?-1:1;Ot.reduceRight((o,r)=>{if(O(t[r]))return o;if(o){const i=t[o]*n,s=e[r][o],a=Math.floor(i/s);t[r]+=a*n,t[o]-=a*s*n}return r},null),Ot.reduce((o,r)=>{if(O(t[r]))return o;if(o){const i=t[o]%1;t[o]-=i,t[r]+=i*e[o][r]}return r},null)}function ex(e){const t={};for(const[n,o]of Object.entries(e))o!==0&&(t[n]=o);return t}class D{constructor(t){const n=t.conversionAccuracy==="longterm"||!1;let o=n?KO:JO;t.matrix&&(o=t.matrix),this.values=t.values,this.loc=t.loc||_.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=o,this.isLuxonDuration=!0}static fromMillis(t,n){return D.fromObject({milliseconds:t},n)}static fromObject(t,n={}){if(t==null||typeof t!="object")throw new ae(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new D({values:Po(t,D.normalizeUnit),loc:_.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(t){if(Tt(t))return D.fromMillis(t);if(D.isDuration(t))return t;if(typeof t=="object")return D.fromObject(t);throw new ae(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,n){const[o]=ZO(t);return o?D.fromObject(o,n):D.invalid("unparsable",`the input "${t}" can\'t be parsed as ISO 8601`)}static fromISOTime(t,n){const[o]=FO(t);return o?D.fromObject(o,n):D.invalid("unparsable",`the input "${t}" can\'t be parsed as ISO 8601`)}static invalid(t,n=null){if(!t)throw new ae("need to specify a reason the Duration is invalid");const o=t instanceof Ae?t:new Ae(t,n);if(K.throwOnInvalid)throw new NC(o);return new D({invalid:o})}static normalizeUnit(t){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!n)throw new cc(t);return n}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,n={}){const o={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?ne.create(this.loc,o).formatDurationFromString(this,t):pu}toHuman(t={}){if(!this.isValid)return pu;const n=Ot.map(o=>{const r=this.values[o];return O(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:o.slice(0,-1)}).format(r)}).filter(o=>o);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=Ei(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},S.fromMillis(n,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?gu(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const n=D.fromDurationLike(t),o={};for(const r of Ot)(Qt(n.values,r)||Qt(this.values,r))&&(o[r]=n.get(r)+this.get(r));return rt(this,{values:o},!0)}minus(t){if(!this.isValid)return this;const n=D.fromDurationLike(t);return this.plus(n.negate())}mapUnits(t){if(!this.isValid)return this;const n={};for(const o of Object.keys(this.values))n[o]=Xc(t(this.values[o],o));return rt(this,{values:n},!0)}get(t){return this[D.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const n={...this.values,...Po(t,D.normalizeUnit)};return rt(this,{values:n})}reconfigure({locale:t,numberingSystem:n,conversionAccuracy:o,matrix:r}={}){const i={loc:this.loc.clone({locale:t,numberingSystem:n}),matrix:r,conversionAccuracy:o};return rt(this,i)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return bu(this.matrix,t),rt(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=ex(this.normalize().shiftToAll().toObject());return rt(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(s=>D.normalizeUnit(s));const n={},o={},r=this.toObject();let i;for(const s of Ot)if(t.indexOf(s)>=0){i=s;let a=0;for(const c in o)a+=this.matrix[c][s]*o[c],o[c]=0;Tt(r[s])&&(a+=r[s]);const l=Math.trunc(a);n[s]=l,o[s]=(a*1e3-l*1e3)/1e3}else Tt(r[s])&&(o[s]=r[s]);for(const s in o)o[s]!==0&&(n[i]+=s===i?o[s]:o[s]/this.matrix[i][s]);return bu(this.matrix,n),rt(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=this.values[n]===0?0:-this.values[n];return rt(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function n(o,r){return o===void 0||o===0?r===void 0||r===0:o===r}for(const o of Ot)if(!n(this.values[o],t.values[o]))return!1;return!0}}const rn="Invalid Interval";function tx(e,t){return!e||!e.isValid?G.invalid("missing or invalid start"):!t||!t.isValid?G.invalid("missing or invalid end"):t<e?G.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class G{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,n=null){if(!t)throw new ae("need to specify a reason the Interval is invalid");const o=t instanceof Ae?t:new Ae(t,n);if(K.throwOnInvalid)throw new SC(o);return new G({invalid:o})}static fromDateTimes(t,n){const o=Vn(t),r=Vn(n);return tx(o,r)??new G({start:o,end:r})}static after(t,n){const o=D.fromDurationLike(n),r=Vn(t);return G.fromDateTimes(r,r.plus(o))}static before(t,n){const o=D.fromDurationLike(n),r=Vn(t);return G.fromDateTimes(r.minus(o),r)}static fromISO(t,n){const[o,r]=(t||"").split("/",2);if(o&&r){let i,s;try{i=S.fromISO(o,n),s=i.isValid}catch{s=!1}let a,l;try{a=S.fromISO(r,n),l=a.isValid}catch{l=!1}if(s&&l)return G.fromDateTimes(i,a);if(s){const c=D.fromISO(r,n);if(c.isValid)return G.after(i,c)}else if(l){const c=D.fromISO(o,n);if(c.isValid)return G.before(a,c)}}return G.invalid("unparsable",`the input "${t}" can\'t be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",n){if(!this.isValid)return NaN;const o=this.start.startOf(t,n);let r;return n!=null&&n.useLocaleWeeks?r=this.end.reconfigure({locale:o.locale}):r=this.end,r=r.startOf(t,n),Math.floor(r.diff(o,t).get(t))+(r.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:n}={}){return this.isValid?G.fromDateTimes(t||this.s,n||this.e):this}splitAt(...t){if(!this.isValid)return[];const n=t.map(Vn).filter(s=>this.contains(s)).sort((s,a)=>s.toMillis()-a.toMillis()),o=[];let{s:r}=this,i=0;for(;r<this.e;){const s=n[i]||this.e,a=+s>+this.e?this.e:s;o.push(G.fromDateTimes(r,a)),r=a,i+=1}return o}splitBy(t){const n=D.fromDurationLike(t);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:o}=this,r=1,i;const s=[];for(;o<this.e;){const a=this.start.plus(n.mapUnits(l=>l*r));i=+a>+this.e?this.e:a,s.push(G.fromDateTimes(o,i)),o=i,r+=1}return s}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const n=this.s>t.s?this.s:t.s,o=this.e<t.e?this.e:t.e;return n>=o?null:G.fromDateTimes(n,o)}union(t){if(!this.isValid)return this;const n=this.s<t.s?this.s:t.s,o=this.e>t.e?this.e:t.e;return G.fromDateTimes(n,o)}static merge(t){const[n,o]=t.sort((r,i)=>r.s-i.s).reduce(([r,i],s)=>i?i.overlaps(s)||i.abutsStart(s)?[r,i.union(s)]:[r.concat([i]),s]:[r,s],[[],null]);return o&&n.push(o),n}static xor(t){let n=null,o=0;const r=[],i=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),s=Array.prototype.concat(...i),a=s.sort((l,c)=>l.time-c.time);for(const l of a)o+=l.type==="s"?1:-1,o===1?n=l.time:(n&&+n!=+l.time&&r.push(G.fromDateTimes(n,l.time)),n=null);return G.merge(r)}difference(...t){return G.xor([this].concat(t)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:rn}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=ko,n={}){return this.isValid?ne.create(this.s.loc.clone(n),t).formatInterval(this):rn}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:rn}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:rn}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:rn}toFormat(t,{separator:n=" – "}={}){return this.isValid?`${this.s.toFormat(t)}${n}${this.e.toFormat(t)}`:rn}toDuration(t,n){return this.isValid?this.e.diff(this.s,t,n):D.invalid(this.invalidReason)}mapEndpoints(t){return G.fromDateTimes(t(this.s),t(this.e))}}class Uo{static hasDST(t=K.defaultZone){const n=S.now().setZone(t).set({month:12});return!t.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(t){return Qe.isValidZone(t)}static normalizeZone(t){return nt(t,K.defaultZone)}static getStartOfWeek({locale:t=null,locObj:n=null}={}){return(n||_.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:n=null}={}){return(n||_.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:n=null}={}){return(n||_.create(t)).getWeekendDays().slice()}static months(t="long",{locale:n=null,numberingSystem:o=null,locObj:r=null,outputCalendar:i="gregory"}={}){return(r||_.create(n,o,i)).months(t)}static monthsFormat(t="long",{locale:n=null,numberingSystem:o=null,locObj:r=null,outputCalendar:i="gregory"}={}){return(r||_.create(n,o,i)).months(t,!0)}static weekdays(t="long",{locale:n=null,numberingSystem:o=null,locObj:r=null}={}){return(r||_.create(n,o,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:n=null,numberingSystem:o=null,locObj:r=null}={}){return(r||_.create(n,o,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return _.create(t).meridiems()}static eras(t="short",{locale:n=null}={}){return _.create(n,null,"gregory").eras(t)}static features(){return{relative:Hc(),localeWeek:Gc()}}}function vu(e,t){const n=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),o=n(t)-n(e);return Math.floor(D.fromMillis(o).as("days"))}function nx(e,t,n){const o=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const u=vu(l,c);return(u-u%7)/7}],["days",vu]],r={},i=e;let s,a;for(const[l,c]of o)n.indexOf(l)>=0&&(s=l,r[l]=c(e,t),a=i.plus(r),a>t?(r[l]--,e=i.plus(r),e>t&&(a=e,r[l]--,e=i.plus(r))):e=a);return[e,r,a,s]}function ox(e,t,n,o){let[r,i,s,a]=nx(e,t,n);const l=t-r,c=n.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);c.length===0&&(s<t&&(s=r.plus({[a]:1})),s!==r&&(i[a]=(i[a]||0)+l/(s-r)));const u=D.fromObject(i,o);return c.length>0?D.fromMillis(l,o).shiftTo(...c).plus(u):u}const Li={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\\\d"},Iu={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},rx=Li.hanidec.replace(/[\\[|\\]]/g,"").split("");function ix(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let n=0;n<e.length;n++){const o=e.charCodeAt(n);if(e[n].search(Li.hanidec)!==-1)t+=rx.indexOf(e[n]);else for(const r in Iu){const[i,s]=Iu[r];o>=i&&o<=s&&(t+=o-i)}}return parseInt(t,10)}else return t}function De({numberingSystem:e},t=""){return new RegExp(`${Li[e||"latn"]}${t}`)}const sx="missing Intl.DateTimeFormat.formatToParts support";function L(e,t=n=>n){return{regex:e,deser:([n])=>t(ix(n))}}const ax=" ",wu=`[ ${ax}]`,Tu=new RegExp(wu,"g");function lx(e){return e.replace(/\\./g,"\\\\.?").replace(Tu,wu)}function Cu(e){return e.replace(/\\./g,"").replace(Tu," ").toLowerCase()}function Le(e,t){return e===null?null:{regex:RegExp(e.map(lx).join("|")),deser:([n])=>e.findIndex(o=>Cu(n)===Cu(o))+t}}function Ou(e,t){return{regex:e,deser:([,n,o])=>Wo(n,o),groups:t}}function Zo(e){return{regex:e,deser:([t])=>t}}function cx(e){return e.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,"\\\\$&")}function ux(e,t){const n=De(t),o=De(t,"{2}"),r=De(t,"{3}"),i=De(t,"{4}"),s=De(t,"{6}"),a=De(t,"{1,2}"),l=De(t,"{1,3}"),c=De(t,"{1,6}"),u=De(t,"{1,9}"),d=De(t,"{2,4}"),h=De(t,"{4,6}"),p=f=>({regex:RegExp(cx(f.val)),deser:([E])=>E,literal:!0}),w=(f=>{if(e.literal)return p(f);switch(f.val){case"G":return Le(t.eras("short"),0);case"GG":return Le(t.eras("long"),0);case"y":return L(c);case"yy":return L(d,Mi);case"yyyy":return L(i);case"yyyyy":return L(h);case"yyyyyy":return L(s);case"M":return L(a);case"MM":return L(o);case"MMM":return Le(t.months("short",!0),1);case"MMMM":return Le(t.months("long",!0),1);case"L":return L(a);case"LL":return L(o);case"LLL":return Le(t.months("short",!1),1);case"LLLL":return Le(t.months("long",!1),1);case"d":return L(a);case"dd":return L(o);case"o":return L(l);case"ooo":return L(r);case"HH":return L(o);case"H":return L(a);case"hh":return L(o);case"h":return L(a);case"mm":return L(o);case"m":return L(a);case"q":return L(a);case"qq":return L(o);case"s":return L(a);case"ss":return L(o);case"S":return L(l);case"SSS":return L(r);case"u":return Zo(u);case"uu":return Zo(a);case"uuu":return L(n);case"a":return Le(t.meridiems(),0);case"kkkk":return L(i);case"kk":return L(d,Mi);case"W":return L(a);case"WW":return L(o);case"E":case"c":return L(n);case"EEE":return Le(t.weekdays("short",!1),1);case"EEEE":return Le(t.weekdays("long",!1),1);case"ccc":return Le(t.weekdays("short",!0),1);case"cccc":return Le(t.weekdays("long",!0),1);case"Z":case"ZZ":return Ou(new RegExp(`([+-]${a.source})(?::(${o.source}))?`),2);case"ZZZ":return Ou(new RegExp(`([+-]${a.source})(${o.source})?`),2);case"z":return Zo(/[a-z_+-/]{1,256}?/i);case" ":return Zo(/[^\\S\\n\\r]/);default:return p(f)}})(e)||{invalidReason:sx};return w.token=e,w}const dx={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function hx(e,t,n){const{type:o,value:r}=e;if(o==="literal"){const l=/^\\s+$/.test(r);return{literal:!l,val:l?" ":r}}const i=t[o];let s=o;o==="hour"&&(t.hour12!=null?s=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?s="hour12":s="hour24":s=n.hour12?"hour12":"hour24");let a=dx[s];if(typeof a=="object"&&(a=a[i]),a)return{literal:!1,val:a}}function mx(e){return[`^${e.map(t=>t.regex).reduce((t,n)=>`${t}(${n.source})`,"")}$`,e]}function fx(e,t,n){const o=e.match(t);if(o){const r={};let i=1;for(const s in n)if(Qt(n,s)){const a=n[s],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(r[a.token.val[0]]=a.deser(o.slice(i,i+l))),i+=l}return[o,r]}else return[o,{}]}function px(e){const t=r=>{switch(r){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,o;return O(e.z)||(n=Qe.create(e.z)),O(e.Z)||(n||(n=new re(e.Z)),o=e.Z),O(e.q)||(e.M=(e.q-1)*3+1),O(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),O(e.u)||(e.S=Ni(e.u)),[Object.keys(e).reduce((r,i)=>{const s=t(i);return s&&(r[s]=e[i]),r},{}),n,o]}let ji=null;function yx(){return ji||(ji=S.fromMillis(1555555555555)),ji}function gx(e,t){if(e.literal)return e;const n=ne.macroTokenToFormatOpts(e.val),o=Nu(n,t);return o==null||o.includes(void 0)?e:o}function xu(e,t){return Array.prototype.concat(...e.map(n=>gx(n,t)))}function Su(e,t,n){const o=xu(ne.parseFormat(n),e),r=o.map(s=>ux(s,e)),i=r.find(s=>s.invalidReason);if(i)return{input:t,tokens:o,invalidReason:i.invalidReason};{const[s,a]=mx(r),l=RegExp(s,"i"),[c,u]=fx(t,l,a),[d,h,p]=u?px(u):[null,null,void 0];if(Qt(u,"a")&&Qt(u,"H"))throw new Gt("Can\'t include meridiem when specifying 24-hour format");return{input:t,tokens:o,regex:l,rawMatches:c,matches:u,result:d,zone:h,specificOffset:p}}}function bx(e,t,n){const{result:o,zone:r,specificOffset:i,invalidReason:s}=Su(e,t,n);return[o,r,i,s]}function Nu(e,t){if(!e)return null;const n=ne.create(t,e).dtFormatter(yx()),o=n.formatToParts(),r=n.resolvedOptions();return o.map(i=>hx(i,e,r))}const Ri="Invalid DateTime",vx=864e13;function qo(e){return new Ae("unsupported zone",`the zone "${e.name}" is not supported`)}function Vi(e){return e.weekData===null&&(e.weekData=Vo(e.c)),e.weekData}function _i(e){return e.localWeekData===null&&(e.localWeekData=Vo(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function xt(e,t){const n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new S({...n,...t,old:n})}function Eu(e,t,n){let o=e-t*60*1e3;const r=n.offset(o);if(t===r)return[o,t];o-=(r-t)*60*1e3;const i=n.offset(o);return r===i?[o,r]:[e-Math.min(r,i)*60*1e3,Math.max(r,i)]}function Fo(e,t){e+=t*60*1e3;const n=new Date(e);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Yo(e,t,n){return Eu(zo(e),t,n)}function Mu(e,t){const n=e.o,o=e.c.year+Math.trunc(t.years),r=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,i={...e.c,year:o,month:r,day:Math.min(e.c.day,Bo(o,r))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},s=D.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=zo(i);let[l,c]=Eu(a,n,e.zone);return s!==0&&(l+=s,c=e.zone.offset(l)),{ts:l,o:c}}function Rn(e,t,n,o,r,i){const{setZone:s,zone:a}=n;if(e&&Object.keys(e).length!==0||t){const l=t||a,c=S.fromObject(e,{...n,zone:l,specificOffset:i});return s?c:c.setZone(a)}else return S.invalid(new Ae("unparsable",`the input "${r}" can\'t be parsed as ${o}`))}function Ho(e,t,n=!0){return e.isValid?ne.create(_.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function Bi(e,t){const n=e.c.year>9999||e.c.year<0;let o="";return n&&e.c.year>=0&&(o+="+"),o+=ee(e.c.year,n?6:4),t?(o+="-",o+=ee(e.c.month),o+="-",o+=ee(e.c.day)):(o+=ee(e.c.month),o+=ee(e.c.day)),o}function ku(e,t,n,o,r,i){let s=ee(e.c.hour);return t?(s+=":",s+=ee(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!n)&&(s+=":")):s+=ee(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!n)&&(s+=ee(e.c.second),(e.c.millisecond!==0||!o)&&(s+=".",s+=ee(e.c.millisecond,3))),r&&(e.isOffsetFixed&&e.offset===0&&!i?s+="Z":e.o<0?(s+="-",s+=ee(Math.trunc(-e.o/60)),s+=":",s+=ee(Math.trunc(-e.o%60))):(s+="+",s+=ee(Math.trunc(e.o/60)),s+=":",s+=ee(Math.trunc(e.o%60)))),i&&(s+="["+e.zone.ianaName+"]"),s}const Au={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Ix={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},wx={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Du=["year","month","day","hour","minute","second","millisecond"],Tx=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Cx=["year","ordinal","hour","minute","second","millisecond"];function Ox(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new cc(e);return t}function Lu(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Ox(e)}}function ju(e,t){const n=nt(t.zone,K.defaultZone),o=_.fromObject(t),r=K.now();let i,s;if(O(e.year))i=r;else{for(const c of Du)O(e[c])&&(e[c]=Au[c]);const a=Fc(e)||Yc(e);if(a)return S.invalid(a);const l=n.offset(r);[i,s]=Yo(e,l,n)}return new S({ts:i,zone:n,loc:o,o:s})}function Ru(e,t,n){const o=O(n.round)?!0:n.round,r=(s,a)=>(s=Ei(s,o||n.calendary?0:2,!0),t.loc.clone(n).relFormatter(n).format(s,a)),i=s=>n.calendary?t.hasSame(e,s)?0:t.startOf(s).diff(e.startOf(s),s).get(s):t.diff(e,s).get(s);if(n.unit)return r(i(n.unit),n.unit);for(const s of n.units){const a=i(s);if(Math.abs(a)>=1)return r(a,s)}return r(e>t?-0:0,n.units[n.units.length-1])}function Vu(e){let t={},n;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],n=Array.from(e).slice(0,e.length-1)):n=Array.from(e),[t,n]}class S{constructor(t){const n=t.zone||K.defaultZone;let o=t.invalid||(Number.isNaN(t.ts)?new Ae("invalid input"):null)||(n.isValid?null:qo(n));this.ts=O(t.ts)?K.now():t.ts;let r=null,i=null;if(!o)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(n))[r,i]=[t.old.c,t.old.o];else{const s=n.offset(this.ts);r=Fo(this.ts,s),o=Number.isNaN(r.year)?new Ae("invalid input"):null,r=o?null:r,i=o?null:s}this._zone=n,this.loc=t.loc||_.create(),this.invalid=o,this.weekData=null,this.localWeekData=null,this.c=r,this.o=i,this.isLuxonDateTime=!0}static now(){return new S({})}static local(){const[t,n]=Vu(arguments),[o,r,i,s,a,l,c]=n;return ju({year:o,month:r,day:i,hour:s,minute:a,second:l,millisecond:c},t)}static utc(){const[t,n]=Vu(arguments),[o,r,i,s,a,l,c]=n;return t.zone=re.utcInstance,ju({year:o,month:r,day:i,hour:s,minute:a,second:l,millisecond:c},t)}static fromJSDate(t,n={}){const o=KC(t)?t.valueOf():NaN;if(Number.isNaN(o))return S.invalid("invalid input");const r=nt(n.zone,K.defaultZone);return r.isValid?new S({ts:o,zone:r,loc:_.fromObject(n)}):S.invalid(qo(r))}static fromMillis(t,n={}){if(Tt(t))return t<-864e13||t>vx?S.invalid("Timestamp out of range"):new S({ts:t,zone:nt(n.zone,K.defaultZone),loc:_.fromObject(n)});throw new ae(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,n={}){if(Tt(t))return new S({ts:t*1e3,zone:nt(n.zone,K.defaultZone),loc:_.fromObject(n)});throw new ae("fromSeconds requires a numerical input")}static fromObject(t,n={}){t=t||{};const o=nt(n.zone,K.defaultZone);if(!o.isValid)return S.invalid(qo(o));const r=_.fromObject(n),i=Po(t,Lu),{minDaysInFirstWeek:s,startOfWeek:a}=qc(i,r),l=K.now(),c=O(n.specificOffset)?o.offset(l):n.specificOffset,u=!O(i.ordinal),d=!O(i.year),h=!O(i.month)||!O(i.day),p=d||h,w=i.weekYear||i.weekNumber;if((p||u)&&w)throw new Gt("Can\'t mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&u)throw new Gt("Can\'t mix ordinal dates with month/day");const f=w||i.weekday&&!p;let E,g,I=Fo(l,c);f?(E=Tx,g=Ix,I=Vo(I,s,a)):u?(E=Cx,g=wx,I=xi(I)):(E=Du,g=Au);let x=!1;for(const Nt of E){const $i=i[Nt];O($i)?x?i[Nt]=g[Nt]:i[Nt]=I[Nt]:x=!0}const j=f?GC(i,s,a):u?QC(i):Fc(i),W=j||Yc(i);if(W)return S.invalid(W);const it=f?Uc(i,s,a):u?Zc(i):i,[St,ln]=Yo(it,c,o),cn=new S({ts:St,zone:o,o:ln,loc:r});return i.weekday&&p&&t.weekday!==cn.weekday?S.invalid("mismatched weekday",`you can\'t specify both a weekday of ${i.weekday} and a date of ${cn.toISO()}`):cn}static fromISO(t,n={}){const[o,r]=PO(t);return Rn(o,r,n,"ISO 8601",t)}static fromRFC2822(t,n={}){const[o,r]=$O(t);return Rn(o,r,n,"RFC 2822",t)}static fromHTTP(t,n={}){const[o,r]=UO(t);return Rn(o,r,n,"HTTP",n)}static fromFormat(t,n,o={}){if(O(t)||O(n))throw new ae("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:i=null}=o,s=_.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0}),[a,l,c,u]=bx(s,t,n);return u?S.invalid(u):Rn(a,l,o,`format ${n}`,t,c)}static fromString(t,n,o={}){return S.fromFormat(t,n,o)}static fromSQL(t,n={}){const[o,r]=QO(t);return Rn(o,r,n,"SQL",t)}static invalid(t,n=null){if(!t)throw new ae("need to specify a reason the DateTime is invalid");const o=t instanceof Ae?t:new Ae(t,n);if(K.throwOnInvalid)throw new xC(o);return new S({invalid:o})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,n={}){const o=Nu(t,_.fromObject(n));return o?o.map(r=>r?r.val:null).join(""):null}static expandFormat(t,n={}){return xu(ne.parseFormat(t),_.fromObject(n)).map(o=>o.val).join("")}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Vi(this).weekYear:NaN}get weekNumber(){return this.isValid?Vi(this).weekNumber:NaN}get weekday(){return this.isValid?Vi(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?_i(this).weekday:NaN}get localWeekNumber(){return this.isValid?_i(this).weekNumber:NaN}get localWeekYear(){return this.isValid?_i(this).weekYear:NaN}get ordinal(){return this.isValid?xi(this.c).ordinal:NaN}get monthShort(){return this.isValid?Uo.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Uo.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Uo.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Uo.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,n=6e4,o=zo(this.c),r=this.zone.offset(o-t),i=this.zone.offset(o+t),s=this.zone.offset(o-r*n),a=this.zone.offset(o-i*n);if(s===a)return[this];const l=o-s*n,c=o-a*n,u=Fo(l,s),d=Fo(c,a);return u.hour===d.hour&&u.minute===d.minute&&u.second===d.second&&u.millisecond===d.millisecond?[xt(this,{ts:l}),xt(this,{ts:c})]:[this]}get isInLeapYear(){return kn(this.year)}get daysInMonth(){return Bo(this.year,this.month)}get daysInYear(){return this.isValid?Jt(this.year):NaN}get weeksInWeekYear(){return this.isValid?An(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?An(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:n,numberingSystem:o,calendar:r}=ne.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:n,numberingSystem:o,outputCalendar:r}}toUTC(t=0,n={}){return this.setZone(re.instance(t),n)}toLocal(){return this.setZone(K.defaultZone)}setZone(t,{keepLocalTime:n=!1,keepCalendarTime:o=!1}={}){if(t=nt(t,K.defaultZone),t.equals(this.zone))return this;if(t.isValid){let r=this.ts;if(n||o){const i=t.offset(this.ts),s=this.toObject();[r]=Yo(s,i,t)}return xt(this,{ts:r,zone:t})}else return S.invalid(qo(t))}reconfigure({locale:t,numberingSystem:n,outputCalendar:o}={}){const r=this.loc.clone({locale:t,numberingSystem:n,outputCalendar:o});return xt(this,{loc:r})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const n=Po(t,Lu),{minDaysInFirstWeek:o,startOfWeek:r}=qc(n,this.loc),i=!O(n.weekYear)||!O(n.weekNumber)||!O(n.weekday),s=!O(n.ordinal),a=!O(n.year),l=!O(n.month)||!O(n.day),c=a||l,u=n.weekYear||n.weekNumber;if((c||s)&&u)throw new Gt("Can\'t mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&s)throw new Gt("Can\'t mix ordinal dates with month/day");let d;i?d=Uc({...Vo(this.c,o,r),...n},o,r):O(n.ordinal)?(d={...this.toObject(),...n},O(n.day)&&(d.day=Math.min(Bo(d.year,d.month),d.day))):d=Zc({...xi(this.c),...n});const[h,p]=Yo(d,this.o,this.zone);return xt(this,{ts:h,o:p})}plus(t){if(!this.isValid)return this;const n=D.fromDurationLike(t);return xt(this,Mu(this,n))}minus(t){if(!this.isValid)return this;const n=D.fromDurationLike(t).negate();return xt(this,Mu(this,n))}startOf(t,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const o={},r=D.normalizeUnit(t);switch(r){case"years":o.month=1;case"quarters":case"months":o.day=1;case"weeks":case"days":o.hour=0;case"hours":o.minute=0;case"minutes":o.second=0;case"seconds":o.millisecond=0;break}if(r==="weeks")if(n){const i=this.loc.getStartOfWeek(),{weekday:s}=this;s<i&&(o.weekNumber=this.weekNumber-1),o.weekday=i}else o.weekday=1;if(r==="quarters"){const i=Math.ceil(this.month/3);o.month=(i-1)*3+1}return this.set(o)}endOf(t,n){return this.isValid?this.plus({[t]:1}).startOf(t,n).minus(1):this}toFormat(t,n={}){return this.isValid?ne.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,t):Ri}toLocaleString(t=ko,n={}){return this.isValid?ne.create(this.loc.clone(n),t).formatDateTime(this):Ri}toLocaleParts(t={}){return this.isValid?ne.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:n=!1,suppressMilliseconds:o=!1,includeOffset:r=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;const s=t==="extended";let a=Bi(this,s);return a+="T",a+=ku(this,s,n,o,r,i),a}toISODate({format:t="extended"}={}){return this.isValid?Bi(this,t==="extended"):null}toISOWeekDate(){return Ho(this,"kkkk-\'W\'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:n=!1,includeOffset:o=!0,includePrefix:r=!1,extendedZone:i=!1,format:s="extended"}={}){return this.isValid?(r?"T":"")+ku(this,s==="extended",n,t,o,i):null}toRFC2822(){return Ho(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ho(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss \'GMT\'")}toSQLDate(){return this.isValid?Bi(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:n=!1,includeOffsetSpace:o=!0}={}){let r="HH:mm:ss.SSS";return(n||t)&&(o&&(r+=" "),n?r+="z":t&&(r+="ZZ")),Ho(this,r,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():Ri}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const n={...this.c};return t.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,n="milliseconds",o={}){if(!this.isValid||!t.isValid)return D.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...o},i=XC(n).map(D.normalizeUnit),s=t.valueOf()>this.valueOf(),a=s?this:t,l=s?t:this,c=ox(a,l,i,r);return s?c.negate():c}diffNow(t="milliseconds",n={}){return this.diff(S.now(),t,n)}until(t){return this.isValid?G.fromDateTimes(this,t):this}hasSame(t,n,o){if(!this.isValid)return!1;const r=t.valueOf(),i=this.setZone(t.zone,{keepLocalTime:!0});return i.startOf(n,o)<=r&&r<=i.endOf(n,o)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const n=t.base||S.fromObject({},{zone:this.zone}),o=t.padding?this<n?-t.padding:t.padding:0;let r=["years","months","days","hours","minutes","seconds"],i=t.unit;return Array.isArray(t.unit)&&(r=t.unit,i=void 0),Ru(n,this.plus(o),{...t,numeric:"always",units:r,unit:i})}toRelativeCalendar(t={}){return this.isValid?Ru(t.base||S.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(S.isDateTime))throw new ae("min requires all arguments be DateTimes");return Qc(t,n=>n.valueOf(),Math.min)}static max(...t){if(!t.every(S.isDateTime))throw new ae("max requires all arguments be DateTimes");return Qc(t,n=>n.valueOf(),Math.max)}static fromFormatExplain(t,n,o={}){const{locale:r=null,numberingSystem:i=null}=o,s=_.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});return Su(s,t,n)}static fromStringExplain(t,n,o={}){return S.fromFormatExplain(t,n,o)}static get DATE_SHORT(){return ko}static get DATE_MED(){return uc}static get DATE_MED_WITH_WEEKDAY(){return EC}static get DATE_FULL(){return dc}static get DATE_HUGE(){return hc}static get TIME_SIMPLE(){return mc}static get TIME_WITH_SECONDS(){return fc}static get TIME_WITH_SHORT_OFFSET(){return pc}static get TIME_WITH_LONG_OFFSET(){return yc}static get TIME_24_SIMPLE(){return gc}static get TIME_24_WITH_SECONDS(){return bc}static get TIME_24_WITH_SHORT_OFFSET(){return vc}static get TIME_24_WITH_LONG_OFFSET(){return Ic}static get DATETIME_SHORT(){return wc}static get DATETIME_SHORT_WITH_SECONDS(){return Tc}static get DATETIME_MED(){return Cc}static get DATETIME_MED_WITH_SECONDS(){return Oc}static get DATETIME_MED_WITH_WEEKDAY(){return MC}static get DATETIME_FULL(){return xc}static get DATETIME_FULL_WITH_SECONDS(){return Sc}static get DATETIME_HUGE(){return Nc}static get DATETIME_HUGE_WITH_SECONDS(){return Ec}}function Vn(e){if(S.isDateTime(e))return e;if(e&&e.valueOf&&Tt(e.valueOf()))return S.fromJSDate(e);if(e&&typeof e=="object")return S.fromObject(e);throw new ae(`Unknown datetime argument: ${e}, of type ${typeof e}`)}function _u({collections:e},{tableIds:t,tableColumnIds:n,relationshipIds:o,indexIds:r,indexColumnIds:i,memoIds:s}){m(e).collection("tableEntities").removeMany(t),m(e).collection("tableColumnEntities").removeMany(n),m(e).collection("relationshipEntities").removeMany(o),m(e).collection("indexEntities").removeMany(r),m(e).collection("indexColumnEntities").removeMany(i),m(e).collection("memoEntities").removeMany(s)}const xx=3;class Sx{async run(t){const n=JSON.parse(t),o=_t(n),{doc:{tableIds:r,memoIds:i,indexIds:s,relationshipIds:a},collections:l}=o,c=k(r),u=k(i),d=k(s),h=k(a),p=Nx(S.now()),w=m(l).collection("tableEntities"),f=m(l).collection("tableColumnEntities"),E=m(l).collection("indexEntities"),g=m(l).collection("indexColumnEntities"),I=m(l).collection("relationshipEntities"),x=m(l).collection("memoEntities"),j=new Set(w.selectAll().filter(p(c)).map(({id:M})=>M)),W=new Set,it=new Set(I.selectAll().filter(p(h)).map(({id:M})=>M)),St=new Set(E.selectAll().filter(p(d)).map(({id:M})=>M)),ln=new Set,cn=new Set(x.selectAll().filter(p(u)).map(({id:M})=>M));f.selectAll().filter(({tableId:M})=>j.has(M)).forEach(({id:M})=>W.add(M)),I.selectAll().filter(({id:M,start:Et,end:_n})=>!it.has(M)&&(j.has(Et.tableId)||j.has(_n.tableId))).forEach(({id:M})=>it.add(M)),E.selectAll().filter(({id:M,tableId:Et})=>!St.has(M)&&j.has(Et)).forEach(({id:M})=>St.add(M)),g.selectAll().filter(({indexId:M})=>St.has(M)).forEach(({id:M})=>ln.add(M)),_u(o,{tableIds:[...j],tableColumnIds:[...W],relationshipIds:[...it],indexIds:[...St],indexColumnIds:[...ln],memoIds:[...cn]});const Nt=k(w.selectAll().map(({id:M})=>M)),$i=k(E.selectAll().map(({id:M})=>M));return f.selectAll().filter(({tableId:M,id:Et,meta:_n})=>!Nt(M)&&p(()=>!1)({id:Et,meta:_n})).forEach(({id:M})=>W.add(M)),g.selectAll().filter(({indexId:M,id:Et,meta:_n})=>!$i(M)&&p(()=>!1)({id:Et,meta:_n})).forEach(({id:M})=>ln.add(M)),{tableIds:[...j],tableColumnIds:[...W],relationshipIds:[...it],indexIds:[...St],indexColumnIds:[...ln],memoIds:[...cn]}}}const Nx=e=>t=>({id:n,meta:o})=>{if(t(n))return!1;const r=Math.floor(e.diff(S.fromMillis(o.updateAt),"days").toObject().days??0);return xx<r};/*!\n * @dineug/erd-editor\n * @version 3.3.0 | Wed May 07 2025\n * @author SeungHwan-Lee <dineug2@gmail.com>\n * @license MIT\n */const Ex={change:"change"};function Mx(e){const t=new Set,n=U0(e),o=q0(n,!1),r=OC(o),i=new el,s=new mo(f=>o.subscribe(E=>f.next(E))).pipe(Gl(li),dv(200)),a=new Set,l=new Sx,c=f=>(a.has(f)||a.add(f),()=>{a.delete(f)}),u=(f,E)=>{a.forEach(g=>{const I=Reflect.get(g,f);Iy(I,E)})},d=f=>{const E=Gv(f);o.dispatchSync(z0(Js(E)?"{}":E)),l.run(Xn(o.state)).then(g=>{(g.tableIds.length||g.tableColumnIds.length||g.relationshipIds.length||g.indexIds.length||g.indexColumnIds.length||g.memoIds.length)&&(_u(o.state,g),o.dispatchSync(LI()))})},h=f=>{i.next([f].flat())},p=f=>{Ty(()=>h(f))},w=()=>{Array.from(t).forEach(f=>f.unsubscribe()),t.clear(),a.clear(),o.destroy(),r.destroy()};return t.add(s.subscribe(()=>u(Ex.change,void 0))).add(i.pipe(Gl(li),cv(f=>f.map(E=>ly(E,"tags")))).subscribe(o.dispatchSync)),Object.freeze({get value(){return Xn(o.state)},on:c,setInitialValue:d,dispatch:p,dispatchSync:h,destroy:w})}function kx(e,...t){try{return e==null?void 0:e(...t)}catch(n){console.error(n)}}const Bu=e=>t=>typeof t===e,Ax=Bu("object"),Dx=Bu("string"),Lx=e=>e===null,{isArray:jx}=Array,Rx=e=>Ax(e)&&!Lx(e)&&!jx(e);var zu=e=>{throw TypeError(e)},Vx=(e,t,n)=>t.has(e)||zu("Cannot "+n),Go=(e,t,n)=>(Vx(e,t,"read from private field"),n?n.call(e):t.get(e)),_x=(e,t,n)=>t.has(e)?zu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n);function zi(e){return{type:e}}var sn;class Wi{constructor(){_x(this,sn,new Map)}static mergeRegister(...t){return()=>{t.forEach(n=>n())}}static executeCommand(t,n){return{type:t.type,payload:n}}registerCommand(t,n){const o=Go(this,sn).get(t.type)??new Set;return o.add(n),Go(this,sn).has(t.type)||Go(this,sn).set(t.type,o),()=>{o.delete(n)}}executeAction(t){if(!Bx(t))return;const n=Go(this,sn).get(t.type);n==null||n.forEach(o=>kx(o,t.payload))}}sn=new WeakMap;function Bx(e){return Rx(e)&&Dx(e.type)}const zx=zi("hostSaveValueCommand"),Wx=zi("webviewInitialValueCommand"),Px=zi("webviewReplicationCommand"),$x=2,Ux="-apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, \'Helvetica Neue\', \'Open Sans\', system-ui, sans-serif, \'Apple Color Emoji\', \'Segoe UI Emoji\'";let Qo=null,an=null;function Zx(){if(Qo)return Qo;try{Qo=new OffscreenCanvas(0,0)}catch{}return Qo}function qx(){if(an)return an;const e=Zx();return e?(an=e.getContext("2d"),an&&(an.font=`400 12px ${Ux}`),an):null}function Fx(e){const t=qx(),n=t?t.measureText(e).width:e.length*10;return Math.round(n)+$x}const Jo=Mx({toWidth:Fx}),Pi=new Wi,Yx=e=>{globalThis.postMessage(e)};Jo.on({change:()=>{Yx(Wi.executeCommand(zx,{value:Jo.value}))}}),Wi.mergeRegister(Pi.registerCommand(Wx,({value:e})=>{Jo.setInitialValue(e)}),Pi.registerCommand(Px,({actions:e})=>{Jo.dispatch(e)})),globalThis.addEventListener("message",e=>{Pi.executeAction(e.data)})})();\n',yF=typeof self<"u"&&self.Blob&&new Blob([gF],{type:"text/javascript;charset=utf-8"});for(var vF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bF="undefined"==typeof Uint8Array?[]:new Uint8Array(256),wF=0;wF<64;wF++)bF[vF.charCodeAt(wF)]=wF;var xF=function(e){var t,n=new Uint8Array(e),r=n.length,o="";for(t=0;t<r;t+=3)o+=vF[n[t]>>2],o+=vF[(3&n[t])<<4|n[t+1]>>4],o+=vF[(15&n[t+1])<<2|n[t+2]>>6],o+=vF[63&n[t+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o};const kF=new nF,IF=new nF,$F=acquireVsCodeApi(),CF=document.createElement("erd-editor"),TF=CF.getSharedStore({mouseTracker:!1}),AF=new function(e){let t;try{if(t=yF&&(self.URL||self.webkitURL).createObjectURL(yF),!t)throw"";const n=new Worker(t,{name:null==e?void 0:e.name});return n.addEventListener("error",(()=>{(self.URL||self.webkitURL).revokeObjectURL(t)})),n}catch{return new Worker("data:text/javascript;charset=utf-8,"+encodeURIComponent(gF),{name:null==e?void 0:e.name})}finally{t&&(self.URL||self.webkitURL).revokeObjectURL(t)}}({name:"@dineug/erd-editor-vscode-webview/replication-store-worker"}),OF=document.querySelector("#loading");let SF="dark";const EF=e=>{$F.postMessage(e)},NF=e=>{AF.postMessage(e)};function MF(){const e=document.body.dataset.vscodeThemeKind;return e?"vscode-light"===e?pF:mF:document.body.classList.contains("vscode-light")?pF:mF}o.e(325).then(o.bind(o,1325)).then((e=>{let{getShikiService:t}=e;!function(e){sB=e,aB.emit(eS())}(t)})),gR=e=>{EF(nF.executeCommand(oF,e))},eV=async(e,t)=>{const n=await e.arrayBuffer();EF(nF.executeCommand(rF,{value:xF(n),fileName:t.fileName}))};const DF=e=>{const t=e;EF(nF.executeCommand(lF,t.detail)),SF=t.detail.appearance};nF.mergeRegister(kF.registerCommand(cF,(e=>{let{type:t,op:n,value:r}=e;switch(t){case"json":"set"===n?CF.value=r:CF.setDiffValue(r);break;case"sql":"set"===n&&CF.setSchemaSQL(r)}})),kF.registerCommand(uF,(e=>{let{value:t}=e;NF(nF.executeCommand(uF,{value:t})),CF.addEventListener("changePresetTheme",DF),CF.setInitialValue(t),CF.enableThemeBuilder=!0,TF.subscribe((e=>{NF(nF.executeCommand(fF,{actions:e})),EF(nF.executeCommand(sF,{actions:e}))})),OF?.remove(),document.body.appendChild(CF)})),kF.registerCommand(fF,(e=>{let{actions:t}=e;TF.dispatch(t),NF(nF.executeCommand(fF,{actions:t}))})),kF.registerCommand(dF,(e=>{e.appearance&&(SF=e.appearance),CF.setPresetTheme({...e,appearance:"auto"===e.appearance?MF():e.appearance})})),kF.registerCommand(hF,(e=>{CF.readonly=e})),IF.registerCommand(aF,(e=>{let{value:t}=e;EF(nF.executeCommand(aF,{value:t}))}))),new MutationObserver((()=>{"auto"===SF&&CF.setPresetTheme({appearance:MF()})})).observe(document.body,{attributes:!0,attributeFilter:["class","data-vscode-theme-kind"]}),globalThis.addEventListener("message",(e=>{kF.executeAction(e.data)})),AF.addEventListener("message",(e=>{IF.executeAction(e.data)})),EF(nF.executeCommand(iF,void 0))})()})();